/*! For license information please see main.4381a36b.js.LICENSE.txt */
!function(){var e={53575:function(e,t,n){"use strict";n.r(t),n.d(t,{ResizeObserver:function(){return V},ResizeObserverEntry:function(){return _},ResizeObserverSize:function(){return u}});var r,i=[],a="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var o,s=function(e){return Object.freeze(e)},u=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l=function(e){return e instanceof SVGElement&&"getBBox"in e},f=function(e){if(l(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},d=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},p="undefined"!==typeof window?window:{},h=new WeakMap,v=/auto|scroll/,m=/^tb|vertical/,g=/msie|trident/i.test(p.navigator&&p.navigator.userAgent),y=function(e){return parseFloat(e||"0")},b=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new u((n?t:e)||0,(n?e:t)||0)},x=s({devicePixelContentBoxSize:b(),borderBoxSize:b(),contentBoxSize:b(),contentRect:new c(0,0,0,0)}),k=function(e,t){if(void 0===t&&(t=!1),h.has(e)&&!t)return h.get(e);if(f(e))return h.set(e,x),x;var n=getComputedStyle(e),r=l(e)&&e.ownerSVGElement&&e.getBBox(),i=!g&&"border-box"===n.boxSizing,a=m.test(n.writingMode||""),o=!r&&v.test(n.overflowY||""),u=!r&&v.test(n.overflowX||""),d=r?0:y(n.paddingTop),p=r?0:y(n.paddingRight),k=r?0:y(n.paddingBottom),w=r?0:y(n.paddingLeft),_=r?0:y(n.borderTopWidth),S=r?0:y(n.borderRightWidth),T=r?0:y(n.borderBottomWidth),C=w+p,E=d+k,O=(r?0:y(n.borderLeftWidth))+S,A=_+T,I=u?e.offsetHeight-A-e.clientHeight:0,R=o?e.offsetWidth-O-e.clientWidth:0,N=i?C+O:0,P=i?E+A:0,M=r?r.width:y(n.width)-N-R,D=r?r.height:y(n.height)-P-I,j=M+C+R+O,L=D+E+I+A,F=s({devicePixelContentBoxSize:b(Math.round(M*devicePixelRatio),Math.round(D*devicePixelRatio),a),borderBoxSize:b(j,L,a),contentBoxSize:b(M,D,a),contentRect:new c(w,d,M,D)});return h.set(e,F),F},w=function(e,t,n){var i=k(e,n),a=i.borderBoxSize,o=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return s;case r.BORDER_BOX:return a;default:return o}},_=function(e){var t=k(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},S=function(e){if(f(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},T=function(){var e=1/0,t=[];i.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new _(t.target),i=S(t.target);r.push(n),t.lastReportedSize=w(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},C=function(e){i.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(S(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},E=function(){var e=0;for(C(e);i.some((function(e){return e.activeTargets.length>0}));)e=T(),C(e);return i.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:a}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=a),window.dispatchEvent(e)}(),e>0},O=[],A=function(e){if(!o){var t=0,n=document.createTextNode("");new MutationObserver((function(){return O.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),o=function(){n.textContent="".concat(t?t--:t++)}}O.push(e),o()},I=0,R={attributes:!0,characterData:!0,childList:!0,subtree:!0},N=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],P=function(e){return void 0===e&&(e=0),Date.now()+e},M=!1,D=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!M){M=!0;var n,r=P(e);n=function(){var n=!1;try{n=E()}finally{if(M=!1,e=r-P(),!I)return;n?t.run(1e3):e>0?t.run(e):t.start()}},A((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,R)};document.body?t():p.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),N.forEach((function(t){return p.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),N.forEach((function(t){return p.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),j=function(e){!I&&e>0&&D.start(),!(I+=e)&&D.stop()},L=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=w(this.target,this.observedBox,!0);return e=this.target,l(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),F=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Z=new WeakMap,B=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},U=function(){function e(){}return e.connect=function(e,t){var n=new F(e,t);Z.set(e,n)},e.observe=function(e,t,n){var r=Z.get(e),a=0===r.observationTargets.length;B(r.observationTargets,t)<0&&(a&&i.push(r),r.observationTargets.push(new L(t,n&&n.box)),j(1),D.schedule())},e.unobserve=function(e,t){var n=Z.get(e),r=B(n.observationTargets,t),a=1===n.observationTargets.length;r>=0&&(a&&i.splice(i.indexOf(n),1),n.observationTargets.splice(r,1),j(-1))},e.disconnect=function(e){var t=this,n=Z.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),V=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");U.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");U.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");U.unobserve(this,e)},e.prototype.disconnect=function(){U.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},16608:function(e,t,n){"use strict";var r=n(87462),i=n(45987),a=n(72791),o=n(28182),s=n(38317),u=n(91122),c=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,d=e.component,p=void 0===d?"svg":d,h=e.fontSize,v=void 0===h?"medium":h,m=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,x=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(p,(0,r.Z)({className:(0,o.Z)(s.root,c,"inherit"!==f&&s["color".concat((0,u.Z)(f))],"default"!==v&&"medium"!==v&&s["fontSize".concat((0,u.Z)(v))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},x),n,g?a.createElement("title",null,g):null)}));c.muiName="SvgIcon",t.Z=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},13108:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return l},_4:function(){return c},_j:function(){return f},mi:function(){return s}});var r=n(37483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?f(e,t):d(e,t)}function l(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},47121:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return o}});var r=n(87462),i=n(45987),a=["xs","sm","md","lg","xl"];function o(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,s=void 0===o?"px":o,u=e.step,c=void 0===u?5:u,l=(0,i.Z)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=a.indexOf(t);return r===a.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-c/100).concat(s,")")}return(0,r.Z)({keys:a,values:n,up:f,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}},73691:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(45987),i=n(81534),a=n(47121),o=n(4942),s=n(87462);function u(e,t,n){var r;return(0,s.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,s.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,o.Z)({},e.up("sm"),(0,s.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,o.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,o.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(37483),l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(13108),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,y.$n)(e.main,i):"dark"===t&&(e.dark=(0,y._j)(e.main,a)))}function w(e){return Math.round(1e5*e)/1e5}function _(e){return w(e)}var S={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,o=void 0===a?T:a,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,p=void 0===d?400:d,h=n.fontWeightMedium,v=void 0===h?500:h,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,k=n.pxToRem,C=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var E=c/14,O=k||function(e){return"".concat(e/b*E,"rem")},A=function(e,t,n,r,i){return(0,s.Z)({fontFamily:o,fontWeight:e,fontSize:O(t),lineHeight:n},o===T?{letterSpacing:"".concat(w(r/t),"em")}:{},i,x)},I={h1:A(f,96,1.167,-1.5),h2:A(f,60,1.2,-.5),h3:A(p,48,1.167,0),h4:A(p,34,1.235,.25),h5:A(p,24,1.334,0),h6:A(v,20,1.6,.15),subtitle1:A(p,16,1.75,.15),subtitle2:A(v,14,1.57,.1),body1:A(p,16,1.5,.15),body2:A(p,14,1.43,.15),button:A(v,14,1.75,.4,S),caption:A(p,12,1.66,.4),overline:A(p,12,2.66,1,S)};return(0,i.Z)((0,s.Z)({htmlFontSize:b,pxToRem:O,round:_,fontFamily:o,fontSize:c,fontWeightLight:f,fontWeightRegular:p,fontWeightMedium:v,fontWeightBold:g},I),C,{clone:!1})}function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var O=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],A={borderRadius:4},I=n(70885),R=n(71002),N={xs:0,sm:600,md:960,lg:1280,xl:1920},P={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(N[e],"px)")}};var M=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},j={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=e.split(""),n=(0,I.Z)(t,2),r=n[0],i=n[1],a=D[r],o=j[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),Z=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function B(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function U(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function V(e){var t=B(e.theme);return Object.keys(e).map((function(n){if(-1===Z.indexOf(n))return null;var r=U(F(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||P;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,R.Z)(t)){var i=e.theme.breakpoints||P;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(M,{})}V.propTypes={},V.filterProps=Z;var z=n(10812),W=n(19535);function H(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.mixins,w=void 0===o?{}:o,_=e.palette,S=void 0===_?{}:_,T=e.spacing,E=e.typography,I=void 0===E?{}:E,R=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),N=function(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,a=e.secondary,o=void 0===a?{light:p.A200,main:p.A400,dark:p.A700}:a,u=e.error,w=void 0===u?{light:h[300],main:h[500],dark:h[700]}:u,_=e.warning,S=void 0===_?{light:v[300],main:v[500],dark:v[700]}:_,T=e.info,C=void 0===T?{light:m[300],main:m[500],dark:m[700]}:T,E=e.success,O=void 0===E?{light:g[300],main:g[500],dark:g[700]}:E,A=e.type,I=void 0===A?"light":A,R=e.contrastThreshold,N=void 0===R?3:R,P=e.tonalOffset,M=void 0===P?.2:P,D=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function j(e){return(0,y.mi)(e,x.text.primary)>=N?x.text.primary:b.text.primary}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,s.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,c.Z)(5,JSON.stringify(e.main)));return k(e,"light",n,M),k(e,"dark",r,M),e.contrastText||(e.contrastText=j(e.main)),e},F={dark:x,light:b};return(0,i.Z)((0,s.Z)({common:l,type:I,primary:L(n),secondary:L(o,"A400","A200","A700"),error:L(w),warning:L(S),info:L(C),success:L(O),grey:f,contrastThreshold:N,getContrastText:j,augmentColor:L,tonalOffset:M},F[I]),D)}(S),P=(0,a.Z)(n),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(T),D=(0,i.Z)({breakpoints:P,direction:"ltr",mixins:u(P,M,w),overrides:{},palette:N,props:{},shadows:O,typography:C(N,I),spacing:M,shape:A,transitions:z.ZP,zIndex:W.Z},R),j=arguments.length,L=new Array(j>1?j-1:0),F=1;F<j;F++)L[F-1]=arguments[F];return D=L.reduce((function(e,t){return(0,i.Z)(e,t)}),D)}var G=H},40663:function(e,t,n){"use strict";var r=(0,n(73691).Z)();t.Z=r},10812:function(e,t,n){"use strict";n.d(t,{x9:function(){return a}});var r=n(45987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,f=void 0===l?0:l;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(c," ").concat("string"===typeof f?f:o(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},38317:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(87462),i=n(45987),a=n(72791),o=n(62110),s=n.n(o),u=n(63401),c=n(70794),l=n(78444),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,f=t.withTheme,d=void 0!==f&&f,p=t.name,h=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var v=p,m=(0,u.Z)(e,(0,r.Z)({defaultTheme:o,Component:n,name:p||n.displayName,classNamePrefix:v},h)),g=a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),h=m((0,r.Z)({},n.defaultProps,e)),v=f;return("string"===typeof p||d)&&(s=(0,l.Z)()||o,p&&(v=(0,c.Z)({theme:s,name:p,props:f})),d&&!v.theme&&(v.theme=s)),a.createElement(n,(0,r.Z)({ref:u||t,classes:h},v))}));return s()(g,n),g}},d=n(40663);var p=function(e,t){return f(e,(0,r.Z)({defaultTheme:d.Z},t))}},19535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},91122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},37545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},94327:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462),i=n(72791),a=n(16608);function o(e,t){var n=function(t,n){return i.createElement(a.Z,(0,r.Z)({ref:n},t),e)};return n.muiName=a.Z.muiName,i.memo(i.forwardRef(n))}},50503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},87156:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return l.Z},requirePropFactory:function(){return f},setRef:function(){return d.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return p},useControlled:function(){return h.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return y.Z}});var r=n(91122),i=n(37545),a=n(94327),o=n(50503);function s(e,t){return function(){return null}}var u=n(43375),c=n(54667),l=n(37636);function f(e){return function(){return null}}var d=n(21565);function p(e,t,n,r,i){return null}var h=n(92497),v=n(72216),m=n(69806),g=n(22939),y=n(81175)},43375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},54667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},37636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(54667);function i(e){return(0,r.Z)(e).defaultView||window}},21565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},22939:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=r.useState(e),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}},92497:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},72216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},69806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(21565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},81175:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(72791),i=n(54164),a=!0,o=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function p(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function h(){return{isFocusVisible:d,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},66556:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.Z=o},21759:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.Z=o},56955:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=o},31820:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=o},44362:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=o},2665:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),"BlurOnOutlined");t.Z=o},30014:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},80996:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=o},97595:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},65952:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},28719:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterestedOutlined");t.Z=o},13880:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},44894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(87156)},79316:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},70794:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},63401:function(e,t,n){"use strict";n.d(t,{Z:function(){return cn}});var r=n(45987),i=n(87462),a=n(72791),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType,u=n(43144),c=n(94578),l=n(97326),f=n(63366),d={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function h(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=v(e[n]," ");else t=v(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=g(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var d in f){var p=f[d];null!=p&&(r&&(r+=u),r+=y(d+":"+c+m(p)+";",a))}}else for(var h in o){var v=o[h];null!=v&&(r&&(r+=u),r+=y(h+":"+c+m(v)+";",a))}for(var b in t){var x=t[b];null!=x&&"fallbacks"!==b&&(r&&(r+=u),r+=y(b+":"+c+m(x)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),y(""+e+c+"{"+r,--a)+y("}",a)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,k="undefined"!==typeof CSS&&CSS.escape,w=function(e){return k?k(e):e.replace(x,"\\$1")},_=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,l.Z)((0,l.Z)(i)),s),i.selectorText="."+w(i.id)),i}(0,c.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,u.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(_),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},C={indent:1,children:!0},E=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(E);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=C);var t=g(e).linebreak;if(null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),A=/@container|@media|@supports\s+/,I={onCreateRule:function(e,t,n){return A.test(e)?new O(e,t,n):null}},R={indent:1,children:!0},N=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(N);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===a?this.name:w(s(this,o)),this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=R);var t=g(e).linebreak;if(null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),M=/@keyframes\s+/,D=/\$([\w-]+)/g,j=function(e,t){return"string"===typeof e?e.replace(D,(function(e,n){return n in t?t[n]:e})):e},L=function(e,t,n){var r=e[t],i=j(r,n);i!==r&&(e[t]=i)},F={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&L(e,"animation-name",n.keyframes),"animation"in e&&L(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return j(e,r.keyframes);default:return e}}},Z=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(_),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Z(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),V=/@font-face/,z={onCreateRule:function(e,t,n){return V.test(e)?new U(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},K={onCreateRule:function(e,t,n){return e in q?new G(e,t,n):null}},Y=[T,I,F,B,z,H,K],X={process:!0},Q={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,f=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+w(this.classes[d]));var p=h(d,t,f);if(!p)return null;this.register(p);var v=void 0===f.index?this.index.length:f.index;return this.index.splice(v,0,p),p},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Q)}for(var l in s){var f=t.style[l],d=s[l];null==f&&f!==d&&t.prop(l,null,Q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=g(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),$=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,f.Z)(t,["attached"]),i=g(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,u.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},fe=function(e,t){return e.selectorText=t,e.selectorText===t},de=se((function(){return document.querySelector("head")}));function pe(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=de(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var he=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ve=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=ue,this.setProperty=ce,this.removeProperty=le,this.setSelector=fe,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=he();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=pe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else de().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=me(n,t);if(!1===(i=ve(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=me(n,t),u=ve(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof $&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:s?ge:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new $(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=h(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),xe=function(e){return new be(e)},ke="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=we(r);a&&(t||(t={}),t[n]=a)}}return t}xe();var _e=n(25352),Se={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Te=Se,Ce=n(78444),Ee=n(79316),Oe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ae=Date.now(),Ie="fnValues"+Ae,Re="fnStyle"+ ++Ae,Ne=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=h(e,{},n);return r[Re]=t,r},onProcessStyle:function(e,t){if(Ie in t||Re in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ie]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Re];a&&(i.style=a(e)||{});var o=i[Ie];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Pe="@global",Me="@global ",De=function(){function e(e,t,n){for(var r in this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),je=function(){function e(e,t,n){this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Le=/\s*,\s*/g;function Fe(e,t){for(var n=e.split(Le),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ze=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Pe)return new De(e,t,n);if("@"===e[0]&&e.substr(0,8)===Me)return new je(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Pe]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Fe(o,e.selector)}));delete r[Pe]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Pe.length)===Pe){var o=Fe(a.substr(Pe.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},Be=/\s*,\s*/g,Ue=/&/g,Ve=/\$([\w-]+)/g;var ze=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Be),r=e.split(Be),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Ue,o):o+" "+u}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,u,c=a,l=c.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),p="@"===f[0];if(d||p){if(s=n(c,l,s),d){var h=t(f,c.selector);u||(u=e(l,o)),h=h.replace(Ve,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],(0,i.Z)({},s,{selector:h})):l.addRule(v,r[f],(0,i.Z)({},s,{selector:h}))}else p&&l.addRule(f,{},s).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},We=/[A-Z]/g,He=/^ms-/,Ge={};function qe(e){return"-"+e.toLowerCase()}var Ke=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(We,qe);return Ge[e]=He.test(t)?"-"+t:t};function Ye(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ye):t.fallbacks=Ye(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ye(e[t]);return e}return Ye(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}},Qe=ke&&CSS?CSS.px:"px",Je=ke&&CSS?CSS.ms:"ms",$e=ke&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Je,"animation-duration":Je,"background-position":Qe,"background-position-x":Qe,"background-position-y":Qe,"background-size":Qe,border:Qe,"border-bottom":Qe,"border-bottom-left-radius":Qe,"border-bottom-right-radius":Qe,"border-bottom-width":Qe,"border-left":Qe,"border-left-width":Qe,"border-radius":Qe,"border-right":Qe,"border-right-width":Qe,"border-top":Qe,"border-top-left-radius":Qe,"border-top-right-radius":Qe,"border-top-width":Qe,"border-width":Qe,"border-block":Qe,"border-block-end":Qe,"border-block-end-width":Qe,"border-block-start":Qe,"border-block-start-width":Qe,"border-block-width":Qe,"border-inline":Qe,"border-inline-end":Qe,"border-inline-end-width":Qe,"border-inline-start":Qe,"border-inline-start-width":Qe,"border-inline-width":Qe,"border-start-start-radius":Qe,"border-start-end-radius":Qe,"border-end-start-radius":Qe,"border-end-end-radius":Qe,margin:Qe,"margin-bottom":Qe,"margin-left":Qe,"margin-right":Qe,"margin-top":Qe,"margin-block":Qe,"margin-block-end":Qe,"margin-block-start":Qe,"margin-inline":Qe,"margin-inline-end":Qe,"margin-inline-start":Qe,padding:Qe,"padding-bottom":Qe,"padding-left":Qe,"padding-right":Qe,"padding-top":Qe,"padding-block":Qe,"padding-block-end":Qe,"padding-block-start":Qe,"padding-inline":Qe,"padding-inline-end":Qe,"padding-inline-start":Qe,"mask-position-x":Qe,"mask-position-y":Qe,"mask-size":Qe,height:Qe,width:Qe,"min-height":Qe,"max-height":Qe,"min-width":Qe,"max-width":Qe,bottom:Qe,left:Qe,top:Qe,right:Qe,inset:Qe,"inset-block":Qe,"inset-block-end":Qe,"inset-block-start":Qe,"inset-inline":Qe,"inset-inline-end":Qe,"inset-inline-start":Qe,"box-shadow":Qe,"text-shadow":Qe,"column-gap":Qe,"column-rule":Qe,"column-rule-width":Qe,"column-width":Qe,"font-size":Qe,"font-size-delta":Qe,"letter-spacing":Qe,"text-decoration-thickness":Qe,"text-indent":Qe,"text-stroke":Qe,"text-stroke-width":Qe,"word-spacing":Qe,motion:Qe,"motion-offset":Qe,outline:Qe,"outline-offset":Qe,"outline-width":Qe,perspective:Qe,"perspective-origin-x":$e,"perspective-origin-y":$e,"transform-origin":$e,"transform-origin-x":$e,"transform-origin-y":$e,"transform-origin-z":$e,"transition-delay":Je,"transition-duration":Je,"vertical-align":Qe,"flex-basis":Qe,"shape-margin":Qe,size:Qe,gap:Qe,grid:Qe,"grid-gap":Qe,"row-gap":Qe,"grid-row-gap":Qe,"grid-column-gap":Qe,"grid-template-rows":Qe,"grid-template-columns":Qe,"grid-auto-rows":Qe,"grid-auto-columns":Qe,"box-shadow-x":Qe,"box-shadow-y":Qe,"box-shadow-blur":Qe,"box-shadow-spread":Qe,"font-line-height":Qe,"text-shadow-x":Qe,"text-shadow-y":Qe,"text-shadow-blur":Qe});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var a in t)t[a]=nt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tt[e];return!o||0===t&&o===Qe?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(42982),at="",ot="",st="",ut="",ct=s&&"ontouchstart"in document.documentElement;if(s){var lt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ft=document.createElement("p").style;for(var dt in lt)if(dt+"Transform"in ft){at=dt,ot=lt[dt];break}"Webkit"===at&&"msHyphens"in ft&&(at="ms",ot=lt.ms,ut="edge"),"Webkit"===at&&"-apple-trailing-word"in ft&&(st="apple")}var pt={js:at,css:ot,vendor:st,browser:ut,isTouch:ct};var ht={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===pt.js?"-webkit-"+e:pt.css+e)}},vt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===pt.js?pt.css+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function gt(e,t){return t?t.toUpperCase():""}function yt(e){return e.replace(mt,gt)}function bt(e){return yt("-"+e)}var xt,kt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===pt.js){var n="mask-image";if(yt(n)in t)return e;if(pt.js+bt(n)in t)return pt.css+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==pt.vendor||pt.isTouch?e:pt.css+e)}},_t={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:pt.css+e)}},St={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:pt.css+e)}},Tt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===pt.js||"ms"===pt.js&&"edge"!==pt.browser?pt.css+e:e)}},Ct={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===pt.js||"ms"===pt.js||"apple"===pt.vendor?pt.css+e:e)}},Et={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===pt.js?"WebkitColumn"+bt(e)in t&&pt.css+"column-"+e:"Moz"===pt.js&&("page"+bt(e)in t&&"page-"+e))}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===pt.js)return e;var n=e.replace("-inline","");return pt.js+bt(n)in t&&pt.css+n}},At={supportedProperty:function(e,t){return yt(e)in t&&e}},It={supportedProperty:function(e,t){var n=bt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:pt.js+n in t?pt.css+e:"Webkit"!==pt.js&&"Webkit"+n in t&&"-webkit-"+e}},Rt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===pt.js?""+pt.css+e:e)}},Nt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===pt.js?pt.css+"scroll-chaining":e)}},Pt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Mt={supportedProperty:function(e,t){var n=Pt[e];return!!n&&(pt.js+bt(n)in t&&pt.css+n)}},Dt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},jt=Object.keys(Dt),Lt=function(e){return pt.css+e},Ft={supportedProperty:function(e,t,n){var r=n.multiple;if(jt.indexOf(e)>-1){var i=Dt[e];if(!Array.isArray(i))return pt.js+bt(i)in t&&pt.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(pt.js+bt(i[0])in t))return!1;return i.map(Lt)}return!1}},Zt=[ht,vt,kt,wt,_t,St,Tt,Ct,Et,Ot,At,It,Rt,Nt,Mt,Ft],Bt=Zt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ut=Zt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),Vt={};if(s){xt=document.createElement("p");var zt=window.getComputedStyle(document.documentElement,"");for(var Wt in zt)isNaN(Wt)||(Vt[zt[Wt]]=zt[Wt]);Ut.forEach((function(e){return delete Vt[e]}))}function Ht(e,t){if(void 0===t&&(t={}),!xt)return e;if(null!=Vt[e])return Vt[e];"transition"!==e&&"transform"!==e||(t[e]=e in xt.style);for(var n=0;n<Bt.length&&(Vt[e]=Bt[n](e,xt.style,t),!Vt[e]);n++);try{xt.style[e]=""}catch(r){return!1}return Vt[e]}var Gt,qt={},Kt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Xt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ht(t):", "+Ht(n);return r||(t||n)}function Qt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=qt[r])return qt[r];try{Gt.style[e]=n}catch(i){return qt[r]=!1,!1}if(Kt[e])n=n.replace(Yt,Xt);else if(""===Gt.style[e]&&("-ms-flex"===(n=pt.css+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return qt[r]=!1,!1;return Gt.style[e]="",qt[r]=n,qt[r]}s&&(Gt=document.createElement("p"));var Jt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Ht(n);a&&a!==n&&(i=!0);var o=!1,s=Qt(a,m(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===pt.js?e:"@"+pt.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Qt(t,m(e))||e}}};var $t=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var en=xe({plugins:[Ne(),Ze(),ze(),Xe(),rt(),"undefined"===typeof window?null:Jt(),$t()]}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Oe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Ee.Z]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.createContext(nn);var an=-1e9;var on=n(81534);var sn={};function un(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=Te.get(a.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Te.set(a.sheetsManager,o,r,u));var c=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===u.refs){var f;a.sheetsCache&&(f=Te.get(a.sheetsCache,o,r));var d=o.create(r,s);f||((f=a.jss.createStyleSheet(d,(0,i.Z)({link:!1},c))).attach(),a.sheetsCache&&Te.set(a.sheetsCache,o,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=we(d)}if(u.dynamicStyles){var p=a.jss.createStyleSheet(u.dynamicStyles,(0,i.Z)({link:!0},c));p.update(t),p.attach(),n.dynamicSheet=p,n.classes=(0,_e.Z)({baseClasses:u.staticSheet.classes,newClasses:p.classes}),l&&l.add(p)}else n.classes=u.staticSheet.classes;u.refs+=1}}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?sn:u,l=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,on.Z)(s[e],o[e])})),s},options:{}}}(e),d=n||o||"makeStyles";f.options={index:an+=1,name:n,meta:d,classNamePrefix:d};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ce.Z)()||c,r=(0,i.Z)({},a.useContext(rn),l),o=a.useRef(),u=a.useRef();!function(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return un(i,e),u.current=!1,o.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Te.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Te.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}}),[t,f]),a.useEffect((function(){u.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(o.current,e),u.current=!0}));var d=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,_e.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(o.current,e.classes,s);return d}}},25352:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(87462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},40423:function(e,t,n){"use strict";var r=n(72791).createContext(null);t.Z=r},78444:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(40423);function a(){return r.useContext(i.Z)}},81534:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462),i=n(71002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},37483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},64103:function(e,t,n){"use strict";n.r(t),n.d(t,{Any:function(){return Gt},BailSignal:function(){return In},Controller:function(){return Jn},FrameValue:function(){return Mn},Globals:function(){return B},Interpolation:function(){return Tr},Spring:function(){return wr},SpringContext:function(){return sr},SpringRef:function(){return cr},SpringValue:function(){return Un},Trail:function(){return _r},Transition:function(){return Sr},a:function(){return Yr},animated:function(){return Yr},config:function(){return gn},createInterpolator:function(){return Ae},easings:function(){return je},inferTo:function(){return ln},interpolate:function(){return Ir},to:function(){return Ar},update:function(){return Rr},useChain:function(){return mn},useInView:function(){return kr},useIsomorphicLayoutEffect:function(){return _t},useReducedMotion:function(){return At},useResize:function(){return br},useScroll:function(){return yr},useSpring:function(){return fr},useSpringRef:function(){return pr},useSpringValue:function(){return hr},useSprings:function(){return lr},useTrail:function(){return vr},useTransition:function(){return mr}});var r=n(97326),i=n(4942),a=n(70885),o=n(43144),s=n(15671),u=n(60136),c=n(29388),l=n(45987),f=n(42982);var d=n(82963),p=n(11752),h=n(61120),v=n(98737),m=n(74165),g=n(15861),y=n(1413),b=n(37762),x=j(),k=function(e){return N(e,x)},w=j();k.write=function(e){return N(e,w)};var _=j();k.onStart=function(e){return N(e,_)};var S=j();k.onFrame=function(e){return N(e,S)};var T=j();k.onFinish=function(e){return N(e,T)};var C=[];k.setTimeout=function(e,t){var n=k.now()+t,r={time:n,handler:e,cancel:function e(){var t=C.findIndex((function(t){return t.cancel==e}));~t&&C.splice(t,1),I-=~t?1:0}};return C.splice(E(n),0,r),I+=1,P(),r};var E=function(e){return~(~C.findIndex((function(t){return t.time>e}))||~C.length)};k.cancel=function(e){_.delete(e),S.delete(e),T.delete(e),x.delete(e),w.delete(e)},k.sync=function(e){R=!0,k.batchedUpdates(e),R=!1},k.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,f.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,k.onStart(n)}return r.handler=e,r.cancel=function(){_.delete(n),t=null},r};var O=typeof window<"u"?window.requestAnimationFrame:function(){};k.use=function(e){return O=e},k.now=typeof performance<"u"?function(){return performance.now()}:Date.now,k.batchedUpdates=function(e){return e()},k.catch=console.error,k.frameLoop="always",k.advance=function(){"demand"!==k.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):D()};var A=-1,I=0,R=!1;function N(e,t){R?(t.delete(e),e(0)):(t.add(e),P())}function P(){A<0&&(A=0,"demand"!==k.frameLoop&&O(M))}function M(){~A&&(O(M),k.batchedUpdates(D))}function D(){var e=A;A=k.now();var t=E(A);t&&(L(C.splice(0,t),(function(e){return e.handler()})),I-=t),I?(_.flush(),x.flush(e?Math.min(64,A-e):16.667),S.flush(),w.flush(),T.flush()):A=-1}function j(){var e=new Set,t=e;return{add:function(n){I+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return I-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,I-=t.size,L(t,(function(t){return t(n)&&e.add(t)})),I+=e.size,t=e)}}}function L(e,t){e.forEach((function(e){try{t(e)}catch(n){k.catch(n)}}))}var F=n(72791),Z=Object.defineProperty,B={};function U(){}!function(e,t){for(var n in t)Z(e,n,{get:t[n],enumerable:!0})}(B,{assign:function(){return te},colors:function(){return J},createStringInterpolator:function(){return K},skipAnimation:function(){return $},to:function(){return Y},willAdvance:function(){return ee}});var V={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e}};function z(e,t){if(V.arr(e)){if(!V.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var W=function(e,t){return e.forEach(t)};function H(e,t,n){if(V.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var G=function(e){return V.und(e)?[]:V.arr(e)?e:[e]};function q(e,t){if(e.size){var n=Array.from(e);e.clear(),W(n,t)}}var K,Y,X=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return q(e,(function(e){return e.apply(void 0,n)}))},Q=function(){return typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},J=null,$=!1,ee=U,te=function(e){e.to&&(Y=e.to),e.now&&(k.now=e.now),void 0!==e.colors&&(J=e.colors),null!=e.skipAnimation&&($=e.skipAnimation),e.createStringInterpolator&&(K=e.createStringInterpolator),e.requestAnimationFrame&&k.use(e.requestAnimationFrame),e.batchedUpdates&&(k.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ee=e.willAdvance),e.frameLoop&&(k.frameLoop=e.frameLoop)},ne=new Set,re=[],ie=[],ae=0,oe={get idle(){return!ne.size&&!re.length},start:function(e){ae>e.priority?(ne.add(e),k.onStart(se)):(ue(e),k(le))},advance:le,sort:function(e){if(ae)k.onFrame((function(){return oe.sort(e)}));else{var t=re.indexOf(e);~t&&(re.splice(t,1),ce(e))}},clear:function(){re=[],ne.clear()}};function se(){ne.forEach(ue),ne.clear(),k(le)}function ue(e){re.includes(e)||ce(e)}function ce(e){re.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(re,(function(t){return t.priority>e.priority})),0,e)}function le(e){for(var t=ie,n=0;n<re.length;n++){var r=re[n];ae=r.priority,r.idle||(ee(r),r.advance(e),r.idle||t.push(r))}return ae=0,(ie=re).length=0,(re=t).length>0}var fe="[-+]?\\d*\\.?\\d+",de=fe+"%";function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var he=new RegExp("rgb"+pe(fe,fe,fe)),ve=new RegExp("rgba"+pe(fe,fe,fe,fe)),me=new RegExp("hsl"+pe(fe,de,de)),ge=new RegExp("hsla"+pe(fe,de,de,fe)),ye=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,be=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,xe=/^#([0-9a-fA-F]{6})$/,ke=/^#([0-9a-fA-F]{8})$/;function we(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _e(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=we(i,r,e+1/3),o=we(i,r,e),s=we(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function Se(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Te(e){return(parseFloat(e)%360+360)%360/360}function Ce(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ee(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function Oe(e){var t=function(e){var t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=xe.exec(e))?parseInt(t[1]+"ff",16)>>>0:J&&void 0!==J[e]?J[e]:(t=he.exec(e))?(Se(t[1])<<24|Se(t[2])<<16|Se(t[3])<<8|255)>>>0:(t=ve.exec(e))?(Se(t[1])<<24|Se(t[2])<<16|Se(t[3])<<8|Ce(t[4]))>>>0:(t=ye.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ke.exec(e))?parseInt(t[1],16)>>>0:(t=be.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=me.exec(e))?(255|_e(Te(t[1]),Ee(t[2]),Ee(t[3])))>>>0:(t=ge.exec(e))?(_e(Te(t[1]),Ee(t[2]),Ee(t[3]))|Ce(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var Ae=function e(t,n,r){if(V.fun(t))return t;if(V.arr(t))return e({range:t,output:n,extrapolate:r});if(V.str(t.output[0]))return K(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var c=u?u(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t),c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r,c)}(e,o[t],o[t+1],a[t],a[t+1],c,s,u,i.map)}};var Ie=1.70158,Re=1.525*Ie,Ne=Ie+1,Pe=2*Math.PI/3,Me=2*Math.PI/4.5,De=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},je={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return Ne*e*e*e-Ie*e*e},easeOutBack:function(e){return 1+Ne*Math.pow(e-1,3)+Ie*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(2*(Re+1)*e-Re)/2:(Math.pow(2*e-2,2)*((Re+1)*(2*e-2)+Re)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Pe)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Pe)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Me)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Me)/2+1},easeInBounce:function(e){return 1-De(1-e)},easeOutBounce:De,easeInOutBounce:function(e){return e<.5?(1-De(1-2*e))/2:(1+De(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return function(e,t,n){return Math.min(Math.max(n,e),t)}(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},Le=Symbol.for("FluidValue.get"),Fe=Symbol.for("FluidValue.observers"),Ze=function(e){return!(!e||!e[Le])},Be=function(e){return e&&e[Le]?e[Le]():e},Ue=function(e){return e[Fe]||null};function Ve(e,t){var n=e[Fe];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var ze=(0,o.Z)((function e(t){if((0,s.Z)(this,e),(0,i.Z)(this,Le,void 0),(0,i.Z)(this,Fe,void 0),!t&&!(t=this.get))throw Error("Unknown getter");We(this,t)})),We=function(e,t){return Ke(e,Le,t)};function He(e,t){if(e[Le]){var n=e[Fe];n||Ke(e,Fe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ge(e,t){var n=e[Fe];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[Fe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var qe,Ke=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Ye=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Xe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Qe=new RegExp("(".concat(Ye.source,")(%|[a-z]+)"),"i"),Je=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,$e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,et=function e(t){var n=tt(t),r=(0,a.Z)(n,2),i=r[0],o=r[1];if(!i||Q())return t;var s=window.getComputedStyle(document.documentElement).getPropertyValue(i);return s?s.trim():o&&o.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(o)||t:o&&$e.test(o)?e(o):o||t},tt=function(e){var t=$e.exec(e);if(!t)return[,];var n=(0,a.Z)(t,3);return[n[1],n[2]]},nt=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},rt=function(e){qe||(qe=J?new RegExp("(".concat(Object.keys(J).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return Be(e).replace($e,et).replace(Xe,Oe).replace(qe,Oe)})),n=t.map((function(e){return e.match(Ye).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Ae((0,y.Z)((0,y.Z)({},e),{},{output:t}))}));return function(e){var n,i=!Qe.test(t[0])&&(null===(n=t.find((function(e){return Qe.test(e)})))||void 0===n?void 0:n.replace(Ye,"")),a=0;return t[0].replace(Ye,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(Je,nt)}},it="react-spring: ",at=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(it,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},ot=at(console.warn);function st(){ot("".concat(it,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var ut=at(console.warn);function ct(e){return V.str(e)&&("#"==e[0]||/\d/.test(e)||!Q()&&$e.test(e)||e in(J||{}))}var lt,ft=new WeakMap,dt=function(e){return e.forEach((function(e){var t,n=e.target,r=e.contentRect;return null===(t=ft.get(n))||void 0===t?void 0:t.forEach((function(e){return e(r)}))}))};var pt,ht=new Set,vt=function(e){return ht.add(e),pt||(pt=function(){var e=function(){ht.forEach((function(e){return e({width:window.innerWidth,height:window.innerHeight})}))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}()),function(){ht.delete(e),!ht.size&&pt&&(pt(),pt=void 0)}},mt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).container,n=void 0===t?document.documentElement:t;return n===document.documentElement?vt(e):function(e,t){lt||typeof ResizeObserver<"u"&&(lt=new ResizeObserver(dt));var n=ft.get(t);return n||(n=new Set,ft.set(t,n)),n.add(e),lt&&lt.observe(t),function(){var n=ft.get(t);n&&(n.delete(e),!n.size&&lt&&lt.unobserve(t))}}(e,n)},gt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},yt=(0,o.Z)((function e(t,n){var r=this;(0,s.Z)(this,e),(0,i.Z)(this,"callback",void 0),(0,i.Z)(this,"container",void 0),(0,i.Z)(this,"info",void 0),(0,i.Z)(this,"createAxis",(function(){return{current:0,progress:0,scrollLength:0}})),(0,i.Z)(this,"updateAxis",(function(e){var t=r.info[e],n=gt[e],i=n.length,a=n.position;t.current=r.container["scroll".concat(a)],t.scrollLength=r.container["scroll"+i]-r.container["client"+i],t.progress=function(e,t,n){return t-e===0?1:(n-e)/(t-e)}(0,t.scrollLength,t.current)})),(0,i.Z)(this,"update",(function(){r.updateAxis("x"),r.updateAxis("y")})),(0,i.Z)(this,"sendEvent",(function(){r.callback(r.info)})),(0,i.Z)(this,"advance",(function(){r.update(),r.sendEvent()})),this.callback=t,this.container=n,this.info={time:0,x:this.createAxis(),y:this.createAxis()}})),bt=new WeakMap,xt=new WeakMap,kt=new WeakMap,wt=function(e){return e===document.documentElement?window:e};var _t=Q()?F.useEffect:F.useLayoutEffect,St=function(){var e=(0,F.useRef)(!1);return _t((function(){return e.current=!0,function(){e.current=!1}}),[]),e};function Tt(){var e=(0,F.useState)()[1],t=St();return function(){t.current&&e(Math.random())}}var Ct=function(e){return(0,F.useEffect)(e,Et)},Et=[];function Ot(e){var t=(0,F.useRef)();return(0,F.useEffect)((function(){t.current=e})),t.current}var At=function(){var e=(0,F.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1];return _t((function(){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(e){r(e.matches),te({skipAnimation:e.matches})};return t(e),e.addEventListener("change",t),function(){e.removeEventListener("change",t)}}),[]),n},It=Symbol.for("Animated:node"),Rt=function(e){return e&&e[It]},Nt=function(e,t){return function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}(e,It,t)},Pt=function(e){return e&&e[It]&&e[It].getPayload()},Mt=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,"payload",void 0),Nt(this,this)}return(0,o.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),Dt=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,s.Z)(this,n),a=t.call(this),(0,i.Z)((0,r.Z)(a),"done",!0),(0,i.Z)((0,r.Z)(a),"elapsedTime",void 0),(0,i.Z)((0,r.Z)(a),"lastPosition",void 0),(0,i.Z)((0,r.Z)(a),"lastVelocity",void 0),(0,i.Z)((0,r.Z)(a),"v0",void 0),(0,i.Z)((0,r.Z)(a),"durationProgress",0),a._value=e,V.num(a._value)&&(a.lastPosition=a._value),a}return(0,o.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return V.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,V.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Mt),jt=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,s.Z)(this,n),a=t.call(this,0),(0,i.Z)((0,r.Z)(a),"_string",null),(0,i.Z)((0,r.Z)(a),"_toString",void 0),a._toString=Ae({output:[e,e]}),a}return(0,o.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null!==e&&void 0!==e?e:this._string=this._toString(this._value)}},{key:"setValue",value:function(e){if(V.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,p.Z)((0,h.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=Ae({output:[this.getValue(),e]})),this._value=0,(0,p.Z)((0,h.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Dt),Lt={dependencies:null},Ft=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,o.Z)(n,[{key:"getValue",value:function(e){var t={};return H(this.source,(function(n,r){!function(e){return!!e&&e[It]===e}(n)?Ze(n)?t[r]=Be(n):e||(t[r]=n):t[r]=n.getValue(e)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&W(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return H(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;Lt.dependencies&&Ze(e)&&Lt.dependencies.add(e);var n=Pt(e);n&&W(n,(function(e){return t.add(e)}))}}]),n}(Mt),Zt=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,o.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,p.Z)((0,h.Z)(n.prototype),"setValue",this).call(this,e.map(Bt)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Ft);function Bt(e){return(ct(e)?jt:Dt).create(e)}function Ut(e){var t=Rt(e);return t?t.constructor:V.arr(e)?Zt:ct(e)?jt:Dt}var Vt=function(e,t){var n=!V.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,F.forwardRef)((function(r,i){var o=(0,F.useRef)(null),s=n&&(0,F.useCallback)((function(e){o.current=function(e,t){return e&&(V.fun(e)?e(t):e.current=t),t}(i,e)}),[i]),u=function(e,t){var n=new Set;return Lt.dependencies=n,e.style&&(e=(0,y.Z)((0,y.Z)({},e),{},{style:t.createAnimatedStyle(e.style)})),e=new Ft(e),Lt.dependencies=null,[e,n]}(r,t),c=(0,a.Z)(u,2),l=c[0],f=c[1],d=Tt(),p=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&d()},h=new zt(p,f),v=(0,F.useRef)();_t((function(){return v.current=h,W(f,(function(e){return He(e,h)})),function(){v.current&&(W(v.current.deps,(function(e){return Ge(e,v.current)})),k.cancel(v.current.update))}})),(0,F.useEffect)(p,[]),Ct((function(){return function(){var e=v.current;W(e.deps,(function(t){return Ge(t,e)}))}}));var m=t.getComponentProps(l.getValue());return F.createElement(e,(0,y.Z)((0,y.Z)({},m),{},{ref:s}))}))},zt=function(){function e(t,n){(0,s.Z)(this,e),this.update=t,this.deps=n}return(0,o.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&k.write(this.update)}}]),e}();var Wt=Symbol.for("AnimatedComponent"),Ht=function(e){return V.str(e)?e:e&&V.str(e.displayName)?e.displayName:V.fun(e)&&e.name||null},Gt=(0,o.Z)((function e(){(0,s.Z)(this,e),(0,i.Z)(this,"_",void 0)})),qt=["children"],Kt=["container"],Yt=["container"],Xt=["to","from"],Qt=["root","once","amount"],Jt=["children"],$t=["items","children"],en=["items","children"];function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return V.fun(e)?e.apply(void 0,n):e}var nn=function(e,t){return!0===e||!!(t&&e&&(V.fun(e)?e(t):G(e).includes(t)))},rn=function(e,t){return V.obj(e)?t&&e[t]:e},an=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},on=function(e){return e},sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:on,n=un;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=(0,b.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);V.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},un=["config","onProps","onStart","onChange","onPause","onResume","onRest"],cn={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ln(e){var t=function(e){var t={},n=0;if(H(e,(function(e,r){cn[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return H(e,(function(e,r){return r in t||(n[r]=e)})),n}return(0,y.Z)({},e)}function fn(e){return e=Be(e),V.arr(e)?e.map(fn):ct(e)?B.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function dn(e){for(var t in e)return!0;return!1}function pn(e){return V.fun(e)||V.arr(e)&&V.obj(e[0])}function hn(e,t){var n;null!==(n=e.ref)&&void 0!==n&&n.delete(e),null===t||void 0===t||t.delete(e)}function vn(e,t){var n;t&&e.ref!==t&&(null!==(n=e.ref)&&void 0!==n&&n.delete(e),t.add(e),e.ref=t)}function mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;_t((function(){if(t){var r=0;W(e,(function(e,i){var a=e.current;if(a.length){var o=n*t[i];isNaN(o)?o=r:r=o,W(a,(function(e){W(e.queue,(function(e){var t=e.delay;e.delay=function(e){return o+tn(t||0,e)}}))})),e.start()}}))}else{var i=Promise.resolve();W(e,(function(e){var t=e.current;if(t.length){var n=t.map((function(e){var t=e.queue;return e.queue=[],t}));i=i.then((function(){return W(t,(function(e,t){return W(n[t]||[],(function(t){return e.queue.push(t)}))})),Promise.all(e.start())}))}}))}}))}var gn={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},yn=(0,y.Z)((0,y.Z)({},gn.default),{},{mass:1,damping:1,easing:je.linear,clamp:!1}),bn=(0,o.Z)((function e(){(0,s.Z)(this,e),(0,i.Z)(this,"tension",void 0),(0,i.Z)(this,"friction",void 0),(0,i.Z)(this,"frequency",void 0),(0,i.Z)(this,"damping",void 0),(0,i.Z)(this,"mass",void 0),(0,i.Z)(this,"velocity",0),(0,i.Z)(this,"restVelocity",void 0),(0,i.Z)(this,"precision",void 0),(0,i.Z)(this,"progress",void 0),(0,i.Z)(this,"duration",void 0),(0,i.Z)(this,"easing",void 0),(0,i.Z)(this,"clamp",void 0),(0,i.Z)(this,"bounce",void 0),(0,i.Z)(this,"decay",void 0),(0,i.Z)(this,"round",void 0),Object.assign(this,yn)}));function xn(e,t){if(V.und(t.decay)){var n=!V.und(t.tension)||!V.und(t.friction);(n||!V.und(t.frequency)||!V.und(t.damping)||!V.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var kn=[],wn=(0,o.Z)((function e(){(0,s.Z)(this,e),(0,i.Z)(this,"changed",!1),(0,i.Z)(this,"values",kn),(0,i.Z)(this,"toValues",null),(0,i.Z)(this,"fromValues",kn),(0,i.Z)(this,"to",void 0),(0,i.Z)(this,"from",void 0),(0,i.Z)(this,"config",new bn),(0,i.Z)(this,"immediate",!1)}));function _n(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,c,l,f=nn(null!==(u=r.cancel)&&void 0!==u?u:null===i||void 0===i?void 0:i.cancel,n);if(f)v();else{V.und(r.pause)||(a.paused=nn(r.pause,n));var d=null===i||void 0===i?void 0:i.pause;!0!==d&&(d=a.paused||nn(d,n)),c=tn(r.delay||0,n),d?(a.resumeQueue.add(h),o.pause()):(o.resume(),h())}function p(){a.resumeQueue.add(h),a.timeouts.delete(l),l.cancel(),c=l.time-k.now()}function h(){c>0&&!B.skipAnimation?(a.delayed=!0,l=k.setTimeout(v,c),a.pauseQueue.add(p),a.timeouts.add(l)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(p),a.timeouts.delete(l),e<=(a.cancelId||0)&&(f=!0);try{o.start((0,y.Z)((0,y.Z)({},r),{},{callId:e,cancel:f}),t)}catch(d){s(d)}}}))}var Sn=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?En(e.get()):t.every((function(e){return e.noop}))?Tn(e.get()):Cn(e.get(),t.every((function(e){return e.finished})))},Tn=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},Cn=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},En=function(e){return{value:e,cancelled:!0,finished:!1}};function On(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=(0,g.Z)((0,m.Z)().mark((function c(){var l,f,d,p,h,v,x,w;return(0,m.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=sn(t,(function(e,t){return"onRest"===t?void 0:e})),p=new Promise((function(e,t){return f=e,d=t})),h=function(e){var t=i<=(n.cancelId||0)&&En(r)||i!==n.asyncId&&Cn(r,!1);if(t)throw e.result=t,d(e),e},v=function(e,t){var a=new In,o=new Rn;return(0,g.Z)((0,m.Z)().mark((function s(){var u,c;return(0,m.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!B.skipAnimation){s.next=2;break}throw An(n),o.result=Cn(r,!1),d(o),o;case 2:return h(a),(u=V.obj(e)?(0,y.Z)({},e):(0,y.Z)((0,y.Z)({},t),{},{to:e})).parentId=i,H(l,(function(e,t){V.und(u[t])&&(u[t]=e)})),s.next=7,r.start(u);case 7:if(c=s.sent,h(a),s.t0=n.paused,!s.t0){s.next=13;break}return s.next=13,new Promise((function(e){n.resumeQueue.add(e)}));case 13:return s.abrupt("return",c);case 14:case"end":return s.stop()}}),s)})))()},!B.skipAnimation){c.next=4;break}return c.abrupt("return",(An(n),Cn(r,!1)));case 4:return c.prev=4,w=V.arr(e)?function(){var e=(0,g.Z)((0,m.Z)().mark((function e(t){var n,r,i;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,b.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),c.next=8,Promise.all([w.then(f),p]);case 8:x=Cn(r.get(),!0,!1),c.next=22;break;case 11:if(c.prev=11,c.t0=c.catch(4),!(c.t0 instanceof In)){c.next=17;break}x=c.t0.result,c.next=22;break;case 17:if(!(c.t0 instanceof Rn)){c.next=21;break}x=c.t0.result,c.next=22;break;case 21:throw c.t0;case 22:return c.prev=22,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),c.finish(22);case 25:return c.abrupt("return",(V.fun(o)&&k.batchedUpdates((function(){o(x,r,r.item)})),x));case 26:case"end":return c.stop()}}),c,null,[[4,11,22,25]])})))():u}function An(e,t){q(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var In=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,s.Z)(this,n),e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),(0,i.Z)((0,r.Z)(e),"result",void 0),e}return(0,o.Z)(n)}((0,v.Z)(Error)),Rn=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,s.Z)(this,n),e=t.call(this,"SkipAnimationSignal"),(0,i.Z)((0,r.Z)(e),"result",void 0),e}return(0,o.Z)(n)}((0,v.Z)(Error)),Nn=function(e){return e instanceof Mn},Pn=1,Mn=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),(0,i.Z)((0,r.Z)(e),"id",Pn++),(0,i.Z)((0,r.Z)(e),"_priority",0),e}return(0,o.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Rt(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return B.to(this,t)}},{key:"interpolate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return st(),B.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){Ve(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(e){this.idle||oe.sort(this),Ve(this,{type:"priority",parent:this,priority:e})}}]),n}(ze),Dn=Symbol.for("SpringPhase"),jn=function(e){return(1&e[Dn])>0},Ln=function(e){return(2&e[Dn])>0},Fn=function(e){return(4&e[Dn])>0},Zn=function(e,t){return t?e[Dn]|=3:e[Dn]&=-3},Bn=function(e,t){return t?e[Dn]|=4:e[Dn]&=-5},Un=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;if((0,s.Z)(this,n),o=t.call(this),(0,i.Z)((0,r.Z)(o),"key",void 0),(0,i.Z)((0,r.Z)(o),"animation",new wn),(0,i.Z)((0,r.Z)(o),"queue",void 0),(0,i.Z)((0,r.Z)(o),"defaultProps",{}),(0,i.Z)((0,r.Z)(o),"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set}),(0,i.Z)((0,r.Z)(o),"_pendingCalls",new Set),(0,i.Z)((0,r.Z)(o),"_lastCallId",0),(0,i.Z)((0,r.Z)(o),"_lastToId",0),(0,i.Z)((0,r.Z)(o),"_memoizedDuration",0),!V.und(e)||!V.und(a)){var u=V.obj(e)?(0,y.Z)({},e):(0,y.Z)((0,y.Z)({},a),{},{from:e});V.und(u.default)&&(u.default=!0),o.start(u)}return(0,d.Z)(o)}return(0,o.Z)(n,[{key:"idle",get:function(){return!(Ln(this)||this._state.asyncTo)||Fn(this)}},{key:"goal",get:function(){return Be(this.animation.to)}},{key:"velocity",get:function(){var e=Rt(this);return e instanceof Dt?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return jn(this)}},{key:"isAnimating",get:function(){return Ln(this)}},{key:"isPaused",get:function(){return Fn(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.toValues,o=i.config,s=Pt(i.to);!s&&Ze(i.to)&&(a=G(Be(i.to))),i.values.forEach((function(u,c){if(!u.done){var l=u.constructor==jt?1:s?s[c].lastPosition:a[c],f=i.immediate,d=l;if(!f){if(d=u.lastPosition,o.tension<=0)return void(u.done=!0);var p,h=u.elapsedTime+=e,v=i.fromValues[c],m=null!=u.v0?u.v0:u.v0=V.arr(o.velocity)?o.velocity[c]:o.velocity,g=o.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v)));if(V.und(o.duration))if(o.decay){var y=!0===o.decay?.998:o.decay,b=Math.exp(-(1-y)*h);d=v+m/(1-y)*(1-b),f=Math.abs(u.lastPosition-d)<=g,p=m*b}else{p=null==u.lastVelocity?m:u.lastVelocity;for(var x=o.restVelocity||g/10,k=o.clamp?0:o.bounce,w=!V.und(k),_=v==l?u.v0>0:v<l,S=Math.ceil(e/1),T=0;T<S&&(Math.abs(p)>x||!(f=Math.abs(l-d)<=g));++T){w&&((d==l||d>l==_)&&(p=-p*k,d=l)),d+=1*(p+=1*((1e-6*-o.tension*(d-l)+.001*-o.friction*p)/o.mass))}}else{var C=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,h=u.elapsedTime+=e)),C=(C=(o.progress||0)+h/t._memoizedDuration)>1?1:C<0?0:C,u.durationProgress=C),p=((d=v+o.easing(C)*(l-v))-u.lastPosition)/e,f=1==C}u.lastVelocity=p,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[c].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(d,o.round)&&(r=!0)}}));var u=Rt(this),c=u.getValue();if(n){var l=Be(i.to);c===l&&!r||o.decay?r&&o.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return k.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(Ln(this)){var t=this.animation,n=t.to,r=t.config;k.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return V.und(e)?(n=this.queue||[],this.queue=[]):n=[V.obj(e)?e:(0,y.Z)((0,y.Z)({},t),{},{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return Sn(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),An(this._state,e&&this._lastCallId),k.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t,n=this.key||"",r=e.to,i=e.from;(null==(r=V.obj(r)?r[n]:r)||pn(r))&&(r=void 0),null==(i=V.obj(i)?i[n]:i)&&(i=void 0);var a={to:r,from:i};return jn(this)||(e.reverse&&(r=(t=[i,r])[0],i=t[1]),i=Be(i),V.und(i)?Rt(this)||this._set(r):this._set(i)),a}},{key:"_update",value:function(e,t){var n=this,r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,sn(r,(function(e,t){return/^on/.test(t)?rn(e,i):e}))),Kn(this,r,"onProps"),Yn(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return _n(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){Fn(n)||(Bn(n,!0),X(s.pauseQueue),Yn(n,"onPause",Cn(n,Vn(n,n.animation.to)),n))},resume:function(){Fn(n)&&(Bn(n,!1),Ln(n)&&n._resume(),X(s.resumeQueue),Yn(n,"onResume",Cn(n,Vn(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=zn(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r,i=this;if(t.cancel)return this.stop(!0),n(En(this));var a=!V.und(e.to),o=!V.und(e.from);if(a||o){if(!(t.callId>this._lastToId))return n(En(this));this._lastToId=t.callId}var s=this.key,u=this.defaultProps,c=this.animation,l=c.to,f=c.from,d=e.to,p=void 0===d?l:d,h=e.from,v=void 0===h?f:h;o&&!a&&(!t.default||V.und(p))&&(p=v),t.reverse&&(p=(r=[v,p])[0],v=r[1]);var m=!z(v,f);m&&(c.from=v),v=Be(v);var g=!z(p,l);g&&this._focus(p);var b=pn(t.to),x=c.config,w=x.decay,_=x.velocity;(a||o)&&(x.velocity=0),t.config&&!b&&function(e,t,n){for(var r in n&&(xn(n=(0,y.Z)({},n),t),t=(0,y.Z)((0,y.Z)({},n),t)),xn(e,t),Object.assign(e,t),yn)null==e[r]&&(e[r]=yn[r]);var i=e.frequency,a=e.damping,o=e.mass;V.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(x,tn(t.config,s),t.config!==u.config?tn(u.config,s):void 0);var S=Rt(this);if(!S||V.und(p))return n(Cn(this,!0));var T=V.und(t.reset)?o&&!t.default:!V.und(v)&&nn(t.reset,s),C=T?v:this.get(),E=fn(p),O=V.num(E)||V.arr(E)||ct(E),A=!b&&(!O||nn(u.immediate||t.immediate,s));if(g){var I=Ut(p);if(I!==S.constructor){if(!A)throw Error("Cannot animate between ".concat(S.constructor.name," and ").concat(I.name,', as the "to" prop suggests'));S=this._set(E)}}var R=S.constructor,N=Ze(p),P=!1;if(!N){var M=T||!jn(this)&&m;(g||M)&&(N=!(P=z(fn(C),E))),(!z(c.immediate,A)&&!A||!z(x.decay,w)||!z(x.velocity,_))&&(N=!0)}if(P&&Ln(this)&&(c.changed&&!T?N=!0:N||this._stop(l)),!b&&((N||Ze(l))&&(c.values=S.getPayload(),c.toValues=Ze(p)?null:R==jt?[1]:G(E)),c.immediate!=A&&(c.immediate=A,!A&&!T&&this._set(l)),N)){var D=c.onRest;W(qn,(function(e){return Kn(i,t,e)}));var j=Cn(this,Vn(this,l));X(this._pendingCalls,j),this._pendingCalls.add(n),c.changed&&k.batchedUpdates((function(){var e;c.changed=!T,null!==D&&void 0!==D&&D(j,i),T?tn(u.onRest,j):null===(e=c.onStart)||void 0===e||e.call(c,j,i)}))}T&&this._set(C),b?n(On(t.to,t,this._state,this)):N?this._start():Ln(this)&&!g?this._pendingCalls.add(n):n(Tn(C))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(Ue(this)&&this._detach(),t.to=e,Ue(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;Ze(t)&&(He(t,this),Nn(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;Ze(e)&&Ge(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Be(e);if(!V.und(r)){var i=Rt(this);if(!i||!z(r,i.getValue())){var a=Ut(r);i&&i.constructor==a?i.setValue(r):Nt(this,a.create(r)),i&&k.batchedUpdates((function(){t._onChange(r,n)}))}}return Rt(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,Yn(this,"onStart",Cn(this,Vn(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),tn(this.animation.onChange,e,this)),tn(this.defaultProps.onChange,e,this),(0,p.Z)((0,h.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Rt(this).reset(Be(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),Ln(this)||(Zn(this,!0),Fn(this)||this._resume())}},{key:"_resume",value:function(){B.skipAnimation?this.finish():oe.start(this)}},{key:"_stop",value:function(e,t){if(Ln(this)){Zn(this,!1);var n=this.animation;W(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ve(this,{type:"idle",parent:this});var r=t?En(this.get()):Cn(this.get(),Vn(this,null!==e&&void 0!==e?e:n.to));X(this._pendingCalls,r),n.changed&&(n.changed=!1,Yn(this,"onRest",r,this))}}}]),n}(Mn);function Vn(e,t){var n=fn(t);return z(fn(e.get()),n)}function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=tn(t);if(r){var i=!0!==r&&ln(r),a=(i||e).reverse,o=!i||i.reset;return Wn((0,y.Z)((0,y.Z)({},e),{},{loop:t,default:!1,pause:void 0,to:!a||pn(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function Wn(e){var t=e=ln(e),n=t.to,r=t.from,i=new Set;return V.obj(n)&&Gn(n,i),V.obj(r)&&Gn(r,i),e.keys=i.size?Array.from(i):null,e}function Hn(e){var t=Wn(e);return V.und(t.default)&&(t.default=sn(t)),t}function Gn(e,t){H(e,(function(e,n){return null!=e&&t.add(n)}))}var qn=["onStart","onRest","onChange","onPause","onResume"];function Kn(e,t,n){e.animation[n]=t[n]!==an(t,n)?rn(t[n],e.key):void 0}function Yn(e,t){for(var n,r,i,a,o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];null!==(n=(r=e.animation)[t])&&void 0!==n&&n.call.apply(n,[r].concat(s)),null===(i=(a=e.defaultProps)[t])||void 0===i||i.call.apply(i,[a].concat(s))}var Xn=["onStart","onChange","onRest"],Qn=1,Jn=function(){function e(t,n){(0,s.Z)(this,e),(0,i.Z)(this,"id",Qn++),(0,i.Z)(this,"springs",{}),(0,i.Z)(this,"queue",[]),(0,i.Z)(this,"ref",void 0),(0,i.Z)(this,"_flush",void 0),(0,i.Z)(this,"_initialProps",void 0),(0,i.Z)(this,"_lastAsyncId",0),(0,i.Z)(this,"_active",new Set),(0,i.Z)(this,"_changed",new Set),(0,i.Z)(this,"_started",!1),(0,i.Z)(this,"_item",void 0),(0,i.Z)(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set}),(0,i.Z)(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map}),this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start((0,y.Z)({default:!0},t))}return(0,o.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];V.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(Wn(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=G(e).map(Wn):this.queue=[],this._flush?this._flush(this,t):(or(this,t),$n(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;W(G(t),(function(t){return n[t].stop(!!e)}))}else An(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(V.und(e))this.start({pause:!0});else{var t=this.springs;W(G(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(V.und(e))this.start({pause:!1});else{var t=this.springs;W(G(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){H(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,q(n,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var u=!o&&this._started,c=s||u&&i.size?this.get():null;s&&r.size&&q(r,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})),u&&(this._started=!1,q(i,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}k.onFrame(this._onFrame)}}]),e}();function $n(e,t){return Promise.all(t.map((function(t){return er(e,t)}))).then((function(t){return Sn(e,t)}))}function er(e,t,n){return tr.apply(this,arguments)}function tr(){return tr=(0,g.Z)((0,m.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,g;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=V.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=V.arr(a)||V.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):W(Xn,(function(e){var r=n[e];if(V.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,X(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),p=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),h=!0===n.cancel||!0===an(n,"cancel"),(f||h&&d.asyncId)&&p.push(_n(++t._lastAsyncId,{props:n,state:d,actions:{pause:U,resume:U,start:function(e,n){h?(An(d,t._lastAsyncId),n(En(t))):(e.onRest=u,n(On(f,e,d,t)))}}})),e.t0=d.paused,!e.t0){e.next=12;break}return e.next=12,new Promise((function(e){d.resumeQueue.add(e)}));case 12:return e.t1=Sn,e.t2=t,e.next=16,Promise.all(p);case 16:if(e.t3=e.sent,v=(0,e.t1)(e.t2,e.t3),!s||!v.finished||r&&v.noop){e.next=22;break}if(!(g=zn(n,s,a))){e.next=22;break}return e.abrupt("return",(or(t,[g]),er(t,g,!0)));case 22:return e.abrupt("return",(c&&k.batchedUpdates((function(){return c(v,t,t.item)})),v));case 23:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}function nr(e,t){var n=(0,y.Z)({},e.springs);return t&&W(G(t),(function(e){V.und(e.keys)&&(e=Wn(e)),V.obj(e.to)||(e=(0,y.Z)((0,y.Z)({},e),{},{to:void 0})),ar(n,e,(function(e){return ir(e)}))})),rr(e,n),n}function rr(e,t){H(t,(function(t,n){e.springs[n]||(e.springs[n]=t,He(t,e))}))}function ir(e,t){var n=new Un;return n.key=e,t&&He(n,t),n}function ar(e,t,n){t.keys&&W(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function or(e,t){W(t,(function(t){ar(e.springs,t,(function(t){return ir(t,e)}))}))}var sr=function(e){var t=e.children,n=(0,l.Z)(e,qt),r=(0,F.useContext)(ur),i=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=(0,F.useState)((function(){return{inputs:t,result:e()}})),r=(0,a.Z)(n,1)[0],i=(0,F.useRef)(),o=i.current,s=o;return s?t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs)||(s={inputs:t,result:e()}):s=r,(0,F.useEffect)((function(){i.current=s,o==r&&(r.inputs=r.result=void 0)}),[s]),s.result}((function(){return{pause:i,immediate:o}}),[i,o]);var s=ur.Provider;return F.createElement(s,{value:n},t)},ur=function(e,t){return Object.assign(e,F.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(sr,{});sr.Provider=ur.Provider,sr.Consumer=ur.Consumer;var cr=function(){var e=[],t=function(t){ut("".concat(it,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return W(e,(function(e,i){if(V.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return W(e,(function(e){return e.pause.apply(e,(0,f.Z)(t))})),this},t.resume=function(){var t=arguments;return W(e,(function(e){return e.resume.apply(e,(0,f.Z)(t))})),this},t.set=function(t){W(e,(function(e,n){var r=V.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){var n=this,r=[];return W(e,(function(e,i){if(V.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return W(e,(function(e){return e.stop.apply(e,(0,f.Z)(t))})),this},t.update=function(t){var n=this;return W(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return V.fun(e)?e(n,t):e};return t._getProps=n,t};function lr(e,t,n){var r=arguments,i=V.fun(t)&&t;i&&!n&&(n=[]);var a=(0,F.useMemo)((function(){return i||3==r.length?cr():void 0}),[]),o=(0,F.useRef)(0),s=Tt(),u=(0,F.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=nr(e,t);return o.current>0&&!u.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?$n(e,t):new Promise((function(r){rr(e,n),u.queue.push((function(){r($n(e,t))})),s()}))}}}),[]),c=(0,F.useRef)((0,f.Z)(u.ctrls)),l=[],d=Ot(e)||0;function p(e,n){for(var r=e;r<n;r++){var a=c.current[r]||(c.current[r]=new Jn(null,u.flush)),o=i?i(r,a):t[r];o&&(l[r]=Hn(o))}}(0,F.useMemo)((function(){W(c.current.slice(e,d),(function(e){hn(e,a),e.stop(!0)})),c.current.length=e,p(d,e)}),[e]),(0,F.useMemo)((function(){p(0,Math.min(d,e))}),n);var h=c.current.map((function(e,t){return nr(e,l[t])})),v=(0,F.useContext)(sr),m=Ot(v),g=v!==m&&dn(v);_t((function(){o.current++,u.ctrls=c.current;var e=u.queue;e.length&&(u.queue=[],W(e,(function(e){return e()}))),W(c.current,(function(e,t){null!==a&&void 0!==a&&a.add(e),g&&e.start({default:v});var n=l[t];n&&(vn(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Ct((function(){return function(){W(u.ctrls,(function(e){return e.stop(!0)}))}}));var b=h.map((function(e){return(0,y.Z)({},e)}));return a?[b,a]:b}function fr(e,t){var n=V.fun(e),r=lr(1,n?e:[e],n?t||[]:t),i=(0,a.Z)(r,2),o=(0,a.Z)(i[0],1)[0],s=i[1];return n||2==arguments.length?[o,s]:o}var dr=function(){return cr()},pr=function(){return(0,F.useState)(dr)[0]},hr=function(e,t){var n=function(e){var t=(0,F.useRef)(null);return null===t.current&&(t.current=e()),t.current}((function(){return new Un(e,t)}));return Ct((function(){return function(){n.stop()}})),n};function vr(e,t,n){var r=V.fun(t)&&t;r&&!n&&(n=[]);var i,a=!0,o=lr(e,(function(e,n){var o=r?r(e,n):t;return i=o.ref,a=a&&o.reverse,o}),n||[{}]);if(_t((function(){W(o[1].current,(function(e,t){var n=o[1].current[t+(a?1:-1)];vn(e,i),e.ref?n&&e.update({to:n.springs}):n?e.start({to:n.springs}):e.start()}))}),n),r||3==arguments.length){var s,u=null!==(s=i)&&void 0!==s?s:o[1];return u._getProps=function(e,t,n){var r=V.fun(e)?e(n,t):e;if(r){var i=u.current[n+(r.reverse?1:-1)];return i&&(r.to=i.springs),r}},o}return o[0]}function mr(e,t,n){var r=arguments,i=V.fun(t)&&t,a=i?i():t,o=a.reset,s=a.sort,u=a.trail,c=void 0===u?0:u,l=a.expires,f=void 0===l||l,d=a.exitBeforeEnter,p=void 0!==d&&d,h=a.onDestroyed,v=a.ref,m=a.config,g=(0,F.useMemo)((function(){return i||3==r.length?cr():void 0}),[]),b=G(e),x=[],k=(0,F.useRef)(null),w=o?null:k.current;_t((function(){k.current=x})),Ct((function(){return W(x,(function(e){null!==g&&void 0!==g&&g.add(e.ctrl),e.ctrl.ref=g})),function(){W(k.current,(function(e){e.expired&&clearTimeout(e.expirationId),hn(e.ctrl,g),e.ctrl.stop(!0)}))}}));var _=function(e,t,n){var r=t.key,i=t.keys,a=void 0===i?r:i;if(null===a){var o=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&"leave"!==t.phase&&!o.has(t)}));return t?(o.add(t),t.key):gr++}))}return V.und(a)?e:V.fun(a)?e.map(a):G(a)}(b,i?i():t,w),S=o&&k.current||[];_t((function(){return W(S,(function(e){var t=e.ctrl,n=e.item,r=e.key;hn(t,g),tn(h,n,r)}))}));var T=[];if(w&&W(w,(function(e,t){e.expired?(clearTimeout(e.expirationId),S.push(e)):~(t=T[t]=_.indexOf(e.key))&&(x[t]=e)})),W(b,(function(e,t){x[t]||(x[t]={key:_[t],item:e,phase:"mount",ctrl:new Jn},x[t].ctrl.item=e)})),T.length){var C=-1,E=(i?i():t).leave;W(T,(function(e,t){var n=w[t];~e?(C=x.indexOf(n),x[C]=(0,y.Z)((0,y.Z)({},n),{},{item:b[e]})):E&&x.splice(++C,0,n)}))}V.fun(s)&&x.sort((function(e,t){return s(e.item,t.item)}));var O=-c,A=Tt(),I=sn(t),R=new Map,N=(0,F.useRef)(new Map),P=(0,F.useRef)(!1);W(x,(function(e,n){var r,a,o=e.key,s=e.phase,u=i?i():t,l=tn(u.delay||0,o);if("mount"==s)r=u.enter,a="enter";else{var d=_.indexOf(o)<0;if("leave"!=s)if(d)r=u.leave,a="leave";else{if(!(r=u.update))return;a="update"}else{if(d)return;r=u.enter,a="enter"}}if(r=tn(r,e.item,n),!(r=V.obj(r)?ln(r):{to:r}).config){var h=m||I.config;r.config=tn(h,e.item,n,a)}O+=c;var g=(0,y.Z)((0,y.Z)({},I),{},{delay:l+O,ref:v,immediate:u.immediate,reset:!1},r);if("enter"==a&&V.und(g.from)){var b=i?i():t,x=V.und(b.initial)||w?b.from:b.initial;g.from=tn(x,e.item,n)}var S=g.onResolve;g.onResolve=function(e){tn(S,e);var t=k.current,n=t.find((function(e){return e.key===o}));if(n&&(!e.cancelled||"update"==n.phase)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if("leave"==n.phase){var i=tn(f,n.item);if(!1!==i){var a=!0===i?0:i;if(n.expired=!0,!r&&a>0)return void(a<=2147483647&&(n.expirationId=setTimeout(A,a)))}}r&&t.some((function(e){return e.expired}))&&(N.current.delete(n),p&&(P.current=!0),A())}};var T=nr(e.ctrl,g);"leave"===a&&p?N.current.set(e,{phase:a,springs:T,payload:g}):R.set(e,{phase:a,springs:T,payload:g})}));var M=(0,F.useContext)(sr),D=Ot(M),j=M!==D&&dn(M);_t((function(){j&&W(x,(function(e){e.ctrl.start({default:M})}))}),[M]),W(R,(function(e,t){if(N.current.size){var n=x.findIndex((function(e){return e.key===t.key}));x.splice(n,1)}})),_t((function(){W(N.current.size?N.current:R,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null!==g&&void 0!==g&&g.add(i),j&&"enter"==n&&i.start({default:M}),r&&(vn(i,r.ref),!i.ref&&!g||P.current?(i.start(r),P.current&&(P.current=!1)):i.update(r))}))}),o?void 0:n);var L=function(e){return F.createElement(F.Fragment,null,x.map((function(t,n){var r=(R.get(t)||t.ctrl).springs,i=e((0,y.Z)({},r),t.item,t,n);return i&&i.type?F.createElement(i.type,(0,y.Z)((0,y.Z)({},i.props),{},{key:V.str(t.key)||V.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return g?[L,g]:L}var gr=1;var yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=(0,l.Z)(e,Kt),r=fr((function(){return(0,y.Z)({scrollX:0,scrollY:0,scrollXProgress:0,scrollYProgress:0},n)}),[]),i=(0,a.Z)(r,2),o=i[0],s=i[1];return _t((function(){var e=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).container,n=void 0===t?document.documentElement:t,r=kt.get(n);r||(r=new Set,kt.set(n,r));var i=new yt(e,n);if(r.add(i),!bt.has(n)){var a=function(){var e;return null!==(e=r)&&void 0!==e&&e.forEach((function(e){return e.advance()})),!0};bt.set(n,a);var o=wt(n);window.addEventListener("resize",a,{passive:!0}),n!==document.documentElement&&xt.set(n,mt(a,{container:n})),o.addEventListener("scroll",a,{passive:!0})}var s=bt.get(n);return k(s),function(){var e;k.cancel(s);var t=kt.get(n);if(t&&(t.delete(i),!t.size)){var r=bt.get(n);bt.delete(n),r&&(wt(n).removeEventListener("scroll",r),window.removeEventListener("resize",r),null===(e=xt.get(n))||void 0===e||e())}}}((function(e){var t=e.x,n=e.y;s.start({scrollX:t.current,scrollXProgress:t.progress,scrollY:n.current,scrollYProgress:n.progress})}),{container:(null===t||void 0===t?void 0:t.current)||void 0});return function(){W(Object.values(o),(function(e){return e.stop()})),e()}}),[]),o},br=function(e){var t=e.container,n=(0,l.Z)(e,Yt),r=fr((function(){return(0,y.Z)({width:0,height:0},n)}),[]),i=(0,a.Z)(r,2),o=i[0],s=i[1];return _t((function(){var e=mt((function(e){var t=e.width,n=e.height;s.start({width:t,height:n,immediate:0===o.width.get()||0===o.height.get()})}),{container:(null===t||void 0===t?void 0:t.current)||void 0});return function(){W(Object.values(o),(function(e){return e.stop()})),e()}}),[]),o},xr={any:0,all:1};function kr(e,t){var n=(0,F.useState)(!1),r=(0,a.Z)(n,2),i=r[0],o=r[1],s=(0,F.useRef)(),u=V.fun(e)&&e,c=u?u():{},f=c.to,d=void 0===f?{}:f,p=c.from,h=void 0===p?{}:p,v=(0,l.Z)(c,Xt),m=u?t:e,g=fr((function(){return(0,y.Z)({from:h},v)}),[]),b=(0,a.Z)(g,2),x=b[0],k=b[1];return _t((function(){var e=s.current,t=null!==m&&void 0!==m?m:{},n=t.root,r=t.once,a=t.amount,u=void 0===a?"any":a,c=(0,l.Z)(t,Qt);if(!(!e||r&&i||typeof IntersectionObserver>"u")){var f=new WeakMap,p=new IntersectionObserver((function(e){e.forEach((function(e){var t=f.get(e.target);if(e.isIntersecting!==!!t)if(e.isIntersecting){var n=(d&&k.start(d),o(!0),r?void 0:function(){h&&k.start(h),o(!1)});V.fun(n)?f.set(e.target,n):p.unobserve(e.target)}else t&&(t(),f.delete(e.target))}))}),(0,y.Z)({root:n&&n.current||void 0,threshold:"number"==typeof u||Array.isArray(u)?u:xr[u]},c));return p.observe(e),function(){return p.unobserve(e)}}}),[m]),u?[s,x]:[s,i]}function wr(e){return(0,e.children)(fr((0,l.Z)(e,Jt)))}function _r(e){var t=e.items,n=e.children,r=(0,l.Z)(e,$t),i=vr(t.length,r);return t.map((function(e,t){var r=n(e,t);return V.fun(r)?r(i[t]):r}))}function Sr(e){var t=e.items,n=e.children;return mr(t,(0,l.Z)(e,en))(n)}var Tr=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;(0,s.Z)(this,n),o=t.call(this),(0,i.Z)((0,r.Z)(o),"key",void 0),(0,i.Z)((0,r.Z)(o),"idle",!0),(0,i.Z)((0,r.Z)(o),"calc",void 0),(0,i.Z)((0,r.Z)(o),"_active",new Set),o.source=e,o.calc=Ae.apply(void 0,(0,f.Z)(a));var u=o._get(),c=Ut(u);return Nt((0,r.Z)(o),c.create(u)),o}return(0,o.Z)(n,[{key:"advance",value:function(e){var t=this._get();z(t,this.get())||(Rt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Er(this._active)&&Or(this)}},{key:"_get",value:function(){var e=V.arr(this.source)?this.source.map(Be):G(Be(this.source));return this.calc.apply(this,(0,f.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Er(this._active)&&(this.idle=!1,W(Pt(this),(function(e){e.done=!1})),B.skipAnimation?(k.batchedUpdates((function(){return e.advance()})),Or(this)):oe.start(this))}},{key:"_attach",value:function(){var e=this,t=1;W(G(this.source),(function(n){Ze(n)&&He(n,e),Nn(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;W(G(this.source),(function(t){Ze(t)&&Ge(t,e)})),this._active.clear(),Or(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=G(this.source).reduce((function(e,t){return Math.max(e,(Nn(t)?t.priority:0)+1)}),0))}}]),n}(Mn);function Cr(e){return!1!==e.idle}function Er(e){return!e.size||Array.from(e).every(Cr)}function Or(e){e.idle||(e.idle=!0,W(Pt(e),(function(e){e.done=!0})),Ve(e,{type:"idle",parent:e}))}var Ar=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Tr(e,n)},Ir=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return st(),new Tr(e,n)};B.assign({createStringInterpolator:rt,to:function(e,t){return new Tr(e,t)}});var Rr=oe.advance,Nr=n(54164),Pr=["style","children","scrollTop","scrollLeft","viewBox"],Mr=["x","y","z"],Dr=["scrollTop","scrollLeft"],jr=/^--/;function Lr(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||jr.test(e)||Zr.hasOwnProperty(e)&&Zr[e]?(""+t).trim():t+"px"}var Fr={};var Zr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Br=["Webkit","Ms","Moz","O"];Zr=Object.keys(Zr).reduce((function(e,t){return Br.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),Zr);var Ur=/^(matrix|translate|scale|rotate|skew)/,Vr=/^(translate)/,zr=/^(rotate|skew)/,Wr=function(e,t){return V.num(e)&&0!==e?e+t:e},Hr=function e(t,n){return V.arr(t)?t.every((function(t){return e(t,n)})):V.num(t)?t===n:parseFloat(t)===n},Gr=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r=e.x,i=e.y,o=e.z,u=(0,l.Z)(e,Mr);(0,s.Z)(this,n);var c=[],f=[];return(r||i||o)&&(c.push([r||0,i||0,o||0]),f.push((function(e){return["translate3d(".concat(e.map((function(e){return Wr(e,"px")})).join(","),")"),Hr(e,0)]}))),H(u,(function(e,t){if("transform"===t)c.push([e||""]),f.push((function(e){return[e,""===e]}));else if(Ur.test(t)){if(delete u[t],V.und(e))return;var n=Vr.test(t)?"px":zr.test(t)?"deg":"";c.push(G(e)),f.push("rotate3d"===t?function(e){var t=(0,a.Z)(e,4),r=t[0],i=t[1],o=t[2],s=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(o,",").concat(Wr(s,n),")"),Hr(s,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return Wr(e,n)})).join(","),")"),Hr(e,t.startsWith("scale")?1:0)]})}})),c.length&&(u.transform=new qr(c,f)),t.call(this,u)}return(0,o.Z)(n)}(Ft),qr=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;return(0,s.Z)(this,n),o=t.call(this),(0,i.Z)((0,r.Z)(o),"_value",null),o.inputs=e,o.transforms=a,o}return(0,o.Z)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return W(this.inputs,(function(r,i){var o=Be(r[0]),s=e.transforms[i](V.arr(o)?o:r.map(Be)),u=(0,a.Z)(s,2),c=u[0],l=u[1];t+=" "+c,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&W(this.inputs,(function(e){return W(e,(function(e){return Ze(e)&&He(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&W(this.inputs,(function(e){return W(e,(function(e){return Ze(e)&&Ge(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Ve(this,e)}}]),n}(ze);B.assign({batchedUpdates:Nr.unstable_batchedUpdates,createStringInterpolator:rt,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Kr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new Ft(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},c=function e(t){var n=Ht(t)||"Anonymous";return(t=V.str(t)?e[t]||(e[t]=Vt(t,u)):t[Wt]||(t[Wt]=Vt(t,u))).displayName="Animated(".concat(n,")"),t};return H(e,(function(t,n){V.arr(e)&&(n=Ht(t)),c[n]=c(t)})),{animated:c}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t.style,i=t.children,a=t.scrollTop,o=t.scrollLeft,s=t.viewBox,u=(0,l.Z)(t,Pr),c=Object.values(u),f=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:Fr[t]||(Fr[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var d in void 0!==i&&(e.textContent=i),r)if(r.hasOwnProperty(d)){var p=Lr(d,r[d]);jr.test(d)?e.style.setProperty(d,p):e.style[d]=p}f.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:function(e){return new Gr(e)},getComponentProps:function(e){e.scrollTop,e.scrollLeft;return(0,l.Z)(e,Dr)}}),Yr=Kr.animated},71059:function(e,t,n){"use strict";n.r(t),n.d(t,{BodyPix:function(){return yn},PART_CHANNELS:function(){return Fn},blurBodyPart:function(){return Ln},drawBokehEffect:function(){return jn},drawMask:function(){return Mn},drawPixelatedMask:function(){return Dn},flipPoseHorizontal:function(){return an},load:function(){return kn},resizeAndPadTo:function(){return en},scaleAndCropToInputTensorShape:function(){return tn},toColoredPartMask:function(){return Nn},toMask:function(){return In},version:function(){return Zn}});var r={};n.r(r),n.d(r,{json:function(){return U}});var i={};n.r(i),n.d(i,{json:function(){return V}});var a={};n.r(a),n.d(a,{json:function(){return z}});var o={};n.r(o),n.d(o,{json:function(){return W}});var s={};n.r(s),n.d(s,{json:function(){return H}});var u={};n.r(u),n.d(u,{json:function(){return G}});var c={};n.r(c),n.d(c,{json:function(){return q}});var l={};n.r(l),n.d(l,{json:function(){return K}});var f={};n.r(f),n.d(f,{json:function(){return Y}});var d={};n.r(d),n.d(d,{json:function(){return X}});var p={};n.r(p),n.d(p,{json:function(){return Q}});var h={};n.r(h),n.d(h,{json:function(){return J}});var v={};n.r(v),n.d(v,{json:function(){return $}});var m={};n.r(m),n.d(m,{json:function(){return ee}});var g={};n.r(g),n.d(g,{json:function(){return te}});var y={};n.r(y),n.d(y,{json:function(){return ne}});var b={};n.r(b),n.d(b,{json:function(){return re}});var x={};n.r(x),n.d(x,{json:function(){return ie}});var k={};n.r(k),n.d(k,{json:function(){return ae}});var w={};n.r(w),n.d(w,{OP_SCOPE_SUFFIX:function(){return we.zvA},abs:function(){return we.WnP},acos:function(){return we.Khb},acosh:function(){return we.__u},add:function(){return we.IHx},addN:function(){return we.QBD},all:function(){return we.$6P},any:function(){return we.YjB},argMax:function(){return we.NqF},argMin:function(){return we.vHJ},asin:function(){return we.ZRM},asinh:function(){return we.VfV},atan:function(){return we.z4N},atan2:function(){return we.fvJ},atanh:function(){return we.C80},avgPool:function(){return we.wS1},avgPool3d:function(){return we.uR5},basicLSTMCell:function(){return we.zEQ},batchNorm:function(){return we.tgs},batchNorm2d:function(){return we.Dxk},batchNorm3d:function(){return we.JY5},batchNorm4d:function(){return we.p3b},batchToSpaceND:function(){return we.E4h},bincount:function(){return we.yE8},booleanMaskAsync:function(){return we.anm},broadcastArgs:function(){return we.XsQ},broadcastTo:function(){return we.UFq},buffer:function(){return we.f3b},cast:function(){return we.pju},ceil:function(){return we.mDi},clipByValue:function(){return we.iUl},clone:function(){return we.d9v},complex:function(){return we.PYB},concat:function(){return we.zoF},concat1d:function(){return we.gME},concat2d:function(){return we.Izb},concat3d:function(){return we.MNy},concat4d:function(){return we.ZaL},conv1d:function(){return we.PAt},conv2d:function(){return we.Tek},conv2dTranspose:function(){return we.bc},conv3d:function(){return we.pdZ},conv3dTranspose:function(){return we.$QV},cos:function(){return we.mCk},cosh:function(){return we.f9Y},cosineWindow:function(){return we.mew},cumprod:function(){return we.$Gn},cumsum:function(){return we.zbp},denseBincount:function(){return we.ppE},depthToSpace:function(){return we.nTT},depthwiseConv2d:function(){return we.B10},diag:function(){return we.Ka3},dilation2d:function(){return we.WmZ},div:function(){return we.hiC},divNoNan:function(){return we.NTj},dot:function(){return we.AKD},dropout:function(){return we.rvX},einsum:function(){return we.WYO},elu:function(){return we.pyx},enclosingPowerOfTwo:function(){return we.GRh},equal:function(){return we.DgJ},erf:function(){return we.qNN},euclideanNorm:function(){return we.d2q},exp:function(){return we.Qqt},expandDims:function(){return we.dt4},expm1:function(){return we.t$B},eye:function(){return we.iyy},fft:function(){return we.kp_},fill:function(){return we.hlL},floor:function(){return we.GWj},floorDiv:function(){return we.qPi},fused:function(){return we.imm},gather:function(){return we.Iqj},gatherND:function(){return we.dbB},greater:function(){return we.pjt},greaterEqual:function(){return we.brS},ifft:function(){return we.Sxn},imag:function(){return we.asL},image:function(){return we.BHj},inTopKAsync:function(){return we.V3u},irfft:function(){return we.wx0},isFinite:function(){return we.xVT},isInf:function(){return we.UWc},isNaN:function(){return we.i2d},leakyRelu:function(){return we.hi7},less:function(){return we.d9m},lessEqual:function(){return we.zN1},linalg:function(){return we.$r2},linspace:function(){return we.SX3},localResponseNormalization:function(){return we.G9k},log:function(){return we.cM7},log1p:function(){return we.Krr},logSigmoid:function(){return we.e_t},logSoftmax:function(){return we.CmS},logSumExp:function(){return we.l_t},logicalAnd:function(){return we.HvI},logicalNot:function(){return we.hJK},logicalOr:function(){return we.K5V},logicalXor:function(){return we.egP},losses:function(){return we.MB5},lowerBound:function(){return we.eab},matMul:function(){return we.OI3},max:function(){return we.Fp7},maxPool:function(){return we._sB},maxPool3d:function(){return we.YQQ},maxPoolWithArgmax:function(){return we.Ip$},maximum:function(){return we.gWQ},mean:function(){return we.J69},meshgrid:function(){return we.ry_},min:function(){return we.VV$},minimum:function(){return we.LTh},mirrorPad:function(){return we.VdP},mod:function(){return we.wQq},moments:function(){return we.Gi7},movingAverage:function(){return we.p_},mul:function(){return we.dC7},multiRNNCell:function(){return we.rq4},multinomial:function(){return we.SJ_},neg:function(){return we.W76},norm:function(){return we.KOy},notEqual:function(){return we.Quu},oneHot:function(){return we.lfX},ones:function(){return we.iUs},onesLike:function(){return we.JpU},op:function(){return we.op},outerProduct:function(){return we.N2O},pad:function(){return we.vku},pad1d:function(){return we.pNR},pad2d:function(){return we.koy},pad3d:function(){return we.t1L},pad4d:function(){return we.lGY},pool:function(){return we.d_R},pow:function(){return we.sQ3},prelu:function(){return we.AL3},print:function(){return we.S0v},prod:function(){return we.WVs},raggedGather:function(){return we.$gW},raggedTensorToTensor:function(){return we.N89},rand:function(){return we.TN_},randomGamma:function(){return we.wzB},randomNormal:function(){return we.nGf},randomStandardNormal:function(){return we.ruB},randomUniform:function(){return we.LGj},range:function(){return we.w6H},real:function(){return we.kwC},reciprocal:function(){return we.M25},relu:function(){return we.UYe},relu6:function(){return we.btT},reshape:function(){return we.XLQ},reverse:function(){return we.GYS},reverse1d:function(){return we.SDf},reverse2d:function(){return we.diP},reverse3d:function(){return we.sx7},reverse4d:function(){return we.mG2},rfft:function(){return we.QEs},round:function(){return we.NMM},rsqrt:function(){return we.bp0},scalar:function(){return we.iD$},scatterND:function(){return we.snQ},searchSorted:function(){return we.zcT},selu:function(){return we.U8D},separableConv2d:function(){return we.U_I},setdiff1dAsync:function(){return we.ODp},sigmoid:function(){return we.XD2},sign:function(){return we.Xxe},signal:function(){return we.tdS},sin:function(){return we.O$l},sinh:function(){return we.R_K},slice:function(){return we.tPi},slice1d:function(){return we.jZU},slice2d:function(){return we.SmN},slice3d:function(){return we.CnO},slice4d:function(){return we.p0P},softmax:function(){return we.XAC},softplus:function(){return we.Wvh},spaceToBatchND:function(){return we.fBT},sparse:function(){return we.rVs},sparseToDense:function(){return we.ers},spectral:function(){return we.uN7},split:function(){return we.Vl2},sqrt:function(){return we._b3},square:function(){return we.h62},squaredDifference:function(){return we.$i},squeeze:function(){return we.L9e},stack:function(){return we.knu},step:function(){return we.Nbs},stridedSlice:function(){return we.NXj},string:function(){return we.Z_8},sub:function(){return we.luU},sum:function(){return we.Smz},tan:function(){return we.ORZ},tanh:function(){return we.AEp},tensor:function(){return we.XeE},tensor1d:function(){return we.RRF},tensor2d:function(){return we.odF},tensor3d:function(){return we.wOQ},tensor4d:function(){return we.yXz},tensor5d:function(){return we.Bfx},tensor6d:function(){return we.xZs},tile:function(){return we.Gg6},topk:function(){return we.hg7},transpose:function(){return we.p4s},truncatedNormal:function(){return we.Xu6},unique:function(){return we.Two},unsortedSegmentSum:function(){return we.pUJ},unstack:function(){return we.HHK},upperBound:function(){return we.GaM},variable:function(){return we.VD$},where:function(){return we.arb},whereAsync:function(){return we.itS},zeros:function(){return we.lls},zerosLike:function(){return we.P84}});var _=n(67519);(0,_.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));var S,T,C=n(74165),E=n(15861),O=n(15671),A=n(43144),I=n(70885),R=n(42982);!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(S||(S={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(T||(T={}));var N={};function P(e){return N[e]}function M(e,t,n,r,i){var a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){var o=a.inputIndexStart,s=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?o+1:a.inputIndexEnd;if("tensor"===a.type)return D(t.inputNames[a.inputIndexStart],n,r,i);if("tensors"===a.type)return t.inputNames.slice(o,s).map((function(e){return D(e,n,r,i)}));var u=D(t.inputNames.slice(o)[0],n,r,i),c=u.dataSync();return"number"===a.type?c[0]:_.util.toNestedArray(u.shape,c)}var l=t.attrParams[e];return l&&l.value}function D(e,t,n,r){var i=F(e),a=(0,I.Z)(i,2),o=a[0],s=a[1];if(null!=r){var u=r.getHashTableHandleByName(o);if(null!=u)return u}var c=n.currentContextIds.find((function(e){return!!t[L(o,e)]}));return void 0!==c?t[L(o,c)][s]:void 0}function j(e,t){var n=F(e),r=(0,I.Z)(n,3),i=r[0],a=r[1],o=r[2];return[L(i,t&&t.currentContextId),a,o]}function L(e,t){return t?"".concat(e,"-").concat(t):e}function F(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function Z(e,t,n){var r=M("pad",e,t,n);if("explicit"===r){r=M("explicitPaddings",e,t,n);for(var i=[[0,0],[0,0],[0,0],[0,0]],a=0;a<4;a++)i[a][0]=r[2*a],i[a][1]=r[2*a+1];return i}return r}function B(e){return e.kept?e:(0,_.clone)(e)}var U=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],V=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],z=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],W=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],H=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],G=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],q=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],K=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Y=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],X=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Q=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],J=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],$=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],ee=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],te=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],ne=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],re=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],ie=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ae=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],oe=function(){function e(){var t;(0,O.Z)(this,e);var n=[r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k],w=(t=[]).concat.apply(t,(0,R.Z)(n.map((function(e){return e.json}))));this.opMappers=w.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,A.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,i=[],a=[],o=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?a.push(e[n.name]):null!=n.input&&0!==n.input.length||o.push(e[n.name]),e}),{}),u=[],c=[],l={},f={};null!=n&&(l=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var d=Object.keys(s);d.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=j(e),i=(0,I.Z)(r,3),a=i[0],o=i[2],u=s[a];if(null!=u.outputs){var c=u.outputs.indexOf(o);if(-1!==c){var l="".concat(a,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(f).length?d.forEach((function(e){var t=s[e];0===t.children.length&&c.push(t)})):Object.keys(f).forEach((function(e){var t=j(e),n=(0,I.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=f[e],c.push(r))})),Object.keys(l).length>0?Object.keys(l).forEach((function(e){var t=j(e),n=(0,I.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=l[e],u.push(r))})):u=i;var p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:c,weights:a,placeholders:i,signature:n,functions:p};return o.length>0&&(h.initNodes=o),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=P(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=ue(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=ye(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=le(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=ge(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ge(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=ce(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ce(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=xe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=xe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=me(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=me(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=be(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=be(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=pe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=he(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=he(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(i=de(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:i,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var a=[],o=[];e.signature.inputArg.forEach((function(e){var t=j(e.name),n=(0,I.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:fe(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,a.push(r),i[n]=r})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var r=j(e),a=(0,I.Z)(r,3),o=a[0],s=a[2],u=i[o];if(null!=u.outputs){var c=u.outputs.indexOf(s);if(-1!==c){var l="".concat(o,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=j(s[e.name]),n=(0,I.Z)(t,2),r=n[0],a=n[1],u=i[r];null!=u&&(u.defaultOutput=a,o.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:i,inputs:a,outputs:o,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function se(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=(0,_.env)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return null!=i?se(i.s,r):n}function ce(e,t,n){var r=e[t];return r?r.b:n}function le(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof i?i:parseInt(i,10)}function fe(e){switch("string"===typeof e&&(e=S[e]),e){case S.DT_FLOAT:case S.DT_HALF:return"float32";case S.DT_INT32:case S.DT_INT64:case S.DT_INT8:case S.DT_UINT8:return"int32";case S.DT_BOOL:return"bool";case S.DT_DOUBLE:return"float32";case S.DT_STRING:return"string";default:return null}}function de(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function pe(e,t,n){var r=e[t];return r&&r.type?fe(r.type):n}function he(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return fe(e)})):n}function ve(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function me(e,t,n){var r=e[t];return r&&r.shape?ve(r.shape):n}function ge(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return i&&i.list&&i.list.s?i.list.s.map((function(e){return se(e,r)})):n}function be(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return ve(e)})):n}function xe(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var ke=function(){function e(t,n,r){var i=this;(0,O.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return i.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=i.getAttr(t),e}),{}))}return(0,A.Z)(e,[{key:"getInput",value:function(e){return D(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return D(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return le(this.node.rawAttrs,e,t);if(null!=n.s)return ue(this.node.rawAttrs,e,t);if(null!=n.b)return ce(this.node.rawAttrs,e,t);if(null!=n.shape)return me(this.node.rawAttrs,e,t);if(null!=n.type)return pe(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ge(this.node.rawAttrs,e,t);if(null!=n.list.s)return ye(this.node.rawAttrs,e,t);if(null!=n.list.shape)return be(this.node.rawAttrs,e,t);if(null!=n.list.b)return xe(this.node.rawAttrs,e,t);if(null!=n.list.type)return he(this.node.rawAttrs,e,t)}return t}}]),e}(),we=n(33567);function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){_.util.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var i=e[r],a=t[r];_.util.assert(i<0||a<0||i===a,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function Se(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function Te(e,t,n){var r=Ce(e,n),i=!Se(r);if(i&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(i&&t.forEach((function(e){r=Ce(e.shape,r)})),!Se(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Ce(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var i=e[r],a=t[r];if(i>=0&&a>=0&&i!==a)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=i>=0?i:a}return n}var Ee=function(){function e(t,n,r,i,a,o,s){(0,O.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,_.scalar)(0),(0,_.keep)(this.idTensor)}return(0,A.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),_e(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,(0,_.keep)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return(0,_.tensor)([],[0].concat(this.elementShape));var r=this.readMany(e);return _e(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),(0,_.stack)(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,_.tensor)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return _e(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),(0,_.concat)(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,R.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,_.unstack)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,i=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:t.size/r,o=[];(0,_.tidy)((function(){t=(0,_.reshape)(t,[1,r,a]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:i[s-1],0],c=[1,e[s],a];o[s]=(0,_.reshape)((0,_.slice)(t,u,c),n.elementShape)}return o}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,o)}}]),e}(),Oe=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,O.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));_e(n,e.shape,"TensorList shape mismatch: "),(0,_.keep)(e)})),this.idTensor=(0,_.scalar)(0),this.maxNumElements=i,(0,_.keep)(this.idTensor)}return(0,A.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,R.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));_e(e,this.elementShape,"TensorList shape mismatch: ");var i=Te(this.elementShape,this.tensors,e);return(0,_.tidy)((function(){var e=n.tensors.map((function(e){return(0,_.reshape)(e,i)}));return(0,_.stack)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=Te(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,_e(r.shape,e,"TensorList shape mismatch: "),(0,_.reshape)(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(_e(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,_.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));_e(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=Te(this.elementShape,this.tensors,t);return(0,_.reshape)(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));_e(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,_.keep)(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));_e(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var i=Te(this.elementShape,this.tensors,n);return 0===e.length?(0,_.tensor)([],[0].concat(i)):(0,_.tidy)((function(){var t=e.map((function(e){return(0,_.reshape)(r.tensors[e],i)}));return(0,_.stack)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));_e(this.elementShape,t,"TensorList shape mismatch: ");var r=Te(this.elementShape,this.tensors,t);return 0===this.size()?(0,_.tensor)([],[0].concat(r)):(0,_.tidy)((function(){var e=n.tensors.map((function(e){return(0,_.reshape)(e,r)}));return(0,_.concat)(e,0)}))}}]),e}();function Ae(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));_e(e.shape.slice(1),t,"TensorList shape mismatch: ");var i=(0,_.unstack)(e);return new Oe(i,t,r)}function Ie(e,t,n,r){return new Oe([],e,t,r)}function Re(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var i=Math.max.apply(Math,(0,R.Z)(t));if(null!=r&&-1!==r&&i>=r)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(r,")"));var a=new Oe([],n,e.dtype,r),o=(0,_.unstack)(e,0);return t.forEach((function(e,t){a.setItem(e,o[t])})),a}function Ne(e,t,n){var r=0,i=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var a=Ce(e.shape.slice(1),n),o=0===r?0:e.size/r,s=(0,_.tidy)((function(){var n=[];e=(0,_.reshape)(e,[1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:i[s-1],0],c=[1,t[s],o];n[s]=(0,_.reshape)((0,_.slice)(e,u,c),a)}return e.dispose(),n})),u=new Oe([],n,e.dtype,t.length),c=0;c<s.length;c++)u.setItem(c,s[c]);return u}var Pe=function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,S,T,E,O,A,I,R,N,P,j,L,F,Z,U,V,z,W,H,G,q,K,Y,X,Q,J,$,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,pe,he,ve,me,ge,ye,be,xe,ke,we,_e,Se,Te,Ce,Oe,Pe,Me,De,je,Le,Fe,Ze,Be,Ue,Ve,ze,We,He,Ge,qe,Ke,Ye,Xe,Qe,Je,$e,et,tt,nt,rt,it,at,ot,st,ut,ct,lt,ft,dt,pt,ht,vt;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?33:"Switch"===e.t0?35:"Merge"===e.t0?46:"Enter"===e.t0?51:"Exit"===e.t0?55:"NextIteration"===e.t0?58:"TensorArrayV3"===e.t0?61:"TensorArrayWriteV3"===e.t0?71:"TensorArrayReadV3"===e.t0?77:"TensorArrayGatherV3"===e.t0?81:"TensorArrayScatterV3"===e.t0?86:"TensorArrayConcatV3"===e.t0?92:"TensorArraySplitV3"===e.t0?96:"TensorArraySizeV3"===e.t0?102:"TensorArrayCloseV3"===e.t0?105:"TensorListSetItem"===e.t0?109:"TensorListGetItem"===e.t0?115:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?121:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?128:"TensorListGather"===e.t0?136:"TensorListStack"===e.t0?142:"TensorListFromTensor"===e.t0?148:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?154:"TensorListPushBack"===e.t0?159:"TensorListPopBack"===e.t0?164:"TensorListSplit"===e.t0?169:"TensorListLength"===e.t0?175:"TensorListResize"===e.t0?178:184;break;case 3:return i=M("thenBranch",t,n,r),a=M("elseBranch",t,n,r),o=M("cond",t,n,r),s=M("args",t,n,r),e.next=9,o.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[i].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return u=M("body",t,n,r),c=M("cond",t,n,r),l=M("args",t,n,r),e.next=20,r.functionMap[c].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 20:return f=e.sent,d=l.map((function(e){return e.id})),e.next=24,f[0].data();case 24:p=e.sent,f.forEach((function(e){e.kept||-1!==d.indexOf(e.id)||e.dispose()})),h=l,v=(0,C.Z)().mark((function e(){var t,n,i;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h,e.next=3,r.functionMap[u].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap);case 3:return h=e.sent,n=h.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==d.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[c].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap);case 8:return i=e.sent,e.next=11,i[0].data();case 11:p=e.sent,i.forEach((function(e){e.kept||-1!==d.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 28:if(!p[0]){e.next=32;break}return e.delegateYield(v(),"t1",30);case 30:e.next=28;break;case 32:return e.abrupt("return",h);case 33:return m=M("pred",t,n,r),e.abrupt("return",[B(m)]);case 35:return g=M("pred",t,n,r),(y=M("data",t,n,r)).kept||(y=B(y)),e.next=40,g.data();case 40:if(!e.sent[0]){e.next=44;break}e.t2=[void 0,y],e.next=45;break;case 44:e.t2=[y,void 0];case 45:return e.abrupt("return",e.t2);case 46:if(b=t.inputNames.find((function(e){return void 0!==D(e,n,r)})),!b){e.next=50;break}return x=D(b,n,r),e.abrupt("return",[B(x)]);case 50:return e.abrupt("return",void 0);case 51:return k=M("frameName",t,n,r),w=M("tensor",t,n,r),r.enterFrame(k),e.abrupt("return",[B(w)]);case 55:return S=M("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[B(S)]);case 58:return T=M("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[B(T)]);case 61:return E=M("size",t,n,r),O=M("dtype",t,n,r),A=M("elementShape",t,n,r),I=M("dynamicSize",t,n,r),R=M("clearAfterRead",t,n,r),N=M("identicalElementShapes",t,n,r),P=M("name",t,n,r),j=new Ee(P,O,E,A,N,I,R),r.addTensorArray(j),e.abrupt("return",[j.idTensor,(0,_.scalar)(1)]);case 71:return L=M("tensorArrayId",t,n,r),F=M("index",t,n,r),Z=M("tensor",t,n,r),(U=r.getTensorArray(L.id)).write(F,Z),e.abrupt("return",[U.idTensor]);case 77:return V=M("tensorArrayId",t,n,r),z=M("index",t,n,r),W=r.getTensorArray(V.id),e.abrupt("return",[W.read(z)]);case 81:return H=M("tensorArrayId",t,n,r),G=M("indices",t,n,r),q=M("dtype",t,n,r),K=r.getTensorArray(H.id),e.abrupt("return",[K.gather(G,q)]);case 86:return Y=M("tensorArrayId",t,n,r),X=M("indices",t,n,r),Q=M("tensor",t,n,r),(J=r.getTensorArray(Y.id)).scatter(X,Q),e.abrupt("return",[J.idTensor]);case 92:return $=M("tensorArrayId",t,n,r),ee=r.getTensorArray($.id),te=M("dtype",t,n,r),e.abrupt("return",[ee.concat(te)]);case 96:return ne=M("tensorArrayId",t,n,r),re=M("tensor",t,n,r),ie=M("lengths",t,n,r),(ae=r.getTensorArray(ne.id)).split(ie,re),e.abrupt("return",[ae.idTensor]);case 102:return oe=M("tensorArrayId",t,n,r),se=r.getTensorArray(oe.id),e.abrupt("return",[(0,_.scalar)(se.size(),"int32")]);case 105:return ue=M("tensorArrayId",t,n,r),(ce=r.getTensorArray(ue.id)).clearAndClose(),e.abrupt("return",[ce.idTensor]);case 109:return le=M("tensorListId",t,n,r),fe=M("index",t,n,r),de=M("tensor",t,n,r),(pe=r.getTensorList(le.id)).setItem(fe,de),e.abrupt("return",[pe.idTensor]);case 115:return he=M("tensorListId",t,n,r),ve=M("index",t,n,r),me=M("elementShape",t,n,r),ge=M("elementDType",t,n,r),ye=r.getTensorList(he.id),e.abrupt("return",[ye.getItem(ve,me,ge)]);case 121:return be=M("indices",t,n,r),xe=M("tensor",t,n,r),ke=M("elementShape",t,n,r),we=M("numElements",t,n,r),_e=Re(xe,be,ke,we),r.addTensorList(_e),e.abrupt("return",[_e.idTensor]);case 128:return Se=M("elementShape",t,n,r),Te=M("elementDType",t,n,r),Ce="TensorListReserve"===t.op?"numElements":"maxNumElements",Oe=M(Ce,t,n,r),Pe="TensorListReserve"===t.op?-1:Oe,Me=Ie(Se,Te,0,Pe),r.addTensorList(Me),e.abrupt("return",[Me.idTensor]);case 136:return De=M("tensorListId",t,n,r),je=M("indices",t,n,r),Le=M("elementShape",t,n,r),Fe=M("elementDType",t,n,r),Ze=r.getTensorList(De.id),e.abrupt("return",[Ze.gather(je,Fe,Le)]);case 142:return Be=M("tensorListId",t,n,r),Ue=M("elementShape",t,n,r),Ve=M("elementDType",t,n,r),ze=M("numElements",t,n,r),We=r.getTensorList(Be.id),e.abrupt("return",[We.stack(Ue,Ve,ze)]);case 148:return He=M("tensor",t,n,r),Ge=M("elementShape",t,n,r),qe=M("elementDType",t,n,r),Ke=Ae(He,Ge,qe),r.addTensorList(Ke),e.abrupt("return",[Ke.idTensor]);case 154:return Ye=M("tensorListId",t,n,r),Xe=r.getTensorList(Ye.id),Qe=M("dtype",t,n,r),Je=M("elementShape",t,n,r),e.abrupt("return",[Xe.concat(Qe,Je)]);case 159:return $e=M("tensorListId",t,n,r),et=M("tensor",t,n,r),(tt=r.getTensorList($e.id)).pushBack(et),e.abrupt("return",[tt.idTensor]);case 164:return nt=M("tensorListId",t,n,r),rt=M("elementShape",t,n,r),it=M("elementDType",t,n,r),at=r.getTensorList(nt.id),e.abrupt("return",[at.popBack(rt,it)]);case 169:return ot=M("tensor",t,n,r),st=M("elementShape",t,n,r),ut=M("lengths",t,n,r),ct=Ne(ot,ut,st),r.addTensorList(ct),e.abrupt("return",[ct.idTensor]);case 175:return lt=M("tensorListId",t,n,r),ft=r.getTensorList(lt.id),e.abrupt("return",[(0,_.scalar)(ft.size(),"int32")]);case 178:return dt=M("tensorListId",t,n,r),pt=M("size",t,n,r),ht=r.getTensorList(dt.id),vt=ht.resize(pt),r.addTensorList(vt),e.abrupt("return",[vt.idTensor]);case 184:throw TypeError("Node type ".concat(t.op," is not implemented"));case 185:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Me(e,t,n){var r=M("fusedOps",e,t,n),i=(0,I.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u=!s,c="prelu"===o,l="fusedbatchnorm"===a,f=M("numArgs",e,t,n);if(s){if(c&&2!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&s&&1!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var d=M("strides",e,t,n),p=Z(e,t,n),h=M("dataFormat",e,t,n).toUpperCase(),v=M("dilations",e,t,n),m=M("args",e,t,n),g=(0,I.Z)(m,2),y=g[0],b=g[1];return u&&(b=y,y=void 0),{stride:d,pad:p,dataFormat:h,dilations:v,biasArg:y,preluArg:b,activationFunc:o,leakyreluAlpha:M("leakyreluAlpha",e,t,n)}}function De(e,t,n){return{boxes:M("boxes",e,t,n),scores:M("scores",e,t,n),maxOutputSize:M("maxOutputSize",e,t,n),iouThreshold:M("iouThreshold",e,t,n),scoreThreshold:M("scoreThreshold",e,t,n),softNmsSigma:M("softNmsSigma",e,t,n)}}var je=function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,_,S,T,E,O,A,I,R,N=arguments;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=N.length>4&&void 0!==N[4]?N[4]:w,e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?4:"NonMaxSuppressionV4"===e.t0?9:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?15:"Where"===e.t0?20:"ListDiff"===e.t0?27:28;break;case 4:return o=De(t,n,r),s=o.boxes,u=o.scores,c=o.maxOutputSize,l=o.iouThreshold,f=o.scoreThreshold,d=o.softNmsSigma,e.next=7,a.image.nonMaxSuppressionWithScoreAsync(s,u,c,l,f,d);case 7:return p=e.sent,e.abrupt("return",[p.selectedIndices,p.selectedScores]);case 9:return h=De(t,n,r),v=h.boxes,m=h.scores,g=h.maxOutputSize,y=h.iouThreshold,b=h.scoreThreshold,x=M("padToMaxOutputSize",t,n,r),e.next=13,a.image.nonMaxSuppressionPaddedAsync(v,m,g,y,b,x);case 13:return k=e.sent,e.abrupt("return",[k.selectedIndices,k.validOutputs]);case 15:return _=De(t,n,r),S=_.boxes,T=_.scores,E=_.maxOutputSize,O=_.iouThreshold,A=_.scoreThreshold,e.next=18,a.image.nonMaxSuppressionAsync(S,T,E,O,A);case 18:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 20:return I=a.cast(M("condition",t,n,r),"bool"),e.next=23,a.whereAsync(I);case 23:return e.t2=e.sent,R=[e.t2],I.dispose(),e.abrupt("return",R);case 27:return e.abrupt("return",a.setdiff1dAsync(M("x",t,n,r),M("y",t,n,r)));case 28:throw TypeError("Node type ".concat(t.op," is not implemented"));case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Le=n(27067),Fe=function(){function e(t,n){(0,O.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=(0,_.scalar)(0),this.tensorMap=new Map,(0,_.keep)(this.handle)}return(0,A.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return Le.i(this.size(),"int32")}},{key:"import",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n){var r,i=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",(0,_.tidy)((function(){var e=(0,_.unstack)(n),t=r.length,a=e.length;_.util.assert(t===a,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(a," ")+"elements."}));for(var o=0;o<t;o++){var s=r[o],u=e[o];(0,_.keep)(u),i.tensorMap.set(s,u)}return i.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n){var r,i=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",(0,_.tidy)((function(){for(var e=[],t=0;t<r.length;t++){var a=r[t],o=i.findWithDefault(a,n);e.push(o)}return(0,_.stack)(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),Ze=function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,p,h,v,m,g;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return a=M("keyDType",t,n,r),o=M("valueDType",t,n,r),s=new Fe(a,o),i.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return u=M("tableHandle",t,n,r,i),c=M("keys",t,n,r),l=M("values",t,n,r),f=i.getHashTableById(u.id),e.next=14,f.import(c,l);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return d=M("tableHandle",t,n,r,i),p=M("keys",t,n,r),h=M("defaultValue",t,n,r),v=i.getHashTableById(d.id),e.next=22,v.find(p,h);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return m=M("tableHandle",t,n,r,i),g=i.getHashTableById(m.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();function Be(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_.tidy,a=function(e,t,n){switch(e.category){case"arithmetic":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(M("a",e,t,n),M("b",e,t,n))];case"AddN":return[r.addN(M("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(M("a",e,t,n),M("b",e,t,n))];case"Mul":return[r.mul(M("a",e,t,n),M("b",e,t,n))];case"RealDiv":case"Div":return[r.div(M("a",e,t,n),M("b",e,t,n))];case"DivNoNan":return[r.divNoNan(M("a",e,t,n),M("b",e,t,n))];case"FloorDiv":return[r.floorDiv(M("a",e,t,n),M("b",e,t,n))];case"Sub":return[r.sub(M("a",e,t,n),M("b",e,t,n))];case"Minimum":return[r.minimum(M("a",e,t,n),M("b",e,t,n))];case"Maximum":return[r.maximum(M("a",e,t,n),M("b",e,t,n))];case"Pow":return[r.pow(M("a",e,t,n),M("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(M("a",e,t,n),M("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(M("x",e,t,n))];case"Acos":return[r.acos(M("x",e,t,n))];case"Acosh":return[r.acosh(M("x",e,t,n))];case"Asin":return[r.asin(M("x",e,t,n))];case"Asinh":return[r.asinh(M("x",e,t,n))];case"Atan":return[r.atan(M("x",e,t,n))];case"Atan2":return[r.atan2(M("x",e,t,n),M("y",e,t,n))];case"Atanh":return[r.atanh(M("x",e,t,n))];case"Ceil":return[r.ceil(M("x",e,t,n))];case"Complex":return[r.complex(M("real",e,t,n),M("imag",e,t,n))];case"Cos":return[r.cos(M("x",e,t,n))];case"Cosh":return[r.cosh(M("x",e,t,n))];case"Elu":return[r.elu(M("x",e,t,n))];case"Erf":return[r.erf(M("x",e,t,n))];case"Exp":return[r.exp(M("x",e,t,n))];case"Expm1":return[r.expm1(M("x",e,t,n))];case"Floor":return[r.floor(M("x",e,t,n))];case"Log":return[r.log(M("x",e,t,n))];case"Log1p":return[r.log1p(M("x",e,t,n))];case"Imag":return[r.imag(M("x",e,t,n))];case"Neg":return[r.neg(M("x",e,t,n))];case"Reciprocal":return[r.reciprocal(M("x",e,t,n))];case"Real":return[r.real(M("x",e,t,n))];case"Relu":return[r.relu(M("x",e,t,n))];case"Round":return[r.round(M("x",e,t,n))];case"Selu":return[r.selu(M("x",e,t,n))];case"Sigmoid":return[r.sigmoid(M("x",e,t,n))];case"Sin":return[r.sin(M("x",e,t,n))];case"Sign":return[r.sign(M("x",e,t,n))];case"Sinh":return[r.sinh(M("x",e,t,n))];case"Softplus":return[r.softplus(M("x",e,t,n))];case"Sqrt":return[r.sqrt(M("x",e,t,n))];case"Square":return[r.square(M("x",e,t,n))];case"Tanh":return[r.tanh(M("x",e,t,n))];case"Tan":return[r.tan(M("x",e,t,n))];case"ClipByValue":return[r.clipByValue(M("x",e,t,n),M("clipValueMin",e,t,n),M("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(M("x",e,t,n))];case"Rsqrt":return[r.rsqrt(D(e.inputNames[0],t,n))];case"Prod":return[r.prod(M("x",e,t,n),M("axes",e,t,n))];case"LeakyRelu":return[r.leakyRelu(M("x",e,t,n),M("alpha",e,t,n))];case"Prelu":return[r.prelu(M("x",e,t,n),M("alpha",e,t,n))];case"IsNan":return[r.isNaN(D(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return Pe(e,t,n);case"convolution":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Conv1D":var i=M("stride",e,t,n),a=M("pad",e,t,n),o=M("dataFormat",e,t,n).toUpperCase(),s=M("dilation",e,t,n);return[r.conv1d(M("x",e,t,n),M("filter",e,t,n),i,a,o,s)];case"Conv2D":var u=M("strides",e,t,n),c=Z(e,t,n),l=M("dataFormat",e,t,n).toUpperCase(),f=M("dilations",e,t,n);return[r.conv2d(M("x",e,t,n),M("filter",e,t,n),[u[1],u[2]],c,l,[f[1],f[2]])];case"_FusedConv2D":var d=Me(e,t,n),p=d.stride,h=d.pad,v=d.dataFormat,m=d.dilations,g=d.biasArg,y=d.preluArg,b=d.activationFunc,x=d.leakyreluAlpha;return[r.fused.conv2d({x:M("x",e,t,n),filter:M("filter",e,t,n),strides:[p[1],p[2]],pad:h,dataFormat:v,dilations:[m[1],m[2]],bias:g,activation:b,preluActivationWeights:y,leakyreluAlpha:x})];case"FusedDepthwiseConv2dNative":var k=Me(e,t,n),_=k.stride,S=k.pad,T=k.dataFormat,C=k.dilations,E=k.biasArg,O=k.preluArg,A=k.activationFunc,I=k.leakyreluAlpha;return[r.fused.depthwiseConv2d({x:M("x",e,t,n),filter:M("filter",e,t,n),strides:[_[1],_[2]],pad:S,dataFormat:T,dilations:[C[1],C[2]],bias:E,activation:A,preluActivationWeights:O,leakyreluAlpha:I})];case"Conv2DBackpropInput":case"Conv2dTranspose":var R=M("outputShape",e,t,n),N=M("strides",e,t,n),P=Z(e,t,n);return[r.conv2dTranspose(M("x",e,t,n),M("filter",e,t,n),R,[N[1],N[2]],P)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var D=M("strides",e,t,n),j=Z(e,t,n),L=M("dilations",e,t,n),F=M("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(M("input",e,t,n),M("filter",e,t,n),[D[1],D[2]],j,F,[L[1],L[2]])];case"Conv3D":var B=M("strides",e,t,n),U=M("pad",e,t,n),V=M("dataFormat",e,t,n).toUpperCase(),z=M("dilations",e,t,n);return[r.conv3d(M("x",e,t,n),M("filter",e,t,n),[B[1],B[2],B[3]],U,V,[z[1],z[2],z[3]])];case"AvgPool":var W=M("strides",e,t,n),H=M("pad",e,t,n),G=M("kernelSize",e,t,n);return[r.avgPool(M("x",e,t,n),[G[1],G[2]],[W[1],W[2]],H)];case"MaxPool":var q=M("strides",e,t,n),K=M("pad",e,t,n),Y=M("kernelSize",e,t,n);return[r.maxPool(M("x",e,t,n),[Y[1],Y[2]],[q[1],q[2]],K)];case"MaxPoolWithArgmax":var X=M("strides",e,t,n),Q=M("pad",e,t,n),J=M("kernelSize",e,t,n),$=M("includeBatchInIndex",e,t,n),ee=r.maxPoolWithArgmax(M("x",e,t,n),[J[1],J[2]],[X[1],X[2]],Q,$);return[ee.result,ee.indexes];case"AvgPool3D":var te=M("strides",e,t,n),ne=M("pad",e,t,n),re=M("kernelSize",e,t,n);return[r.avgPool3d(M("x",e,t,n),[re[1],re[2],re[3]],[te[1],te[2],te[3]],ne)];case"MaxPool3D":var ie=M("strides",e,t,n),ae=M("pad",e,t,n),oe=M("kernelSize",e,t,n);return[r.maxPool3d(M("x",e,t,n),[oe[1],oe[2],oe[3]],[ie[1],ie[2],ie[3]],ae)];case"Dilation2D":var se=M("strides",e,t,n),ue=M("pad",e,t,n),ce=M("dilations",e,t,n),le=se[1],fe=se[2],de=ce[1],pe=ce[2];return[r.dilation2d(M("x",e,t,n),M("filter",e,t,n),[le,fe],ue,[de,pe],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Fill":var i=M("shape",e,t,n),a=M("dtype",e,t,n),o=M("value",e,t,n);return[r.fill(i,o,a)];case"LinSpace":var s=M("start",e,t,n),u=M("stop",e,t,n),c=M("num",e,t,n);return[r.linspace(s,u,c)];case"Multinomial":var l=M("logits",e,t,n),f=M("numSamples",e,t,n),d=M("seed",e,t,n);return[r.multinomial(l,f,d)];case"OneHot":var p=M("indices",e,t,n),h=M("depth",e,t,n),v=M("onValue",e,t,n),m=M("offValue",e,t,n),g=M("dtype",e,t,n);return[r.oneHot(p,h,v,m,g)];case"Ones":return[r.ones(M("shape",e,t,n),M("dtype",e,t,n))];case"OnesLike":return[r.onesLike(M("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(M("shape",e,t,n),M("dtype",e,t,n),M("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(M("shape",e,t,n),M("minval",e,t,n),M("maxval",e,t,n),M("dtype",e,t,n))];case"Range":var y=M("start",e,t,n),b=M("stop",e,t,n),x=M("step",e,t,n);return[r.range(y,b,x,M("dtype",e,t,n))];case"TruncatedNormal":var k=M("shape",e,t,n),_=M("mean",e,t,n),S=M("stdDev",e,t,n),T=M("seed",e,t,n);return[r.truncatedNormal(k,_,S,M("dtype",e,t,n),T)];case"Zeros":return[r.zeros(M("shape",e,t,n),M("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(M("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return je(e,t,n);case"evaluation":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"LowerBound":var i=M("sortedSequence",e,t,n),a=M("values",e,t,n);return[r.lowerBound(i,a)];case"TopKV2":var o=M("x",e,t,n),s=M("k",e,t,n),u=M("sorted",e,t,n),c=r.topk(o,s,u);return[c.values,c.indices];case"UpperBound":var l=M("sortedSequence",e,t,n),f=M("values",e,t,n);return[r.upperBound(l,f)];case"Unique":var d=M("x",e,t,n),p=r.unique(d);return[p.values,p.indices];case"UniqueV2":var h=M("x",e,t,n),v=M("axis",e,t,n),m=r.unique(h,v);return[m.values,m.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"ResizeBilinear":var i=M("images",e,t,n),a=M("size",e,t,n),o=M("alignCorners",e,t,n),s=M("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(i,[a[0],a[1]],o,s)];case"ResizeNearestNeighbor":var u=M("images",e,t,n),c=M("size",e,t,n),l=M("alignCorners",e,t,n),f=M("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(u,[c[0],c[1]],l,f)];case"CropAndResize":var d=M("image",e,t,n),p=M("boxes",e,t,n),h=M("boxInd",e,t,n),v=M("cropSize",e,t,n),m=M("method",e,t,n),g=M("extrapolationValue",e,t,n);return[r.image.cropAndResize(d,p,h,v,m,g)];case"ImageProjectiveTransformV3":var y=M("images",e,t,n),b=M("transforms",e,t,n),x=M("outputShape",e,t,n),k=M("fillValue",e,t,n),_=M("interpolation",e,t,n),S=M("fillMode",e,t,n);return[r.image.transform(y,b,_.toLowerCase(),S.toLowerCase(),k,x)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var i=M("default",e,t,n);return[D(e.name,t,n)||i];case"Placeholder":return[D(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[B(M("x",e,t,n))];case"IdentityN":return M("x",e,t,n).map((function(e){return B(e)}));case"Shape":return[r.tensor1d(M("x",e,t,n).shape,"int32")];case"ShapeN":return M("x",e,t,n).map((function(e){return r.tensor1d(e.shape)}));case"Size":return[r.scalar(M("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(M("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":var a=M("x",e,t,n),o=M("data",e,t,n),s=M("message",e,t,n),u=M("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var c=0;c<o.length;c++)console.log(Array.prototype.slice.call(o[c].dataSync()).slice(0,u));return[a];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Equal":return[r.equal(M("a",e,t,n),M("b",e,t,n))];case"NotEqual":return[r.notEqual(M("a",e,t,n),M("b",e,t,n))];case"Greater":return[r.greater(M("a",e,t,n),M("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(M("a",e,t,n),M("b",e,t,n))];case"Less":return[r.less(M("a",e,t,n),M("b",e,t,n))];case"LessEqual":return[r.lessEqual(M("a",e,t,n),M("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(M("a",e,t,n),M("b",e,t,n))];case"LogicalNot":return[r.logicalNot(M("a",e,t,n))];case"LogicalOr":return[r.logicalOr(M("a",e,t,n),M("b",e,t,n))];case"Select":case"SelectV2":return[r.where(M("condition",e,t,n),M("a",e,t,n),M("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(M("a",e,t,n),M("b",e,t,n),M("transposeA",e,t,n),M("transposeB",e,t,n))];case"Einsum":return[r.einsum.apply(r,[M("equation",e,t,n)].concat((0,R.Z)(M("tensors",e,t,n))))];case"Transpose":return[r.transpose(M("x",e,t,n),M("perm",e,t,n))];case"_FusedMatMul":var i=M("fusedOps",e,t,n),a=(0,I.Z)(i,2),o=a[0],s=a[1],u="biasadd"===o,c="prelu"===s,l=M("numArgs",e,t,n),f=M("leakyreluAlpha",e,t,n);if(u){if(c&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var d=M("args",e,t,n),p=(0,I.Z)(d,2),h=p[0],v=p[1];return[r.fused.matMul({a:M("a",e,t,n),b:M("b",e,t,n),transposeA:M("transposeA",e,t,n),transposeB:M("transposeB",e,t,n),bias:h,activation:s,preluActivationWeights:v,leakyreluAlpha:f})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(M("x",e,t,n),M("axis",e,t,n),M("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(M("x",e,t,n),M("mean",e,t,n),M("variance",e,t,n),M("offset",e,t,n),M("scale",e,t,n),M("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(M("x",e,t,n),M("radius",e,t,n),M("bias",e,t,n),M("alpha",e,t,n),M("beta",e,t,n))];case"Softmax":return[r.softmax(M("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(M("x",e,t,n))];case"SparseToDense":return[r.sparseToDense(M("sparseIndices",e,t,n),M("outputShape",e,t,n),M("sparseValues",e,t,n),M("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Max":var i=M("axis",e,t,n),a=M("keepDims",e,t,n);return[r.max(M("x",e,t,n),i,a)];case"Mean":var o=M("axis",e,t,n),s=M("keepDims",e,t,n);return[r.mean(M("x",e,t,n),o,s)];case"Min":var u=M("axis",e,t,n),c=M("keepDims",e,t,n);return[r.min(M("x",e,t,n),u,c)];case"Sum":var l=M("axis",e,t,n),f=M("keepDims",e,t,n);return[r.sum(M("x",e,t,n),l,f)];case"All":var d=M("axis",e,t,n),p=M("keepDims",e,t,n);return[r.all(M("x",e,t,n),d,p)];case"Any":var h=M("axis",e,t,n),v=M("keepDims",e,t,n);return[r.any(M("x",e,t,n),h,v)];case"ArgMax":var m=M("axis",e,t,n);return[r.argMax(M("x",e,t,n),m)];case"ArgMin":var g=M("axis",e,t,n);return[r.argMin(M("x",e,t,n),g)];case"Prod":var y=M("axis",e,t,n),b=M("keepDims",e,t,n);return[r.prod(M("x",e,t,n),y,b)];case"Cumprod":var x=M("axis",e,t,n),k=M("exclusive",e,t,n),_=M("reverse",e,t,n);return[r.cumprod(M("x",e,t,n),x,k,_)];case"Cumsum":var S=M("axis",e,t,n),T=M("exclusive",e,t,n),C=M("reverse",e,t,n);return[r.cumsum(M("x",e,t,n),S,T,C)];case"Bincount":var E=M("x",e,t,n),O=M("weights",e,t,n),A=M("size",e,t,n);return[r.bincount(E,O,A)];case"DenseBincount":var I=M("x",e,t,n),R=M("weights",e,t,n),N=M("size",e,t,n),P=M("binaryOutput",e,t,n);return[r.denseBincount(I,R,N,P)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"ConcatV2":case"Concat":var i=M("n",e,t,n),a=M("axis",e,t,n),o=M("tensors",e,t,n);return o=o.slice(0,i),[r.concat(o,a)];case"Gather":var s=M("x",e,t,n),u=M("indices",e,t,n);return[r.gather(s,r.cast(u,"int32"),0)];case"GatherV2":var c=M("axis",e,t,n),l=M("batchDims",e,t,n),f=M("x",e,t,n),d=M("indices",e,t,n);return[r.gather(f,r.cast(d,"int32"),c,l)];case"Reverse":for(var p=M("dims",e,t,n),h=[],v=0;v<p.length;v++)p[v]&&h.push(v);var m=M("x",e,t,n);return[r.reverse(m,h)];case"ReverseV2":var g=M("axis",e,t,n),y=M("x",e,t,n);return[r.reverse(y,g)];case"Slice":var b=M("begin",e,t,n),x=M("size",e,t,n);return[r.slice(M("x",e,t,n),b,x)];case"StridedSlice":var k=M("begin",e,t,n),S=M("end",e,t,n),T=M("strides",e,t,n),C=M("beginMask",e,t,n),E=M("endMask",e,t,n),O=M("ellipsisMask",e,t,n),A=M("newAxisMask",e,t,n),I=M("shrinkAxisMask",e,t,n),R=M("x",e,t,n);return[r.stridedSlice(R,k,S,T,C,E,O,A,I)];case"Pack":return(0,_.tidy)((function(){var i=M("axis",e,t,n),a=M("tensors",e,t,n),o=a[0].shape,s=r.squeeze(a[0]).shape,u=a.map((function(e){var t=_.util.arraysEqual(e.shape,o);if(!t&&!_.util.arraysEqual(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,o)}));return[r.stack(u,i)]}));case"Unpack":var N=M("axis",e,t,n),P=M("tensor",e,t,n);return r.unstack(P,N);case"Tile":var D=M("reps",e,t,n);return[r.tile(M("x",e,t,n),D)];case"Split":case"SplitV":var j=M("axis",e,t,n),L=M("numOrSizeSplits",e,t,n),F=M("x",e,t,n);return r.split(F,L,j);case"ScatterNd":var Z=M("indices",e,t,n),B=M("values",e,t,n),U=M("shape",e,t,n);return[r.scatterND(Z,B,U)];case"GatherNd":var V=M("x",e,t,n),z=M("indices",e,t,n);return[r.gatherND(V,z)];case"SparseToDense":var W=M("sparseIndices",e,t,n),H=M("outputShape",e,t,n),G=M("sparseValues",e,t,n),q=M("defaultValue",e,t,n);return[r.sparseToDense(W,G,H,G.dtype===q.dtype?q:r.cast(q,G.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"SparseFillEmptyRows":var i=r.sparse.sparseFillEmptyRows(M("indices",e,t,n),M("values",e,t,n),M("denseShape",e,t,n),M("defaultValue",e,t,n));return[i.outputIndices,i.outputValues,i.emptyRowIndicator,i.reverseIndexMap];case"SparseReshape":var a=r.sparse.sparseReshape(M("inputIndices",e,t,n),M("inputShape",e,t,n),M("newShape",e,t,n));return[a.outputIndices,a.outputShape];case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(M("data",e,t,n),M("indices",e,t,n),M("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(M("data",e,t,n),M("indices",e,t,n),M("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"FFT":return[r.fft(M("x",e,t,n))];case"IFFT":return[r.ifft(M("x",e,t,n))];case"RFFT":return[r.rfft(M("x",e,t,n))];case"IRFFT":return[r.irfft(M("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"StringNGrams":var i=r.string.stringNGrams(M("data",e,t,n),M("dataSplits",e,t,n),M("separator",e,t,n),M("nGramWidths",e,t,n),M("leftPad",e,t,n),M("rightPad",e,t,n),M("padWidth",e,t,n),M("preserveShortSequences",e,t,n));return[i.nGrams,i.nGramsSplits];case"StringSplit":var a=r.string.stringSplit(M("input",e,t,n),M("delimiter",e,t,n),M("skipEmpty",e,t,n));return[a.indices,a.values,a.shape];case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(M("input",e,t,n),M("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return i((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;switch(e.op){case"Cast":return[r.cast(M("x",e,t,n),M("dtype",e,t,n))];case"ExpandDims":var i=M("axis",e,t,n);return[r.expandDims(M("x",e,t,n),i)];case"Squeeze":var a=M("axis",e,t,n);return[r.squeeze(M("x",e,t,n),a)];case"Reshape":return[r.reshape(M("x",e,t,n),M("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(M("x",e,t,n),M("padding",e,t,n),M("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(M("x",e,t,n),M("padding",e,t,n),M("constantValue",e,t,n))];case"SpaceToBatchND":var o=M("blockShape",e,t,n),s=M("paddings",e,t,n);return[r.spaceToBatchND(M("x",e,t,n),o,s)];case"BatchToSpaceND":var u=M("blockShape",e,t,n),c=M("crops",e,t,n);return[r.batchToSpaceND(M("x",e,t,n),u,c)];case"DepthToSpace":var l=M("blockSize",e,t,n),f=M("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(M("x",e,t,n),l,f)];case"BroadcastTo":return[r.broadcastTo(M("x",e,t,n),M("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(M("s0",e,t,n),M("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return Ze(e,t,n,r);case"custom":var a=P(e.op);if(a&&a.customExecutor)return a.customExecutor(new ke(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return _.util.isPromise(a)?a.then((function(e){return[].concat(e)})):[].concat(a)}var Ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,O.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,A.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function Ve(e,t,n,r){var i=new Set,a=[],o=null,s=null,u=new Set,c=Object.keys(e).map((function(e){return F(e)[0]})),l=[];null!=r&&(l=r.map((function(e){return F(e.name)[0]})));for(var f=(0,R.Z)(t);f.length>0;){var d=f.pop();(Ge(d)||qe(d)||Ke(d))&&null==o&&(s=(o=d).children.map((function(e){return e.name})).filter((function(e){return i.has(e)}))),i.add(d.name),null==n[d.name]&&(-1===c.indexOf(d.name)&&-1===l.indexOf(d.name)&&(0!==d.inputs.length?d.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),f.push(e))})):a.push(d.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:a,dynamicNode:o,syncInputs:s}}var ze=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],We=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],He=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Ge(e){return ze.indexOf(e.op)>=0}function qe(e){return We.indexOf(e.op)>=0}function Ke(e){return He.indexOf(e.op)>=0}var Ye=function(){function e(t,n){var r=this;(0,O.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,A.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,R.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=Ve(e,t,this.weightMap,this._initNodes),r=n.missingInputs,i=n.dynamicNode,a=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '".concat(i.name,"', which has ")+"the dynamic op '".concat(i.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(a,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,i=n.inputs,a=[],o=Object.keys(i).map((function(e){return F(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&a.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&a.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&a.push(e)}));for(var u=new Set,c=[];a.length>0;){var l=a.pop();u.add(l.name),t[l.name]||c.push(l),l.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&a.push(e)}))}return c}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var i=r.map((function(e){return n.graph.nodes[F(e)[0]]})),a=t.map((function(e){return F(e)[0]})),o=a.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);var s=this.getCompilationKey(i,o),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,o),this.compiledMap.set(s,u));var c={},l={};return(0,_.tidy)((function(){var r=new Ue(n.weightMap,c,l,n.functionExecutorMap),i=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=F(t),r=(0,I.Z)(n,2),a=r[0],o=[];o[r[1]]=e[t],i[a]=o}));for(var o=n.getFrozenTensorIds(i),s={},f=0;f<u.length;f++){var d=u[f];if(!i[d.name]){var p=Be(d,i,r,n._resourceManager);if(_.util.isPromise(p))throw new Error("The execution of the op '".concat(d.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");i[d.name]=p,n.checkTensorForDisposal(d.name,d,i,r,o,a,s)}}return null==n.parent&&r.dispose(o),t.map((function(e){return D(e,i,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,i,a,o){var s=this;"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var a=function(e,t,n){return t[L(e,n.currentContextId)]}(e.name,n,r);null!=a&&a.forEach((function(e){if(e&&!e.kept&&!i.has(e.id)){var n=o[e.id];if(1===n){if(s.keepTensorForDebug){var a=j(t.name,r),u=(0,I.Z)(a,2),c=u[0],l=u[1];s.intermediateTensors[c]||(s.intermediateTensors[c]=[]),s.intermediateTensors[c][l]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n){return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l=this,f=arguments;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=f.length>3&&void 0!==f[3]?f[3]:{},a=f.length>4&&void 0!==f[4]?f[4]:{},(r=f.length>2&&void 0!==f[2]&&f[2])||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=(0,_.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){console.warn(d.message)}return this.resetIntermediateTensors(),o=new Ue(this.weightMap,i,a,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,o,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return D(e,l.tensorsMap,o)})),u=s.map((function(e){return e.id})),c=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,R.Z)(u),(0,R.Z)(c),(0,R.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n,r){var i,a=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.reduce((function(e,t,n){return e[a.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(i,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w=this;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.keys(t),o=a.map((function(e){return w.graph.nodes[F(e)[0]]})),s=r.map((function(e){return F(e)[0]})),0===(u=s.map((function(e){return w.graph.nodes[e]}))).length&&(u=this._outputs),c=Ve(t,u,this.weightMap,this._initNodes),l=c.usedNodes,f=c.missingInputs,d=c.dynamicNode,p=c.syncInputs,h=[].concat((0,R.Z)(o),(0,R.Z)(this.graph.weights),(0,R.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),v=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=F(e),r=(0,I.Z)(n,2),i=r[0],a=[];a[r[1]]=t[e],v[i]=a})),m={},g=this.getFrozenTensorIds(v),y={};case 12:if(!(h.length>0)){e.next=18;break}return b=this.processStack(o,h,n,v,y,g,s,m,l),e.next=16,Promise.all(b);case 16:e.next=12;break;case 18:if(null!=d||i||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((x=u.filter((function(e){return!Ge(e)&&!D(e.name,v,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw k="",null!=d&&(k="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(x,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(f,"]. ").concat(k));case 24:return e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,i,a,o,s,u){for(var c=this,l=[],f=function(){var e=t.pop();n.currentContext=e.contexts;var f="";if("Enter"===e.node.op&&M("isConstant",e.node,r,n)){var d=j(e.node.name,n),p=(0,I.Z)(d,1);f=p[0]}if(null==r[e.node.name]){var h=Be(e.node,r,n,c._resourceManager);if(!f){var v=j(e.node.name,n),m=(0,I.Z)(v,1);f=m[0]}var g=n.currentContext;_.util.isPromise(h)?l.push(h.then((function(l){return r[f]=l,n.currentContext=g,c.checkTensorForDisposal(f,e.node,r,n,a,o,s),c.processChildNodes(e.node,t,n,r,i,u),l}))):(r[f]=h,c.checkTensorForDisposal(f,e.node,r,n,a,o,s),c.processChildNodes(e.node,t,n,r,i,u))}else c.processChildNodes(e.node,t,n,r,i,u)};t.length>0;)f();return l}},{key:"processChildNodes",value:function(e,t,n,r,i,a){e.children.forEach((function(e){var o=j(e.name,n),s=(0,I.Z)(o,1)[0];!i[s]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!D(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!D(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=F(n),a=(0,I.Z)(i,1)[0],o=t.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));_.util.assert(u,(function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}o.attrParams.dtype&&o.attrParams.dtype.value&&_.util.assert(r.dtype===o.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=F(e),r=(0,I.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=F(e),r=(0,I.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),Xe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,O.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,A.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),Qe="?tfjs-format=file",Je="model.json",$e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.io;(0,O.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new Xe}return(0,A.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"modelStructuredOutputKeys",get:function(){return this.structuredOutputKeys}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return _.util.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t=this.artifacts.modelTopology,n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){var r=this.artifacts.userDefinedMetadata;null!=r.signature&&(n=r.signature),null!=r.structuredOutputKeys&&(this.structuredOutputKeys=r.structuredOutputKeys)}this.signature=n,this.version="".concat(t.versions.producer,".").concat(t.versions.minConsumer);var i=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Ye(oe.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(i),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var a=oe.Instance.transformGraph(e.modelInitializer);this.initializer=new Ye(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n){var r;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=this.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){var n=this,r=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){var i=r instanceof _.Tensor?[r]:r,a={};return i.forEach((function(e,t){return a[n.structuredOutputKeys[t]]=e})),a}return r}},{key:"normalizeInputs",value:function(e){if(!(e instanceof _.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,E.Z)((0,C.Z)().mark((function e(t,n){var r;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function et(e){return tt.apply(this,arguments)}function tt(){return tt=(0,E.Z)((0,C.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2&&void 0!==a[2]?a[2]:_.io,null!=t){e.next=4;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 4:return null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=nt(t)),i=new $e(t,n,r),e.next=9,i.load();case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}function nt(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat(Je).concat(Qe)}var rt=function(e,t){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function it(e,t){function n(){this.constructor=e}rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ot(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function st(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function ut(e){var t=e.shape[2],n=(0,_.argMax)(e,2),r=(0,_.reshape)(n,[-1]);return(0,_.oneHot)(r,t)}function ct(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.greater)(e,(0,_.scalar)(t)),"int32")}))}function lt(e,t){var n=t.shape,r=n[0],i=n[1],a=n[2];return(0,_.tidy)((function(){var n=ut(t),o=(0,_.expandDims)((0,_.range)(0,a,1,"int32"),1),s=(0,_.cast)((0,_.matMul)(n,o),"int32"),u=(0,_.reshape)(s,[r,i]),c=(0,_.add)(u,(0,_.scalar)(1,"int32"));return(0,_.sub)(function(e,t){return(0,_.mul)(e,t)}(c,e),(0,_.scalar)(1,"int32"))}))}function ft(e){var t=e.shape,n=t[0],r=t[1],i=t[2];return(0,_.tidy)((function(){var t=ut(e),a=(0,_.expandDims)((0,_.range)(0,i,1,"int32"),1),o=(0,_.cast)((0,_.matMul)(t,a),"int32");return(0,_.reshape)(o,[n,r])}))}var dt=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;_.util.assert(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}))}return e.prototype.predict=function(e){var t=this;return(0,_.tidy)((function(){var n=t.preprocessInput((0,_.cast)(e,"float32")),r=(0,_.expandDims)(n,0),i=t.model.predict(r).map((function(e){return(0,_.squeeze)(e,[0])})),a=t.nameOutputResults(i);return{heatmapScores:(0,_.sigmoid)(a.heatmap),offsets:a.offsets,displacementFwd:a.displacementFwd,displacementBwd:a.displacementBwd,segmentation:a.segmentation,partHeatmaps:a.partHeatmaps,longOffsets:a.longOffsets,partOffsets:a.partOffsets}}))},e.prototype.dispose=function(){this.model.dispose()},e}(),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return it(t,e),t.prototype.preprocessInput=function(e){return(0,_.tidy)((function(){return(0,_.sub)((0,_.div)(e,127.5),1)}))},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(dt),ht=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],vt=ht.length,mt=ht.reduce((function(e,t,n){return e[t]=n,e}),{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=e[0],n=e[1];return[mt[t],mt[n]]}));function gt(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1],s=n.top,u=n.bottom;return[o/(n.left+n.right+i),a/(s+u+r)]}function yt(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+vt)}}function bt(e,t,n){var r=yt(e.heatmapY,e.heatmapX,e.id,n),i=r.y,a=r.x;return{x:e.heatmapX*t+a,y:e.heatmapY*t+i}}function xt(e,t,n){return e<t?t:e>n?n:e}function kt(e,t){return{x:e.x+t.x,y:e.y+t.y}}function wt(e,t,n){void 0===n&&(n=.3);for(var r=0,i=0,a=0;a<e.length;a++)t.keypoints[a].score>n&&(i+=1,r+=Math.pow(e[a].x-t.keypoints[a].position.x,2)+Math.pow(e[a].y-t.keypoints[a].position.y,2));return 0===i?r=1/0:r/=i,r}function _t(e,t,n,r,i,a,o){for(var s=o[0],u=o[1],c=n(e),l=c.y*r+c.x,f=i[vt*(2*l)+t],d=i[vt*(2*l+1)+t],p=e.y+f,h=e.x+d,v=0;v<a;v++){p=Math.min(p,s-1);var m=n({x:h=Math.min(h,u-1),y:p}),g=m.y*r+m.x;p+=f=i[vt*(2*g)+t],h+=d=i[vt*(2*g+1)+t]}return{x:h,y:p}}function St(e,t,n,r,i,a,o,s,u,c){for(var l=i[0],f=i[1],d=a[0],p=a[1],h=s[0],v=s[1],m=[],g=function(e){return function(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],u=Math.round(((i+e.y+1)*s-1)/r);return{x:Math.round(((a+e.x+1)*o-1)/r),y:u}}(e,[l,f],[d,p],u)},y=0;y<r;y++){var b=_t(e,y,g,o,t,c,[h,v]);m.push(b)}for(var x=-1,k=1/0,w=0;w<n.length;w++){var _=wt(m,n[w]);_<k&&(x=w,k=_)}return x}function Tt(e,t){var n=e[0],r=e[1];return[Math.round((r-1)/t+1),Math.round((n-1)/t+1)]}function Ct(e,t,n,r,i,a,o,s,u,c,l){for(var f=o[0],d=o[1],p=e.shape,h=p[0],v=p[1],m=t.shape.slice(0,2),g=m[0],y=m[1],b=(0,_.reshape)(t,[g,y,2,vt]),x=new Float32Array(l*vt*3).fill(0),k=0;k<n.length;k++)for(var w=k*vt*3,S=n[k],T=0;T<vt;T++){var C=S.keypoints[T],E=w+3*T;x[E]=C.score,x[E+1]=C.position.y,x[E+2]=C.position.x}var O=gt([r,i],[f,d],s),A=O[0],I=O[1],R=(0,_.tensor)(x,[l,vt,3]),N=s.top,P=s.left,M={variableNames:["segmentation","longOffsets","poses"],outputShape:[h,v],userCode:"\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n    }\n\n    float convertToPositionInOutputFloat(\n        int pos, int pad, float scale, int stride) {\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n    }\n\n    float dist(float x1, float y1, float x2, float y2) {\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n    }\n\n    float sampleLongOffsets(float h, float w, int d, int k) {\n      float fh = fract(h);\n      float fw = fract(w);\n      int clH = int(ceil(h));\n      int clW = int(ceil(w));\n      int flH = int(floor(h));\n      int flW = int(floor(w));\n      float o11 = getLongOffsets(flH, flW, d, k);\n      float o12 = getLongOffsets(flH, clW, d, k);\n      float o21 = getLongOffsets(clH, flW, d, k);\n      float o22 = getLongOffsets(clH, clW, d, k);\n      float o1 = mix(o11, o12, fw);\n      float o2 = mix(o21, o22, fw);\n      return mix(o1, o2, fh);\n    }\n\n    int findNearestPose(int h, int w) {\n      float prob = getSegmentation(h, w);\n      if (prob < 1.0) {\n        return -1;\n      }\n\n      // Done(Tyler): convert from output space h/w to strided space.\n      float stridedH = convertToPositionInOutputFloat(\n        h, "+N+", "+I+", "+a+");\n      float stridedW = convertToPositionInOutputFloat(\n        w, "+P+", "+A+", "+a+");\n\n      float minDist = 1000000.0;\n      int iMin = -1;\n      for (int i = 0; i < "+l+"; i++) {\n        float curDistSum = 0.0;\n        int numKpt = 0;\n        for (int k = 0; k < "+vt+"; k++) {\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n          float y = float(h) + dy;\n          float x = float(w) + dx;\n\n          for (int s = 0; s < "+u+"; s++) {\n            int yRounded = round(min(y, float("+(r-1)+")));\n            int xRounded = round(min(x, float("+(i-1)+")));\n\n            float yStrided = convertToPositionInOutputFloat(\n              yRounded, "+N+", "+I+", "+a+");\n            float xStrided = convertToPositionInOutputFloat(\n              xRounded, "+P+", "+A+", "+a+");\n\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n            y = y + dy;\n            x = x + dx;\n          }\n\n          float poseScore = getPoses(i, k, 0);\n          float poseY = getPoses(i, k, 1);\n          float poseX = getPoses(i, k, 2);\n          if (poseScore > "+c+") {\n            numKpt = numKpt + 1;\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\n          }\n        }\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\n          minDist = curDistSum / float(numKpt);\n          iMin = i;\n        }\n      }\n      return iMin;\n    }\n\n    void main() {\n        ivec2 coords = getOutputCoords();\n        int nearestPose = findNearestPose(coords[0], coords[1]);\n        setOutput(float(nearestPose));\n      }\n  "};return(0,_.backend)().compileAndRun(M,[e,b,R])}function Et(){return"webgl"===(0,_.getBackend)()}function Ot(e,t,n,r,i,a,o,s,u,c,l,f){var d=o[0],p=o[1];return void 0===u&&(u=.2),void 0===c&&(c=8),void 0===l&&(l=.3),void 0===f&&(f=10),ot(this,void 0,void 0,(function(){var o,h,v,m,g;return st(this,(function(y){switch(y.label){case 0:return o=n.filter((function(e){return e.score>=u})),Et()?(v=(0,_.tidy)((function(){var n=Ct(e,t,o,r,i,a,[d,p],s,c,l,f),u=(0,_.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return o.map((function(e,t){return function(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.equal)(e,(0,_.scalar)(t)),"int32")}))}(u,t)}))})),[4,Promise.all(v.map((function(e){return e.data()})))]):[3,2];case 1:return h=y.sent(),v.forEach((function(e){return e.dispose()})),[3,5];case 2:return[4,e.data()];case 3:return m=y.sent(),[4,t.data()];case 4:g=y.sent(),h=function(e,t,n,r,i,a,o,s,u,c){var l=o[0],f=o[1];void 0===c&&(c=5);for(var d=n.map((function(e){return new Uint8Array(r*i).fill(0)})),p=s.top,h=s.left,v=gt([r,i],[l,f],s),m=v[0],g=v[1],y=Tt([l,f],a)[0],b=0;b<r;b+=1)for(var x=0;x<i;x+=1){var k=b*i+x;if(1===e[k]){var w=St({x:x,y:b},t,n,c,[p,h],[m,g],y,[r,i],a,u);w>=0&&(d[w][k]=1)}}return d}(m,g,o,r,i,a,[d,p],s,c),y.label=5;case 5:return[2,h.map((function(e,t){return{data:e,pose:o[t],width:i,height:r}}))]}}))}))}function At(e,t,n,r,i,a,o,s,u,c,l,f,d){var p=s[0],h=s[1];return void 0===c&&(c=.2),void 0===l&&(l=8),void 0===f&&(f=.3),void 0===d&&(d=10),ot(this,void 0,void 0,(function(){var s,v,m,g,y,b;return st(this,(function(x){switch(x.label){case 0:return s=r.filter((function(e){return e.score>=c})),Et()?(m=(0,_.tidy)((function(){var r=Ct(e,t,s,i,a,o,[p,h],u,l,f,d),c=(0,_.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return s.map((function(e,t){return function(e,t,n){return(0,_.tidy)((function(){return(0,_.sub)((0,_.mul)((0,_.cast)((0,_.equal)(e,(0,_.scalar)(n)),"int32"),(0,_.add)(t,1)),1)}))}(c,n,t)}))})),[4,Promise.all(m.map((function(e){return e.data()})))]):[3,2];case 1:return v=x.sent(),m.forEach((function(e){return e.dispose()})),[3,6];case 2:return[4,e.data()];case 3:return g=x.sent(),[4,t.data()];case 4:return y=x.sent(),[4,n.data()];case 5:b=x.sent(),v=function(e,t,n,r,i,a,o,s,u,c,l){var f=s[0],d=s[1];void 0===l&&(l=5);for(var p=r.map((function(e){return new Int32Array(i*a).fill(-1)})),h=u.top,v=u.left,m=gt([i,a],[f,d],u),g=m[0],y=m[1],b=Tt([f,d],o)[0],x=0;x<i;x+=1)for(var k=0;k<a;k+=1){var w=x*a+k;if(1===e[w]){var _=St({x:k,y:x},t,r,l,[h,v],[g,y],b,[i,a],o,c);_>=0&&(p[_][w]=n[w])}}return p}(g,y,b,s,i,a,o,[p,h],u,l),x.label=6;case 6:return[2,v.map((function(e,t){return{pose:s[t],data:e,height:i,width:a}}))]}}))}))}function It(e){return Math.floor(e/2)}var Rt=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(It(e),e);)this.exchange(e,It(e)),e=It(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function Nt(e,t,n,r,i,a){for(var o=a.shape,s=o[0],u=o[1],c=!0,l=Math.max(n-i,0),f=Math.min(n+i+1,s),d=l;d<f;++d){for(var p=Math.max(r-i,0),h=Math.min(r+i+1,u),v=p;v<h;++v)if(a.get(d,v,e)>t){c=!1;break}if(!c)break}return c}var Pt=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map((function(e){var t=e[0],n=e[1];return[mt[t],mt[n]]})),Mt=Pt.map((function(e){return e[1]})),Dt=Pt.map((function(e){return e[0]}));function jt(e,t,n,r){return{y:xt(Math.round(e.y/t),0,n-1),x:xt(Math.round(e.x/t),0,r-1)}}function Lt(e,t,n,r,i,a,o,s){void 0===s&&(s=2);for(var u=r.shape,c=u[0],l=u[1],f=function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,jt(t.position,a,c,l),o),d=kt(t.position,f),p=0;p<s;p++){var h=jt(d,a,c,l),v=yt(h.y,h.x,n,i);d=kt({x:h.x*a,y:h.y*a},{x:v.x,y:v.y})}var m=jt(d,a,c,l),g=r.get(m.y,m.x,n);return{position:d,part:ht[n],score:g}}function Ft(e,t,n,r,i,a){var o=t.shape[2],s=Mt.length,u=new Array(o),c=e.part,l=e.score,f=bt(c,r,n);u[c.id]={score:l,part:ht[c.id],position:f};for(var d=s-1;d>=0;--d){var p=Mt[d],h=Dt[d];u[p]&&!u[h]&&(u[h]=Lt(d,u[p],h,t,n,r,a))}for(d=0;d<s;++d)p=Dt[d],h=Mt[d],u[p]&&!u[h]&&(u[h]=Lt(d,u[p],h,t,n,r,i));return u}function Zt(e,t,n,r){var i=n.x,a=n.y;return e.some((function(e){var n=e.keypoints[r].position;return function(e,t,n,r){var i=n-e,a=r-t;return i*i+a*a}(a,i,n.y,n.x)<=t}))}function Bt(e,t,n){return n.reduce((function(n,r,i){var a=r.position,o=r.score;return Zt(e,t,a,i)||(n+=o),n}),0)/n.length}function Ut(e,t,n,r,i,a,o,s){void 0===o&&(o=.5),void 0===s&&(s=20);for(var u=[],c=function(e,t,n){for(var r=n.shape,i=r[0],a=r[1],o=r[2],s=new Rt(i*a*o,(function(e){return e.score})),u=0;u<i;++u)for(var c=0;c<a;++c)for(var l=0;l<o;++l){var f=n.get(u,c,l);f<e||Nt(l,f,u,c,t,n)&&s.enqueue({score:f,part:{heatmapY:u,heatmapX:c,id:l}})}return s}(o,1,e),l=s*s;u.length<a&&!c.empty();){var f=c.dequeue();if(!Zt(u,l,bt(f.part,i,t),f.part.id)){var d=Ft(f,e,t,i,n,r),p=Bt(u,l,d);u.push({keypoints:d,score:p})}}return u}var Vt,zt=[-123.15,-115.9,-103.06],Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return it(t,e),t.prototype.preprocessInput=function(e){return(0,_.add)(e,zt)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5];return{offsets:a,segmentation:e[6],partHeatmaps:o,longOffsets:i,heatmap:r,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(dt),Ht="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",Gt="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function qt(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(e);if(e instanceof _.Tensor)return[e.shape[0],e.shape[1]];throw new Error("error: Unknown input type: "+e+".")}function Kt(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var Yt={low:"low",medium:"medium",high:"high",full:"full"},Xt=((Vt={})[Yt.low]=.25,Vt[Yt.medium]=.5,Vt[Yt.high]=.75,Vt[Yt.full]=1,Vt),Qt=.1,Jt=2;function $t(e,t,n){var r=n[0],i=n[1],a=function(e){if("string"==typeof e){var t=Xt[e];return _.util.assert("number"==typeof t,(function(){return"string value of inputResolution must be one of "+Object.values(Yt).join(",")+" but was "+e+"."})),t}return _.util.assert("number"==typeof e&&e<=Jt&&e>=Qt,(function(){return"inputResolution must be a string or number between "+Qt+" and "+Jt+", but was "+e})),e}(e);return[Kt(r*a,t),Kt(i*a,t)]}function en(e,t,n){var r=t[0],i=t[1];void 0===n&&(n=!1);var a,o,s,u,c,l,f=e.shape,d=f[0],p=f[1]/d;if(p>i/r){a=i;var h=r-(o=Math.ceil(a/p));s=0,u=0,c=Math.floor(h/2),l=r-(o+c)}else{o=r;var v=i-(a=Math.ceil(r*p));s=Math.floor(v/2),u=i-(a+s),c=0,l=0}return{resizedAndPadded:(0,_.tidy)((function(){var t;return t=n?_.image.resizeBilinear((0,_.reverse)(e,1),[o,a]):_.image.resizeBilinear(e,[o,a]),(0,_.pad3d)(t,[[c,l],[s,u],[0,0]])})),paddedBy:[[c,l],[s,u]]}}function tn(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1],c=r[0],l=c[0],f=c[1],d=r[1],p=d[0],h=d[1];return void 0===i&&(i=!1),(0,_.tidy)((function(){var t=_.image.resizeBilinear(e,[s,u],!0);return i&&(t=(0,_.sigmoid)(t)),function(e,t,n){var r=t[0],i=t[1],a=n[0],o=a[0],s=a[1],u=n[1],c=u[0],l=u[1];return(0,_.tidy)((function(){var t=(0,_.expandDims)(e);return(0,_.squeeze)(_.image.cropAndResize(t,[[o/(r+o+s-1),c/(i+c+l-1),(o+r-1)/(r+o+s-1),(c+i-1)/(i+c+l-1)]],[0],[r,i]),[0])}))}(t,[a,o],[[l,f],[p,h]])}))}function nn(e,t){var n=t[0],r=t[1],i=qt(e),a=i[0],o=i[1],s=r/n,u=[0,0,0,0],c=u[0],l=u[1],f=u[2],d=u[3];return o/a<s?(c=0,l=0,f=Math.round(.5*(s*a-o)),d=Math.round(.5*(s*a-o))):(c=Math.round(.5*(1/s*o-a)),l=Math.round(.5*(1/s*o-a)),f=0,d=0),{resized:(0,_.tidy)((function(){var t=function(e){return e instanceof _.Tensor?e:_.browser.fromPixels(e)}(e);return t=(0,_.pad3d)(t,[[c,l],[f,d],[0,0]]),_.image.resizeBilinear(t,[n,r])})),padding:{top:c,left:f,right:d,bottom:l}}}function rn(e){return ot(this,void 0,void 0,(function(){return st(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function an(e,t){return{score:e.score,keypoints:e.keypoints.map((function(e){var n=e.score,r=e.part,i=e.position;return{score:n,part:r,position:{x:t-1-i.x,y:i.y}}}))}}function on(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1],c=function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),1===n&&1===t&&0===r&&0===i?e:e.map((function(e){return function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),{score:e.score,keypoints:e.keypoints.map((function(e){var a=e.score,o=e.part,s=e.position;return{score:a,part:o,position:{x:s.x*n+i,y:s.y*t+r}}}))}}(e,t,n,r,i)}))}(e,(a+r.top+r.bottom)/s,(o+r.left+r.right)/u,-r.top,-r.left);return i?function(e,t){return t<=0?e:e.map((function(e){return an(e,t)}))}(c,o):c}var sn=!0,un=!1,cn={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},ln=["MobileNetV1","ResNet50"],fn={MobileNetV1:[8,16,32],ResNet50:[32,16]},dn={MobileNetV1:[.5,.75,1],ResNet50:[1]},pn=[1,2,4];var hn={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},vn={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function mn(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function gn(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius,a=e.minKeypointScore,o=e.refineSteps;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(a<0||a>1)throw new Error("Invalid minKeypointScore "+a+".Should be in range [0.0, 1.0]");if(o<=0||o>20)throw new Error("Invalid refineSteps "+o+".Should be in range [1, 20]")}var yn=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=qt(e),a=i[0],o=i[1],s=$t(t,this.baseModel.outputStride,[a,o]),u=nn(e,s),c=u.resized,l=u.padding,f=(0,_.tidy)((function(){var e=r.predictForPersonSegmentation(c),t=e.segmentLogits,i=e.heatmapScores,s=e.offsets,u=e.displacementFwd,f=e.displacementBwd,d=c.shape,p=d[0],h=d[1],v=tn(t,[a,o],[p,h],[[l.top,l.bottom],[l.left,l.right]],sn);return{segmentation:ct((0,_.squeeze)(v),n),heatmapScores:i,offsets:s,displacementFwd:u,displacementBwd:f}})),d=f.segmentation,p=f.heatmapScores,h=f.offsets,v=f.displacementFwd,m=f.displacementBwd;return c.dispose(),{segmentation:d,heatmapScores:p,offsets:h,displacementFwd:v,displacementBwd:m,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=hn),ot(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b;return st(this,(function(x){switch(x.label){case 0:return mn(t=at(at({},hn),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),r=n.segmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,u=n.padding,c=n.internalResolutionHeightAndWidth,l=r.shape,f=l[0],d=l[1],[4,r.data()];case 1:return p=x.sent(),r.dispose(),[4,rn([i,a,o,s])];case 2:return h=x.sent(),v=h[0],m=h[1],g=h[2],y=h[3],b=on(b=Ut(v,m,g,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,d],c,u,un),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:f,width:d,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=vn),ot(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,S=this;return st(this,(function(T){switch(T.label){case 0:return gn(t=at(at({},vn),t)),n=qt(e),r=n[0],i=n[1],a=$t(t.internalResolution,this.baseModel.outputStride,[r,i]),o=nn(e,a),s=o.resized,u=o.padding,c=(0,_.tidy)((function(){var e,n=S.predictForMultiPersonInstanceSegmentationAndPart(s),o=n.segmentLogits,c=n.longOffsets,l=n.heatmapScores,f=n.offsets,d=n.displacementFwd,p=n.displacementBwd,h=tn(o,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],sn);return e=c,{segmentation:ct((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:l,offsetsRaw:f,displacementFwdRaw:d,displacementBwdRaw:p}})),l=c.segmentation,f=c.longOffsets,d=c.heatmapScoresRaw,p=c.offsetsRaw,h=c.displacementFwdRaw,v=c.displacementBwdRaw,[4,rn([d,p,h,v])];case 1:return m=T.sent(),g=m[0],y=m[1],b=m[2],x=m[3],k=on(k=Ut(g,y,b,x,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,u,un),[4,Ot(l,f,k,r,i,this.baseModel.outputStride,a,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return w=T.sent(),s.dispose(),l.dispose(),f.dispose(),d.dispose(),p.dispose(),h.dispose(),v.dispose(),[2,w]}}))}))},e.prototype.segmentPersonPartsActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=qt(e),a=i[0],o=i[1],s=$t(t,this.baseModel.outputStride,[a,o]),u=nn(e,s),c=u.resized,l=u.padding,f=(0,_.tidy)((function(){var e=r.predictForPersonSegmentationAndPart(c),t=e.segmentLogits,i=e.partHeatmapLogits,s=e.heatmapScores,u=e.offsets,f=e.displacementFwd,d=e.displacementBwd,p=c.shape,h=p[0],v=p[1],m=tn(t,[a,o],[h,v],[[l.top,l.bottom],[l.left,l.right]],sn),g=tn(i,[a,o],[h,v],[[l.top,l.bottom],[l.left,l.right]],sn);return{partSegmentation:lt(ct((0,_.squeeze)(m),n),g),heatmapScores:s,offsets:u,displacementFwd:f,displacementBwd:d}})),d=f.partSegmentation,p=f.heatmapScores,h=f.offsets,v=f.displacementFwd,m=f.displacementBwd;return c.dispose(),{partSegmentation:d,heatmapScores:p,offsets:h,displacementFwd:v,displacementBwd:m,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=hn),ot(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b;return st(this,(function(x){switch(x.label){case 0:return mn(t=at(at({},hn),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),r=n.partSegmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,u=n.padding,c=n.internalResolutionHeightAndWidth,l=r.shape,f=l[0],d=l[1],[4,r.data()];case 1:return p=x.sent(),r.dispose(),[4,rn([i,a,o,s])];case 2:return h=x.sent(),v=h[0],m=h[1],g=h[2],y=h[3],b=on(b=Ut(v,m,g,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,d],c,u,un),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:f,width:d,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=vn),ot(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,S,T=this;return st(this,(function(C){switch(C.label){case 0:return gn(t=at(at({},vn),t)),n=qt(e),r=n[0],i=n[1],a=$t(t.internalResolution,this.baseModel.outputStride,[r,i]),o=nn(e,a),s=o.resized,u=o.padding,c=(0,_.tidy)((function(){var e=T.predictForMultiPersonInstanceSegmentationAndPart(s),n=e.segmentLogits,o=e.longOffsets,c=e.heatmapScores,l=e.offsets,f=e.displacementFwd,d=e.displacementBwd,p=e.partHeatmaps,h=tn(n,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],sn),v=tn(p,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],sn),m=o;return{segmentation:ct((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:m,heatmapScoresRaw:c,offsetsRaw:l,displacementFwdRaw:f,displacementBwdRaw:d,partSegmentation:ft(v)}})),l=c.segmentation,f=c.longOffsets,d=c.heatmapScoresRaw,p=c.offsetsRaw,h=c.displacementFwdRaw,v=c.displacementBwdRaw,m=c.partSegmentation,[4,rn([d,p,h,v])];case 1:return g=C.sent(),y=g[0],b=g[1],x=g[2],k=g[3],w=on(w=Ut(y,b,x,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,u,un),[4,At(l,f,m,w,r,i,this.baseModel.outputStride,a,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return S=C.sent(),s.dispose(),l.dispose(),f.dispose(),d.dispose(),p.dispose(),h.dispose(),v.dispose(),m.dispose(),[2,S]}}))}))},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function bn(e){return ot(this,void 0,void 0,(function(){var t,n,r,i,a,o;return st(this,(function(s){switch(s.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return i=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},i="model-stride"+e+".json";return 4===n?Gt+"float/"+r[t]+"/"+i:Gt+"quant"+n+"/"+r[t]+"/"+i}(t,r,n),[4,et(e.modelUrl||i)];case 1:return a=s.sent(),o=new pt(a,t),[2,new yn(o)]}}))}))}function xn(e){return ot(this,void 0,void 0,(function(){var t,n,r,i,a;return st(this,(function(o){switch(o.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return r=function(e,t){var n="model-stride"+e+".json";return 4===t?Ht+"float/"+n:Ht+"quant"+t+"/"+n}(t,n),[4,et(e.modelUrl||r)];case 1:return i=o.sent(),a=new Wt(i,t),[2,new yn(a)]}}))}))}function kn(e){return void 0===e&&(e=cn),ot(this,void 0,void 0,(function(){return st(this,(function(t){return"ResNet50"===(e=function(e){if(null==(e=e||cn).architecture&&(e.architecture="MobileNetV1"),ln.indexOf(e.architecture)<0)throw new Error("Invalid architecture "+e.architecture+". Should be one of "+ln);if(null==e.outputStride&&(e.outputStride=16),fn[e.architecture].indexOf(e.outputStride)<0)throw new Error("Invalid outputStride "+e.outputStride+". Should be one of "+fn[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),dn[e.architecture].indexOf(e.multiplier)<0)throw new Error("Invalid multiplier "+e.multiplier+". Should be one of "+dn[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),pn.indexOf(e.quantBytes)<0)throw new Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+pn+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,xn(e)]:"MobileNetV1"===e.architecture?[2,bn(e)]:[2,null]}))}))}var wn={};function _n(e,t,n,r){var i=e.width,a=e.height,o=t.width,s=t.height;if(i!==o||a!==s)throw new Error("error: dimensions must match. "+n+" has dimensions "+i+"x"+a+", "+r+" has dimensions "+o+"x"+s)}function Sn(e){var t=e.getContext("2d");t.scale(-1,1),t.translate(-e.width,0)}function Tn(e,t,n){e.globalCompositeOperation=n,e.drawImage(t,0,0)}function Cn(e){return wn[e]||(wn[e]=function(){if("undefined"!=typeof document)return document.createElement("canvas");if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw new Error("Cannot create a canvas in this context")}()),wn[e]}function En(e,t,n){var r=e.height,i=e.width,a=n.getContext("2d");n.width=i,n.height=r,a.clearRect(0,0,i,r),a.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?function(e,t,n){for(var r=e.getContext("2d"),i=0,a=1/(2*Math.PI*5*5),o=n<3?1:2,s=-n;s<=n;s+=o)for(var u=-n;u<=n;u+=o)i+=a*Math.exp(-(u*u+s*s)/50);for(s=-n;s<=n;s+=o)for(u=-n;u<=n;u+=o)r.globalAlpha=a*Math.exp(-(u*u+s*s)/50)/i*n,r.drawImage(t,u,s);r.globalAlpha=1}(n,e,t):(a.filter="blur("+t+"px)",a.drawImage(e,0,0,i,r)),a.restore()}function On(e,t,n){var r=Cn(n);return 0===t?function(e,t){var n=e.width,r=e.height;t.width=n,t.height=r,t.getContext("2d").drawImage(e,0,0,n,r)}(e,r):En(e,t,r),r}function An(e,t){var n=Cn(t);return function(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0)}(e,n),n}function In(e,t,n,r,i){if(void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===n&&(n={r:0,g:0,b:0,a:255}),void 0===r&&(r=!1),void 0===i&&(i=[1]),Array.isArray(e)&&0===e.length)return null;var a,o=(a=Array.isArray(e)?e:[e])[0],s=o.width,u=o.height,c=new Uint8ClampedArray(s*u*4);function l(e,t,n,r,i,a){void 0===a&&(a={r:0,g:255,b:255,a:255});for(var o=-i;o<=i;o++)for(var s=-i;s<=i;s++)if(0!==o&&0!==s){var u=(t+o)*r+(n+s);e[4*u+0]=a.r,e[4*u+1]=a.g,e[4*u+2]=a.b,e[4*u+3]=a.a}}function f(e,t,n,r,i,a){void 0===i&&(i=[1]),void 0===a&&(a=1);for(var o=0,s=-a;s<=a;s++)for(var u=function(a){if(0!==s&&0!==a){var u=(t+s)*r+(n+a);i.some((function(t){return t===e[u]}))||(o+=1)}},c=-a;c<=a;c++)u(c);return o>0}for(var d=0;d<u;d+=1)for(var p=function(e){var o=d*s+e;c[4*o+0]=n.r,c[4*o+1]=n.g,c[4*o+2]=n.b,c[4*o+3]=n.a;for(var p=function(n){if(i.some((function(e){return e===a[n].data[o]}))){c[4*o]=t.r,c[4*o+1]=t.g,c[4*o+2]=t.b,c[4*o+3]=t.a;var p=f(a[n].data,d,e,s,i);r&&d-1>=0&&d+1<u&&e-1>=0&&e+1<s&&p&&l(c,d,e,s,1)}},h=0;h<a.length;h++)p(h)},h=0;h<s;h+=1)p(h);return new ImageData(c,s,u)}var Rn=[[110,64,170],[143,61,178],[178,60,178],[210,62,167],[238,67,149],[255,78,125],[255,94,99],[255,115,75],[255,140,56],[239,167,47],[217,194,49],[194,219,64],[175,240,91],[135,245,87],[96,247,96],[64,243,115],[40,234,141],[28,219,169],[26,199,194],[33,176,213],[47,150,224],[65,125,224],[84,101,214],[99,81,195]];function Nn(e,t){if(void 0===t&&(t=Rn),Array.isArray(e)&&0===e.length)return null;for(var n,r=(n=Array.isArray(e)?e:[e])[0],i=r.width,a=r.height,o=new Uint8ClampedArray(i*a*4),s=0;s<a*i;++s){var u=4*s;o[u+0]=255,o[u+1]=255,o[u+2]=255,o[u+3]=255;for(var c=0;c<n.length;c++){var l=n[c].data[s];if(-1!==l){var f=t[l];if(!f)throw new Error("No color could be found for part id "+l);o[u+0]=f[0],o[u+1]=f[1],o[u+2]=f[2],o[u+3]=255}}}return new ImageData(o,i,a)}var Pn={blurred:"blurred",blurredMask:"blurred-mask",mask:"mask",lowresPartMask:"lowres-part-mask"};function Mn(e,t,n,r,i,a){void 0===r&&(r=.7),void 0===i&&(i=0),void 0===a&&(a=!1);var o=qt(t),s=o[0],u=o[1];e.width=u,e.height=s;var c=e.getContext("2d");if(c.save(),a&&Sn(e),c.drawImage(t,0,0),c.globalAlpha=r,n){_n({width:u,height:s},n,"image","mask");var l=On(An(n,Pn.mask),i,Pn.blurredMask);c.drawImage(l,0,0,u,s)}c.restore()}function Dn(e,t,n,r,i,a,o){void 0===r&&(r=.7),void 0===i&&(i=0),void 0===a&&(a=!1),void 0===o&&(o=10);var s=qt(t),u=s[0];_n({width:s[1],height:u},n,"image","mask");var c=On(An(n,Pn.mask),i,Pn.blurredMask);e.width=c.width,e.height=c.height;var l=e.getContext("2d");l.save(),a&&Sn(e);var f=Cn(Pn.lowresPartMask),d=f.getContext("2d");f.width=c.width*(1/o),f.height=c.height*(1/o),d.drawImage(c,0,0,c.width,c.height,0,0,f.width,f.height),l.imageSmoothingEnabled=!1,l.drawImage(f,0,0,f.width,f.height,0,0,e.width,e.height);for(var p=0;p<f.width;p++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(o*p,0),l.lineTo(o*p,e.height),l.stroke();for(p=0;p<f.height;p++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(0,o*p),l.lineTo(e.width,o*p),l.stroke();l.globalAlpha=1-r,l.drawImage(t,0,0,c.width,c.height),l.restore()}function jn(e,t,n,r,i,a){void 0===r&&(r=3),void 0===i&&(i=3),void 0===a&&(a=!1);var o=On(t,r,Pn.blurred);e.width=o.width,e.height=o.height;var s=e.getContext("2d");if(Array.isArray(n)&&0===n.length)s.drawImage(o,0,0);else{var u=function(e,t){var n=An(In(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}),Pn.mask);return 0===t?n:On(n,t,Pn.blurredMask)}(n,i);s.save(),a&&Sn(e);var c=qt(t),l=c[0],f=c[1];s.drawImage(t,0,0,f,l),Tn(s,u,"destination-in"),Tn(s,o,"destination-over"),s.restore()}}function Ln(e,t,n,r,i,a,o){void 0===r&&(r=[0,1]),void 0===i&&(i=3),void 0===a&&(a=3),void 0===o&&(o=!1);var s=On(t,i,Pn.blurred);e.width=s.width,e.height=s.height;var u=e.getContext("2d");if(Array.isArray(n)&&0===n.length)u.drawImage(s,0,0);else{var c=function(e,t,n){var r=An(In(e,{r:0,g:0,b:0,a:0},{r:0,g:0,b:0,a:255},!0,t),Pn.mask);return 0===n?r:On(r,n,Pn.blurredMask)}(n,r,a);u.save(),o&&Sn(e);var l=qt(t),f=l[0],d=l[1];u.drawImage(t,0,0,d,f),Tn(u,c,"destination-in"),Tn(u,s,"destination-over"),u.restore()}}var Fn=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],Zn="2.2.0"},23193:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(67519);function i(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}},47135:function(e,t,n){"use strict";n.r(t),n.d(t,{MathBackendCPU:function(){return m},shared:function(){return r},version_cpu:function(){return pe}});var r={};n.r(r),n.d(r,{addImpl:function(){return y.EH},bincountImpl:function(){return b.W},bincountReduceImpl:function(){return b.i},castImpl:function(){return x.sJ},ceilImpl:function(){return k.__},concatImpl:function(){return w.j},equalImpl:function(){return _.tW},expImpl:function(){return S.Ro},expm1Impl:function(){return T.OF},floorImpl:function(){return C.r6},gatherNdImpl:function(){return E.m},gatherV2Impl:function(){return O.i},greaterEqualImpl:function(){return I.HL},greaterImpl:function(){return A.o},lessEqualImpl:function(){return N.lx},lessImpl:function(){return R.rO},linSpaceImpl:function(){return P.b},logImpl:function(){return M.vX},maxImpl:function(){return D.B},maximumImpl:function(){return j.wS},minimumImpl:function(){return L.vP},multiplyImpl:function(){return F.$3},negImpl:function(){return Z.uC},notEqualImpl:function(){return B.Gj},prodImpl:function(){return U.Qg},raggedGatherImpl:function(){return V.c},raggedTensorToTensorImpl:function(){return z.p},rangeImpl:function(){return W.b},rsqrtImpl:function(){return H.zd},scatterImpl:function(){return G.N},sigmoidImpl:function(){return q.VY},simpleAbsImpl:function(){return g.bk},sliceImpl:function(){return K.rT},sparseFillEmptyRowsImpl:function(){return Y.c},sparseReshapeImpl:function(){return X.U},sparseSegmentReductionImpl:function(){return Q.V},sqrtImpl:function(){return J.zT},squaredDifferenceImpl:function(){return te},stridedSliceImpl:function(){return ie.t},stringNGramsImpl:function(){return ae.A},stringSplitImpl:function(){return oe.Q},stringToHashBucketFastImpl:function(){return se.h},subImpl:function(){return ue.VY},tileImpl:function(){return ce.R},topKImpl:function(){return le.W},transposeImpl:function(){return fe.H},uniqueImpl:function(){return de.S}});var i=n(67519),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(97326),l=n(11752),f=n(61120),d=n(60136),p=n(29388),h=n(23193),v=i.kernel_impls.whereImpl,m=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new i.DataStorage((0,c.Z)(e),(0,i.engine)()),e}return(0,u.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,(0,i.env)().get("IS_NODE")&&i.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){var a=n.map((function(e){return i.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){this.data.set(e,{values:t,dtype:r,refCount:i})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return i.backend_util.mergeRealAndImagArrays(a,o)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return i.util.decodeString(e)}));return(0,i.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return(0,i.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e).complexTensorInfos;null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.util.now(),t(),r=i.util.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,h.H)([e],"where");var t=this.readSync(e.dataId);return v(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,l.Z)((0,f.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(i.KernelBackend);m.nextDataId=0;var g=n(96220),y=n(25589),b=n(73737),x=n(60570),k=n(94351),w=n(46563),_=n(68116),S=n(66880),T=n(21354),C=n(97224),E=n(34351),O=n(82666),A=n(69075),I=n(26985),R=n(39813),N=n(18734),P=n(21491),M=n(68298),D=n(4771),j=n(89518),L=n(38094),F=n(18244),Z=n(54569),B=n(21566),U=n(89120),V=n(82376),z=n(76846),W=n(66284),H=n(78105),G=n(28567),q=n(294),K=n(22126),Y=n(78337),X=n(63634),Q=n(35440),J=n(4165),$=n(69341),ee=n(69501),te=(0,$.b)((function(e,t){var n=e-t;return n*n})),ne=(0,ee.j)(i.SquaredDifference,te),re={kernelName:i.SquaredDifference,backendName:"cpu",kernelFunc:ne},ie=n(47497),ae=n(18294),oe=n(60998),se=n(71489),ue=n(51802),ce=n(57129),le=n(79516),fe=n(31103),de=n(24242),pe="3.21.0";(0,i.registerBackend)("cpu",(function(){return new m}),1);var he=n(91844),ve=(0,he.A)(i.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),me={kernelName:i.Elu,backendName:"cpu",kernelFunc:ve},ge=n(59090);function ye(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha;(0,h.H)([a],"leakyRelu");for(var s=i.util.sizeFromShape(a.shape),u=n.data.get(a.dataId).values,c=i.util.getTypedArrayFromDType("float32",s),l=0;l<u.length;l++)c[l]=u[l]<0?o*u[l]:u[l];return n.makeTensorInfo(a.shape,"float32",c)}var be={kernelName:i.LeakyRelu,backendName:"cpu",kernelFunc:ye},xe=n(70885),ke=(0,$.b)((function(e,t){return e<0?t*e:e}));function we(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha;(0,h.H)([r,i],"prelu");var a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=ke(r.shape,i.shape,a,o,"float32"),u=(0,xe.Z)(s,2),c=u[0],l=u[1];return n.makeTensorInfo(l,"float32",c)}var _e={kernelName:i.Prelu,backendName:"cpu",kernelFunc:we},Se=(0,he.A)(i.Relu,(function(e){return Math.max(0,e)})),Te={kernelName:i.Relu,backendName:"cpu",kernelFunc:Se},Ce=(0,he.A)(i.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),Ee={kernelName:i.Relu6,backendName:"cpu",kernelFunc:Ce};function Oe(e,t,n,r,i){if("linear"===n)return(0,ge.y)({inputs:{x:t},backend:e});if("relu"===n)return Se({inputs:{x:t},backend:e});if("elu"===n)return ve({inputs:{x:t},backend:e});if("relu6"===n)return Ce({inputs:{x:t},backend:e});if("prelu"===n)return we({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return ye({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return(0,q.XD)({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function Ae(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,s=i.util.sizeFromShape(a.shape),u=i.util.inferFromImplicitShape(o,s),c=i.util.sizeFromShape(u);i.util.assert(s===c,(function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var f=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;f.shape=u,d.shape=u}return{dataId:a.dataId,shape:u,dtype:a.dtype}}var Ie={kernelName:i.Reshape,backendName:"cpu",kernelFunc:Ae};function Re(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,s=r.transposeA,u=r.transposeB;(0,h.H)([a,o],"matMul");var c=a.shape.length,l=o.shape.length,f=s?a.shape[c-2]:a.shape[c-1],d=u?o.shape[l-1]:o.shape[l-2],p=s?a.shape[c-1]:a.shape[c-2],v=u?o.shape[l-2]:o.shape[l-1],m=a.shape.slice(0,-2),g=o.shape.slice(0,-2),y=i.util.sizeFromShape(m),b=i.util.sizeFromShape(g),x=i.broadcast_util.assertAndGetBroadcastShape(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,v]);i.util.assert(f===d,(function(){return"Error in matMul: inner shapes (".concat(f,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(u," must match.")}));for(var k=u?[b,v,d]:[b,d,v],w=Ae({inputs:{x:a},backend:n,attrs:{shape:s?[y,f,p]:[y,p,f]}}),_=Ae({inputs:{x:o},backend:n,attrs:{shape:k}}),S=s?w.shape[1]:w.shape[2],T=s?w.shape[2]:w.shape[1],C=u?_.shape[1]:_.shape[2],E=Math.max(y,b),O=n.data.get(w.dataId).values,A=n.data.get(_.dataId).values,I=i.util.computeStrides(w.shape),R=i.util.computeStrides(_.shape),N=s?[I[0],1,I[1]]:[I[0],I[1],1],P=(0,xe.Z)(N,3),M=P[0],D=P[1],j=P[2],L=u?[1,R[1],R[0]]:[R[1],1,R[0]],F=(0,xe.Z)(L,3),Z=F[0],B=F[1],U=F[2],V=T*C,z=(0,i.buffer)([E,T,C],w.dtype),W=z.values,H=n.blockSize,G=0;G<E;G++)for(var q=0;q<T;q+=H)for(var K=0;K<C;K+=H)for(var Y=0;Y<S;Y+=H)for(var X=Math.min(q+H,T),Q=Math.min(K+H,C),J=Math.min(Y+H,S),$=q;$<X;$++)for(var ee=K;ee<Q;ee++){for(var te=0,ne=Y;ne<J;ne++){var re=Math.min(G,y-1)*M,ie=Math.min(G,b-1)*U;te+=O[re+$*D+ne*j]*A[ne*Z+ee*B+ie]}W[G*V+($*C+ee)]+=te}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(_),n.makeTensorInfo(x,z.dtype,z.values)}var Ne={kernelName:i.BatchMatMul,backendName:"cpu",kernelFunc:Re};var Pe={kernelName:i._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,i=e.inputs,a=e.backend,o=e.attrs,s=i.a,u=i.b,c=i.bias,l=i.preluActivationWeights,f=o.transposeA,d=o.transposeB,p=o.activation,h=o.leakyreluAlpha,v=[];t=Re({inputs:{a:s,b:u},attrs:{transposeA:f,transposeB:d},backend:a}),c&&(n=(0,y.IH)({inputs:{a:t,b:c},backend:a}),v.push(t),t=n),p&&(r=Oe(a,t,p,l,h),v.push(t),t=r);for(var m=0,g=v;m<g.length;m++){var b=g[m];a.disposeIntermediateTensorInfo(b)}return t}},Me=(0,he.A)(i.Acos,(function(e){return Math.acos(e)})),De={kernelName:i.Acos,backendName:"cpu",kernelFunc:Me},je=(0,he.A)(i.Acosh,(function(e){return Math.acosh(e)})),Le={kernelName:i.Acosh,backendName:"cpu",kernelFunc:je};var Fe={kernelName:i.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;(0,h.H)(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),o=(0,i.buffer)(r[0].shape,r[0].dtype),s=o.values,u=0;u<r.length;u++)for(var c=a[u],l=0;l<s.length;l++)s[l]+=c[l];return n.makeTensorInfo(o.shape,o.dtype,o.values)}},Ze=n(65257);var Be={kernelName:i.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"all");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),f=a;null!=l&&(f=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("all",c,f.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(f.shape,c),p=(0,xe.Z)(d,2),v=p[0],m=p[1],g=i.util.sizeFromShape(m),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(v),f.dtype),b=n.data.get(f.dataId).values,x=0;x<y.length;++x){for(var k=x*g,w=b[k],_=0;_<g;++_){var S=b[k+_];w=w&&S}y[x]=w}null!=l&&n.disposeIntermediateTensorInfo(f);var T=n.makeTensorInfo(v,f.dtype,y);if(s){var C=Ae({inputs:{x:T},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(v,u)}});return n.disposeIntermediateTensorInfo(T),C}return T}};var Ue={kernelName:i.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"any");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),f=a;null!=l&&(f=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("any",c,f.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(f.shape,c),p=(0,xe.Z)(d,2),v=p[0],m=p[1],g=i.util.sizeFromShape(m),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(v),f.dtype),b=n.data.get(f.dataId).values,x=0;x<y.length;++x){for(var k=x*g,w=b[k],_=0;_<g;++_){var S=b[k+_];w=w||S}y[x]=w}null!=l&&n.disposeIntermediateTensorInfo(f);var T=n.makeTensorInfo(v,f.dtype,y);if(s){var C=Ae({inputs:{x:T},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(v,u)}});return n.disposeIntermediateTensorInfo(T),C}return T}};var Ve={kernelName:i.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;(0,h.H)(a,"argMax");var s=i.util.parseAxisParam(o,a.shape),u=i.backend_util.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.backend_util.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],i.backend_util.assertAxesAreInnerMostDims("argMax",s,c.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(c.shape,s),d=(0,xe.Z)(f,2),p=d[0],v=d[1],m=i.util.sizeFromShape(p),g=i.util.makeZerosTypedArray(m,"int32"),y=i.util.sizeFromShape(v),b=n.data.get(c.dataId).values,x=0;x<g.length;++x){for(var k=x*y,w=b[k],_=0,S=0;S<y;++S){var T=b[k+S];T>w&&(w=T,_=S)}g[x]=_}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}};var ze={kernelName:i.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;(0,h.H)(a,"argMin");var s=i.util.parseAxisParam(o,a.shape),u=i.backend_util.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.backend_util.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],i.backend_util.assertAxesAreInnerMostDims("argMin",s,c.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(c.shape,s),d=(0,xe.Z)(f,2),p=d[0],v=d[1],m=i.util.sizeFromShape(p),g=i.util.makeZerosTypedArray(m,"int32"),y=i.util.sizeFromShape(v),b=n.data.get(c.dataId).values,x=0;x<g.length;++x){for(var k=x*y,w=b[k],_=0,S=0;S<y;++S){var T=b[k+S];T<w&&(w=T,_=S)}g[x]=_}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}},We=(0,he.A)(i.Asin,(function(e){return Math.asin(e)})),He={kernelName:i.Asin,backendName:"cpu",kernelFunc:We},Ge=(0,he.A)(i.Asinh,(function(e){return Math.asinh(e)})),qe={kernelName:i.Asinh,backendName:"cpu",kernelFunc:Ge},Ke=(0,he.A)(i.Atan,(function(e){return Math.atan(e)})),Ye={kernelName:i.Atan,backendName:"cpu",kernelFunc:Ke},Xe=(0,$.b)((function(e,t){return Math.atan2(e,t)})),Qe=(0,ee.j)(i.Atan2,Xe),Je={kernelName:i.Atan2,backendName:"cpu",kernelFunc:Qe},$e=(0,he.A)(i.Atanh,(function(e){return Math.atanh(e)})),et={kernelName:i.Atanh,backendName:"cpu",kernelFunc:$e};function tt(e,t,n,r,a,o){for(var s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,f=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,v="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=(0,i.buffer)(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],x=a.outShape[3],k=0;k<a.batchSize;++k)for(var w=k*y,_=k*r[0],S=0;S<a.inChannels;++S)for(var T=0;T<a.outHeight;++T)for(var C=T*s-p,E=Math.max(0,C),O=Math.min(a.inHeight,f+C),A=w+T*b,I=0;I<a.outWidth;++I){for(var R=I*u-h,N=Math.max(0,R),P=Math.min(a.inWidth,d+R),M=v,D=0,j=0,L=E;L<O;L+=c){for(var F=_+L*r[1],Z=N;Z<P;Z+=l){var B=e[F+Z*r[2]+S];"max"===o&&B>M?M=B:"avg"===o&&(D+=B,j++)}if(isNaN(M))break}g[A+I*x+S]="avg"===o?D/j:M}return m}function nt(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=(0,i.buffer)(r.outShape,"int32"),u=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,f=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,v=r.padInfo.left,m=(0,i.buffer)(t,n,e),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outHeight;++b){for(var x=b*u-h,k=x;k<0;)k+=l;for(var w=Math.min(r.inHeight,d+x),_=0;_<r.outWidth;++_){for(var S=_*c-v,T=S;T<0;)T+=f;for(var C=Math.min(r.inWidth,p+S),E=Number.NEGATIVE_INFINITY,O=-1,A=k;A<w;A+=l)for(var I=A-x,R=T;R<C;R+=f){var N=R-S,P=m.get(g,A,R,y);P>E&&(E=P,O=a?o?((g*r.inHeight+A)*r.inWidth+R)*r.inChannels+y:(A*r.inWidth+R)*r.inChannels+y:I*p+N)}s.set(O,g,b,_,y)}}return s}function rt(e,t,n,r,a,o){for(var s=a.strideDepth,u=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,f=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,v=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=(0,i.buffer)(a.outShape,n),k=x.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],_=a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[3]*a.outShape[4],T=a.outShape[4],C=0;C<a.batchSize;++C)for(var E=C*w,O=C*r[0],A=0;A<a.inChannels;++A)for(var I=0;I<a.outDepth;++I){for(var R=I*s-m,N=R;N<0;)N+=l;for(var P=Math.min(a.inDepth,p+R),M=E+I*_,D=0;D<a.outHeight;++D){for(var j=D*u-g,L=j;L<0;)L+=f;for(var F=Math.min(a.inHeight,h+j),Z=M+D*S,B=0;B<a.outWidth;++B){for(var U=B*c-y,V=U;V<0;)V+=d;for(var z=Math.min(a.inWidth,v+U),W=Z+B*T,H=b,G=0,q=0,K=N;K<P;K+=l){for(var Y=O+K*r[1],X=L;X<F;X+=f){for(var Q=Y+X*r[2],J=V;J<z;J+=d){var $=e[Q+J*r[3]+A];if("max"===o&&$>H?H=$:"avg"===o&&(G+=$,q++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}k[W+A]="avg"===o?G/q:H}}}return x}var it={kernelName:i.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;(0,h.H)(a,"avgPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,f=i.backend_util.computePool2DInfo(a.shape,o,s,1,u,c);if(1===f.filterWidth&&1===f.filterHeight&&i.util.arraysEqual(f.inShape,f.outShape))l=(0,ge.y)({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,p=i.util.computeStrides(a.shape),v=tt(d,a.shape,a.dtype,p,f,"avg");l=n.makeTensorInfo(f.outShape,a.dtype,v.values)}return l}};var at={kernelName:i.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;(0,h.H)(a,"avgPool3d");var f=i.backend_util.computePool3DInfo(a.shape,o,s,1,u,c,l),d=rt(n.data.get(a.dataId).values,a.shape,a.dtype,i.util.computeStrides(a.shape),f,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var ot={kernelName:i.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;(0,h.H)([a,o],"avgPool3DGrad");for(var f=i.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),d=f.strideDepth,p=f.strideHeight,v=f.strideWidth,m=f.filterDepth,g=f.filterHeight,y=f.filterWidth,b=f.dilationDepth,x=f.dilationHeight,k=f.dilationWidth,w=f.effectiveFilterDepth,_=f.effectiveFilterHeight,S=f.effectiveFilterWidth,T=w-1-f.padInfo.front,C=S-1-f.padInfo.left,E=_-1-f.padInfo.top,O=(0,i.buffer)(o.shape,"float32"),A=1/(m*g*y),I=n.bufferSync(a),R=0;R<f.batchSize;++R)for(var N=0;N<f.inChannels;++N)for(var P=0;P<f.inDepth;++P)for(var M=0;M<f.inHeight;++M)for(var D=0;D<f.inWidth;++D){for(var j=P-T,L=M-E,F=D-C,Z=0,B=0;B<w;B+=b){var U=(j+B)/d;if(!(U<0||U>=f.outDepth||Math.floor(U)!==U))for(var V=0;V<_;V+=x){var z=(L+V)/p;if(!(z<0||z>=f.outHeight||Math.floor(z)!==z))for(var W=0;W<S;W+=k){var H=(F+W)/v;if(!(H<0||H>=f.outWidth||Math.floor(H)!==H))Z+=I.get(R,U,z,H,N)}}}O.set(Z*A,R,P,M,D,N)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}};var st={kernelName:i.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;(0,h.H)([a,o],"avgPoolGrad");for(var u=r.filterSize,c=r.strides,l=r.pad,f=i.backend_util.computePool2DInfo(s.shape,u,c,1,l),d=f.strideHeight,p=f.strideWidth,v=f.filterHeight,m=f.filterWidth,g=f.dilationHeight,y=f.dilationWidth,b=f.effectiveFilterHeight,x=f.effectiveFilterWidth,k=x-1-f.padInfo.left,w=b-1-f.padInfo.top,_=(0,i.buffer)(s.shape,"float32"),S=1/(v*m),T=n.data.get(a.dataId).values,C=(0,i.buffer)(a.shape,"float32",T),E=0;E<f.batchSize;++E)for(var O=0;O<f.inChannels;++O)for(var A=0;A<f.inHeight;++A)for(var I=0;I<f.inWidth;++I){for(var R=A-w,N=I-k,P=0,M=0;M<b;M+=g){var D=(R+M)/d;if(!(D<0||D>=f.outHeight||Math.floor(D)!==D))for(var j=0;j<x;j+=y){var L=(N+j)/p;if(!(L<0||L>=f.outWidth||Math.floor(L)!==L))P+=C.get(E,D,L,O)}}_.set(P*S,E,A,I,O)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var ut={kernelName:i.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.scale,s=t.offset,u=t.mean,c=t.variance;i.util.assert(u.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),i.util.assert(null==s||u.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),i.util.assert(null==o||u.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),(0,h.H)([a,u,c,o,s],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var f=n.data.get(a.dataId).values,d=n.data.get(u.dataId).values,p=n.data.get(c.dataId).values,v=o?n.data.get(o.dataId).values:new Float32Array([1]),m=s?n.data.get(s.dataId).values:new Float32Array([0]),g=new Float32Array(f.length),y=m.length,b=v.length,x=p.length,k=d.length,w=0,_=0,S=0,T=0,C=0;C<f.length;++C)g[C]=m[w++]+(f[C]-d[_++])*v[S++]/Math.sqrt(p[T++]+l),w>=y&&(w=0),_>=k&&(_=0),S>=b&&(S=0),T>=x&&(T=0);return n.makeTensorInfo(a.shape,a.dtype,g)}};var ct={kernelName:i.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.crops;(0,h.H)([a],"batchToSpaceND");var u=o.reduce((function(e,t){return e*t})),c=i.backend_util.getReshaped(a.shape,o,u),l=i.backend_util.getPermuted(c.length,o.length),f=i.backend_util.getReshapedPermuted(a.shape,o,u),d=i.backend_util.getSliceBeginCoords(s,o.length),p=i.backend_util.getSliceSize(f,s,o.length),v=Ae({inputs:{x:a},backend:n,attrs:{shape:c}}),m=(0,Ze.p)({inputs:{x:v},backend:n,attrs:{perm:l}}),g=Ae({inputs:{x:m},backend:n,attrs:{shape:f}}),y=(0,K.tP)({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),y}};var lt={kernelName:i.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,b.W)(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};var ft={kernelName:i.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=i.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},dt=(0,he.A)(i.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),pt={kernelName:i.ClipByValue,backendName:"cpu",kernelFunc:dt},ht=n(36545),vt={kernelName:i.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(i.util.sizeFromShape(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values,l=0;l<u.length;l++){var f=u[l],d=c[l];r[l]=Math.hypot(f,d)}return n.makeOutput(r,t.shape,"float32")}};function mt(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.imag,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}var gt={kernelName:i.Imag,backendName:"cpu",kernelFunc:mt},yt=n(36241);function bt(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=i.util.parseAxisParam(r,t[0].shape)[0],o=t.map((function(e){return e.shape}));i.backend_util.assertParamsConsistent(o,a);var s=i.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===i.util.sizeFromShape(s))return n.makeTensorInfo(s,t[0].dtype,[]);var u=t.filter((function(e){return i.util.sizeFromShape(e.shape)>0}));if(1===u.length)return(0,ge.y)({inputs:{x:u[0]},backend:n});if("complex64"===u[0].dtype){var c=u.map((function(e){return(0,yt.k)({inputs:{input:e},backend:n})})),l=u.map((function(e){return mt({inputs:{input:e},backend:n})})),f=bt({inputs:c,backend:n,attrs:{axis:a}}),d=bt({inputs:l,backend:n,attrs:{axis:a}}),p=(0,ht.P)({inputs:{real:f,imag:d},backend:n});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),p}var h=u.map((function(e){var t=i.util.sizeFromShape(e.shape.slice(a));return Ae({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),v=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));s=i.backend_util.computeOutShape(h.map((function(e){return e.shape})),1);var m=1===h[0].shape[0],g=(0,w.j)(v,s,t[0].dtype,m),y=i.backend_util.computeOutShape(u.map((function(e){return e.shape})),a),b=n.makeTensorInfo(y,t[0].dtype,g);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}var xt={kernelName:i.Concat,backendName:"cpu",kernelFunc:bt};function kt(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dilations,f=r.dimRoundingMode;(0,h.H)([a,o],"conv2d");for(var d=i.backend_util.convertConv2DDataFormat(c),p=i.backend_util.computeConv2DInfo(a.shape,o.shape,s,l,u,f,!1,d),v=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,y=p.dilationWidth,b=p.padInfo.left,x=p.padInfo.top,k="channelsLast"===p.dataFormat,w=new i.TensorBuffer(p.outShape,a.dtype),_=i.util.computeStrides(a.shape),S=i.util.computeStrides(o.shape),T=_[0],C=k?_[1]:_[2],E=k?_[2]:1,O=k?1:_[1],A=w.strides[0],I=k?w.strides[1]:w.strides[2],R=k?w.strides[2]:1,N=k?1:w.strides[1],P=n.data.get(a.dataId).values,M=n.data.get(o.dataId).values,D=w.values,j=0;j<p.batchSize;++j)for(var L=j*T,F=j*A,Z=0;Z<p.outHeight;++Z)for(var B=F+Z*I,U=Z*p.strideHeight-x,V=0;V<v;++V){var z=U+V*g;if(!(z<0||z>=p.inHeight))for(var W=V*S[0],H=L+z*C,G=0;G<p.outWidth;++G)for(var q=B+G*R,K=G*p.strideWidth-b,Y=0;Y<m;++Y){var X=K+Y*y;if(!(X<0||X>=p.inWidth))for(var Q=H+X*E,J=W+Y*S[1],$=0;$<p.inChannels;++$){for(var ee=P[Q+$*O],te=0;te<p.outChannels;++te)D[q+te*N]+=ee*M[J+te];J+=p.outChannels}}}return n.makeTensorInfo(w.shape,w.dtype,D)}var wt={kernelName:i.Conv2D,backendName:"cpu",kernelFunc:kt};var _t={kernelName:i.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape;(0,h.H)([a,o],"conv2dBackpropFilter");for(var d=i.backend_util.convertConv2DDataFormat(c),p=i.backend_util.computeConv2DInfo(a.shape,f,s,1,u,l,!1,d),v=p.strideHeight,m=p.strideWidth,g=p.filterHeight,y=p.filterWidth,b="channelsLast"===p.dataFormat,x=new i.TensorBuffer(p.filterShape,"float32"),k=p.padInfo.left,w=p.padInfo.top,_=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,T=new i.TensorBuffer(a.shape,a.dtype,_),C=new i.TensorBuffer(o.shape,o.dtype,S),E=0;E<g;++E)for(var O=Math.max(0,Math.ceil((w-E)/v)),A=Math.min(p.outHeight,(p.inHeight+w-E)/v),I=0;I<y;++I)for(var R=Math.max(0,Math.ceil((k-I)/m)),N=Math.min(p.outWidth,(p.inWidth+k-I)/m),P=0;P<p.inChannels;++P)for(var M=0;M<p.outChannels;++M){for(var D=0,j=0;j<p.batchSize;++j)for(var L=O;L<A;++L)for(var F=E+L*v-w,Z=R;Z<N;++Z){var B=I+Z*m-k;D+=b?T.get(j,F,B,P)*C.get(j,L,Z,M):T.get(j,P,F,B)*C.get(j,M,L,Z)}x.set(D,E,I,P,M)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var St={kernelName:i.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.inputShape,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dimRoundingMode;(0,h.H)([a,o],"conv2dBackpropInput");var d=i.util.computeStrides(o.shape),p=i.util.computeStrides(a.shape),v=i.backend_util.convertConv2DDataFormat(l),m=i.backend_util.computeConv2DInfo(s,o.shape,u,1,c,f,!1,v),g=new i.TensorBuffer(m.inShape,"float32"),y=g.values,b=n.data.get(a.dataId).values,x=n.data.get(o.dataId).values,k=(0,xe.Z)(d,3),w=k[0],_=k[1],S=k[2],T=m.batchSize,C=m.filterHeight,E=m.filterWidth,O=m.inChannels,A=m.inHeight,I=m.inWidth,R=m.outChannels,N=m.outHeight,P=m.outWidth,M=m.strideHeight,D=m.strideWidth;v=m.dataFormat;for(var j=C-1-m.padInfo.top,L=E-1-m.padInfo.left,F="channelsLast"===v,Z=g.strides[0],B=F?g.strides[1]:g.strides[2],U=F?g.strides[2]:1,V=F?1:g.strides[1],z=p[0],W=F?p[1]:p[2],H=F?p[2]:1,G=F?1:p[1],q=0;q<T;++q)for(var K=0;K<O;++K)for(var Y=0;Y<A;++Y)for(var X=Y-j,Q=Math.max(0,Math.ceil(X/M)),J=Math.min(N,(C+X)/M),$=0;$<I;++$){for(var ee=$-L,te=Math.max(0,Math.ceil(ee/D)),ne=Math.min(P,(E+ee)/D),re=0,ie=Q;ie<J;++ie)for(var ae=ie*M-X,oe=te;oe<ne;++oe)for(var se=z*q+W*ie+H*oe,ue=w*(C-1-ae)+_*(E-1-(oe*D-ee))+S*K,ce=0;ce<R;++ce){re+=b[se+G*ce]*x[ue+ce]}y[Z*q+B*Y+U*$+V*K]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Tt={kernelName:i.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations;(0,h.H)([a,o],"conv3d");for(var l=i.backend_util.computeConv3DInfo(a.shape,o.shape,s,c,u),f=l.filterDepth,d=l.filterHeight,p=l.filterWidth,v=l.dilationDepth,m=l.dilationHeight,g=l.dilationWidth,y=l.padInfo,b=y.front,x=y.left,k=y.top,w=new i.TensorBuffer(l.outShape,a.dtype),_=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,T=w.values,C=i.util.computeStrides(a.shape),E=i.util.computeStrides(o.shape),O=0;O<l.batchSize;++O)for(var A=O*C[0],I=O*w.strides[0],R=0;R<l.outDepth;++R)for(var N=I+R*w.strides[1],P=R*l.strideDepth-b,M=0;M<f;++M){var D=P+M*v;if(!(D<0||D>=l.inDepth))for(var j=M*E[0],L=A+D*C[1],F=0;F<l.outHeight;++F)for(var Z=N+F*w.strides[2],B=F*l.strideHeight-k,U=0;U<d;++U){var V=B+U*m;if(!(V<0||V>=l.inHeight))for(var z=j+U*E[1],W=L+V*C[2],H=0;H<l.outWidth;++H)for(var G=Z+H*l.outChannels,q=H*l.strideWidth-x,K=0;K<p;++K){var Y=q+K*g;if(!(Y<0||Y>=l.inWidth))for(var X=z+K*E[2],Q=W+Y*l.inChannels,J=X,$=0;$<l.inChannels;++$){for(var ee=_[Q+$],te=0;te<l.outChannels;++te)T[G+te]+=ee*S[J+te];J+=l.outChannels}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var Ct={kernelName:i.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.filterShape;(0,h.H)([a,o],"conv3dBackpropFilterV2");for(var l=i.util.computeStrides(a.shape),f=i.util.computeStrides(o.shape),d=i.backend_util.computeConv3DInfo(a.shape,c,s,1,u),p=d.strideDepth,v=d.strideHeight,m=d.strideWidth,g=d.filterDepth,y=d.filterHeight,b=d.filterWidth,x=new i.TensorBuffer(d.filterShape,"float32"),k=x.values,w=(0,xe.Z)(x.strides,4),_=w[0],S=w[1],T=w[2],C=w[3],E=n.data.get(o.dataId).values,O=(0,xe.Z)(f,4),A=O[0],I=O[1],R=O[2],N=O[3],P=n.data.get(a.dataId).values,M=(0,xe.Z)(l,4),D=M[0],j=M[1],L=M[2],F=M[3],Z=d.padInfo.front,B=d.padInfo.left,U=d.padInfo.top,V=0;V<g;++V)for(var z=Math.max(0,Math.ceil((Z-V)/p)),W=Math.min(d.outDepth,(d.inDepth+Z-V)/p),H=V*_,G=0;G<y;++G)for(var q=Math.max(0,Math.ceil((U-G)/v)),K=Math.min(d.outHeight,(d.inHeight+U-G)/v),Y=G*S+H,X=0;X<b;++X)for(var Q=Math.max(0,Math.ceil((B-X)/m)),J=Math.min(d.outWidth,(d.inWidth+B-X)/m),$=X*T+Y,ee=0;ee<d.inChannels;++ee)for(var te=ee*C+$,ne=0;ne<d.outChannels;++ne){for(var re=0,ie=0;ie<d.batchSize;++ie)for(var ae=ie*D,oe=ie*A,se=z;se<W;++se)for(var ue=(V+se*p-Z)*j+ae,ce=se*I+oe,le=q;le<K;++le)for(var fe=(G+le*v-U)*L+ue,de=le*R+ce,pe=Q;pe<J;++pe){var he=pe*N+de;re+=P[(X+pe*m-B)*F+fe+ee]*E[he+ne]}k[te+ne]=re}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Et={kernelName:i.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.pad,u=r.strides,c=r.inputShape;(0,h.H)([a],"conv3dBackpropInputV2");for(var l=i.util.computeStrides(a.shape),f=i.util.computeStrides(o.shape),d=i.backend_util.computeConv3DInfo(c,o.shape,u,1,s),p=new i.TensorBuffer(d.inShape,"float32"),v=p.values,m=(0,xe.Z)(p.strides,4),g=m[0],y=m[1],b=m[2],x=m[3],k=n.data.get(a.dataId).values,w=(0,xe.Z)(l,4),_=w[0],S=w[1],T=w[2],C=w[3],E=n.data.get(o.dataId).values,O=(0,xe.Z)(f,4),A=O[0],I=O[1],R=O[2],N=O[3],P=d.batchSize,M=d.filterDepth,D=d.filterHeight,j=d.filterWidth,L=d.inChannels,F=d.inDepth,Z=d.inHeight,B=d.inWidth,U=d.outChannels,V=d.outDepth,z=d.outHeight,W=d.outWidth,H=d.strideDepth,G=d.strideHeight,q=d.strideWidth,K=M-1-d.padInfo.front,Y=D-1-d.padInfo.top,X=j-1-d.padInfo.left,Q=0;Q<P;++Q)for(var J=0;J<L;++J)for(var $=0;$<F;++$)for(var ee=$-K,te=Math.max(0,Math.ceil(ee/H)),ne=Math.min(V,(M+ee)/H),re=0;re<Z;++re)for(var ie=re-Y,ae=Math.max(0,Math.ceil(ie/G)),oe=Math.min(z,(D+ie)/G),se=0;se<B;++se){for(var ue=se-X,ce=Math.max(0,Math.ceil(ue/q)),le=Math.min(W,(j+ue)/q),fe=0,de=te;de<ne;++de)for(var pe=de*H-ee,he=ae;he<oe;++he)for(var ve=he*G-ie,me=ce;me<le;++me)for(var ge=_*Q+S*de+T*he+C*me,ye=A*(M-1-pe)+I*(D-1-ve)+R*(j-1-(me*q-ue))+N*J,be=0;be<U;++be){fe+=k[ge+be]*E[ye+be]}v[g*Q+y*$+b*re+x*se+J]=fe}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},Ot=(0,he.A)(i.Cos,(function(e){return Math.cos(e)})),At={kernelName:i.Cos,backendName:"cpu",kernelFunc:Ot},It=(0,he.A)(i.Cosh,(function(e){return Math.cosh(e)})),Rt={kernelName:i.Cosh,backendName:"cpu",kernelFunc:It};var Nt={kernelName:i.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,s=t.boxInd,u=r.cropSize,c=r.method,l=r.extrapolationValue,f=(0,xe.Z)(a.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=o.shape[0],g=(0,xe.Z)(u,2),y=g[0],b=g[1],x=(0,i.buffer)([m,y,b,v],"float32"),k=n.data.get(o.dataId).values,w=n.data.get(s.dataId).values,_=n.data.get(a.dataId).values,S=i.util.computeStrides(a.shape),T=i.util.computeStrides(x.shape),C=0;C<m;C++){var E=4*C,O=k[E],A=k[E+1],I=k[E+2],R=k[E+3],N=w[C];if(!(N>=d))for(var P=y>1?(I-O)*(p-1)/(y-1):0,M=b>1?(R-A)*(h-1)/(b-1):0,D=0;D<y;D++){var j=y>1?O*(p-1)+D*P:.5*(O+I)*(p-1);if(j<0||j>p-1)for(var L=0;L<b;L++)for(var F=0;F<v;F++){var Z=F+L*T[2]+D*T[1]+C*T[0];x.values[Z]=l}else if("bilinear"===c)for(var B=Math.floor(j),U=Math.ceil(j),V=j-B,z=0;z<b;z++){var W=b>1?A*(h-1)+z*M:.5*(A+R)*(h-1);if(W<0||W>h-1)for(var H=0;H<v;H++){var G=H+z*T[2]+D*T[1]+C*T[0];x.values[G]=l}else for(var q=Math.floor(W),K=Math.ceil(W),Y=W-q,X=0;X<v;X++){var Q=X+q*S[2]+B*S[1]+N*S[0],J=_[Q],$=_[Q=X+K*S[2]+B*S[1]+N*S[0]],ee=_[Q=X+q*S[2]+U*S[1]+N*S[0]],te=J+($-J)*Y,ne=ee+(_[Q=X+K*S[2]+U*S[1]+N*S[0]]-ee)*Y;Q=X+z*T[2]+D*T[1]+C*T[0],x.values[Q]=te+(ne-te)*V}}else for(var re=0;re<b;++re){var ie=b>1?A*(h-1)+re*M:.5*(A+R)*(h-1);if(ie<0||ie>h-1)for(var ae=0;ae<v;ae++){var oe=ae+re*T[2]+D*T[1]+C*T[0];x.values[oe]=l}else for(var se=Math.round(ie),ue=Math.round(j),ce=0;ce<v;ce++){var le=ce+se*S[2]+ue*S[1]+N*S[0],fe=ce+re*T[2]+D*T[1]+C*T[0];x.values[fe]=_[le]}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Pt={kernelName:i.Cumprod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,h.H)(a,"cumprod");var c=i.backend_util.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:c}}));var f=i.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(f!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(f));for(var d=(0,i.upcastType)(l.dtype,"int32"),p=i.util.makeOnesTypedArray(i.util.sizeFromShape(l.shape),d),v=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],g=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},y=0;y<v.length;y+=m)for(var b=0;b<m;b++){var x=g(y,b);if(0===b)p[x]=s?1:v[x];else{var k=g(y,b-1);p[x]=s?v[k]*p[k]:v[x]*p[k]}}var w=n.makeTensorInfo(l.shape,d,p);if(null!=c){var _=i.backend_util.getUndoAxesPermutation(c),S=(0,Ze.p)({inputs:{x:w},backend:n,attrs:{perm:_}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(l),S}return w}};var Mt={kernelName:i.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,h.H)(a,"cumsum");var c=i.backend_util.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:c}}));var f=i.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(f!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(f));for(var d=(0,i.upcastType)(l.dtype,"int32"),p=i.util.makeZerosTypedArray(i.util.sizeFromShape(l.shape),d),v=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],g=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},y=0;y<v.length;y+=m)for(var b=0;b<m;b++){var x=g(y,b);if(0===b)p[x]=s?0:v[x];else{var k=g(y,b-1);p[x]=s?v[k]+p[k]:v[x]+p[k]}}var w=n.makeTensorInfo(l.shape,d,p);if(null!=c){var _=i.backend_util.getUndoAxesPermutation(c),S=(0,Ze.p)({inputs:{x:w},backend:n,attrs:{perm:_}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(l),S}return w}};var Dt={kernelName:i.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,l=(0,b.W)(u,c,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}if(2===i.shape.length){var f=n.bufferSync(i),d=n.bufferSync(a),p=(0,b.i)(f,d,o,s);return n.makeTensorInfo(p.shape,a.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}};var jt={kernelName:i.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,s=r.dataFormat;i.util.assert("NHWC"===s,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)}));for(var u=a.shape[0],c=a.shape[1],l=a.shape[2],f=a.shape[3],d=c*o,p=l*o,h=f/(o*o),v=n.data.get(a.dataId).values,m=new Float32Array(u*d*p*h),g=0,y=0;y<u;++y)for(var b=0;b<d;++b)for(var x=Math.floor(b/o),k=b%o,w=0;w<p;++w)for(var _=Math.floor(w/o),S=(k*o+w%o)*h,T=0;T<h;++T){var C=T+S+f*(_+l*(x+c*y));m[g++]=v[C]}return n.makeTensorInfo([u,d,p,h],a.dtype,m)}};function Lt(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=r.dimRoundingMode;(0,h.H)([a,o],"depthwiseConv2DNative");var f=i.util.computeStrides(a.shape),d=i.util.computeStrides(o.shape),p=c;null==p&&(p=[1,1]),i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,p),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(p,"'")}));for(var v=i.backend_util.computeConv2DInfo(a.shape,o.shape,s,p,u,l,!0),m=v.filterHeight,g=v.filterWidth,y=v.dilationHeight,b=v.dilationWidth,x=v.padInfo,k=x.left,w=x.top,_=v.outChannels/v.inChannels,S=new i.TensorBuffer(v.outShape,a.dtype),T=n.data.get(a.dataId).values,C=n.data.get(o.dataId).values,E=S.values,O=0;O<v.batchSize;++O)for(var A=O*f[0],I=O*S.strides[0],R=0;R<v.outHeight;++R)for(var N=I+R*S.strides[1],P=R*v.strideHeight-w,M=0;M<m;++M){var D=P+M*y;if(!(D<0||D>=v.inHeight))for(var j=M*d[0],L=A+D*f[1],F=0;F<v.outWidth;++F)for(var Z=N+F*S.strides[2],B=F*v.strideWidth-k,U=0;U<g;++U){var V=B+U*b;if(!(V<0||V>=v.inWidth))for(var z=j+U*d[1],W=L+V*v.inChannels,H=Z,G=z,q=0;q<v.inChannels;++q){for(var K=T[W+q],Y=0;Y<_;++Y)E[H+Y]+=K*C[G+Y];H+=_,G+=_}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}var Ft={kernelName:i.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:Lt};var Zt={kernelName:i.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape;(0,h.H)([a,o],"depthwiseConv2dNativeBackpropFilter");for(var d=i.backend_util.computeConv2DInfo(a.shape,f,s,u,c,l,!0),p=d.strideHeight,v=d.strideWidth,m=d.filterHeight,g=d.filterWidth,y=new i.TensorBuffer(d.filterShape,"float32"),b=d.padInfo.left,x=d.padInfo.top,k=d.outChannels/d.inChannels,w=n.data.get(a.dataId).values,_=new i.TensorBuffer(a.shape,a.dtype,w),S=n.data.get(o.dataId).values,T=new i.TensorBuffer(o.shape,o.dtype,S),C=0;C<m;++C)for(var E=Math.max(0,Math.ceil((x-C)/p)),O=Math.min(d.outHeight,(d.inHeight+x-C)/p),A=0;A<g;++A)for(var I=Math.max(0,Math.ceil((b-A)/v)),R=Math.min(d.outWidth,(d.inWidth+b-A)/v),N=0;N<d.outChannels;++N){for(var P=Math.trunc(N/k),M=N%k,D=0,j=0;j<d.batchSize;++j)for(var L=E;L<O;++L)for(var F=C+L*p-x,Z=I;Z<R;++Z){var B=A+Z*v-b;D+=_.get(j,F,B,P)*T.get(j,L,Z,N)}y.set(D,C,A,P,M)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Bt={kernelName:i.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.inputShape;(0,h.H)([a,o],"depthwiseConv2DNativeBackpropInput");for(var d=i.util.computeStrides(a.shape),p=i.util.computeStrides(o.shape),v=i.backend_util.computeConv2DInfo(f,o.shape,s,u,c,l,!0),m=new i.TensorBuffer(v.inShape,"float32"),g=m.values,y=(0,xe.Z)(m.strides,3),b=y[0],x=y[1],k=y[2],w=n.data.get(a.dataId).values,_=(0,xe.Z)(d,3),S=_[0],T=_[1],C=_[2],E=n.data.get(o.dataId).values,O=(0,xe.Z)(p,3),A=O[0],I=O[1],R=O[2],N=v.batchSize,P=v.filterHeight,M=v.filterWidth,D=v.inChannels,j=v.inHeight,L=v.inWidth,F=v.outChannels,Z=v.outHeight,B=v.outWidth,U=v.strideHeight,V=v.strideWidth,z=P-1-v.padInfo.top,W=M-1-v.padInfo.left,H=F/D,G=0;G<N;++G)for(var q=0;q<D;++q)for(var K=0;K<j;++K)for(var Y=K-z,X=Math.max(0,Math.ceil(Y/U)),Q=Math.min(Z,(P+Y)/U),J=0;J<L;++J){for(var $=J-W,ee=Math.max(0,Math.ceil($/V)),te=Math.min(B,(M+$)/V),ne=0,re=X;re<Q;++re)for(var ie=re*U-Y,ae=ee;ae<te;++ae)for(var oe=S*G+T*re+C*ae,se=A*(P-1-ie)+I*(M-1-(ae*V-$))+R*q,ue=0;ue<H;++ue){ne+=w[oe+(q*H+ue)]*E[se+ue]}g[b*G+x*K+k*J+q]=ne}return n.makeTensorInfo(m.shape,m.dtype,m.values)}},Ut=n(42982);var Vt={kernelName:i.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=i.util.sizeFromShape(r.shape),o=n.data.get(r.dataId).values,s=(0,i.buffer)([a,a],r.dtype),u=s.values,c=0;c<o.length;c++)u[c*a+c]=o[c];var l=[].concat((0,Ut.Z)(r.shape),(0,Ut.Z)(r.shape));return n.makeTensorInfo(l,s.dtype,s.values)}},zt={kernelName:i.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=n,f=l.data.get(a.dataId).values,d=a.shape.length,p=l.data.get(o.dataId).values,h=o.shape.length,v=i.backend_util.computeDilation2DInfo(a.shape,o.shape,s,u,"NHWC",c),m=v.batchSize,g=v.inHeight,y=v.inWidth,b=v.inChannels,x=v.outHeight,k=v.outWidth,w=v.padInfo,_=v.strideHeight,S=v.strideWidth,T=v.filterHeight,C=v.filterWidth,E=v.dilationHeight,O=v.dilationWidth,A=v.outShape,I=i.util.sizeFromShape(A),R=A.length,N=i.util.getArrayFromDType(a.dtype,I),P=0;P<m;++P)for(var M=0;M<x;++M)for(var D=M*_-w.top,j=0;j<k;++j)for(var L=j*S-w.left,F=0;F<b;++F){for(var Z=Number.MIN_SAFE_INTEGER,B=0;B<T;++B){var U=D+B*E;if(U>=0&&U<g)for(var V=0;V<C;++V){var z=L+V*O;if(z>=0&&z<y){var W=i.util.locToIndex([P,U,z,F],d,i.util.computeStrides(a.shape)),H=i.util.locToIndex([B,V,F],h,i.util.computeStrides(o.shape)),G=f[W]+p[H];G>Z&&(Z=G)}}}N[i.util.locToIndex([P,M,j,F],R,i.util.computeStrides(A))]=Z}return{dataId:l.write(i.util.toTypedArray(N,a.dtype),A,a.dtype),shape:A,dtype:a.dtype}}},Wt={kernelName:i.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,f=n,d=i.util.toNestedArray(a.shape,f.data.get(a.dataId).values),p=i.util.toNestedArray(o.shape,f.data.get(o.dataId).values),h=i.backend_util.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),v=h.batchSize,m=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,k=h.padInfo,w=h.strideHeight,_=h.strideWidth,S=h.filterHeight,T=h.filterWidth,C=h.dilationHeight,E=h.dilationWidth,O=h.outShape;i.util.assert(s.rank===O.length,(function(){return"Error in ".concat(i.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(O.length,", but got ")+"".concat(s.rank)}));for(var A=i.util.toNestedArray(O,f.data.get(s.dataId).values),I=i.util.makeZerosNestedTypedArray(o.shape,o.dtype),R=0;R<v;++R)for(var N=0;N<b;++N)for(var P=N*w-k.top,M=0;M<x;++M)for(var D=M*_-k.left,j=0;j<y;++j){for(var L=Number.MIN_SAFE_INTEGER,F=0,Z=0,B=0;B<S;++B){var U=P+B*C;if(U>=0&&U<m)for(var V=0;V<T;++V){var z=D+V*E;if(z>=0&&z<g){var W=d[R][U][z][j]+p[B][V][j];W>L&&(L=W,F=B,Z=V)}}}I[F][Z][j]+=A[R][N][M][j]}return{dataId:f.write(i.util.toTypedArray(I,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Ht={kernelName:i.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,f=n,d=i.util.toNestedArray(a.shape,f.data.get(a.dataId).values),p=i.util.toNestedArray(o.shape,f.data.get(o.dataId).values),h=i.backend_util.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),v=h.batchSize,m=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,k=h.padInfo,w=h.strideHeight,_=h.strideWidth,S=h.filterHeight,T=h.filterWidth,C=h.dilationHeight,E=h.dilationWidth,O=h.outShape;i.util.assert(s.rank===O.length,(function(){return"Error in ".concat(i.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(O.length,", but got ")+"".concat(s.rank)}));for(var A=i.util.toNestedArray(O,f.data.get(s.dataId).values),I=i.util.makeZerosNestedTypedArray(a.shape,a.dtype),R=0;R<v;++R)for(var N=0;N<b;++N)for(var P=N*w-k.top,M=0;M<x;++M)for(var D=M*_-k.left,j=0;j<y;++j){for(var L=Number.MIN_SAFE_INTEGER,F=P<0?0:P,Z=D<0?0:D,B=0;B<S;++B){var U=P+B*C;if(U>=0&&U<m)for(var V=0;V<T;++V){var z=D+V*E;if(z>=0&&z<g){var W=d[R][U][z][j]+p[B][V][j];W>L&&(L=W,F=U,Z=z)}}}I[R][F][Z][j]+=A[R][N][M][j]}return{dataId:f.write(i.util.toTypedArray(I,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Gt=n(37762),qt=n(94842);function Kt(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=a.axis,u=a.keepDims;(0,h.H)(o,"sum");var c=(t="bool"===o.dtype?(0,x.pj)({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):(0,ge.y)({inputs:{x:o},backend:r})).shape.length,l=i.util.parseAxisParam(s,t.shape),f=i.backend_util.getAxesPermutation(l,c),d=l,p=t;null!=f&&(p=(0,Ze.p)({inputs:{x:t},backend:r,attrs:{perm:f}}),d=i.backend_util.getInnerMostAxes(d.length,c)),i.backend_util.assertAxesAreInnerMostDims("sum",d,p.shape.length);for(var v=i.backend_util.computeOutAndReduceShapes(p.shape,d),m=(0,xe.Z)(v,2),g=m[0],y=m[1],b=i.backend_util.upcastType(p.dtype,"int32"),k=(0,qt.l)(r,g,b),w=i.util.sizeFromShape(y),_=r.data.get(k.dataId).values,S=r.data.get(p.dataId).values,T=0;T<_.length;++T){for(var C=T*w,E=0,O=0;O<w;++O)E+=S[C+O];_[T]=E}if(u){var A=k;k=Ae({inputs:{x:k},backend:r,attrs:{shape:i.backend_util.expandShapeToKeepDim(k.shape,l)}}),r.disposeIntermediateTensorInfo(A)}return r.disposeIntermediateTensorInfo(t),null!=f&&r.disposeIntermediateTensorInfo(p),k}var Yt={kernelName:i.Sum,backendName:"cpu",kernelFunc:Kt};var Xt={kernelName:i.Einsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=i.backend_util.decodeEinsumEquation(r,a.length),s=o.allDims,u=o.summedDims,c=o.idDims;i.backend_util.checkEinsumDimSizes(s.length,c,a);for(var l=i.backend_util.getEinsumComputePath(u,c),f=l.path,d=l.steps,p=d.length,h=null,v=s.length,m=[],g=0;g<p;++g){var y,b=(0,Gt.Z)(d[g]);try{for(b.s();!(y=b.n()).done;){var x=y.value,k=i.backend_util.getEinsumPermutation(v,c[x]),w=k.permutationIndices,_=k.expandDims,S=void 0;i.backend_util.isIdentityPermutation(w)?S=a[x]:(S=(0,Ze.p)({inputs:{x:a[x]},backend:n,attrs:{perm:w}}),m.push(S));for(var T=S.shape.slice(),C=0;C<_.length;++C)T.splice(_[C],0,1);i.util.arraysEqual(S.shape,T)||(S=Ae({inputs:{x:S},backend:n,attrs:{shape:T}}),m.push(S)),null===h?h=S:(h=(0,F.Jp)({inputs:{a:S,b:h},backend:n}),m.push(h))}}catch(I){b.e(I)}finally{b.f()}g<p-1&&(f[g]>=0&&(h=Kt({inputs:{x:h},backend:n,attrs:{axis:f[g]-(s.length-v),keepDims:!1}}),m.push(h)),v--)}for(var E=0,O=m;E<O.length;E++){var A=O[E];A!==h&&n.disposeIntermediateTensorInfo(A)}return h}};var Qt={kernelName:i.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;(0,h.H)([r,a],"eluGrad");for(var o=new Float32Array(i.util.sizeFromShape(a.shape)),s=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values,c=0;c<s.length;++c){var l=s[c];o[c]=l>=1?u[c]:u[c]*(l+1)}return n.makeTensorInfo(a.shape,"float32",o)}},Jt=i.backend_util.ERF_P,$t=i.backend_util.ERF_A1,en=i.backend_util.ERF_A2,tn=i.backend_util.ERF_A3,nn=i.backend_util.ERF_A4,rn=i.backend_util.ERF_A5,an=(0,he.A)(i.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Jt*n);return t*(1-((((rn*r+nn)*r+tn)*r+en)*r+$t)*r*Math.exp(-n*n))})),on={kernelName:i.Erf,backendName:"cpu",kernelFunc:an};function sn(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,o=r.dim,s=a.shape.length,u=a.shape.slice(),c=o;return o<0&&(i.util.assert(-(s+1)<=o,(function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")})),c=s+o+1),u.splice(c,0,1),Ae({inputs:{x:a},backend:n,attrs:{shape:u}})}var un={kernelName:i.ExpandDims,backendName:"cpu",kernelFunc:sn},cn=(0,$.b)((function(e,t){return e/t})),ln=(0,ee.j)(i.RealDiv,cn),fn={kernelName:i.RealDiv,backendName:"cpu",kernelFunc:ln};function dn(e,t,n){for(var r=e.shape,a=r[0],o=r[1],s=n.data.get(e.dataId),u=s.complexTensorInfos.real,c=s.complexTensorInfos.imag,l=[a,o],f=i.util.sizeFromShape(l),d=i.util.getTypedArrayFromDType("float32",f),p=i.util.getTypedArrayFromDType("float32",f),h=0;h<a;h++){for(var v=(0,K.tP)({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,o]}}),m=(0,K.tP)({inputs:{x:c},backend:n,attrs:{begin:[h,0],size:[1,o]}}),g=(0,ht.P)({inputs:{real:v,imag:m},backend:n}),y=pn(g,t,n),b=y.real,x=y.imag,k=i.backend_util.mergeRealAndImagArrays(b,x),w=0;w<o;w++){var _=i.backend_util.getComplexWithIndex(k,w);d[h*o+w]=_.real,p[h*o+w]=_.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var S=n.makeTensorInfo(l,"float32",d),T=n.makeTensorInfo(l,"float32",p),C=(0,ht.P)({inputs:{real:S,imag:T},backend:n});return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(T),C}function pn(e,t,n){var r=i.util.sizeFromShape(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((y=r)&y-1)){var u=hn(o,s,r,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",u.real),f=n.makeTensorInfo(c,"float32",u.imag),d=n.makeTensorInfo([],"float32",i.util.createScalarValue(r,"float32")),p=(0,ge.y)({inputs:{x:d},backend:n}),h=fn.kernelFunc({inputs:{a:l,b:d},backend:n}),v=fn.kernelFunc({inputs:{a:f,b:p},backend:n}),m=n.data.get(h.dataId).values,g=n.data.get(v.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),{real:m,imag:g}}return u}var y,b=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,s=0,u=0;u<t;u++){var c=i.backend_util.exponent(a*u,t,n),l=i.backend_util.getComplexWithIndex(e,u);o+=l.real*c.real-l.imag*c.imag,s+=l.real*c.imag+l.imag*c.real}n&&(o/=t,s/=t),i.backend_util.assignToTypedArray(r,o,s,a)}return r}(i.backend_util.mergeRealAndImagArrays(o,s),r,t);return i.backend_util.splitRealAndImagArrays(b)}function hn(e,t,n,r,a){if(1===n)return{real:e,imag:t};var o=i.backend_util.mergeRealAndImagArrays(e,t),s=n/2,u=i.backend_util.complexWithEvenIndex(o),c=u.real,l=u.imag,f=[c.length],d=a.makeTensorInfo(f,"float32",c),p=a.makeTensorInfo(f,"float32",l),h=(0,ht.P)({inputs:{real:d,imag:p},backend:a}),v=i.backend_util.complexWithOddIndex(o),m=v.real,g=v.imag,b=[m.length],x=a.makeTensorInfo(b,"float32",m),k=a.makeTensorInfo(b,"float32",g),w=(0,ht.P)({inputs:{real:x,imag:k},backend:a}),_=hn(c,l,s,r,a),S=_.real,T=_.imag,C=[S.length],E=a.makeTensorInfo(C,"float32",S),O=a.makeTensorInfo(C,"float32",T),A=(0,ht.P)({inputs:{real:E,imag:O},backend:a}),I=hn(m,g,s,r,a),R=I.real,N=I.imag,P=[R.length],M=a.makeTensorInfo(P,"float32",R),D=a.makeTensorInfo(P,"float32",N),j=(0,ht.P)({inputs:{real:M,imag:D},backend:a}),L=i.backend_util.exponents(n,r),Z=[L.real.length],B=a.makeTensorInfo(Z,"float32",L.real),U=a.makeTensorInfo(Z,"float32",L.imag),V=(0,ht.P)({inputs:{real:B,imag:U},backend:a}),z=(0,F.Jp)({inputs:{a:V,b:j},backend:a}),W=(0,y.IH)({inputs:{a:A,b:z},backend:a}),H=(0,ue.lu)({inputs:{a:A,b:z},backend:a}),G=(0,yt.k)({inputs:{input:W},backend:a}),q=(0,yt.k)({inputs:{input:H},backend:a}),K=mt({inputs:{input:W},backend:a}),Y=mt({inputs:{input:H},backend:a}),X=bt({inputs:[G,q],backend:a,attrs:{axis:0}}),Q=bt({inputs:[K,Y],backend:a,attrs:{axis:0}}),J=a.data.get(X.dataId).values,$=a.data.get(Q.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(Y),a.disposeIntermediateTensorInfo(X),a.disposeIntermediateTensorInfo(Q),{real:J,imag:$}}var vn={kernelName:i.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Ae({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=dn(s,!1,n),c=Ae({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}};function mn(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype||i.util.inferDtype(a),s=i.util.getArrayFromDType(o,i.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(s,a),t.makeTensorInfo(r,o,s)}var gn={kernelName:i.Fill,backendName:"cpu",kernelFunc:mn};var yn={kernelName:i.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,o=i.util.getTypedArrayFromDType(r.dtype,i.util.sizeFromShape(r.shape)),s=(0,xe.Z)(r.shape,4),u=s[0],c=s[1],l=s[2],f=s[3],d=a.data.get(r.dataId).values,p=0;p<u;p++)for(var h=p*l*c*f,v=0;v<c;v++)for(var m=v*(l*f),g=0;g<l;g++)for(var y=g*f,b=0;b<f;b++){var x=Math.round(l-g-1),k=h+m+y+b,w=d[k];if(x>=0&&x<l)w=d[h+m+x*f+b];o[k]=w}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},bn=(0,$.b)((function(e,t){return Math.floor(e/t)})),xn=(0,ee.j)(i.FloorDiv,bn,null,"int32"),kn={kernelName:i.FloorDiv,backendName:"cpu",kernelFunc:xn};var wn={kernelName:i.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,v=kt({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;if("NCHW"===l&&1===o.shape.length&&1!==o.shape[0]){var g=Ae({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=(0,y.IH)({inputs:{a:v,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else v=(0,y.IH)({inputs:{a:v,b:o},backend:n});n.disposeIntermediateTensorInfo(m)}if(p){var b=v;if("NCHW"===l&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){var x=Ae({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});v=Oe(n,v,p,x,h),n.disposeIntermediateTensorInfo(x)}else v=Oe(n,v,p,s,h);n.disposeIntermediateTensorInfo(b)}return v}};var _n={kernelName:i.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,v=Lt({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;v=(0,y.IH)({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(p){var g=v;v=Oe(n,v,p,s,h),n.disposeIntermediateTensorInfo(g)}return v}};var Sn={kernelName:i.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=i.util.sizeFromShape(r.shape),s=a.shape,u=s[s.length-1],c=i.backend_util.prepareAndValidate(r,a),l=(0,xe.Z)(c,4),f=l[0],d=l[1],p=l[2],h=l[3];if(0===d)return n.makeTensorInfo(f,r.dtype,[]);var v=n.data.get(a.dataId).values,m=n.bufferSync(r),g=(0,E.m)(v,m,r.dtype,d,u,p,h,r.shape,o);return n.makeTensorInfo(f,r.dtype,g.values)}};var Tn={kernelName:i.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,s=r.axis,u=r.batchDims;(0,h.H)([a,o],"gatherV2");for(var c=i.util.parseAxisParam(s,a.shape)[0],l=n.data.get(o.dataId).values,f=a.shape[c],d=function(){var e=l[p];i.util.assert(e<=f-1&&e>=0,(function(){return"GatherV2: the index value ".concat(e," is not in [0, ").concat(f-1,"]")}))},p=0;p<l.length;++p)d();var v=u;null==u&&(v=0);var m=i.util.sizeFromShape(o.shape),g=i.backend_util.segment_util.collectGatherOpShapeInfo(a,o,c,v),y=Ae({inputs:{x:a},backend:n,attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]}}),b=Ae({inputs:{x:o},backend:n,attrs:{shape:[g.batchSize,m/g.batchSize]}}),x=[g.batchSize,g.outerSize,m/g.batchSize,g.sliceSize],k=n.bufferSync(b),w=n.bufferSync(y),_=(0,O.i)(w,k,x);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),n.makeTensorInfo(g.outputShape,_.dtype,_.values)}};var Cn={kernelName:i.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Ae({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=dn(s,!0,n),c=Ae({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}},En=(0,he.A)(i.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),On={kernelName:i.IsFinite,backendName:"cpu",kernelFunc:En},An=(0,he.A)(i.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),In={kernelName:i.IsInf,backendName:"cpu",kernelFunc:An},Rn=(0,he.A)(i.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),Nn={kernelName:i.IsNan,backendName:"cpu",kernelFunc:Rn};var Pn={kernelName:i.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=(0,P.b)(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Mn=(0,he.A)(i.Log1p,(function(e){return Math.log1p(e)})),Dn={kernelName:i.Log1p,backendName:"cpu",kernelFunc:Mn},jn=(0,$.b)((function(e,t){return e&&t})),Ln=(0,ee.j)(i.LogicalAnd,jn,null,"bool"),Fn={kernelName:i.LogicalAnd,backendName:"cpu",kernelFunc:Ln},Zn=(0,he.A)(i.LogicalNot,(function(e){return e?0:1}),"bool"),Bn={kernelName:i.LogicalNot,backendName:"cpu",kernelFunc:Zn},Un=(0,$.b)((function(e,t){return e||t})),Vn=(0,ee.j)(i.LogicalOr,Un,null,"bool"),zn={kernelName:i.LogicalOr,backendName:"cpu",kernelFunc:Vn};var Wn={kernelName:i.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,s=r.bias,u=r.alpha,c=r.beta;(0,h.H)(a,"LRN");var l=a.shape[3],f=l-1,d=n.data.get(a.dataId).values,p=i.util.sizeFromShape(a.shape),v=new Float32Array(p);function m(e){for(var t=e%l,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,f),i=0;n<=r;n++){var a=d[n];i+=a*a}return i}for(var g=0;g<p;g++){var y=m(g),b=d[g]*Math.pow(s+u*y,-c);v[g]=b}return n.makeTensorInfo(a.shape,a.dtype,v)}};var Hn={kernelName:i.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,s=t.dy,u=r.depthRadius,c=r.bias,l=r.alpha,f=r.beta;(0,h.H)(s,"LRNGrad");for(var d=i.util.sizeFromShape(s.shape),p=s.shape[3],v=n.data.get(s.dataId).values,m=n.data.get(a.dataId).values,g=n.data.get(o.dataId).values,y=new Float32Array(d),b=d,x=0;x<b;x++){for(var k=x%p,w=x-k+Math.max(0,k-u),_=x-k+Math.min(p,k+u+1),S=0,T=w;T<_;T++)S+=Math.pow(m[T],2);S=l*S+c;for(var C=w;C<_;C++){var E=-2*l*f*m[C]*g[x]/S;x===C&&(E+=Math.pow(S,-f)),E*=v[x],y[C]+=E}}return n.makeTensorInfo(s.shape,a.dtype,y)}};function Gn(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,s=r.keepDims,u=n,c=a.shape,l=c.length,f=i.util.parseAxisParam(o,c),d=f,p=i.backend_util.getAxesPermutation(d,l),v=u.data.get(a.dataId).values;if(null!=p){for(var m=new Array(l),g=0;g<m.length;g++)m[g]=c[p[g]];v=(0,fe.H)(v,c,a.dtype,p,m),d=i.backend_util.getInnerMostAxes(d.length,l),c=m}(0,h.H)(a,"max"),i.backend_util.assertAxesAreInnerMostDims("max",d,l);var y=i.backend_util.computeOutAndReduceShapes(c,d),b=(0,xe.Z)(y,2),x=b[0],k=b[1],w=i.util.sizeFromShape(k),_=(0,D.B)(v,w,x,a.dtype),S=u.write(_,x,a.dtype),T=x;s&&(T=i.backend_util.expandShapeToKeepDim(x,f));return{dataId:S,shape:T,dtype:a.dtype}}var qn={kernelName:i.Max,backendName:"cpu",kernelFunc:Gn};var Kn={kernelName:i.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;(0,h.H)(a,"maxPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,f=i.backend_util.computePool2DInfo(a.shape,o,s,1,u,c);if(1===f.filterWidth&&1===f.filterHeight&&i.util.arraysEqual(f.inShape,f.outShape))l=(0,ge.y)({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,p=i.util.computeStrides(a.shape),v=tt(d,a.shape,a.dtype,p,f,"max");l=n.makeTensorInfo(f.outShape,a.dtype,v.values)}return l}};var Yn={kernelName:i.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;(0,h.H)(a,"maxPool3d");var f=i.backend_util.computePool3DInfo(a.shape,o,s,1,u,c,l),d=rt(n.data.get(a.dataId).values,a.shape,a.dtype,i.util.computeStrides(a.shape),f,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var Xn={kernelName:i.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;(0,h.H)([a,o],"maxPool3DGrad");for(var f=i.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),d=function(e,t){for(var n=(0,i.buffer)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,v=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,x=b;x<0;)x+=s;for(var k=Math.min(t.inDepth,l+b),w=0;w<t.outHeight;++w){for(var _=w*a-h,S=_;S<0;)S+=u;for(var T=Math.min(t.inHeight,f+_),C=0;C<t.outWidth;++C){for(var E=C*o-v,O=E;O<0;)O+=c;for(var A=Math.min(t.inWidth,d+E),I=Number.NEGATIVE_INFINITY,R=-1,N=x;N<k;N+=s)for(var P=N-b,M=S;M<T;M+=u)for(var D=M-_,j=O;j<A;j+=c){var L=j-E,F=e.get(m,N,M,j,g);F>=I&&(I=F,R=P*f*d+D*f+L)}n.set(R,m,y,w,C,g)}}}return n}(n.bufferSync(o),f),p=f.strideDepth,v=f.strideHeight,m=f.strideWidth,g=f.dilationDepth,y=f.dilationHeight,b=f.dilationWidth,x=f.effectiveFilterDepth,k=f.effectiveFilterHeight,w=f.effectiveFilterWidth,_=x-1-f.padInfo.front,S=w-1-f.padInfo.left,T=k-1-f.padInfo.top,C=(0,i.buffer)(o.shape,"float32"),E=n.bufferSync(a),O=0;O<f.batchSize;++O)for(var A=0;A<f.inChannels;++A)for(var I=0;I<f.inDepth;++I)for(var R=0;R<f.inHeight;++R)for(var N=0;N<f.inWidth;++N){for(var P=I-_,M=R-T,D=N-S,j=0,L=0;L<x;L+=g){var F=(P+L)/p;if(!(F<0||F>=f.outDepth||Math.floor(F)!==F))for(var Z=0;Z<k;Z+=y){var B=(M+Z)/v;if(!(B<0||B>=f.outHeight||Math.floor(B)!==B))for(var U=0;U<w;U+=b){var V=(D+U)/m;if(!(V<0||V>=f.outWidth||Math.floor(V)!==V)){var z=x*k*w-1-d.get(O,F,B,V,A)===L*k*w+Z*w+U?1:0;if(0!==z)j+=E.get(O,F,B,V,A)*z}}}}C.set(j,O,I,R,N,A)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var Qn={kernelName:i.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=t.output,u=o;(0,h.H)([o,s],"maxPoolGrad");for(var c=r.filterSize,l=r.strides,f=r.pad,d=r.dimRoundingMode,p=i.backend_util.computePool2DInfo(u.shape,c,l,1,f,d),v=n.data.get(u.dataId).values,m=(0,i.buffer)(p.outShape,u.dtype,nt(v,u.shape,u.dtype,p).values),g=p.strideHeight,y=p.strideWidth,b=p.dilationHeight,x=p.dilationWidth,k=p.effectiveFilterHeight,w=p.effectiveFilterWidth,_=w-1-p.padInfo.left,S=k-1-p.padInfo.top,T=(0,i.buffer)(u.shape,"float32"),C=n.data.get(a.dataId).values,E=(0,i.buffer)(a.shape,"float32",C),O=0;O<p.batchSize;++O)for(var A=0;A<p.inChannels;++A)for(var I=0;I<p.inHeight;++I)for(var R=0;R<p.inWidth;++R){for(var N=I-S,P=R-_,M=0,D=0;D<k;D+=b){var j=(N+D)/g;if(!(j<0||j>=p.outHeight||Math.floor(j)!==j))for(var L=0;L<w;L+=x){var F=(P+L)/y;if(!(F<0||F>=p.outWidth||Math.floor(F)!==F)){var Z=k*w-1-m.get(O,j,F,A)===D*w+L?1:0;if(0!==Z)M+=E.get(O,j,F,A)*Z}}}T.set(M,O,I,R,A)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};var Jn={kernelName:i.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,s=n.strides,u=n.pad,c=n.includeBatchInIndex,l=r;(0,h.H)(a,"MaxPoolWithArgmax");var f=l.data.get(a.dataId).values,d=i.backend_util.computePool2DInfo(a.shape,o,s,[1,1],u),p=function(e,t,n,r,a){var o=tt(e,0,n,i.util.computeStrides(t),a,"max"),s=nt(e,t,n,a,!0,r);return[o.values,s.values]}(f,a.shape,a.dtype,c,d),v=(0,xe.Z)(p,2),m=v[0],g=v[1],y=l.write(m,d.outShape,a.dtype),b=l.write(g,d.outShape,a.dtype);return[{dataId:y,shape:d.outShape,dtype:a.dtype},{dataId:b,shape:d.outShape,dtype:"int32"}]}};var $n={kernelName:i.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims,u=i.util.parseAxisParam(o,a.shape),c=i.backend_util.computeOutAndReduceShapes(a.shape,u)[1],l=i.util.sizeFromShape(c),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([l]));f.push(d);var p=(0,x.pj)({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(p);var h=ln({inputs:{a:p,b:d},backend:n});f.push(h);var v=Kt({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:s}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var er={kernelName:i.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"min");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),f=a;null!=l&&(f=(0,Ze.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("min",c,f.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(f.shape,c),p=(0,xe.Z)(d,2),v=p[0],m=p[1],g=i.util.sizeFromShape(m),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(v),f.dtype),b=n.data.get(f.dataId).values,x=0;x<y.length;++x){for(var k=x*g,w=b[k],_=0;_<g;++_){var S=b[k+_];(Number.isNaN(S)||S<w)&&(w=S)}y[x]=w}null!=l&&n.disposeIntermediateTensorInfo(f);var T=n.makeTensorInfo(v,f.dtype,y);if(s){var C=Ae({inputs:{x:T},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(v,u)}});return n.disposeIntermediateTensorInfo(T),C}return T}};var tr={kernelName:i.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.mode;(0,h.H)(a,"mirrorPad");for(var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=o.map((function(e,t){return e[0]+a.shape[t]})),f="reflect"===s?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,v=i.util.computeStrides(a.shape),m=i.util.sizeFromShape(u),g=u.length,y=i.util.computeStrides(u),b=i.util.getTypedArrayFromDType(a.dtype,m),x=0;x<m;x++){for(var k=i.util.indexToLoc(x,g,y),w=0;w<g;w++)k[w]<c[w]?k[w]=2*c[w]-k[w]-f:k[w]>=l[w]&&(k[w]=2*(l[w]-1)-k[w]+f);k=k.map((function(e,t){return e-c[t]}));var _=i.util.locToIndex(k,p,v);b[x]=d[_]}return{dataId:n.write(b,u,a.dtype),shape:u,dtype:a.dtype}}},nr=(0,$.b)((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),rr=(0,ee.j)(i.Mod,nr),ir={kernelName:i.Mod,backendName:"cpu",kernelFunc:rr},ar=n(96699);function or(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,s=a.shape.length,u=o;if(-1===u&&(u=s-1),u!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(u));var c=i.util.parseAxisParam([u],a.shape),l=Gn({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),f=i.backend_util.expandShapeToKeepDim(l.shape,c),d=Ae({inputs:{x:l},backend:n,attrs:{shape:f}}),p=(0,ue.lu)({inputs:{a:a,b:d},backend:n}),h=(0,S.Qq)({inputs:{x:p},backend:n}),v=Kt({inputs:{x:h},backend:n,attrs:{axis:c,keepDims:!1}}),m=Ae({inputs:{x:v},backend:n,attrs:{shape:f}}),g=ln({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}var sr={kernelName:i.Softmax,backendName:"cpu",kernelFunc:or};var ur={kernelName:i.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,s=r.seed,u=r.normalized;(0,h.H)(a,"multinomial");for(var c=u?a:or({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],f=c.shape[1],d=n.data.get(c.dataId).values,p=[l,o],v=i.util.makeZerosTypedArray(i.util.sizeFromShape(p),"int32"),m=0;m<l;++m){var g=m*f,y=new Float32Array(f-1);y[0]=d[g];for(var b=1;b<y.length;++b)y[b]=y[b-1]+d[g+b];for(var x=ar.alea(s.toString()),k=m*o,w=0;w<o;++w){var _=x();v[k+w]=y.length;for(var S=0;S<y.length;S++)if(_<y[S]){v[k+w]=S;break}}}return u||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(p,"int32",v)}},cr=i.kernel_impls.nonMaxSuppressionV3Impl;var lr={kernelName:i.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;(0,h.H)(i,"NonMaxSuppression");var c=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,f=cr(c,l,o,s,u).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},fr=i.kernel_impls.nonMaxSuppressionV4Impl;var dr={kernelName:i.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize;(0,h.H)(i,"NonMaxSuppressionPadded");var l=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,d=fr(l,f,o,s,u,c),p=d.selectedIndices,v=d.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},pr=i.kernel_impls.nonMaxSuppressionV5Impl;var hr={kernelName:i.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma;(0,h.H)(i,"NonMaxSuppressionWithScore");var l=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,d=pr(l,f,o,s,u,c),p=d.selectedIndices,v=d.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}};var vr={kernelName:i.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.dtype,s=r.depth,u=r.onValue,c=r.offValue;(0,h.H)(a,"oneHot");var l=i.util.sizeFromShape(a.shape),f=new Float32Array(l*s);f.fill(c);for(var d=n.data.get(a.dataId).values,p=0;p<l;++p)d[p]>=0&&d[p]<s&&(f[p*s+d[p]]=u);return n.makeTensorInfo([].concat((0,Ut.Z)(a.shape),[s]),o,f)}};function mr(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var i=(0,yt.k)({inputs:{input:r},backend:n}),a=mr({inputs:{x:i},backend:n}),o=mt({inputs:{input:r},backend:n}),s=mr({inputs:{x:o},backend:n}),u=(0,ht.P)({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return mn({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var gr={kernelName:i.ZerosLike,backendName:"cpu",kernelFunc:mr};var yr={kernelName:i.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){var a=(0,yt.k)({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=mt({inputs:{input:i},backend:r}),u=mr({inputs:{x:s},backend:r}),c=(0,ht.P)({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return mn({backend:r,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function br(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return sn({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){i.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),i.util.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],u=bt({inputs:t.map((function(e){var t=sn({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),backend:n,attrs:{axis:r}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var xr={kernelName:i.Pack,backendName:"cpu",kernelFunc:br};var kr={kernelName:i.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.constantValue;(0,h.H)(a,"pad");var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,f=i.util.sizeFromShape(a.shape),d=a.shape.length,p=i.util.computeStrides(a.shape),v=i.util.sizeFromShape(u),m=u.length,g=i.util.computeStrides(u),y=i.util.getTypedArrayFromDType(a.dtype,v);0!==s&&y.fill(s);for(var b=0;b<f;b++){var x=i.util.indexToLoc(b,d,p).map((function(e,t){return e+c[t]}));y[i.util.locToIndex(x,m,g)]=l[b]}return{dataId:n.write(y,u,a.dtype),shape:u,dtype:a.dtype}}},wr=(0,$.b)((function(e,t){return Math.pow(e,t)})),_r=(0,ee.j)(i.Pow,wr),Sr={kernelName:i.Pow,backendName:"cpu",kernelFunc:_r};var Tr={kernelName:i.RaggedGather,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.paramsNestedSplits,a=t.paramsDenseValues,o=t.indices,s=r.outputRaggedRank,u=i.map((function(e){return n.data.get(e.dataId).values})),c=i.map((function(e){return e.shape})),l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,d=(0,V.c)(u,c,l,a.shape,a.dtype,f,o.shape,s),p=(0,xe.Z)(d,3),h=p[0],v=p[1],m=p[2],g=h.map((function(e){return n.makeTensorInfo([e.length],"int32",e)})),y=n.makeTensorInfo(m,a.dtype,v);return g.concat([y])}};var Cr={kernelName:i.RaggedTensorToTensor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.shape,a=t.values,o=t.defaultValue,s=t.rowPartitionTensors,u=r.rowPartitionTypes,c=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,d=s.map((function(e){return n.data.get(e.dataId).values})),p=s.map((function(e){return e.shape})),h=(0,z.p)(c,i.shape,l,a.shape,a.dtype,f,o.shape,d,p,u),v=(0,xe.Z)(h,2),m=v[0],g=v[1];return n.makeTensorInfo(m,a.dtype,g)}};var Er={kernelName:i.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.dtype,o=n.step,s=(0,W.b)(r,i,o,a);return t.makeTensorInfo([s.length],a,s)}},Or=(0,he.A)(i.Reciprocal,(function(e){return 1/e})),Ar={kernelName:i.Reciprocal,backendName:"cpu",kernelFunc:Or};var Ir={kernelName:i.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,h.H)(a,"resizeBilinear");for(var c=i.util.computeStrides(a.shape),l=(0,xe.Z)(u,2),f=l[0],d=l[1],p=(0,xe.Z)(a.shape,4),v=p[0],m=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,x=new Float32Array(i.util.sizeFromShape([v,f,d,y])),k=[o&&f>1?m-1:m,o&&d>1?g-1:g],w=[o&&f>1?f-1:f,o&&d>1?d-1:d],_=0,S=k[0]/w[0],T=k[1]/w[1],C=0;C<v;C++)for(var E=0;E<f;E++){var O=void 0;O=s?S*(E+.5)-.5:S*E;for(var A=Math.max(0,Math.floor(O)),I=O-A,R=Math.min(m-1,Math.ceil(O)),N=C*c[0]+A*c[1],P=C*c[0]+R*c[1],M=0;M<d;M++){var D=void 0;D=s?T*(M+.5)-.5:T*M;for(var j=Math.max(0,Math.floor(D)),L=D-j,F=Math.min(g-1,Math.ceil(D)),Z=N+j*c[2],B=P+j*c[2],U=N+F*c[2],V=P+F*c[2],z=0;z<y;z++){var W=b[Z+z],H=b[B+z],G=W+(b[U+z]-W)*L,q=G+(H+(b[V+z]-H)*L-G)*I;x[_++]=q}}}return n.makeTensorInfo([v,f,d,y],"float32",x)}};var Rr={kernelName:i.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,s=r.alignCorners;(0,h.H)([o,a],"resizeBilinearGrad");for(var u=i.util.computeStrides(a.shape),c=(0,xe.Z)(a.shape,4),l=c[0],f=c[1],d=c[2],p=c[3],v=(0,xe.Z)(o.shape,3),m=v[1],g=v[2],y=new Float32Array(l*f*d*p),b=[s&&m>1?f-1:f,s&&g>1?d-1:d],x=[s&&m>1?m-1:m,s&&g>1?g-1:g],k=b[0]/x[0],w=b[1]/x[1],_=n.data.get(o.dataId).values,S=0,T=0;T<l;T++)for(var C=T*u[0],E=0;E<m;E++)for(var O=E*k,A=Math.floor(O),I=Math.min(Math.ceil(O),f-1),R=C+A*u[1],N=C+I*u[1],P=O-A,M=1-P,D=0;D<g;D++)for(var j=D*w,L=Math.floor(j),F=Math.min(Math.ceil(j),d-1),Z=j-L,B=1-Z,U=R+L*u[2],V=R+F*u[2],z=N+L*u[2],W=N+F*u[2],H=M*B,G=M*Z,q=P*B,K=P*Z,Y=0;Y<p;Y++){var X=_[S++];y[U+Y]+=X*H,y[V+Y]+=X*G,y[z+Y]+=X*q,y[W+Y]+=X*K}return n.makeTensorInfo([l,d,f,p],"float32",y)}};var Nr={kernelName:i.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,h.H)(a,"resizeNearestNeighbor");for(var c=i.util.computeStrides(a.shape),l=(0,xe.Z)(u,2),f=l[0],d=l[1],p=(0,xe.Z)(a.shape,4),v=p[0],m=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,x=new Float32Array(v*f*d*y),k=[o&&f>1?m-1:m,o&&d>1?g-1:g],w=[o&&f>1?f-1:f,o&&d>1?d-1:d],_=k[0]/w[0],S=k[1]/w[1],T=0,C=0;C<v;C++)for(var E=C*c[0],O=0;O<f;O++){var A=s?_*(O+.5):_*O,I=Math.min(m-1,o?Math.round(A):Math.floor(A));s&&(I=Math.max(0,I));for(var R=E+I*c[1],N=0;N<d;N++){var P=s?S*(N+.5):S*N,M=Math.min(g-1,o?Math.round(P):Math.floor(P));s&&(M=Math.max(0,M));for(var D=R+M*c[2],j=0;j<y;j++){var L=b[D+j];x[T++]=L}}}return n.makeTensorInfo([v,f,d,y],a.dtype,x)}};var Pr={kernelName:i.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,s=r.alignCorners;(0,h.H)([o,a],"resizeNearestNeighborGrad");for(var u=i.util.computeStrides(a.shape),c=i.util.computeStrides(o.shape),l=(0,xe.Z)(a.shape,4),f=l[0],d=l[1],p=l[2],v=l[3],m=(0,xe.Z)(o.shape,3),g=m[1],y=m[2],b=new Float32Array(f*d*p*v),x=n.data.get(o.dataId).values,k=[s&&g>1?d-1:d,s&&y>1?p-1:p],w=[s&&g>1?g-1:g,s&&y>1?y-1:y],_=k[0]/w[0],S=k[1]/w[1],T=1/_,C=1/S,E=2*Math.ceil(T)+2,O=2*Math.ceil(C)+2,A=0;A<f;A++)for(var I=A*u[0],R=0;R<d;R++)for(var N=I+R*u[1],P=Math.floor(R*T),M=Math.floor(P-E/2),D=0;D<p;D++)for(var j=N+D*u[2],L=Math.floor(D*C),F=Math.floor(L-O/2),Z=0;Z<v;Z++){for(var B=0,U=0;U<E;U++){var V=U+M;if(!(V<0||V>=g)){var z=I+V*c[1],W=V*_;if(R===Math.min(d-1,s?Math.round(W):Math.floor(W)))for(var H=0;H<O;H++){var G=H+F;if(!(G<0||G>=y)){var q=z+G*c[2],K=G*S;D===Math.min(p-1,s?Math.round(K):Math.floor(K))&&(B+=x[q+Z])}}}}b[j+Z]=B}return n.makeTensorInfo(a.shape,a.dtype,b)}};var Mr={kernelName:i.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims;(0,h.H)(a,"reverse");var s=a.shape.length,u=i.util.parseAxisParam(o,a.shape);if(0===s)return(0,ge.y)({inputs:{x:a},backend:n});for(var c=new i.TensorBuffer(a.shape,a.dtype),l=n.bufferSync(a),f=function(){var e=c.indexToLoc(d),t=e.slice();u.forEach((function(e){return t[e]=a.shape[e]-1-t[e]})),c.set.apply(c,[l.get.apply(l,(0,Ut.Z)(t))].concat((0,Ut.Z)(e)))},d=0;d<c.size;d++)f();return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Dr={kernelName:i.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,s=n.fillValue,u=n.center,c=r,l=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(a.shape)),f=(0,xe.Z)(a.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=i.backend_util.getImageCenter(u,p,h),g=(0,xe.Z)(m,2),y=g[0],b=g[1],x=Math.sin(o),k=Math.cos(o),w=c.data.get(a.dataId).values,_=0;_<d;_++)for(var S=_*h*p*v,T=0;T<p;T++)for(var C=T*(h*v),E=0;E<h;E++)for(var O=E*v,A=0;A<v;A++){var I=[d,T,E,A],R=I[2],N=I[1],P=(R-y)*k-(N-b)*x,M=(R-y)*x+(N-b)*k;P=Math.round(P+y),M=Math.round(M+b);var D=s;if("number"!==typeof s&&(D=3===A?255:s[A]),P>=0&&P<h&&M>=0&&M<p)D=w[S+M*(h*v)+P*v+A];l[S+C+O+A]=D}return{dataId:c.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},jr=(0,he.A)(i.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Lr={kernelName:i.Round,backendName:"cpu",kernelFunc:jr};var Fr={kernelName:i.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,s=r.shape,u=i.backend_util.calculateShapes(o,a,s),c=u.sliceRank,l=u.numUpdates,f=u.sliceSize,d=u.strides,p=u.outputSize,h=n.bufferSync(a),v=n.bufferSync(o),m=(0,G.N)(h,v,s,p,f,l,c,d,0,!0);return n.makeTensorInfo(s,m.dtype,m.values)}};function Zr(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<t?n=i+1:r=i;return r}function Br(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<=t?n=i+1:r=i;return r}var Ur={kernelName:i.SearchSorted,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,o=t.values,s=r.side,u=function(e,t,n,r,a,o){for(var s=i.util.getArrayFromDType("int32",n*a),u=0;u<n;++u)for(var c=e.slice(u*r,(u+1)*r),l=u*a,f=0;f<a;++f)s[l+f]="left"===o?Zr(c,t[f+l]):Br(c,t[f+l]);return s}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",u)}};var Vr={kernelName:i.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e;(0,h.H)([r,a,o],"select");for(var s=r.shape.length,u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,f=(0,i.upcastType)(a.dtype,o.dtype),d=i.util.makeZerosTypedArray(i.util.sizeFromShape(a.shape),f),p=0,v=0===s||s>1||1===a.shape.length?1:i.util.sizeFromShape(a.shape.slice(1)),m=0;m<u.length;m++)for(var g=0;g<v;g++)1===u[m]?d[p++]=c[m]:d[p++]=l[m];return n.makeTensorInfo(a.shape,f,d)}},zr=i.backend_util.SELU_SCALEALPHA,Wr=i.backend_util.SELU_SCALE,Hr=(0,he.A)(i.Selu,(function(e){return e>=0?Wr*e:zr*(Math.exp(e)-1)})),Gr={kernelName:i.Selu,backendName:"cpu",kernelFunc:Hr},qr=(0,he.A)(i.Sign,(function(e){return e<0?-1:e>0?1:0})),Kr={kernelName:i.Sign,backendName:"cpu",kernelFunc:qr},Yr=(0,he.A)(i.Sin,(function(e){return Math.sin(e)})),Xr={kernelName:i.Sin,backendName:"cpu",kernelFunc:Yr},Qr=(0,he.A)(i.Sinh,(function(e){return Math.sinh(e)})),Jr={kernelName:i.Sinh,backendName:"cpu",kernelFunc:Qr},$r=Math.log(1.1920928955078125e-7)+2,ei=(0,he.A)(i.Softplus,(function(e){var t=e>-$r,n=e<$r,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),ti={kernelName:i.Softplus,backendName:"cpu",kernelFunc:ei};var ni={kernelName:i.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.paddings;(0,h.H)([a],"spaceToBatchND");var u=i.util.sizeFromShape(o),c=[[0,0]];c.push.apply(c,(0,Ut.Z)(s));for(var l=1+o.length;l<a.shape.length;++l)c.push([0,0]);var f=kr.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),d=i.backend_util.getReshaped(f.shape,o,u,!1),p=i.backend_util.getPermuted(d.length,o.length,!1),v=i.backend_util.getReshapedPermuted(f.shape,o,u,!1),m=Ae({inputs:{x:f},backend:n,attrs:{shape:d}}),g={x:m},y={perm:p},b=(0,Ze.p)({inputs:g,backend:n,attrs:y}),x=Ae({inputs:{x:b},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),x}};var ri={kernelName:i.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values[0],f=(0,Y.c)(s,r.shape,r.dtype,u,i.dtype,c,l),d=(0,xe.Z)(f,5),p=d[0],h=d[1],v=d[2],m=d[3],g=d[4];return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([h[0]],i.dtype,v),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var ii={kernelName:i.SparseReshape,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.data.get(i.dataId).values),s=n.data.get(r.dataId).values,u=Array.from(n.data.get(a.dataId).values),c=(0,X.U)(s,r.shape,r.dtype,o,u),l=(0,xe.Z)(c,3),f=l[0],d=l[1],p=l[2];return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([p.length],a.dtype,new Int32Array(p))]}};var ai={kernelName:i.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,Q.V)(o,r.shape,r.dtype,s,u,!0),l=(0,xe.Z)(c,2),f=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,f)}};var oi={kernelName:i.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,Q.V)(o,r.shape,r.dtype,s,u),l=(0,xe.Z)(c,2),f=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,f)}};var si={kernelName:i.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.sparseIndices,s=n.sparseValues,u=n.defaultValue,c=a.outputShape,l=i.backend_util.calculateShapes(s,o,c),f=l.sliceRank,d=l.numUpdates,p=l.sliceSize,h=l.strides,v=l.outputSize,m=!1,g=r.bufferSync(o);switch(s.dtype){case"bool":var y=r.bufferSync(s),b=Boolean(r.data.get(u.dataId).values[0]);t=(0,G.N)(g,y,c,v,p,d,f,h,b,m);break;case"float32":var x=r.bufferSync(s),k=r.data.get(u.dataId).values[0];t=(0,G.N)(g,x,c,v,p,d,f,h,k,m);break;case"int32":var w=r.bufferSync(s),_=r.data.get(u.dataId).values[0];t=(0,G.N)(g,w,c,v,p,d,f,h,_,m);break;case"string":var S=r.bufferSync(s),T=i.util.decodeString(r.data.get(u.dataId).values[0]);t=(0,G.N)(g,S,c,v,p,d,f,h,T,m);break;default:throw new Error("Unsupported type ".concat(s.dtype))}return r.makeTensorInfo(c,t.dtype,t.values)}};var ui={kernelName:i.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,s=r.axis,u=i.util.parseAxisParam(s,a.shape)[0],c=i.backend_util.prepareSplitSize(a,o,u),l=new Array(a.shape.length).fill(0),f=a.shape.slice();return c.map((function(e){var t=(0,Ut.Z)(f);t[u]=e;var r=(0,K.tP)({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[u]+=e,r}))}},ci={kernelName:i.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;(0,h.H)(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},li=(0,he.A)(i.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),fi={kernelName:i.Step,backendName:"cpu",kernelFunc:li};var di={kernelName:i.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,s=r.end,u=r.strides,c=r.beginMask,l=r.endMask,f=r.ellipsisMask,d=r.newAxisMask,p=r.shrinkAxisMask;(0,h.H)(a,"stridedSlice");var v,m=i.slice_util.sliceInfo(a.shape,o,s,u,c,l,f,d,p),g=m.finalShapeSparse,y=m.finalShape,b=m.isIdentity,x=m.sliceDim0,k=m.isSimpleSlice,w=m.begin,_=m.end,S=m.strides;if(b)v=Ae({inputs:{x:a},backend:n,attrs:{shape:y}});else if(x||k){i.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var T=i.slice_util.computeOutShape(w,_,S),C=(0,K.tP)({inputs:{x:a},backend:n,attrs:{begin:w,size:T}});v=Ae({inputs:{x:C},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(C)}else{var E=n.bufferSync(a),O=(0,ie.t)(g,E,S,w);v=n.makeTensorInfo(y,O.dtype,O.values)}return v}};var pi={kernelName:i.StringNGrams,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,l=t.data,f=t.dataSplits,d=n.data.get(l.dataId).values,p=n.data.get(f.dataId).values,h=(0,ae.A)(d,p,i,a,o,s,u,c),v=(0,xe.Z)(h,2),m=v[0],g=v[1];return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(f.shape,"int32",g)]}};var hi={kernelName:i.StringSplit,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.data.get(i.dataId).values,s=n.data.get(a.dataId).values[0],u=(0,oe.Q)(o,s,r),c=(0,xe.Z)(u,3),l=c[0],f=c[1],d=c[2],p=f.length;return[n.makeTensorInfo([p,2],"int32",l),n.makeTensorInfo([p],"string",f),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};var vi={kernelName:i.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.data.get(i.dataId).values,o=(0,se.h)(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},mi=(0,he.A)(i.Tan,(function(e){return Math.tan(e)})),gi={kernelName:i.Tan,backendName:"cpu",kernelFunc:mi},yi=(0,he.A)(i.Tanh,(function(e){return Math.tanh(e)})),bi={kernelName:i.Tanh,backendName:"cpu",kernelFunc:yi};var xi={kernelName:i.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;(0,h.H)(i,"tile");var o=(0,ce.R)(n.bufferSync(i),a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}};var ki={kernelName:i.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted;(0,h.H)(i,"topk");var s=n.data.get(i.dataId).values,u=(0,le.W)(s,i.shape,i.dtype,a,o),c=(0,xe.Z)(u,2),l=c[0],f=c[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(f.shape,f.dtype,f.values)]}};var wi={kernelName:i.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=t.transforms,s=n.interpolation,u=n.fillMode,c=n.fillValue,l=n.outputShape,f=(0,xe.Z)(a.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=null!=l?l:[p,h],g=(0,xe.Z)(m,2),y=g[0],b=g[1],x=[d,y,b,v],k=i.util.computeStrides(a.shape),w=k[0],_=k[1],S=k[2],T=i.util.computeStrides(x),C=T[0],E=T[1],O=T[2],A=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(x));A.fill(c);for(var I=r.data.get(a.dataId).values,R=r.data.get(o.dataId).values,N=0;N<d;++N){for(var P=1===o.shape[0]?R:R.subarray(8*N,8*N+8),M=0;M<y;++M)for(var D=0;D<b;++D)for(var j=0;j<v;++j){var L=void 0,F=P[6]*D+P[7]*M+1;if(0!==F){var Z=(P[0]*D+P[1]*M+P[2])/F,B=(P[3]*D+P[4]*M+P[5])/F,U=_i(Z,h,u),V=_i(B,p,u);switch(s){case"nearest":L=Ti(I,p,h,w,_,S,N,V,U,j,c);break;case"bilinear":L=Ci(I,p,h,w,_,S,N,V,U,j,c);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}A[N*C+M*E+D*O+j]=L}}return r.makeTensorInfo(x,a.dtype,A)}return{dataId:r.write(A,x,a.dtype),shape:a.shape,dtype:a.dtype}}};function _i(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return i.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return i.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return i.util.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function Si(e,t,n,r,i,a,o,s,u,c,l){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*i+u*a+c]:l}function Ti(e,t,n,r,i,a,o,s,u,c,l){return Si(e,t,n,r,i,a,o,Math.round(s),Math.round(u),c,l)}function Ci(e,t,n,r,i,a,o,s,u,c,l){var f=Math.floor(s),d=Math.floor(u),p=f+1,h=d+1;return(p-s)*((h-u)*Si(e,t,n,r,i,a,o,f,d,c,l)+(u-d)*Si(e,t,n,r,i,a,o,f,h,c,l))+(s-f)*((h-u)*Si(e,t,n,r,i,a,o,p,d,c,l)+(u-d)*Si(e,t,n,r,i,a,o,p,h,c,l))}var Ei={kernelName:i.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;(0,h.H)(a,"unique");var o=r.data.get(a.dataId).values,s=(0,de.S)(o,i,a.shape,a.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,a.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var Oi={kernelName:i.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i.shape.length,s=i.shape[a],u=new Array(o-1),c=0,l=0;l<o;l++)l!==a&&(u[c++]=i.shape[l]);var f=new Array(o).fill(0),d=i.shape.slice();d[a]=1;for(var p=new Array(s),h=0;h<p.length;h++){f[a]=h;var v=(0,K.tP)({inputs:{x:i},backend:n,attrs:{begin:f,size:d}});p[h]=Ae({inputs:{x:v},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(v)}return p}};for(var Ai={kernelName:i.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,s=r.numSegments;(0,h.H)(a,"unsortedSegmentSum");for(var u=[],c=[],l=a.shape.length-o.shape.length,f=o,d=0;d<l;++d){var p=sn({inputs:{input:f},backend:n,attrs:{dim:d+1}});f=p,c.push(p)}for(var v=0;v<s;++v){var m=i.util.createScalarValue(v,"int32"),g=n.makeTensorInfo([],"int32",m),y=(0,_.Dg)({inputs:{a:g,b:f},backend:n}),b=(0,x.pj)({inputs:{x:y},backend:n,attrs:{dtype:"float32"}}),k=(0,F.Jp)({inputs:{a:b,b:a},backend:n}),w=Kt({inputs:{x:k},backend:n,attrs:{axis:0,keepDims:!1}});u.push(w),c.push(g),c.push(y),c.push(b),c.push(k),c.push(w)}var S=br({inputs:u,backend:n,attrs:{axis:0}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),S}},Ii=0,Ri=[Pe,g.fC,De,Le,y.j4,Fe,Be,Ue,Ve,ze,He,qe,Ye,Je,et,it,at,ot,st,Ne,ut,ct,lt,ft,x.Mq,k.y2,pt,ht.z,vt,xt,wt,_t,St,Tt,Ct,Et,At,Rt,Nt,Pt,Mt,Dt,jt,Ft,Zt,Bt,Vt,zt,Wt,Ht,Xt,me,Qt,_.Kx,on,S.SX,un,T.Vu,vn,gn,yn,C.Ao,kn,wn,_n,Sn,Tn,A.Ce,I.V,ge.I,Cn,gt,On,In,Nn,be,R.zh,N.m3,Pn,M.xM,Dn,Fn,Bn,zn,Wn,Hn,qn,j.eJ,Kn,Yn,Xn,Qn,Jn,$n,er,L.u0,tr,ir,ur,F.f$,Z.AF,lr,dr,hr,B.nP,vr,yr,xr,kr,Sr,_e,U.Iz,Tr,Cr,Er,yt.O,fn,Ar,Te,Ee,Ie,Ir,Rr,Nr,Pr,Mr,Dr,Lr,H.FY,Fr,Ur,Vr,Gr,q.BP,Kr,Xr,Jr,K.C6,sr,ti,ni,ri,ii,ai,oi,si,ui,J.cz,ci,re,fi,di,pi,hi,vi,ue.GR,Yt,gi,bi,xi,ki,wi,Ze.b,Ei,Oi,Ai,gr];Ii<Ri.length;Ii++){var Ni=Ri[Ii];(0,i.registerKernel)(Ni)}},96220:function(e,t,n){"use strict";n.d(t,{bk:function(){return a},fC:function(){return o}});var r=n(67519),i=n(23193);function a(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var o={kernelName:r.Abs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;(0,i.H)(t,"abs");var o=new Float32Array(r.util.sizeFromShape(t.shape));return o=a(n.data.get(t.dataId).values),n.makeOutput(o,t.shape,t.dtype)}}},25589:function(e,t,n){"use strict";n.d(t,{EH:function(){return o},IH:function(){return u},j4:function(){return c}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e+t})),s=(0,a.H)((function(e,t,n,r){return{real:e+n,imag:t+r}})),u=(0,a.j)(r.Add,o,s),c={kernelName:r.Add,backendName:"cpu",kernelFunc:u}},73737:function(e,t,n){"use strict";n.d(t,{W:function(){return i},i:function(){return a}});var r=n(67519);function i(e,t,n,i,a){for(var o=r.util.sizeFromShape(i),s=r.util.makeZerosTypedArray(a,n),u=0;u<e.length;u++){var c=e[u];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(s[c]+=o>0?t[u]:1)}return s}function a(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],s=(0,r.buffer)([a,n],t.dtype),u=0;u<a;u++)for(var c=0;c<o;c++){var l=e.get(u,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(i?s.set(1,u,l):t.size>0?s.set(s.get(u,l)+t.get(u,c),u,l):s.set(s.get(u,l)+1,u,l))}return s}},60570:function(e,t,n){"use strict";n.d(t,{Mq:function(){return d},pj:function(){return f},sJ:function(){return l}});var r=n(70885),i=n(67519),a=n(69341),o=n(94842),s=n(36545),u=n(59090),c=n(36241);function l(e,t,n,o){if("int32"===o)return[t,"int32",Int32Array.from(e)];if("bool"===o){var s=i.util.toTypedArray([0],n),u=(0,a.b)((function(e,t){return e!==t?1:0}))(t,[],e,s,"bool"),c=(0,r.Z)(u,2),l=c[0];return[c[1],"bool",l]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(o))}function f(e){var t=e.inputs,n=e.backend,a=e.attrs,d=t.x,p=a.dtype;if("complex64"===p){if("complex64"===d.dtype)return(0,u.y)({inputs:{x:d},backend:n});var h=(0,o.l)(n,d.shape,d.dtype),v=f({inputs:{x:d},backend:n,attrs:{dtype:"float32"}}),m=(0,s.P)({inputs:{real:v,imag:h},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),m}if("complex64"===d.dtype){var g=(0,c.k)({inputs:{input:d},backend:n}),y=f({inputs:{x:g},backend:n,attrs:{dtype:p}});return n.disposeIntermediateTensorInfo(g),y}if(!i.util.hasEncodingLoss(d.dtype,p)){var b=(0,u.y)({inputs:{x:d},backend:n});return{dataId:b.dataId,shape:b.shape,dtype:p}}var x=l(n.data.get(d.dataId).values,d.shape,d.dtype,p),k=(0,r.Z)(x,3),w=k[0],_=k[1],S=k[2];return n.makeTensorInfo(w,_,S)}var d={kernelName:i.Cast,backendName:"cpu",kernelFunc:f}},94351:function(e,t,n){"use strict";n.d(t,{__:function(){return o},y2:function(){return u}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.ceil(e)})),s=(0,a.O)(r.Ceil,o),u={kernelName:r.Ceil,backendName:"cpu",kernelFunc:s}},36545:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(i.shape,"float32",o)},s}n.d(t,{P:function(){return r},z:function(){return i}});var i={kernelName:n(67519).Complex,backendName:"cpu",kernelFunc:r}},46563:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(67519);function i(e,t,n,i){var a=r.util.getArrayFromDType(n,r.util.sizeFromShape(t));if(i&&"string"!==n){var o=0;e.forEach((function(e){var t=r.util.sizeFromShape(e.shape);a.set(e.vals,o),o+=t}))}else{var s=0;e.forEach((function(e){for(var i="string"===n?r.backend_util.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var c=u*t[1]+s,l=0;l<e.shape[1];++l)a[c+l]=i[o++];s+=e.shape[1]}))}return a}},68116:function(e,t,n){"use strict";n.d(t,{Dg:function(){return s},Kx:function(){return u},tW:function(){return o}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e===t?1:0})),s=(0,a.j)(r.Equal,o,null,"bool"),u={kernelName:r.Equal,backendName:"cpu",kernelFunc:s}},66880:function(e,t,n){"use strict";n.d(t,{Qq:function(){return s},Ro:function(){return o},SX:function(){return u}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.exp(e)})),s=(0,a.O)(r.Exp,o,"float32"),u={kernelName:r.Exp,backendName:"cpu",kernelFunc:s}},21354:function(e,t,n){"use strict";n.d(t,{OF:function(){return o},Vu:function(){return u}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.expm1(e)})),s=(0,a.O)(r.Expm1,o),u={kernelName:r.Expm1,backendName:"cpu",kernelFunc:s}},97224:function(e,t,n){"use strict";n.d(t,{Ao:function(){return u},r6:function(){return o}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.floor(e)})),s=(0,a.O)(r.Floor,o),u={kernelName:r.Floor,backendName:"cpu",kernelFunc:s}},34351:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(42982),i=n(67519);function a(e,t,n,a,o,s,u,c,l){for(var f=(0,i.buffer)([a,s],n),d=0;d<a;d++){for(var p=[],h=0,v=0;v<o;v++){var m=e[d*o+v];h+=m*u[v],p.push(m)}if(h<0||h>=l/s)throw new Error("Invalid indices: ".concat(p," does not index into ").concat(c));for(var g=0;g<s;g++)f.values[d*s+g]=t.get.apply(t,(0,r.Z)(t.indexToLoc(h*s+g)))}return f}},82666:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(67519);function i(e,t,n){for(var i=(0,r.buffer)(n,e.dtype),a=0;a<i.size;++a){var o=i.indexToLoc(a).slice(),s=o[0],u=o[2],c=t.locToIndex([s,u]);o[2]=t.values[c];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(i.values[a]=e.values[l])}return i}},69075:function(e,t,n){"use strict";n.d(t,{Ce:function(){return u},o:function(){return o}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>t?1:0})),s=(0,a.j)(r.Greater,o,null,"bool"),u={kernelName:r.Greater,backendName:"cpu",kernelFunc:s}},26985:function(e,t,n){"use strict";n.d(t,{HL:function(){return o},V:function(){return u}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>=t?1:0})),s=(0,a.j)(r.GreaterEqual,o,null,"bool"),u={kernelName:r.GreaterEqual,backendName:"cpu",kernelFunc:s}},59090:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}n.d(t,{I:function(){return i},y:function(){return r}});var i={kernelName:n(67519).Identity,backendName:"cpu",kernelFunc:r}},39813:function(e,t,n){"use strict";n.d(t,{rO:function(){return o},zh:function(){return u}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<t?1:0})),s=(0,a.j)(r.Less,o,null,"bool"),u={kernelName:r.Less,backendName:"cpu",kernelFunc:s}},18734:function(e,t,n){"use strict";n.d(t,{lx:function(){return o},m3:function(){return u}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<=t?1:0})),s=(0,a.j)(r.LessEqual,o,null,"bool"),u={kernelName:r.LessEqual,backendName:"cpu",kernelFunc:s}},21491:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(67519);function i(e,t,n){var i=(t-e)/(n-1),a=r.util.makeZerosTypedArray(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+i;return a}},68298:function(e,t,n){"use strict";n.d(t,{vX:function(){return o},xM:function(){return u}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.log(e)})),s=(0,a.O)(r.Log,o),u={kernelName:r.Log,backendName:"cpu",kernelFunc:s}},4771:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(67519);function i(e,t,n,i){for(var a=r.util.getTypedArrayFromDType(i,r.util.sizeFromShape(n)),o=0;o<a.length;++o){for(var s=o*t,u=e[s],c=0;c<t;++c){var l=e[s+c];(Number.isNaN(l)||l>u)&&(u=l)}a[o]=u}return a}},89518:function(e,t,n){"use strict";n.d(t,{eJ:function(){return u},wS:function(){return o}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.max(e,t)})),s=(0,a.j)(r.Maximum,o),u={kernelName:r.Maximum,backendName:"cpu",kernelFunc:s}},38094:function(e,t,n){"use strict";n.d(t,{u0:function(){return u},vP:function(){return o}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.min(e,t)})),s=(0,a.j)(r.Minimum,o),u={kernelName:r.Minimum,backendName:"cpu",kernelFunc:s}},18244:function(e,t,n){"use strict";n.d(t,{$3:function(){return o},Jp:function(){return u},f$:function(){return c}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e*t})),s=(0,a.H)((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),u=(0,a.j)(r.Multiply,o,s),c={kernelName:r.Multiply,backendName:"cpu",kernelFunc:u}},54569:function(e,t,n){"use strict";n.d(t,{AF:function(){return u},uC:function(){return s}});var r=n(70885),i=n(67519),a=n(23193),o=n(18244);function s(e,t,n){var r=i.util.createScalarValue(-1,n);return(0,o.$3)([],t,r,e,n)}var u={kernelName:i.Neg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=t.x;(0,a.H)(i,"neg");var o=s(n.data.get(i.dataId).values,i.shape,i.dtype),u=(0,r.Z)(o,2),c=u[0],l=u[1];return n.makeTensorInfo(l,i.dtype,c)}}},21566:function(e,t,n){"use strict";n.d(t,{Gj:function(){return o},nP:function(){return u}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e!==t?1:0})),s=(0,a.j)(r.NotEqual,o,null,"bool"),u={kernelName:r.NotEqual,backendName:"cpu",kernelFunc:s}},89120:function(e,t,n){"use strict";n.d(t,{Iz:function(){return u},Qg:function(){return s}});var r=n(70885),i=n(67519),a=n(23193),o=n(65257);function s(e,t,n,a){for(var o=i.backend_util.computeOutAndReduceShapes(e,a),s=(0,r.Z)(o,2),u=s[0],c=s[1],l=(0,i.upcastType)(t,"int32"),f=i.util.makeZerosTypedArray(i.util.sizeFromShape(u),l),d=i.util.sizeFromShape(c),p=0;p<f.length;++p){for(var h=p*d,v=1,m=0;m<d;++m)v*=n[h+m];f[p]=v}return{outVals:f,outShape:u,outDtype:l}}var u={kernelName:i.Prod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,u=t.x,c=r.axis,l=r.keepDims;(0,a.H)(u,"prod");var f=u.shape.length,d=i.util.parseAxisParam(c,u.shape),p=i.backend_util.getAxesPermutation(d,f),h=d,v=u,m=[];null!=p&&(v=(0,o.p)({inputs:{x:u},backend:n,attrs:{perm:p}}),m.push(v),h=i.backend_util.getInnerMostAxes(h.length,f));var g=n.data.get(v.dataId).values,y=s(v.shape,v.dtype,g,h),b=y.outVals,x=y.outShape,k=y.outDtype,w=x;return l&&(w=i.backend_util.expandShapeToKeepDim(x,d)),m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(w,k,b)}}},82376:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var r=n(37762),i=n(67519);function a(e,t,n,r){var i=[],a=0,o=t.length-1+n.length,s=new Array(o).fill(null).map((function(){return[0]}));!function(e,t){for(var n=0;n<e.length;++n){var r=e[n],i=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>i)throw new Error("Ragged splits must not point past values");for(var a=1;a<r.length;++a)if(r[a-1]>r[a])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);for(var u=1,c=0;c<t.length-1;++c){u*=t[c];for(var l=t[c+1],f=1;f<u+1;++f)s[c].push(f*l)}for(var d=0;d<e.length;++d){for(var p=e[d],h=e[d]+1,v=0;v<n.length;++v){var m=n[v],g=v+t.length-1;if(g>=0)for(var y=s[g],b=y[y.length-1]-m[p],x=p;x<h;++x)s[g].push(m[x+1]+b);p=m[p],h=m[h]}h!==p&&(i.push([p,h]),a+=h-p)}return{outSplits:s,valueSlices:i,numValues:a}}function o(e,t){for(var n=e.slice(0,t);n.length<t;)n.push(1);for(var r=t;r<e.length;r++)n[t-1]*=e[r];return n}function s(e,t,n,a,s){var u=t.slice();u[0]=s;var c=i.util.getArrayFromDType(n,i.util.sizeFromShape(u)),l=e.length;return function(e,t,n,i,a,s){var u,c=o(t,2)[1],l=o(s,2)[1],f=0,d=(0,r.Z)(n);try{for(d.s();!(u=d.n()).done;)for(var p=u.value,h=p[0];h<p[1];++h){for(var v=0;v<i;++v)a[f*l+v]=e[h*c+v];++f}}catch(m){d.e(m)}finally{d.f()}}(e,t,a,0===l?0:l/t[0],c,u),[c,u]}function u(e,t,n,r,o,u,c,l){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach((function(e,r){if(e<0||e>=n){var a=i.util.indexToLoc(r,t.length,i.util.computeStrides(t)).join(",");throw new Error("indices[".concat(a,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(u,c,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");var f=a(u,c,e,r[0]),d=f.outSplits,p=f.valueSlices,h=f.numValues,v=function(e){for(var t=[],n=function(){var n=e[r].length,a=i.util.getArrayFromDType("int32",n);t.push(a),e[r].forEach((function(e,t){return a[t]=e}))},r=0;r<e.length;++r)n();return t}(d),m=s(n,r,o,p,h);return[v,m[0],m[1]]}},76846:function(e,t,n){"use strict";n.d(t,{p:function(){return f}});var r=n(37762),i=n(15671),a=n(43144),o=n(67519),s=o.backend_util.RowPartitionType,u=function(){function e(t,n,r,a,s,u,c,l,f,d){(0,i.Z)(this,e),this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=s,this.defaultValue=u,this.defaultValueShape=c,this.rowPartitionValues=l,this.rowPartitionValuesShapes=f,this.rowPartitionTypes=o.backend_util.getRowPartitionTypesHelper(d),this.raggedRank=o.backend_util.getRaggedRank(this.rowPartitionTypes)}return(0,a.Z)(e,[{key:"getRowPartitionTypeByDimension",value:function(e){return this.rowPartitionTypes[0]===s.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}},{key:"getRowPartitionTensor",value:function(e){return this.rowPartitionTypes[0]===s.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}},{key:"getMaxWidth",value:function(t){var n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case s.VALUE_ROWIDS:return e.getMaxWidthValueRowID(n);case s.ROW_SPLITS:return e.getMaxWidthRowSplit(n);default:throw new Error("Cannot handle partition type ".concat(s[this.getRowPartitionTypeByDimension(t-1)]))}}},{key:"tensorShapeFromTensor",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return l(e,n)}},{key:"calculateOutputSize",value:function(e){var t=this.valuesShape,n=this.defaultValueShape;o.backend_util.validateDefaultValueShape(n,t);var r=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=o.backend_util.combineRaggedTensorToTensorShapes(this.raggedRank,r,t);i[0]<0&&(i[0]=e);for(var a=1;a<=this.raggedRank;++a)i[a]<0&&(i[a]=this.getMaxWidth(a));return i}},{key:"calculateFirstParentOutputIndex",value:function(e,t,n){for(var r=Math.min(e,n),i=[],a=0,s=0;s<r;++s,a+=t)i.push(a);for(var u=r;u<e;++u)i.push(-1);return o.util.assert(i.length===e,(function(){return"Final length of result must be equal to firstDimension."})),i}},{key:"calculateOutputIndexRowSplit",value:function(e,t,n,r){for(var i=e.length,a=[],o=0;o<i-1;++o){var s=e[o+1]-e[o],u=Math.min(r,s),c=t[o];-1===c&&(u=0);for(var l=0;l<u;++l)a.push(c),c+=n;for(var f=0;f<s-u;++f)a.push(-1)}if(i>0&&a.length!==e[i-1])throw new Error("Invalid row split size.");return a}},{key:"calculateOutputIndexValueRowID",value:function(e,t,n,r){var i=e.length,a=[];if(0===i)return[];var o=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));var u=t[s];a.push(u);for(var c=1;c<i;++c){var l=e[c];if(l===s)u>=0&&(++o<r?u+=n:u=-1);else{if(o=0,s=l,l>=t.length)throw new Error("Got nextValueRowId=".concat(l," which is not less than ").concat(t.length));u=t[l]}a.push(u)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}},{key:"calculateOutputIndex",value:function(e,t,n,r){var i=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case s.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,t,n,r);case s.ROW_SPLITS:if(i.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(i.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(i,t,n,r);default:throw new Error("Unsupported partition type: ".concat(s[a]))}}},{key:"getFirstDimensionSize",value:function(){var e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");var t=this.rowPartitionTypes[0];switch(t){case s.FIRST_DIM_SIZE:return e[0];case s.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case s.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(s[t]))}}},{key:"compute",value:function(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");var e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(var r=n.length-2;r>=0;--r)n[r]=n[r+1]*t[r+1];var i=l(t,!1),a=o.util.getArrayFromDType(this.valuesDType,o.util.sizeFromShape(i));if(n[0]*t[0]>0){for(var s=this.calculateFirstParentOutputIndex(e,n[0],t[0]),u=1;u<=this.raggedRank;++u){s=this.calculateOutputIndex(u-1,s,n[u],t[u])}this.setOutput(this.raggedRank,s,a,i)}return[i,a]}},{key:"setOutput",value:function(e,t,n,r){if(0!==n.length){var i=this.values,a=n,s=r.slice();s=s.slice(e+1);var u=o.util.sizeFromShape(s),l=t.length,f=this.defaultValue;if(f.length!==u&&1!==f.length){var d=this.defaultValueShape;(0,o.tidy)((function(){var e=(0,o.reshape)(f,d),t=(0,o.broadcastTo)(e,s);f=t.dataSync()}))}for(var p=0,h=0,v=0,m=0;m<=l;++m){var g=m<l?t[m]:-1;if(g!==v){if(h<v){var y=i.subarray(p*u);c(a.subarray(h*u),y,(v-h)*u)}if(m>=l){var b=n.length;g=Math.floor(b/u)}if(g>v)if(1===this.defaultValue.length)a.subarray(v*u,g*u).fill(this.defaultValue[0]),v=g;else for(;g>v;){c(a.slice(v*u),f,u),++v}g<0?(p=m+1,h=v):(p=m,v=(h=v)+1)}else++v}}}}],[{key:"getMaxWidthRowSplit",value:function(e){var t=e.length;if(0===t||1===t)return 0;for(var n=0,r=0;r<t-1;++r){var i=e[r+1]-e[r];i>n&&(n=i)}return n}},{key:"getMaxWidthValueRowID",value:function(e){var t=e.length;if(0===t)return 0;for(var n=0,r=e[0],i=0,a=1;a<t;++a){var o=e[a];o!==r&&(r=o,i=Math.max(a-n,i),n=a)}return Math.max(t-n,i)}}]),e}();function c(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function l(e,t){var n,i=[],a=(0,r.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o<0){if(!t)throw new Error("Dimension ".concat(o," must be >= 0"));if(o<-1)throw new Error("Dimension ".concat(o," must be >= -1"));o=-1}i.push(o)}}catch(s){a.e(s)}finally{a.f()}return i}function f(e,t,n,r,i,a,o,s,c,l){return new u(e,t,n,r,i,a,o,s,c,l).compute()}},66284:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(67519);function i(e,t,n,i){if(e===t||e<t&&n<0||t<e&&n>1)return r.util.makeZerosTypedArray(0,i);var a=Math.abs(Math.ceil((t-e)/n)),o=r.util.makeZerosTypedArray(a,i);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}},36241:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}n.d(t,{O:function(){return i},k:function(){return r}});var i={kernelName:n(67519).Real,backendName:"cpu",kernelFunc:r}},78105:function(e,t,n){"use strict";n.d(t,{FY:function(){return u},zd:function(){return o}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/Math.sqrt(e)})),s=(0,a.O)(r.Rsqrt,o),u={kernelName:r.Rsqrt,backendName:"cpu",kernelFunc:s}},28567:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(67519);function i(e,t,n,i,a,o,s,u,c,l){var f=[i/a,a],d=e.values,p=t.values;if(0===i)return(0,r.buffer)(n,t.dtype);var h=(0,r.buffer)(f,t.dtype);"string"===typeof c||"number"===typeof c?h.values.fill(c):"boolean"===typeof c&&h.values.fill(+c);for(var v=0;v<o;v++){for(var m=[],g=0,y=0;y<s;y++){var b=d[v*s+y];m.push(b),g+=b*u[y]}if(g<0||g>=i/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var x=0;x<a;x++)l?h.values[g*a+x]+=p[v*a+x]:h.values[g*a+x]=0===t.rank?p[0]:p[v*a+x]}return h}},294:function(e,t,n){"use strict";n.d(t,{BP:function(){return u},VY:function(){return o},XD:function(){return s}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/(1+Math.exp(-e))})),s=(0,a.A)(r.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),u={kernelName:r.Sigmoid,backendName:"cpu",kernelFunc:s}},22126:function(e,t,n){"use strict";n.d(t,{C6:function(){return c},rT:function(){return s},tP:function(){return u}});var r=n(70885),i=n(42982),a=n(67519),o=n(23193);function s(e,t,n,r,o){var s=a.slice_util.isSliceContinous(r,t,n),u=a.util.sizeFromShape(n),c=a.util.computeStrides(r);if(s){var l=a.slice_util.computeFlatOffset(t,c);return"string"===o?e.slice(l,l+u):e.subarray(l,l+u)}for(var f="string"===o?a.backend_util.fromUint8ToStringArray(e):e,d=(0,a.buffer)(r,o,f),p=(0,a.buffer)(n,o),h=0;h<p.size;++h){var v=p.indexToLoc(h),m=v.map((function(e,n){return e+t[n]}));p.set.apply(p,[d.get.apply(d,(0,i.Z)(m))].concat((0,i.Z)(v)))}return"string"===o?a.backend_util.fromStringArrayToUint8(p.values):p.values}function u(e){var t=e.inputs,n=e.backend,i=e.attrs,u=t.x,c=i.begin,l=i.size;(0,o.H)(u,"slice");var f=a.slice_util.parseSliceParams(u,c,l),d=(0,r.Z)(f,2),p=d[0],h=d[1];a.slice_util.assertParamsValid(u,p,h);var v=s(n.data.get(u.dataId).values,p,h,u.shape,u.dtype);return n.makeTensorInfo(h,u.dtype,v)}var c={kernelName:a.Slice,backendName:"cpu",kernelFunc:u}},78337:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(67519);function i(e,t,n,i,a,o,s){var u=t[0],c=o[0],l=new Array(c),f=new Array(u),d=t[1];if(0===c){if(0!==u)throw new Error(r.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[r.util.getArrayFromDType(n,0),[0,d],r.util.getArrayFromDType(a,0),l,f]}for(var p=!0,h=0,v=new Array(c).fill(0),m=0;m<u;++m){var g=e[m*d];if(g<0)throw new Error(r.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(m,g));if(g>=c)throw new Error(r.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(m,g,c));++v[g],p=p&&g>=h,h=g}for(var y=!0,b=0;b<c;++b){var x=0===v[b];l[b]=x,y=y&&!x,v[b]=Math.max(v[b],1),b>0&&(v[b]+=v[b-1])}if(y&&p){for(var k=e,w=i,_=0;_<u;++_)f[_]=_;return[k,[u,d],w,l,f]}for(var S=v[c-1],T=r.util.getArrayFromDType(n,S*d),C=r.util.getArrayFromDType(a,S),E=new Array(c).fill(0),O=0;O<u;++O){var A=e[O*d],I=E[A],R=(0===A?0:v[A-1])+I;E[A]++;for(var N=0;N<d;++N)T[R*d+N]=e[O*d+N];C[R]=i[O],f[O]=R}for(var P=0;P<c;++P){if(0===E[P]){var M=0===P?0:v[P-1];T[M*d+0]=P;for(var D=1;D<d;++D)T[M*d+D]=0;C[M]=s}}return[T,[S,d],C,l,f]}},63634:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(67519);function i(e,t,n,i,a){for(var o=r.util.sizeFromShape(i),s=t[0],u=a.length,c=[],l=1,f=-1,d=0;d<u;++d){var p=a[d];if(-1===p){if(-1!==f)throw new Error(r.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(f,d));f=d,c.push(1)}else{if(p<0)throw new Error(r.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(d,p));l*=p,c.push(p)}}if(-1!==f){if(l<=0)throw new Error(r.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/l);if(l*h!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(i,c));c[f]=h}if(r.util.sizeFromShape(c)!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(i,c));var v=i.length,m=[];if(v>0){m[v-1]=1;for(var g=v-2;g>=0;--g)m[g]=m[g+1]*i[g+1]}var y=[];if(u>0){y[u-1]=1;for(var b=u-2;b>=0;--b)y[b]=y[b+1]*c[b+1]}for(var x=r.util.getArrayFromDType(n,s*u),k=0;k<s;++k){for(var w=0,_=0;_<v;++_)w+=e[k*v+_]*m[_];for(var S=0;S<u;++S)x[k*u+S]=Math.trunc(w/y[S]),w%=y[S]}return[x,[s,u],c]}},35440:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(67519);function i(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=i.length,c=[t[0],e.length/t[0]],l=c[1],f=u>0?a[u-1]+1:0;if(f<0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var d=t.slice();d[0]=f;var p=d.reduce((function(e,t){return e*t}),1),h=r.util.getArrayFromDType(n,p);if(0===u)return f>0&&h.fill(s),[h,d];if(f<=0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var v=0,m=1,g=0,y=a[v];;){var b=0;if(m<u){if(y===(b=a[m])){++m;continue}if(y>=b)throw new Error(r.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=f)throw new Error(r.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,f));y>g&&h.fill(s,g*l,y*l);for(var x=v;x<m;++x){var k=i[x];if(k<0||k>=c[0])throw new Error(r.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(x,i[x],c[0]));for(var w=0;w<l;w++)h[y*l+w]+=e[k*l+w]}if(o)for(var _=0;_<l;_++)h[y*l+_]/=m-v;if(v=m,g=y+1,y=b,++m>u)break}return g<f&&h.fill(s,g*l,f*l),[h,d]}},4165:function(e,t,n){"use strict";n.d(t,{cz:function(){return u},zT:function(){return o}});var r=n(67519),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.sqrt(e)})),s=(0,a.A)(r.Sqrt,(function(e){return Math.sqrt(e)})),u={kernelName:r.Sqrt,backendName:"cpu",kernelFunc:s}},47497:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(42982),i=n(67519);function a(e,t,n,a){for(var o=(0,i.buffer)(e,t.dtype),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*n[l]+a[l];o.set.apply(o,[t.get.apply(t,c)].concat((0,r.Z)(u)))}return o}},18294:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(15671),i=n(43144),a=n(67519),o=function(){function e(t,n,i,o,s,u){(0,r.Z)(this,e),this.separator=a.util.encodeString(t),this.nGramWidths=n,this.leftPad=a.util.encodeString(i),this.rightPad=a.util.encodeString(o),this.padWidth=s,this.preserveShort=u}return(0,i.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,i,a){for(var o=this,s=function(){var s=o.getPadWidth(a),c=Math.max(0,s-u),l=Math.max(0,s-(i-(u+1))),f=a-(c+l),d=t+(c>0?0:u-s),p=0;p+=c*o.leftPad.length;for(var h=0;h<f;++h)p+=e[d+h].length;p+=l*o.rightPad.length,p+=(c+l+f-1)*o.separator.length,n[r+u]=new Uint8Array(p);for(var v=n[r+u],m=0,g=function(e){return e.forEach((function(e){return v[m++]=e}))},y=0;y<c;++y)g(o.leftPad),g(o.separator);for(var b=0;b<f-1;++b)g(e[d+b]),g(o.separator);if(f>0){g(e[d+f-1]);for(var x=0;x<l;++x)g(o.separator),g(o.rightPad)}else{for(var k=0;k<l-1;++k)g(o.rightPad),g(o.separator);g(o.rightPad)}},u=0;u<i;++u)s()}},{key:"compute",value:function(e,t){var n=this,r=e.length,i=t.length;if(i>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var s=1;s<i;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=r))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(o,", ").concat(r,"]"));o=t[s]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var c=i-1,l=a.util.getArrayFromDType("int32",i);if(0===r||0===i){for(var f=new Array(r),d=0;d<=c;++d)l[d]=0;return[f,l]}l[0]=0;for(var p=function(){var e=t[h]-t[h-1],r=0;n.nGramWidths.forEach((function(t){r+=n.getNumNGrams(e,t)})),n.preserveShort&&e>0&&0===r&&(r=1),l[h]=l[h-1]+r},h=1;h<=c;++h)p();for(var v=new Array(l[c]),m=function(r){var i=t[r],a=l[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,i,v,a,u,o),a+=u})),n.preserveShort&&a===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,i,v,a,1,s)}},g=0;g<c;++g)m(g);return[v,l]}}]),e}();function s(e,t,n,r,i,a,s,u){return new o(n,r,i,a,s,u).compute(e,t)}},60998:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(67519);function i(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var i=0,a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){var o=e.subarray(i,a);n&&0===o.length||r.push(o),i=a+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function a(e,t,n){for(var a=e.length,o=[],s=0,u=0,c=new Array(a),l=0;l<a;++l){var f=o.length;i(e[l],t,n,o);var d=o.length-f;c[l]=d,s+=d,u=Math.max(u,d)}for(var p=r.util.getArrayFromDType("int32",2*s),h=new Array(s),v=[a,u],m=0,g=0;g<a;++g)for(var y=0;y<c[g];++y)p[2*m]=g,p[2*m+1]=y,h[m]=o[m],++m;return[p,h,v]}},71489:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(67519);function i(e,t){for(var n=r.util.getArrayFromDType("int32",e.length),i=0;i<e.length;++i)n[i]=r.util.fingerPrint64(e[i]).modulo(t).getLowBitsUnsigned();return n}},51802:function(e,t,n){"use strict";n.d(t,{GR:function(){return c},VY:function(){return o},lu:function(){return u}});var r=n(67519),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e-t})),s=(0,a.H)((function(e,t,n,r){return{real:e-n,imag:t-r}})),u=(0,a.j)(r.Sub,o,s),c={kernelName:r.Sub,backendName:"cpu",kernelFunc:u}},57129:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(67519);function i(e,t){for(var n=new Array(e.rank),i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];for(var a=(0,r.buffer)(n,e.dtype),o=0;o<a.values.length;++o){for(var s=a.indexToLoc(o),u=new Array(e.rank),c=0;c<u.length;c++)u[c]=s[c]%e.shape[c];var l=e.locToIndex(u);a.values[o]=e.values[l]}return a}},79516:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(67519),i=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function a(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;o>n;){if(o-n>600){var s=o-n+1,u=t-n+1,c=Math.log(s),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(s-l)/s)*Math.sign(u-s/2);a(e,t,Math.max(n,Math.floor(t-u*l/s+f)),Math.min(o,Math.floor(t+(s-u)*l/s+f)))}var d=e[t],p=n,h=o;for(r.util.swap(e,n,t),i(e[o],d)>0&&r.util.swap(e,n,o);p<h;){for(r.util.swap(e,p,h),p++,h--;i(e[p],d)<0;)p+=1;for(;i(e[h],d)>0;)h-=1}0===i(e[n],d)?r.util.swap(e,n,h):(h+=1,r.util.swap(e,h,o)),h<=t&&(n=h+1),t<=h&&(o=h-1)}}function o(e,t,n,o,s){for(var u=t[t.length-1],c=e.length/u,l=u,f=r.util.getTypedArrayFromDType(n,c*o),d=r.util.getTypedArrayFromDType("int32",c*o),p=function(){var t=h*l,n=e.subarray(t,t+l),r=new Array(n.length);n.forEach((function(e,t){return r[t]={value:e,index:t}})),o<r.length&&(a(r,o),r=r.slice(0,o)),s&&r.sort(i);for(var u=h*o,c=f.subarray(u,u+o),p=d.subarray(u,u+o),v=0;v<o;v++)c[v]=r[v].value,p[v]=r[v].index},h=0;h<c;h++)p();var v=t.slice();return v[v.length-1]=o,[(0,r.buffer)(v,n,f),(0,r.buffer)(v,"int32",d)]}},65257:function(e,t,n){"use strict";n.d(t,{b:function(){return s},p:function(){return o}});var r=n(67519),i=n(23193),a=n(31103);function o(e){var t=e.inputs,n=e.attrs,r=e.backend,o=t.x,s=n.perm;(0,i.H)(o,"transpose");for(var u=o.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=o.shape[s[l]];var f=r.data.get(o.dataId).values,d=(0,a.H)(f,o.shape,o.dtype,s,c);return{dataId:r.write(d,c,o.dtype),shape:c,dtype:o.dtype}}var s={kernelName:r.Transpose,backendName:"cpu",kernelFunc:o}},31103:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(67519);function i(e,t,n,i,a){for(var o=t.length,s=r.util.sizeFromShape(t),u=r.util.computeStrides(t),c=r.util.computeStrides(a),l=r.util.getTypedArrayFromDType(n,r.util.sizeFromShape(a)),f=0;f<s;++f){for(var d=r.util.indexToLoc(f,o,u),p=new Array(d.length),h=0;h<p.length;h++)p[h]=d[i[h]];l[r.util.locToIndex(p,o,c)]=e[f]}return l}},24242:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(67519);function i(e,t,n,i){for(var a=r.util.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<a;s++)o[0]*=n[s];o[1]=n[a];for(var u=a+1;u<n.length;u++)o[2]*=n[u];for(var c={},l=new Int32Array(n[a]),f=new r.TensorBuffer(o,i,e),d=[],p=1===o[0]&&1===o[2],h=0;h<n[a];h++){var v=void 0;if(p)v=e[h].toString();else{for(var m=[],g=0;g<o[0];g++)for(var y=0;y<o[2];y++)m.push(f.get(g,h,y));v=m.join(",")}if(void 0!==c[v])l[h]=c[v];else{var b=Object.keys(c).length;c[v]=b,l[h]=b,d.push(h)}}var x=o.slice();x[1]=Object.keys(c).length;var k=new r.TensorBuffer(x,i);d.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)k.set(f.get(n,e,r),n,t,r)}));var w=n.slice();return w[a]=x[1],{outputValues:k.values,outputShape:w,indices:l}}},69341:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(67519);function i(e){return function(t,n,i,a,o){var s=r.backend_util.assertAndGetBroadcastShape(t,n),u=s.length,c=r.util.computeStrides(s),l=r.util.sizeFromShape(s),f=r.util.getTypedArrayFromDType(o,l),d=t.length,p=n.length,h=r.util.computeStrides(t),v=r.util.computeStrides(n),m=r.backend_util.getBroadcastDims(t,s),g=r.backend_util.getBroadcastDims(n,s);if(m.length+g.length===0)for(var y=0;y<f.length;++y)f[y]=e(i[y%i.length],a[y%a.length]);else for(var b=function(){var t=r.util.indexToLoc(x,u,c),n=t.slice(-d);m.forEach((function(e){return n[e]=0}));var o=r.util.locToIndex(n,d,h),s=t.slice(-p);g.forEach((function(e){return s[e]=0}));var l=r.util.locToIndex(s,p,v);f[x]=e(i[o],a[l])},x=0;x<f.length;++x)b();return[f,s]}}},69501:function(e,t,n){"use strict";n.d(t,{H:function(){return c},j:function(){return u}});var r=n(70885),i=n(67519),a=n(23193),o=n(60570),s=n(36545);function u(e,t,n,u){return null==n?function(n){var o=n.inputs,s=n.backend,c=o.a,l=o.b,f=s;(0,a.H)([c,l],e);var d=f.data.get(c.dataId).values,p=f.data.get(l.dataId).values,h="string"===c.dtype?i.backend_util.fromUint8ToStringArray(d):d,v="string"===c.dtype?i.backend_util.fromUint8ToStringArray(p):p,m=u||c.dtype,g=t(c.shape,l.shape,h,v,m),y=(0,r.Z)(g,2),b=y[0],x=y[1];return f.makeTensorInfo(x,m,b)}:function(e){var i=e.inputs,a=e.backend,c=i.a,l=i.b,f=a;if("complex64"===c.dtype||"complex64"===l.dtype){var d=(0,o.pj)({inputs:{x:c},backend:f,attrs:{dtype:"complex64"}}),p=f.data.get(d.dataId),h=p.complexTensorInfos.real,v=p.complexTensorInfos.imag,m=f.data.get(h.dataId).values,g=f.data.get(v.dataId).values,y=(0,o.pj)({inputs:{x:l},backend:f,attrs:{dtype:"complex64"}}),b=f.data.get(y.dataId),x=b.complexTensorInfos.real,k=b.complexTensorInfos.imag,w=f.data.get(x.dataId).values,_=f.data.get(k.dataId).values,S=n(c.shape,l.shape,m,g,w,_),T=(0,r.Z)(S,3),C=T[0],E=T[1],O=T[2],A=f.makeTensorInfo(O,"float32",C),I=f.makeTensorInfo(O,"float32",E),R=(0,s.P)({inputs:{real:A,imag:I},backend:f});return f.disposeIntermediateTensorInfo(d),f.disposeIntermediateTensorInfo(y),f.disposeIntermediateTensorInfo(A),f.disposeIntermediateTensorInfo(I),R}var N=f.data.get(c.dataId).values,P=f.data.get(l.dataId).values,M=u||c.dtype,D=t(c.shape,l.shape,N,P,M),j=(0,r.Z)(D,2),L=j[0],F=j[1];return f.makeTensorInfo(F,M,L)}}function c(e){return function(t,n,r,a,o,s){var u=i.backend_util.assertAndGetBroadcastShape(t,n),c=i.util.sizeFromShape(u),l=u.length,f=i.util.computeStrides(u),d=i.util.getTypedArrayFromDType("float32",c),p=i.util.getTypedArrayFromDType("float32",c),h=i.backend_util.getBroadcastDims(t,u),v=i.backend_util.getBroadcastDims(n,u),m=i.backend_util.mergeRealAndImagArrays(r,a),g=i.backend_util.mergeRealAndImagArrays(o,s),y=t.length,b=i.util.computeStrides(t),x=n.length,k=i.util.computeStrides(n);if(h.length+v.length===0)for(var w=0;w<d.length;w++){var _=w%m.length,S=w%g.length,T=e(m[2*_],m[2*_+1],g[2*S],g[2*S+1]);d[w]=T.real,p[w]=T.imag}else for(var C=function(){var t=i.util.indexToLoc(E,l,f),n=t.slice(-y);h.forEach((function(e){return n[e]=0}));var r=i.util.locToIndex(n,y,b),a=t.slice(-x);v.forEach((function(e){return a[e]=0}));var o=i.util.locToIndex(a,x,k),s=e(m[2*r],m[2*r+1],g[2*o],g[2*o+1]);d[E]=s.real,p[E]=s.imag},E=0;E<d.length;E++)C();return[d,p,u]}}},50422:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(67519);function i(e){return function(t,n,i){for(var a=r.util.getTypedArrayFromDType(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],i);return a}}},91844:function(e,t,n){"use strict";n.d(t,{A:function(){return a},O:function(){return o}});var r=n(67519),i=n(23193);function a(e,t,n){return function(a){var o=a.inputs,s=a.attrs,u=a.backend,c=o.x;if((0,i.H)(c,e),"string"===c.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var l=u,f=l.data.get(c.dataId).values,d=r.util.sizeFromShape(c.shape),p=n||c.dtype,h=r.util.getArrayFromDType(p,d),v=0;v<d;++v)h[v]=t(f[v],s);return l.makeTensorInfo(c.shape,p,h)}}function o(e,t,n){return function(r){var a=r.inputs,o=r.attrs,s=r.backend,u=a.x;if((0,i.H)(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var c=s,l=c.data.get(u.dataId).values,f=n||u.dtype,d=t(l,f,o);return c.makeTensorInfo(u.shape,f,d)}}},94842:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(67519),i=n(36545);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var o=a(e,t,"float32"),s=a(e,t,"float32");return(0,i.P)({inputs:{real:o,imag:s},backend:e})}var u=r.util.makeZerosTypedArray(r.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,u)}},12311:function(e,t,n){"use strict";n.r(t),n.d(t,{GPGPUContext:function(){return wt},MathBackendWebGL:function(){return Mr},forceHalfFloat:function(){return jr},gpgpu_util:function(){return i},setWebGLContext:function(){return x},version_webgl:function(){return Dr},webgl:function(){return Lr},webgl_util:function(){return r}});var r={};n.r(r),n.d(r,{assertNotComplex:function(){return _e},bindCanvasToFramebuffer:function(){return $},bindColorTextureToFramebuffer:function(){return ee},bindTextureToProgramUniformSampler:function(){return J},bindTextureUnit:function(){return K},bindVertexBufferToProgramAttribute:function(){return q},callAndCheck:function(){return C},canBeRepresented:function(){return A},createFragmentShader:function(){return P},createFramebuffer:function(){return G},createProgram:function(){return F},createStaticIndexBuffer:function(){return V},createStaticVertexBuffer:function(){return U},createTexture:function(){return W},createVertexShader:function(){return N},getBatchDim:function(){return oe},getExtensionOrThrow:function(){return R},getFramebufferErrorMessage:function(){return re},getMaxTexturesInShader:function(){return ve},getNumChannels:function(){return z},getProgramUniformLocation:function(){return Q},getProgramUniformLocationOrThrow:function(){return X},getRowsCols:function(){return se},getShapeAs3D:function(){return ue},getTextureShapeFromLogicalShape:function(){return ce},getWebGLDisjointQueryTimerVersion:function(){return me},getWebGLErrorMessage:function(){return I},getWebGLMaxTextureSize:function(){return de},hasExtension:function(){return ge},isCapableOfRenderingToFloatTexture:function(){return be},isDownloadFloatTextureEnabled:function(){return xe},isReshapeFree:function(){return fe},isWebGLFenceEnabled:function(){return we},isWebGLVersionEnabled:function(){return ye},linkProgram:function(){return Z},logShaderSourceAndInfoLog:function(){return L},resetMaxTextureSize:function(){return pe},resetMaxTexturesInShader:function(){return he},unbindColorTextureFromFramebuffer:function(){return te},unbindTextureUnit:function(){return Y},validateFramebuffer:function(){return ne},validateProgram:function(){return B},validateTextureSize:function(){return H}});var i={};n.r(i),n.d(i,{bindVertexProgramAttributeStreams:function(){return ht},createBufferFromOutputTexture:function(){return gt},createFloat16MatrixTexture:function(){return st},createFloat16PackedMatrixTexture:function(){return pt},createFloat32MatrixTexture:function(){return at},createIndexBuffer:function(){return nt},createPackedMatrixTexture:function(){return ft},createUnsignedBytesMatrixTexture:function(){return ct},createVertexBuffer:function(){return tt},createVertexShader:function(){return et},downloadByteEncodedFloatMatrixFromOutputTexture:function(){return bt},downloadFloat32MatrixFromBuffer:function(){return yt},downloadMatrixFromPackedOutputTexture:function(){return kt},downloadPackedMatrixFromBuffer:function(){return xt},getInternalFormatForFloat16MatrixTexture:function(){return ot},getInternalFormatForFloat16PackedMatrixTexture:function(){return dt},getInternalFormatForFloat32MatrixTexture:function(){return it},getInternalFormatForPackedMatrixTexture:function(){return lt},getInternalFormatForUnsignedBytesMatrixTexture:function(){return ut},uploadDenseMatrixToTexture:function(){return vt},uploadPixelDataToTexture:function(){return mt}});var a,o,s,u=n(67519),c=n(70885),l=n(74165),f=n(42982),d=n(15861),p=n(15671),h=n(43144),v=n(97326),m=n(60136),g=n(29388),y={},b={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function x(e,t){y[e]=t}function k(e,t){if(!(e in y)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete y[e]}),!1),(0,u.env)().getBool("SOFTWARE_WEBGL_ENABLED")&&(b.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",b)||n.getContext("experimental-webgl",b);return n.getContext("webgl2",b)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;y[e]=n}var r=y[e];return null==r||r.isContextLost()?(delete y[e],k(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),y[e])}function w(e,t){return[t,e]}function _(e){var t=u.util.sizeFromShape(e),n=Math.ceil(t/4);return u.util.sizeToSquarishShape(n)}function S(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function T(e,t){var n,r,i,a,o,s,c,l,f,d,p=e;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,i=p.RGBA16F,a=p.RGBA32F,o=p.RED,c=4,l=1,f=p.HALF_FLOAT,d=p.FLOAT,s=p.RGBA8):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=p.RGBA,o=e.RGBA,c=4,l=4,f=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:f,textureTypeFloat:d}}function C(e,t){var n=t();return(0,u.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+I(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(a||(a={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(o||(o={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(s||(s={}));var E=5.96e-8,O=65504;function A(e){return!!((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||E<Math.abs(e)&&Math.abs(e)<O)}function I(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function R(e,t){return ie(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function N(e,t){var n=ie(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(C(e,(function(){return e.shaderSource(n,t)})),C(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function P(e,t){var n=ie(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(C(e,(function(){return e.shaderSource(n,t)})),C(e,(function(){return e.compileShader(n)})),(0,u.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw L(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var M,D,j=/ERROR: [0-9]+:([0-9]+):/g;function L(e,t){var n=j.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return u.util.rightPad((t+1).toString(),a)+e})),s=0,c=0;c<o.length;c++)s=Math.max(o[c].length,s);var l=o.slice(0,r-1),f=o.slice(r-1,r),d=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(u.util.rightPad(f[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}function F(e){return ie(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function Z(e,t){if(C(e,(function(){return e.linkProgram(t)})),!(0,u.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function B(e,t){if(C(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function U(e,t){var n=ie(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),C(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function V(e,t){var n=ie(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return C(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),C(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function z(){return 2===(0,u.env)().getNumber("WEBGL_VERSION")?1:4}function W(e){return ie(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function H(e,t){var n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var i="[".concat(e,"x").concat(t,"]"),a="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+a+".")}}function G(e){return ie(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function q(e,t,n,r,i,a,o){var s=e.getAttribLocation(t,n);return-1!==s&&(C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),C(e,(function(){return e.vertexAttribPointer(s,i,e.FLOAT,!1,a,o)})),C(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function K(e,t,n){ae(e,n),C(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function Y(e,t){ae(e,t),C(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function X(e,t,n){return ie(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Q(e,t,n){return e.getUniformLocation(t,n)}function J(e,t,n,r){C(e,(function(){return K(e,t,r)})),C(e,(function(){return e.uniform1i(n,r)}))}function $(e){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),C(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),C(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))}function ee(e,t,n){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),C(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function te(e,t){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),C(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function ne(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+re(e,t))}function re(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function ie(e,t,n){var r=C(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function ae(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var i="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(i,"."))}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.util.sizeFromShape(e.slice(0,e.length-t))}function se(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function ue(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[oe(e)].concat((0,f.Z)(se(e)))),t}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=(0,u.env)().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&(0,u.env)().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?u.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var i=u.util.squeezeShape(e);e=i.newShape}var a=u.util.sizeFromShape(e),o=null;e.length<=1&&a<=n?o=[1,a]:2===e.length&&e[0]<=n&&e[1]<=n?o=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?o=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?o=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?o=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(o=[e[0],e[1]*e[2]*e[3]]);var s=null!=o&&Math.max.apply(Math,(0,f.Z)(o))>r&&Math.min.apply(Math,(0,f.Z)(o))<=(t?2:1)&&Math.min.apply(Math,(0,f.Z)(o))>0;if(null==o||s)if(t){var l=oe(e),d=2,p=2;if(e.length){var h=se(e),v=(0,c.Z)(h,2);d=v[0],p=v[1]}a=l*(d/2)*(p/2),o=u.util.sizeToSquarishShape(a).map((function(e){return 2*e}))}else o=u.util.sizeToSquarishShape(a);return o}function le(e){return e%2===0}function fe(e,t){if(e=e.slice(-2),t=t.slice(-2),u.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(le(n)&&le(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&le(e[0])&&le(t[0])}function de(e){if(null==M){var t=k(e);M=t.getParameter(t.MAX_TEXTURE_SIZE)}return M}function pe(){M=null}function he(){D=null}function ve(e){if(null==D){var t=k(e);D=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,D)}function me(e){if(0===e)return 0;var t=k(e);return ge(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ge(t,"EXT_disjoint_timer_query")?1:0}function ge(e,t){return null!=e.getExtension(t)}function ye(e){try{if(null!=k(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function be(e){if(0===e)return!1;var t=k(e);if(1===e){if(!ge(t,"OES_texture_float"))return!1}else if(!ge(t,"EXT_color_buffer_float"))return!1;return ke(t)}function xe(e){if(0===e)return!1;var t=k(e);if(1!==e){if(ge(t,"EXT_color_buffer_float"))return ke(t);var n="EXT_color_buffer_half_float";if(ge(t,n)){var r=t.getExtension(n);return function(e,t){var n=T(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var i=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!!ge(t,"OES_texture_float")&&(!!ge(t,"WEBGL_color_buffer_float")&&ke(t))}function ke(e){var t=T(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function we(e){return 2===e&&null!=k(e).fenceSync}function _e(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&u.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var Se=(0,u.env)();function Te(){var e,t,n,r,i,a,o,s,c,l;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s=(0,u.env)().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:c,defineRound:l}}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / ").concat(t),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * ").concat(t):"index -= ".concat(e[i]," * ").concat(t);return"".concat(a,"; ").concat(o,";")})).join("")}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / outShapeStrides[").concat(i,"]"),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * outShapeStrides[").concat(i,"]"):"index -= ".concat(e[i]," * outShapeStrides[").concat(i,"]");return"".concat(a,"; ").concat(o,";")})).join("")}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=function(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),i=new Array(n-1);i[n-2]=r[n-1];for(var a=n-3;a>=0;--a)i[a]="(".concat(i[a+1]," * ").concat(r[a+1],")");return i}(e.map((function(e,t){return t})),t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / ").concat(r[i]),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * ").concat(r[i]):"index -= ".concat(e[i]," * ").concat(r[i]);return"".concat(a,"; ").concat(o,";")})).join("")}function Ae(e){var t=u.util.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}Se.registerFlag("HAS_WEBGL",(function(){return Se.getNumber("WEBGL_VERSION")>0})),Se.registerFlag("WEBGL_VERSION",(function(){return ye(2)?2:ye(1)?1:0})),Se.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),Se.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Se.get("WEBGL_VERSION")})),Se.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Se.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Se.registerFlag("WEBGL_PACK",(function(){return Se.getBool("HAS_WEBGL")})),Se.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_CLIP",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_PACK_REDUCE",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_CONV_IM2COL",(function(){return Se.getBool("WEBGL_PACK")})),Se.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return de(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return ve(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Se.getNumber("WEBGL_VERSION");return 0===e?0:me(e)})),Se.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Se.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!u.device_util.isMobile()})),Se.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return be(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Se.getBool("WEBGL_FORCE_F16_TEXTURES")&&Se.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Se.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return xe(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return we(Se.getNumber("WEBGL_VERSION"))})),Se.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Se.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Se.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),Se.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return u.device_util.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),Se.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),Se.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),Se.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),Se.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128})),Se.registerFlag("WEBGL_EXP_CONV",(function(){return!1})),Se.registerFlag("SOFTWARE_WEBGL_ENABLED",(function(){return Se.getBool("IS_TEST")})),Se.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(function(){return 1/0})),Se.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(function(){return!1})),Se.registerFlag("WEBGL2_ISNAN_CUSTOM",(function(){return!1}));var Ie="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Re=u.backend_util.getBroadcastDims;function Ne(e,t,n){var r=[];if(e.forEach((function(e){var t=u.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Ve(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var i,a,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i="";i+=n?Me(e,r):Pe(e,r);var a=e.shapeInfo.logicalShape,o=t.logicalShape;a.length<=o.length&&(i+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,c=Re(e.shapeInfo.logicalShape,t.logicalShape),l=Ue(s),f=s-o,d=["x","y","z","w","u","v"];n=0===o?"":s<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(d[e+f]," = 0;")})).join("\n");var p="";p=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+f])})).join(", ");var h="return outputValue;",v=1===u.util.sizeFromShape(e.shapeInfo.logicalShape),m=u.util.sizeFromShape(t.logicalShape),g=1===m;if(1!==o||v||g){if(v&&!g)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var y=o-2,b=o-1;c.indexOf(y)>-1&&c.indexOf(b)>-1?h="return vec4(outputValue.x);":c.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(a,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(i,"(").concat(p,");\n      ").concat(h,"\n    }\n  ")}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===c&&null==e.shapeInfo.flatOffset&&u.util.arraysEqual(o,a))return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,f=Ue(c),d=Re(e.shapeInfo.logicalShape,t.logicalShape),p=c-s,h=["x","y","z","w","u","v"];l=0===s?"":c<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(h[e+p]," = 0;")})).join("\n");var v="";v=c<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(h[t+p])})).join(", ");return"\n    float ".concat(i,"() {\n      ").concat(f," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(v,");\n    }\n  ")}(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),c=t.texShape,l=Te(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),d=function(e){var t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(De,"\n    ").concat(je,"\n    ").concat(Le,"\n  ");return t}(l);return t.isPacked?(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),a=i*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),a=i*Math.ceil(e[e.length-2]/2),o=a,s="",u="b, r, c",c=2;c<e.length-1;c++)o*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,c,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=Ee(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var i=Ce(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=Ee(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var i=Ce(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=Ce(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=Ce(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,c,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(d+=Fe),[d,f,a,o,i,s,n.userCode].join("\n")}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var i=(0,c.Z)(e.shapeInfo.texShape,2),a=i[0],o=i[1];if(1===a&&1===o)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Ze(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var u=(0,c.Z)(e.shapeInfo.texShape,2),l=u[0],f=u[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(f,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(Be(e),"\n      }\n    ");var i=e.shapeInfo.texShape,a=i[0],o=i[1];if(1===o&&1===a)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Ze(n);if(1===o)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===a)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&u.util.arraysEqual(n,a)){if(t)return"\n      float ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var o=a[0],s=a[1];return"\n    float ".concat(i,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var c=u.util.squeezeShape(n),l=c.newShape,f=c.keptDims,d=l;if(d.length<n.length){var p=ze(e,d),h=["row","col"];return"\n      ".concat(Pe(p,t),"\n      float ").concat(i,"(int row, int col) {\n        return ").concat(i,"(").concat(We(h,f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Be(e),"\n      }\n    ");var v=a[0],m=a[1],g=Ze(r);if(1===m)return t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(v,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(1===v)return t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(g,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(t)return"\n      float ".concat(i,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");return"\n  float ".concat(i,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(g,";\n    vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],o=n[2],s=u.util.squeezeShape(n),c=s.newShape,l=s.keptDims,f=c;if(f.length<n.length){var d=ze(e,f),p=["row","col","depth"];return"\n        ".concat(Pe(d,t),"\n        float ").concat(i,"(int row, int col, int depth) {\n          return ").concat(i,"(").concat(We(p,l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(o,", 1)));\n        ").concat(Be(e),"\n      }\n    ");var h=e.shapeInfo.texShape,v=h[0],m=h[1],g=e.shapeInfo.flatOffset;if(m===a&&null==g)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(i,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(m,".0, ").concat(v,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(m===o&&null==g)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(v,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var y=Ze(r);if(t)return"\n    float ".concat(i,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    ");return"\n      float ".concat(i,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(y,";\n        vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],o=n[2]*a,s=n[1]*o,c=u.util.squeezeShape(n),l=c.newShape,f=c.keptDims;if(l.length<n.length){var d=ze(e,l),p=["row","col","depth","depth2"];return"\n      ".concat(Pe(d,t),"\n      float ").concat(i,"(int row, int col, int depth, int depth2) {\n        return ").concat(i,"(").concat(We(p,f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(a,", 1)));\n        ").concat(Be(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,m=v[0],g=v[1],y="int stride2 = ".concat(r,"Shape[3];"),b="int stride1 = ".concat(r,"Shape[2] * stride2;"),x="int stride0 = ".concat(r,"Shape[1] * stride1;");if(g===s&&null==h)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        ").concat(y,"\n        ").concat(b,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(g===a&&null==h)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var k=Ze(r);if(t)return"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(y,"\n      ").concat(b,"\n      ").concat(x,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(k,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");return"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index + ").concat(k,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}(e,t);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,c=u.util.squeezeShape(t),l=c.newShape,f=c.keptDims;if(l.length<t.length){var d=ze(e,l),p=["row","col","depth","depth2","depth3"];return"\n      ".concat(Pe(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(We(p,f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(a,", ").concat(i,")) +\n          depth3;\n        ").concat(Be(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,m=v[0],g=v[1];if(g===s&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(a,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===i&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=Ze(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(a," +\n          depth2 * ").concat(i," + depth3 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=u.util.squeezeShape(t),a=i.newShape,o=i.keptDims;if(a.length<t.length){var s=ze(e,a),c=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(Pe(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(We(c,o),");\n      }\n    ")}var l=t[5],f=t[4]*l,d=t[3]*f,p=t[2]*d,h=t[1]*p;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(h,", ").concat(p,", ").concat(d,", ").concat(f,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(l,", 1)));\n        ").concat(Be(e),"\n      }\n    ");var v=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,g=m[0],y=m[1];if(y===h&&null==v)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(p,", ").concat(d,", ").concat(f,", ").concat(l,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(y,".0, ").concat(g,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(y===l&&null==v)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(y,".0, ").concat(g,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var b=Ze(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(h," + col * ").concat(p," + depth * ").concat(d," +\n          depth2 * ").concat(f," + depth3 * ").concat(l," + depth4 + ").concat(b,";\n      vec2 uv = uvFromFlat(").concat(g,", ").concat(y,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Me(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Te();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=Te();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=a[0],s=a[1],c=Te();if(null!=a&&u.util.arraysEqual(n,a))return t?"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(i,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],f=Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(f,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){var s=[1,2],u=ze(e,n.slice(1)),c=["b","row","col"];return"\n        ".concat(Me(u,t),"\n        vec4 ").concat(i,"(int b, int row, int col) {\n          return ").concat(i,"(").concat(We(c,s),");\n        }\n      ")}var l=Te();if(t)return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var f=o[0],d=o[1],p=Math.ceil(n[2]/2),h=p*Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(f,", ").concat(d,", ").concat(h,", ").concat(p,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=Te();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var a=e.shapeInfo.logicalShape,o=a.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],f=Math.ceil(a[o-1]/2),d=f*Math.ceil(a[o-2]/2),p="int b, int row, int col",h="b * ".concat(d," + (row / 2) * ").concat(f," + (col / 2)"),v=2;v<o-1;v++)p="int b".concat(v,", ")+p,d*=a[o-v-1],h="b".concat(v," * ").concat(d," + ")+h;return"\n    vec4 ".concat(r,"(").concat(p,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var De="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",je="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Le="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Fe="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Ze(e){return"offset".concat(e)}function Be(e){var t=e.name,n=u.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Ue(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Ve(e,t,n){var r=u.util.squeezeShape(t),i=r.newShape,a=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],c=s?t.slice(1):i,l=!e&&o>1&&!u.util.arraysEqual(t,n)&&i.length<o||s;return{useSqueezeShape:l,uniformShape:l?c:t,keptDims:a}}function ze(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function We(e,t){return t.map((function(t){return e[t]})).join(", ")}function He(e,t,n){var r,i,a,o,s={},c={},l={},f=[],d=null;o=e.getUniformLocation(n,"NAN",!1),1===(0,u.env)().getNumber("WEBGL_VERSION")&&(d=e.getUniformLocation(n,"INFINITY",!1));for(var p=!1,h=0;h<t.variableNames.length;h++){var v=t.variableNames[h];s[v]=e.getUniformLocation(n,v,p),s["offset".concat(v)]=e.getUniformLocation(n,"offset".concat(v),p),t.enableShapeUniforms&&(c["".concat(v,"Shape")]=e.getUniformLocation(n,"".concat(v,"Shape"),p),l["".concat(v,"TexShape")]=e.getUniformLocation(n,"".concat(v,"TexShape"),p))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",p),a=e.getUniformLocation(n,"outShapeStrides",p),i=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach((function(t,r){f[r]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:s,customUniformLocations:f,infLoc:d,nanLoc:o,inShapesLocations:c,inTexShapesLocations:l,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:i}}function Ge(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!u.util.arraysEqual(r,a))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(a," must match"));if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!u.util.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(s," must match"))}}))}function qe(e){return(0,u.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var Ke=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Te();this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Ee(["r","c","d"],t):Ce(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),Ye=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Te();this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Ee(["r","c","d"],t):Ce(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),Xe=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.outTexUsage=o.DOWNLOAD;var n=Te();this.outputShape=t,this.userCode="\n      ".concat(Ie,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),Qe=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o.DOWNLOAD;var n=Te();this.outputShape=t,this.userCode="\n      ".concat(Ie,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),Je=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Te();this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length);var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ae(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")})),$e=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Te();this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length);var i="",a="result";n&&(a="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;i+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ae(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(i,"\n\n          ").concat(r.output," = ").concat(a,";\n        }\n    ")}));function et(e){var t=Te();return N(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function tt(e){return U(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function nt(e){return V(e,new Uint16Array([0,1,2,2,1,3]))}function rt(e,t,n,r,i,a){H(t,n);var o=W(e),s=e.TEXTURE_2D;return C(e,(function(){return e.bindTexture(s,o)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texImage2D(s,0,r,t,n,0,i,a,null)})):C(e,(function(){return e.texStorage2D(s,1,r,t,n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function it(e){return e.internalFormatFloat}function at(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2);return rt(e,a[0],a[1],it(r),r.textureFormatFloat,e.FLOAT)}function ot(e){return e.internalFormatHalfFloat}function st(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2);return rt(e,a[0],a[1],ot(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function ut(e){return e.downloadTextureFormat}function ct(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2);return rt(e,a[0],a[1],ut(r),e.RGBA,e.UNSIGNED_BYTE)}function lt(e){return e.internalFormatPackedFloat}function ft(e,t,n,r){var i=S(t,n),a=(0,c.Z)(i,2);return rt(e,a[0],a[1],lt(r),e.RGBA,e.FLOAT)}function dt(e){return e.internalFormatPackedHalfFloat}function pt(e,t,n,r){var i=S(t,n),a=(0,c.Z)(i,2);return rt(e,a[0],a[1],dt(r),e.RGBA,r.textureTypeHalfFloat)}function ht(e,t,n){return C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),q(e,t,"clipSpacePos",n,3,20,0)&&q(e,t,"uv",n,2,20,12)}function vt(e,t,n,r,i,a){var o,s,c;C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),i instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,c=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,c=a.internalFormatPackedFloat),o.set(i),2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,s,o)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function mt(e,t,n){C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function gt(e,t,n,r){var i=e.createBuffer();C(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*t*n;return C(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),C(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),C(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function yt(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function bt(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2),o=a[0],s=a[1],u=new Uint8Array(t*n*4);return C(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function xt(e,t,n,r,i,a,o,s){var u=e,l=new Float32Array(function(e,t){var n=S(e,t),r=(0,c.Z)(n,2);return r[0]*r[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function kt(e,t,n){var r=new Float32Array(t*n*4);return C(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}var wt=function(){function e(t){(0,p.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=(0,u.env)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,x(n,t)):this.gl=k(n);var r="WEBGL_color_buffer_float",i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,u.env)().getNumber("WEBGL_VERSION")){var a="OES_texture_half_float";if(this.textureFloatExtension=R(this.gl,"OES_texture_float"),ge(this.gl,a))this.textureHalfFloatExtension=R(this.gl,a);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ge(this.gl,i))this.colorBufferHalfFloatExtension=R(this.gl,i);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ge(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!ge(this.gl,i))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(i)}this.vertexBuffer=tt(this.gl),this.indexBuffer=nt(this.gl),this.framebuffer=G(this.gl),this.textureConfig=T(this.gl,this.textureHalfFloatExtension)}return(0,h.Z)(e,[{key:"debug",get:function(){return(0,u.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;C(t,(function(){return t.finish()})),C(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),C(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),C(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),C(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),C(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),at(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),st(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),ct(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),mt(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),vt(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),pt(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),ft(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(te(this.gl,this.framebuffer),this.outputTexture=null),C(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return bt(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,i,a){return xt(this.gl,e,0,0,0,i,a,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return yt(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=gt(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if((0,u.env)().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return kt(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=et(n));var r=F(n);return C(n,(function(){return n.attachShader(r,t.vertexShader)})),C(n,(function(){return n.attachShader(r,e)})),Z(n,r),this.debug&&B(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=ht(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&C(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&B(this.gl,this.program),C(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?X(this.gl,e,t):Q(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),C(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),J(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=S(t,n),i=(0,c.Z)(r,2),a=i[0],o=i[1];this.setOutputMatrixTextureDriver(e,a,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&B(this.gl,this.program),ne(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),C(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),C(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=R(this.gl,2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i}},{key:"endQuery",value:function(){if(2!==(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.util.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}var a=this.getQueryTimerExtensionWebGL1(),o=a.getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)){var r=void 0;"setTimeoutCustom"in(0,u.env)().platform&&(r=(0,u.env)().platform.setTimeoutCustom.bind((0,u.env)().platform)),u.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}),(function(){return 0}),null,r)}}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),ee(this.gl,e,this.framebuffer),this.debug&&ne(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(ee(this.gl,this.outputTexture,this.framebuffer),this.debug&&ne(this.gl)):te(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;ee(r,e,this.framebuffer),this.debug&&ne(r),this.outputTexture=e,C(r,(function(){return r.viewport(0,0,t,n)})),C(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var i=this;this.throwIfDisposed(),C(this.gl,(function(){return i.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var _t=n(25589),St=n(73737),Tt=n(60570),Ct=n(94351),Et=n(46563),Ot=n(68116),At=n(66880),It=n(21354),Rt=n(97224),Nt=n(34351),Pt=n(82666),Mt=n(69075),Dt=n(26985),jt=n(39813),Lt=n(18734),Ft=n(21491),Zt=n(68298),Bt=n(4771),Ut=n(89518),Vt=n(38094),zt=n(18244),Wt=n(54569),Ht=n(21566),Gt=n(89120),qt=n(82376),Kt=n(76846),Yt=n(66284),Xt=n(78105),Qt=n(28567),Jt=n(294),$t=n(96220),en=n(22126),tn=n(78337),nn=n(63634),rn=n(35440),an=n(4165),on=n(47497),sn=n(18294),un=n(60998),cn=n(71489),ln=n(51802),fn=n(57129),dn=n(79516),pn=n(31103),hn=n(24242),vn=_t.EH,mn=St.W,gn=St.i,yn=Tt.sJ,bn=Ct.__,xn=Et.j,kn=Ot.tW,wn=At.Ro,_n=It.OF,Sn=Rt.r6,Tn=Nt.m,Cn=Pt.i,En=Mt.o,On=Dt.HL,An=jt.rO,In=Lt.lx,Rn=Ft.b,Nn=Zt.vX,Pn=Bt.B,Mn=Ut.wS,Dn=Vt.vP,jn=zt.$3,Ln=Wt.uC,Fn=Ht.Gj,Zn=Gt.Qg,Bn=qt.c,Un=Kt.p,Vn=Yt.b,zn=Xt.zd,Wn=Qt.N,Hn=Jt.VY,Gn=$t.bk,qn=en.rT,Kn=tn.c,Yn=nn.U,Xn=rn.V,Qn=an.zT,Jn=on.t,$n=sn.A,er=un.Q,tr=cn.h,nr=ln.VY,rr=fn.R,ir=dn.W,ar=pn.H,or=hn.S;function sr(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function ur(e,t){return 1===t?[e]:sr(e,t)}var cr=function(){function e(t){if((0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=qe(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=ur("rc",this.rank),r=Ue(this.rank),i=this.getOutOfBoundsCondition(n),a=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(i,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(a,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return(0,h.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var i="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),a=2;a<this.rank;a++)i="".concat(e[e.length-1-a],",")+i;t.push(i)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),lr=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length);for(var r="",i=0;i<4;i++){var a="thisRC = rc;";i%2===1&&(a+="thisRC.z += 1;"),i>1&&(a+="thisRC.y += 1;"),r+="\n        ".concat(a,"\n        ").concat(i>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(i,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(i>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?Oe(["r","c","d"],"inputShape"):Ce(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ae(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var fr=function(){function e(t){(0,p.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,h.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=pr(t,n),i=hr(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);var a,o=dr(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[i].shift();return this.usedTextures[i].push(u),u}return r===s.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===s.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===s.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var i=pr(n,r),a=hr(t,i,r);a in this.freeTextures||(this.freeTextures[a]=[]);var o=dr(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=(0,u.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var c=this.usedTextures[a],l=c.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function dr(e,t,n,r,i){var a,o=function(e,t){switch(e){case s.PACKED_2X2_FLOAT32:return lt(t);case s.PACKED_2X2_FLOAT16:return dt(t);case s.UNPACKED_FLOAT32:return it(t);case s.UNPACKED_FLOAT16:return ot(t);case s.PACKED_4X1_UNSIGNED_BYTE:return ut(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(i){var u=S(e[0],e[1]),l=(0,c.Z)(u,2);a=l[0]*l[1]}else{var f=w(e[0],e[1]),d=(0,c.Z)(f,2);a=d[0]*d[1]}var p=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return a*p}function pr(e,t){if(e===o.UPLOAD)return s.PACKED_2X2_FLOAT32;if(e===o.RENDER||null==e)return function(e){return(0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?s.PACKED_2X2_FLOAT32:s.UNPACKED_FLOAT32:e?s.PACKED_2X2_FLOAT16:s.UNPACKED_FLOAT16}(t);if(e===o.DOWNLOAD||e===o.PIXELS)return s.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function hr(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var vr=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),mr="if (isnan(x)) return x;",gr="return x;",yr="return abs(x);";var br="return (x >= 0.0) ? x : (exp(x) - 1.0);",xr=mr+"\n  return (x < 0.0) ? 0.0 : x;\n",kr=mr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",wr="return x;",_r="return 1.0 / (1.0 + exp(-1.0 * x));",Sr="return x;",Tr="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Cr="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Er="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Or="return 1.0 / (1.0 + exp(-1.0 * x));",Ar=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),Ir=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length);var n=t.length,r=ur("rc",n),i=Ue(n),a=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(i," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(a,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),Rr=u.kernel_impls.whereImpl,Nr={};var Pr=(0,u.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var Mr=function(e){(0,m.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r,i,a;if((0,p.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,u.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof wt)i=e;else{var o=k((0,u.env)().getNumber("WEBGL_VERSION"),e);i=new wt(o)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=k((0,u.env)().getNumber("WEBGL_VERSION"));i=new wt(s),r.binaryCache=((a=(0,u.env)().getNumber("WEBGL_VERSION"))in Nr||(Nr[a]={}),Nr[a]),r.gpgpuCreatedLocally=!0}return r.gpgpu=i,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new fr(r.gpgpu),r.numMBBeforeWarning=null==(0,u.env)().global.screen?1024:(0,u.env)().global.screen.height*(0,u.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new u.DataStorage((0,v.Z)(r),(0,u.engine)()),r}return(0,h.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if(((0,u.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,u.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:o.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){if((0,u.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:o.UPLOAD,refCount:i})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensorInfos,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var c;c=s?new Ar(o,wr):new vr(o,wr);var l=this.runWebGLProgram(c,[{dataId:e,shape:o,dtype:r}],r),f=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),f}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,p,h=null!=this.activeTimers;if(h&&(d=u.util.now()),"complex64"===r){var v=this.readSync(i.real.dataId),m=this.readSync(i.imag.dataId);p=u.backend_util.mergeRealAndImagArrays(v,m)}else p=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=u.util.now()-d),this.convertAndCacheOnCPU(e,p)}},{key:"read",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,a,o,s,c,d,p,h,v,m,g,y,b,x,k,w,S,T,E,O,A;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),i=r.values,a=r.shape,o=r.slice,s=r.dtype,c=r.complexTensorInfos,d=r.isPacked,null==o){e.next=11;break}return p=d?new Ar(a,wr):new vr(a,wr),h=this.runWebGLProgram(p,[{dataId:t,shape:a,dtype:s}],s),v=this.read(h.dataId),this.disposeIntermediateTensorInfo(h),e.abrupt("return",v);case 11:if(null==i){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!(0,u.env)().getBool("DEBUG")){e.next=16;break}if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==(0,u.env)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(m=null,"complex64"!==s&&(0,u.env)().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(t),b=this.texData.get(g.dataId),m=(y=this.gpgpu).createBufferFromTexture.apply(y,[b.texture.texture].concat((0,f.Z)(_(a))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 25:k=e.sent,w=k[0],S=k[1],x=u.backend_util.mergeRealAndImagArrays(w,S),e.next=32;break;case 31:null==m?x=this.getValuesFromTexture(t):(T=u.util.sizeFromShape(a),x=this.gpgpu.downloadFloat32MatrixFromBuffer(m,T));case 32:return null!=g&&this.disposeIntermediateTensorInfo(g),null!=m&&C(E=this.gpgpu.gl,(function(){return E.deleteBuffer(m)})),O=this.convertAndCacheOnCPU(t,x),A=this.pendingRead.get(t),this.pendingRead.delete(t),A.forEach((function(e){return e(O)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&(0,u.engine)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",O);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.isPacked,c=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){var l;l=s?new Ar(i,wr):new vr(i,wr);var f=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:o}],o),d=this.readToGPU(f,t);return this.disposeIntermediateTensorInfo(f),d}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var p=this.decode(e,t.customTexShape),h=(0,u.engine)().makeTensorFromTensorInfo(p),v=this.texData.get(p.dataId);return Object.assign({tensorRef:h},v.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return u.util.decodeString(e)}));return(0,u.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,u.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!A(n)){if((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.isPacked,a=u.util.sizeFromShape(n);if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),c=this.texData.get(s.dataId),l=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[c.texture.texture].concat((0,f.Z)(_(n)))).subarray(0,a);return this.disposeIntermediateTensorInfo(s),l}var d=(0,u.env)().getBool("WEBGL_PACK")&&!0===i,p=d?ue(n):n,h=d?new Qe(p):new Xe(p),v=this.runWebGLProgram(h,[{shape:p,dtype:r,dataId:e}],"float32"),m=this.texData.get(v.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture.texture,m.texShape[0],m.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(v),g}},{key:"timerAvailable",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],i=!1;null==this.programTimersStack?(this.programTimersStack=r,i=!0):this.activeTimers.push(r),this.activeTimers=r,e();var a=u.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=u.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,i&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,d.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(a);case 3:n=e.sent,s.kernelMs=u.util.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:u.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=u.util.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e).complexTensorInfos;return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr;return(0,u.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&u.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){u.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Rr(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Ar(e.shape,t),i=this.compileAndRun(r,[e],n);return(0,u.engine)().makeTensorFromTensorInfo(i)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=Gn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,yr,e.dtype);var n=new vr(e.shape,yr),r=this.compileAndRun(n,[e]);return(0,u.engine)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&u.util.isString(n[0])){var i=n.map((function(e){return u.util.encodeString(e)}));r=this.write(i,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return(0,u.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new Ir(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new cr(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[oe(e.shape)].concat((0,f.Z)(se(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[oe(t)].concat((0,f.Z)(se(t))),a=new lr(i,n),o=[n],s=this.runWebGLProgram(a,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype;if(null!=t){var o=u.util.sizeFromShape(i),s=t[0]*t[1]*4;u.util.assert(o<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var c,l=ue(i);c=r?new Ye(l):new Ke(l);var f=[null!=t?t:_(l)];return{dtype:a,shape:i,dataId:this.runWebGLProgram(c,[{shape:l,dtype:a,dataId:e}],a,f,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,c=this.makeTensorInfo(e.outputShape,n),l=this.texData.get(c.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===a.DENSE){var f=null!=s?s:_(e.outputShape);l.texShape=f.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===u.util.sizeFromShape(c.shape))return l.values=u.util.getTypedArrayFromDType(c.dtype,0),c;var d=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&u.util.sizeFromShape(t.shape)<=(0,u.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(i.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),d.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!fe(n.shape,t.shape)){var r=t,a=t.shape;t.shape=n.shape,t=i.packedReshape(t,a),d.push(t),n=i.texData.get(t.dataId),r.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(c.dataId);var h,v={shape:c.shape,texData:l,isUniform:!1},m=function(e,t,n){var r="";t.concat(n).forEach((function(t){var i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var a=t.texData.texShape,o=Ve(e.packedInputs,t.shape,a),s=o.useSqueezeShape,c=o.uniformShape,l=o.keptDims,f="",d="",p="";if(1===c.length&&e.packedInputs){var h=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];f="".concat(h[0]>1,"_").concat(h[1]>1)}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){var v=u.util.computeStrides(c);p="".concat(v[0]===a[1],"_").concat(v[v.length-1]===a[1])}}else d="".concat(c[0]>1,"_").concat(c[1]>1);var m=t.shape.length,g=2===c.length&&u.util.arraysEqual(t.shape,a),y=1===u.util.sizeFromShape(t.shape),b=u.backend_util.getBroadcastDims(t.shape,n.shape),x=!e.packedInputs&&m===n.shape.length&&u.util.arraysEqual(a,n.texData.texShape),k=e.packedInputs||c.length>2?"":"".concat(a[0]>1,"_").concat(a[1]>1);r+="".concat(m,"_").concat(x,"_").concat(s?l:"","_").concat(c.length,"_").concat(y,"_").concat(b,"_").concat(g,"_").concat(f,"_").concat(d,"_").concat(p,"_").concat(k,"_").concat(i)}else{var w=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(w,"_").concat(i)}}));var i=e.userCode,a=e.constructor.name;return a+"_"+r+"_"+i+"".concat((0,u.env)().getNumber("WEBGL_VERSION"))}(e,p,v),g=this.getAndSaveBinary(m,(function(){return function(e,t,n,r){var i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Ne(i,o,t),c=P(e.gl,s),l=e.createProgram(c);return(0,u.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:a,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:a,outShapeInfo:o},He(e,t,l))}(i.gpgpu,e,p,v)})),y=null!=this.activeTimers;y&&(h=this.startTimer()),(0,u.env)().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,i){t.program.enableShapeUniforms||(Ge(t.inShapeInfos,n),Ge([t.outShapeInfo],[r]));var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,o[0],o[1]):e.setOutputMatrixTexture(a.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===(0,u.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset".concat(i)],s=t.inShapesLocations["".concat(i,"Shape")],c=t.inTexShapesLocations["".concat(i,"TexShape")];if(s){var l=Ve(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(l.length){case 1:e.gl.uniform1iv(s,new Int32Array(l));break;case 2:e.gl.uniform2iv(s,new Int32Array(l));break;case 3:e.gl.uniform3iv(s,new Int32Array(l));break;case 4:e.gl.uniform4iv(s,new Int32Array(l))}}if(c&&e.gl.uniform2i(c,n.texData.texShape[0],n.texData.texShape[1]),null!=a)if(n.isUniform)if(u.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var f=n.uniformValues;f instanceof Float32Array||(f=new Float32Array(f)),e.gl.uniform1fv(a,f)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,a,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var c=u.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(c));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(c));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(c))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&i&&t.program.customUniforms.forEach((function(n,r){var a=t.customUniformLocations[r],o=i[r];if("float"===n.type)e.gl.uniform1fv(a,o);else if("vec2"===n.type)e.gl.uniform2fv(a,o);else if("vec3"===n.type)e.gl.uniform3fv(a,o);else if("vec4"===n.type)e.gl.uniform4fv(a,o);else if("int"===n.type)e.gl.uniform1iv(a,o);else if("ivec2"===n.type)e.gl.uniform2iv(a,o);else if("ivec3"===n.type)e.gl.uniform3iv(a,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(a,o)}})),e.executeProgram()}(this.gpgpu,g,p,v,r),d.forEach((function(e){return i.disposeIntermediateTensorInfo(e)})),y&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var b=(0,u.env)().get("WEBGL_FLUSH_THRESHOLD");if(b>0){var x=u.util.now();x-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=x)}if(!(0,u.env)().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===o){var k=this.unpackTensor(c);return this.disposeIntermediateTensorInfo(c),k}return c}},{key:"compileAndRun",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n=n||t[0].dtype,this.runWebGLProgram(e,t,n,r,i)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!(0,u.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,u.tidy)((function(){if(!(0,u.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,u.env)().getBool("DEBUG");(0,u.env)().set("DEBUG",!1);var n=e.abs((0,u.scalar)(1e-8)).dataSync()[0];if((0,u.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.values,a=t.texture,s=t.usage,l=t.isPacked;if(null==a){var f,d=null!=this.activeTimers;d&&(f=u.util.now());var p=t.texShape;if(null==p&&(p=ce(n,l),t.texShape=p),null!=i){var h,v=ue(n),m=p[1],g=p[0],y=i instanceof Uint8Array||i instanceof Uint8ClampedArray;if(l||!y){var b=S(p[0],p[1]),x=(0,c.Z)(b,2);m=x[0],g=x[1]}h=l?new $e(v,y):new Je(v,y);var k=y?[g,m]:p,w=this.makeTensorInfo(k,r),_=this.texData.get(w.dataId);_.usage=y?o.PIXELS:o.UPLOAD,_.texShape=k,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),m,g,i);var T=[[g,m]],C=this.runWebGLProgram(h,[w],r,T,!0),E=this.texData.get(C.dataId);t.texShape=E.texShape,t.isPacked=E.isPacked,t.usage=E.usage,(0,u.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(t.texture=E.texture,t.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(w),d&&(this.uploadWaitMs+=u.util.now()-f)}else{var O=this.acquireTexture(p,s,r,l);t.texture=O}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(i," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*u.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,c.Z)(t[e],2)[1];this.checkCompletion_(n)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r,i,a,o,s,u,f=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)i=(0,c.Z)(r[n],2),a=i[1],t.push(this.checkCompletionAsync_(a));return e.abrupt("return",Promise.all(t));case 6:o=(0,l.Z)().mark((function e(){var n,r,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,c.Z)(u[s],2),r=n[1],i=new Promise((function(e){try{f.checkCompletion_(r),e(!0)}catch(t){throw t}})),t.push(i);case 3:case"end":return e.stop()}}),e)})),s=0,u=Object.entries(this.binaryCache);case 8:if(!(s<u.length)){e.next=13;break}return e.delegateYield(o(),"t0",10);case 10:s++,e.next=8;break;case 13:return e.abrupt("return",Promise.all(t));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,(0,u.nextFrame)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw L(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,c.Z)(t[e],2)[1],r=He(this.gpgpu,n.program,n.webGLProgram),i=r.uniformLocations,a=r.customUniformLocations,o=r.infLoc,s=r.nanLoc,u=r.inShapesLocations,l=r.inTexShapesLocations,f=r.outShapeLocation,d=r.outShapeStridesLocation,p=r.outTexShapeLocation;n.uniformLocations=i,n.customUniformLocations=a,n.infLoc=o,n.nanLoc=s,n.inShapesLocations=u,n.inTexShapesLocations=l,n.outShapeLocation=f,n.outShapeStridesLocation=d,n.outTexShapeLocation=p}}}]),n}(u.KernelBackend);Mr.nextDataId=0;var Dr="3.21.0";function jr(){(0,u.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}u.device_util.isBrowser()&&(0,u.registerBackend)("webgl",(function(){return new Mr}),2);var Lr={forceHalfFloat:jr},Fr="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n",Zr=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["A","B"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=qe(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),Br="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n",Ur=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,p.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r);var a=this.outputShape.length;this.enableShapeUniforms=qe(a);var o="";if(i)if(0===a||1===u.util.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=Ue(a);if(o="\n          ".concat(s," coords = getOutputCoords();\n        "),1===a)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=ur("coords",a);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(c[a-2]," + 1) >= outShape[").concat(a," - 2];\n            bool nextColOutOfBounds =\n              (").concat(c[a-1]," + 1) >= outShape[").concat(a," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(c[a-2]," + 1) >= ").concat(this.outputShape[a-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[a-1]," + 1) >= ").concat(this.outputShape[a-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}));function Vr(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var zr={kernelName:u.Identity,backendName:"webgl",kernelFunc:Vr};function Wr(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(a.dataId),s=Vr({inputs:{x:r},backend:n}),u=Vr({inputs:{x:i},backend:n});return o.complexTensorInfos={real:s,imag:u},a}var Hr={kernelName:u.Complex,backendName:"webgl",kernelFunc:Wr},Gr="return (a < 0.) ? b * a : a;",qr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Kr={kernelName:u.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.alpha,o=n.makeTensorInfo([],"float32",u.util.createScalarValue(a,"float32")),s=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(qr,i.shape,o.shape):new Zr(Gr,i.shape,o.shape),c=n.runWebGLProgram(s,[i,o],"float32");return n.disposeIntermediateTensorInfo(o),c}},Yr="return (a < 0.) ? b * a : a;",Xr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Qr={kernelName:u.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha,a=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(Xr,r.shape,i.shape):new Zr(Yr,r.shape,i.shape);return n.runWebGLProgram(a,[r,i],"float32")}},Jr="if (isnan(x)) return x;";function $r(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,i=e.dtype;return function(e){var a,o=e.inputs,s=e.backend,c=o.x,l=s,f=i||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=r){var d=l.texData.get(c.dataId),p=r(d.values,f);return l.makeTensorInfo(c.shape,f,p)}return a=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Ar(c.shape,n):new vr(c.shape,t),l.runWebGLProgram(a,[c],f)}}function ei(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,i=void 0!==r&&r,a=e.supportsComplex,o=void 0!==a&&a,s=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,a=e.backend,f=r.a,d=r.b,p=a;if(o&&"complex64"===f.dtype){var h=p.texData.get(f.dataId),v=p.texData.get(d.dataId),m=[[h.complexTensorInfos.real,v.complexTensorInfos.real],[h.complexTensorInfos.imag,v.complexTensorInfos.imag]].map((function(e){var n=(0,c.Z)(e,2),r=n[0],i=n[1],a={dataId:r.dataId,dtype:r.dtype,shape:f.shape},o={dataId:i.dataId,dtype:i.dtype,shape:d.shape},s=new Zr(t,f.shape,d.shape);return p.runWebGLProgram(s,[a,o],(0,u.upcastType)(r.dtype,i.dtype))})),g=(0,c.Z)(m,2),y=g[0],b=g[1],x=Wr({inputs:{real:y,imag:b},backend:p});return p.disposeIntermediateTensorInfo(y),p.disposeIntermediateTensorInfo(b),x}var k,w=l||(0,u.upcastType)(f.dtype,d.dtype);if(("string"===f.dtype||"string"===d.dtype||p.shouldExecuteOnCPU([f,d]))&&null!=s){var _=p.texData.get(f.dataId).values,S=p.texData.get(d.dataId).values,T="string"===f.dtype?u.backend_util.fromUint8ToStringArray(_):_,C="string"===f.dtype?u.backend_util.fromUint8ToStringArray(S):S,E=s(f.shape,d.shape,T,C,w),O=(0,c.Z)(E,2),A=O[0],I=O[1],R=p.makeTensorInfo(I,w);return p.texData.get(R.dataId).values=A,R}return k=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Ur(n,f.shape,d.shape,i):new Zr(t,f.shape,d.shape),p.runWebGLProgram(k,[f,d],w)}}function ti(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Sr:gr;if("relu"===e)return t?Cr:xr;if("elu"===e)return t?Tr:br;if("relu6"===e)return t?Er:kr;if("prelu"===e)return t?Xr:Yr;if("leakyrelu"===e)return t?qr:Gr;if("sigmoid"===e)return t?Or:_r;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var ni=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,p.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=qe(this.outputShape.length);var l=i?t[1]:t[2],f=Math.ceil(l/2),d=i?"i * 2, rc.y":"rc.y, i * 2",h=a?"rc.z, i * 2":"i * 2, rc.z",v=i?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",y="";s&&(g=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),y="result = activation(result);");var b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var x="rc.x",k="rc.x";t[0]<n[0]?x="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(k="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(g,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(f,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(f,"; i++) {\n          int batchA = ").concat(x,";\n          int batchB = ").concat(k,";\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(v[0]," * ").concat(m[0],");\n          result += (").concat(v[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(b,"\n\n        ").concat(y,"\n\n        setOutput(result);\n      }\n    ")})),ri={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},ii=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),ai="return a * b;";function oi(e){var t,n=e.inputs,r=e.backend,i=n.a,a=n.b,o=u.backend_util.upcastType(i.dtype,a.dtype);if("complex64"===i.dtype){var s=r.texData.get(i.dataId),l=r.texData.get(a.dataId),f=new ii(ri.REAL,i.shape,a.shape),d=new ii(ri.IMAG,i.shape,a.shape),p=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:i.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],h=r.runWebGLProgram(f,p,"float32"),v=r.runWebGLProgram(d,p,"float32"),m=Wr({inputs:{real:h,imag:v},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(v),m}if(r.shouldExecuteOnCPU([i,a])){var g=r.texData.get(i.dataId),y=r.texData.get(a.dataId),b=jn(i.shape,a.shape,g.values,y.values,o),x=(0,c.Z)(b,2),k=x[0],w=x[1],_=r.makeTensorInfo(w,o);return r.texData.get(_.dataId).values=k,_}return t=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(ai,i.shape,a.shape):new Zr(ai,i.shape,a.shape),r.runWebGLProgram(t,[i,a],o)}var si={kernelName:u.Multiply,backendName:"webgl",kernelFunc:oi};function ui(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.shape,o=n,s=u.util.sizeFromShape(i.shape),c=u.util.inferFromImplicitShape(a,s),l=u.util.sizeFromShape(c);u.util.assert(s===l,(function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(i.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var d=o.texData.get(i.dataId);return!d.isPacked||fe(i.shape,c)||null!==d.texture&&fe(d.shape,c)?(o.incRef(i.dataId),{dataId:i.dataId,shape:c,dtype:i.dtype}):function(e,t,n){var r=[oe(e.shape)].concat((0,f.Z)(se(e.shape))),i={dtype:e.dtype,shape:r,dataId:e.dataId},a=[oe(t)].concat((0,f.Z)(se(t))),o=new lr(a,r),s=[r],u=n.runWebGLProgram(o,[i],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(i,c,o)}var ci={kernelName:u.Reshape,backendName:"webgl",kernelFunc:ui},li=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s=4*Math.floor(r/4),c=r%4,l="sumValue += dot(values, ones);";if(null!=n){var f=1/n;l="sumValue += dot(values * ".concat(u.util.isInt(f)?f.toPrecision(2):f,", ones);")}var d="";a%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),fi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),f=r%4,d="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===n?(s="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(s="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var v="";a%r>0&&(v="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(v,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}));function di(e,t,n,r){for(var i=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=u.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),a=e,o=0;o<i.length;o++){var s,c=i[o],l=c.inSize,f=c.windowSize,d=c.outSize,p=void 0;p="mean"===n?0===o?new li({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},l):new li({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d}):new fi({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},n),s=a,a=r.runWebGLProgram(p,[a],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return a}var pi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];this.outputShape=r,this.rank=r.length;var a=Ue(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(a," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var hi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var a=Ue(this.rank),o=sr("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),f="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(a," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(f,";\n      if(").concat(l,") {\n        result[1] = ").concat(f,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(f,";\n        if(").concat(l,") {\n          result[3] = ").concat(f,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function vi(e,t,n){var r=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hi(e.shape,t):new pi(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function mi(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var i=t,a=e.shape.length,o=u.util.parseAxisParam(i,e.shape),s=o,l=u.backend_util.getAxesPermutation(s,a),f=null!=l,d=e;f&&(d=vi(e,l,r),s=u.backend_util.getInnerMostAxes(s.length,a)),u.backend_util.assertAxesAreInnerMostDims("sum",s,a);var p=u.backend_util.computeOutAndReduceShapes(d.shape,s),h=(0,c.Z)(p,2),v=h[0],m=h[1],g=v;n&&(g=u.backend_util.expandShapeToKeepDim(v,o));var y=u.util.sizeFromShape(m),b=ui({inputs:{x:d},attrs:{shape:[u.util.sizeFromShape(e.shape)/y,y]},backend:r}),x=di(b,(0,u.sumOutType)(e.dtype),"sum",r),k=ui({inputs:{x:x},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(x),f&&r.disposeIntermediateTensorInfo(d),k}(t.x,r.axis,r.keepDims,n)}var gi={kernelName:u.Sum,backendName:"webgl",kernelFunc:mi};function yi(e){for(var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.perm,s=r,u=a.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=a.shape[o[l]];if(s.shouldExecuteOnCPU([a])){var f=s.texData.get(a.dataId).values,d=ar(f,a.shape,a.dtype,o,c);t=s.makeTensorInfo(c,a.dtype),s.texData.get(t.dataId).values=d}else t=vi(a,o,s);return t}var bi={kernelName:u.Transpose,backendName:"webgl",kernelFunc:yi},xi=1e3;function ki(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.backend,o=e.bias,s=void 0===o?null:o,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,p=e.activation,h=void 0===p?null:p,v=t.shape.length,m=n.shape.length,g=r?t.shape[v-2]:t.shape[v-1],y=i?n.shape[m-1]:n.shape[m-2],b=r?t.shape[v-1]:t.shape[v-2],x=i?n.shape[m-2]:n.shape[m-1],k=t.shape.slice(0,-2),w=n.shape.slice(0,-2),_=u.util.sizeFromShape(k),S=u.util.sizeFromShape(w),T=u.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([b,x]);u.util.assert(g===y,(function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(y,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(i," must match.")}));var C,E=r?[_,g,b]:[_,b,g],O=i?[S,x,y]:[S,y,x],A=ui({inputs:{x:t},backend:a,attrs:{shape:E}}),I=ui({inputs:{x:n},backend:a,attrs:{shape:O}}),R=[A,I],N=Math.max(_,S),P=r?A.shape[1]:A.shape[2],M=null!=s,D=null!=l,j="leakyrelu"===h,L=null!=h?ti(h,!0):null;if((1===b||1===x)&&P>xi&&!1===(M||D||j||null!=L)){var F=A,Z=I;r&&(F=yi({inputs:{x:A},backend:a,attrs:{perm:[0,2,1]}}),R.push(F)),i&&(Z=yi({inputs:{x:I},backend:a,attrs:{perm:[0,2,1]}}),R.push(Z));var B=1===x,U=F;1!==x&&(U=ui({inputs:{x:F},backend:a,attrs:{shape:[N,P,1]}}),R.push(U));var V=1===x?2:1,z=Z;B&&(z=ui({inputs:{x:Z},backend:a,attrs:{shape:[N,1,P]}}),R.push(z));var W=oi({inputs:{a:U,b:z},backend:a});C=mi({inputs:{x:W},backend:a,attrs:{axis:V,keepDims:!0}}),R.push(W)}else{var H=(0,u.upcastType)(t.dtype,n.dtype),G=new ni(E,O,[N,b,x],r,i,M,L,D,j),q=[A,I];if(null!=s&&q.push(s),D&&q.push(l),j){var K=a.makeTensorInfo([],"float32",u.util.createScalarValue(d,"float32"));q.push(K),R.push(K)}C=a.runWebGLProgram(G,q,H)}var Y=ui({inputs:{x:C},backend:a,attrs:{shape:T}});R.push(C);for(var X=0,Q=R;X<Q.length;X++){var J=Q[X];a.disposeIntermediateTensorInfo(J)}return Y}var wi={kernelName:u._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.a,a=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return ki({a:i,b:a,transposeA:u,transposeB:c,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},_i="return abs(x);";var Si={kernelName:u.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){var a=r.texData.get(i.dataId),o=Gn(a.values);return r.makeTensorInfo(i.shape,i.dtype,o)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Ar(i.shape,_i):new vr(i.shape,_i),r.runWebGLProgram(t,[i],i.dtype)}},Ti=$r({opSnippet:mr+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Ci={kernelName:u.Acos,backendName:"webgl",kernelFunc:Ti},Ei=$r({opSnippet:mr+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Oi={kernelName:u.Acosh,backendName:"webgl",kernelFunc:Ei},Ai="return a + b;",Ii=ei({opSnippet:Ai,packedOpSnippet:Ai,supportsComplex:!0,cpuKernelImpl:vn}),Ri={kernelName:u.Add,backendName:"webgl",kernelFunc:Ii},Ni=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(i,";\n        setOutput(result);\n      }\n    ")})),Pi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(i,";\n        setOutput(result);\n      }\n    ")}));var Mi={kernelName:u.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n;if(1===i.length)return Vr({inputs:{x:i[0]},backend:r});if(i.length>(0,u.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(i.length/2),o=e({inputs:i.slice(0,a),backend:r}),s=e({inputs:i.slice(a),backend:r});return e({inputs:[o,s],backend:r})}var c=i.map((function(e){return e.dtype})).reduce((function(e,t){return(0,u.upcastType)(e,t)})),l=i.map((function(e){return e.shape})),f=(0,u.env)().getBool("WEBGL_PACK")?new Pi(i[0].shape,l):new Ni(i[0].shape,l);return r.runWebGLProgram(f,i,c)}};var Di={kernelName:u.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=i;null!=d&&(p=yi({inputs:{x:i},backend:n,attrs:{perm:d}}),f=u.backend_util.getInnerMostAxes(f.length,s)),u.backend_util.assertAxesAreInnerMostDims("all",f,s);var h,v=u.backend_util.computeOutAndReduceShapes(p.shape,f),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=ui({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),x=di(b,b.dtype,"all",n);return h=ui(o?{inputs:{x:x},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(p),h}};var ji={kernelName:u.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=i;null!=d&&(p=yi({inputs:{x:i},backend:n,attrs:{perm:d}}),f=u.backend_util.getInnerMostAxes(f.length,s)),u.backend_util.assertAxesAreInnerMostDims("any",f,s);var h,v=u.backend_util.computeOutAndReduceShapes(p.shape,f),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=ui({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),x=di(b,b.dtype,"any",n);return h=ui(o?{inputs:{x:x},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(p),h}},Li=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["A"];var i=t.windowSize,a=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(i,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),Fi=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,u.util.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var a=t[t.length-1],o=Math.ceil(a/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),i||this.variableNames.push("bestIndicesA");var s,c,l=this.outputShape,f=l.length,d=Ue(f),h=ur("coords",f);if(1===o){var v=Ue(c=f+1);s="\n        ".concat(v," sourceLocR = ").concat(v,"(").concat(h.join(),", 0);\n        ++").concat(h[f-1],";\n        ").concat(v," sourceLocG = ").concat(v,"(").concat(h.join(),", 0);\n        ++").concat(h[f-2],";\n        ").concat(v," sourceLocA = ").concat(v,"(").concat(h.join(),", 0);\n        --").concat(h[f-1],";\n        ").concat(v," sourceLocB = ").concat(v,"(").concat(h.join(),", 0);\n        --").concat(h[f-2],";")}else c=f,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(h[f-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(h[f-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(h[f-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(h[f-2],";");var m=["x","y","z","w","u","v"].slice(0,c),g="."+m[c-1],y=m.map((function(e){return"int "+e})),b=ur("sourceLocR",c-1).concat("inIdx.r"),x=ur("sourceLocG",c-1).concat("inIdx.g"),k=ur("sourceLocB",c-1).concat("inIdx.b"),w=ur("sourceLocA",c-1).concat("inIdx.a"),_="max"===r?"greaterThan":"lessThan",S=i?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(k.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),")));"),T="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(k.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(w.join(),") : 0.)"),C=i?"":"\n      float getBestIndicesAChannel(".concat(y.join(),") {\n        return getChannel(getBestIndicesA(").concat(m.join(),"),\n                                          vec2(").concat(m.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(y.join(),") {\n        return getChannel(getA(").concat(m.join(),"),\n                               vec2(").concat(m.slice(-2).join(),"));\n      }\n      ").concat(C,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[f-1]," < ").concat(l[f-1]-1,";\n        bool hasNextRow = ").concat(h[f-2]," < ").concat(l[f-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(g,", sourceLocG").concat(g,",\n          sourceLocB").concat(g,", sourceLocA").concat(g,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(T,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(S,"\n          vec4 candidate = ").concat(T,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(_,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function Zi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.shape[0],a=t.shape[1];null!=r&&(i=r.shape[0],a=r.shape[1]);var o=u.backend_util.computeOptimalWindowSize(a),s={windowSize:o,inSize:a,batchSize:i,outSize:Math.ceil(a/o)},c=new Li(s,n,null==r),l=[t];null!=r&&l.push(r);var f=e.runWebGLProgram(c,l,"int32");if(1===f.shape[1])return f;var d=Zi(e,t,n,f);return e.disposeIntermediateTensorInfo(f),d}function Bi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null!=r?r.shape:t.shape,a=i[i.length-1],o=u.backend_util.computeOptimalWindowSize(a),s=new Fi(i,o,n,null==r),c=null==r?[t]:[t,r],l=e.runWebGLProgram(s,c,"int32");if(l.shape.length===t.shape.length){var f=Bi(e,t,n,l);return e.disposeIntermediateTensorInfo(l),f}return l}function Ui(e,t,n,r){var i=[n];if(u.backend_util.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),i,t.shape.length),!(0,u.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var a=[],o=e.texData.get(t.dataId),s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),a.push(s));var l=u.backend_util.computeOutAndReduceShapes(s.shape,i),f=(0,c.Z)(l,2),d=f[0],p=f[1],h=u.util.sizeFromShape(p),v=ui({inputs:{x:s},backend:e,attrs:{shape:[-1,h]}});a.push(v);var m=Zi(e,v,r);a.push(m);var g=ui({inputs:{x:m},backend:e,attrs:{shape:d}});return a.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return Bi(e,t,r)}var Vi={kernelName:u.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.util.parseAxisParam(a,i.shape),s=u.backend_util.getAxesPermutation(o,i.shape.length),c=i,l=[];null!=s&&(c=yi({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(c),o=u.backend_util.getInnerMostAxes(o.length,c.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMax",[o[0]],c.shape.length);var f=Ui(n,c,o[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var zi={kernelName:u.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.util.parseAxisParam(a,i.shape),s=u.backend_util.getAxesPermutation(o,i.shape.length),c=i,l=[];null!=s&&(c=yi({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(c),o=u.backend_util.getInnerMostAxes(o.length,c.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMin",[o[0]],c.shape.length);var f=Ui(n,c,o[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}},Wi=$r({opSnippet:mr+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Hi={kernelName:u.Asin,backendName:"webgl",kernelFunc:Wi},Gi=$r({opSnippet:mr+"return log(x + sqrt(x * x + 1.0));"}),qi={kernelName:u.Asinh,backendName:"webgl",kernelFunc:Gi},Ki=$r({opSnippet:mr+"\n  return atan(x);\n"}),Yi={kernelName:u.Atan,backendName:"webgl",kernelFunc:Ki},Xi=ei({opSnippet:Fr+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Br+"\n  return result;\n"}),Qi={kernelName:u.Atan2,backendName:"webgl",kernelFunc:Xi},Ji=$r({opSnippet:mr+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),$i={kernelName:u.Atanh,backendName:"webgl",kernelFunc:Ji},ea=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,p.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,v=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,g="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="0.0";if(m||(b="-1.0 / 1e-20"),r){this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(v,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(">="," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(i?a?g:y:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(x="avgValue / count");var k=4*Math.floor(o/4),w=o%4,_="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(v,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(_,"\n          }\n\n          int xC = xCCorner + ").concat(k,";\n          if (").concat(1===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(_,"\n          } else if (").concat(2===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(_,"\n          } else if (").concat(3===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(_,"\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}})),ta=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,p.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,v=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=t.padInfo.front,y=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var x="avg"===n,k="0.0";if(x||(k="-1.0 / 1e-20"),r){this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(v,";\n                wR += ").concat(f,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(">="," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(i?a?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(v," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / count");var _=4*Math.floor(o/4),S=o%4,T="\n      if (".concat(x,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n      const float initializationValue = ").concat(k,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(k,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(v,";\n            wR += ").concat(f,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(_,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(_,";\n            if (").concat(1===S,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(2===S,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(3===S,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n          setOutput(").concat(w,");\n        }\n      }\n    ")}}));var na={kernelName:u.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;_e(i,"avgPool");var a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=u.backend_util.computePool2DInfo(i.shape,a,o,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&u.util.arraysEqual(l.inShape,l.outShape))return Vr({inputs:{x:i},backend:n});var f=new ea(l,"avg",!1);return n.runWebGLProgram(f,[i],"float32")}};var ra={kernelName:u.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat,f=u.backend_util.computePool3DInfo(i.shape,a,o,[1,1,1],s,c,l),d=new ta(f,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}},ia=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,f=c-1-t.padInfo.left,d=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(f,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),aa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,v=f-1-t.padInfo.front,m=d-1-t.padInfo.top,g=h-1-t.padInfo.left,y=1/(n*r*i);this.userCode="\n      const ivec3 pads = ivec3(".concat(v,", ").concat(m,", ").concat(g,");\n      const float avgMultiplier = float(").concat(y,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(a,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var oa={kernelName:u.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=u.backend_util.computePool3DInfo(a.shape,o,s,[1,1,1],c,l),d=new aa(f);return n.runWebGLProgram(d,[i],a.dtype)}};var sa={kernelName:u.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;_e([i,a],"avgPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=u.backend_util.computePool2DInfo(o.shape,s,c,1,l),d=new ia(f);return n.runWebGLProgram(d,[i],o.dtype)}};var ua={kernelName:u.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return ki({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},ca=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="0.0";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="1.0";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),la=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),fa={kernelName:u.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.mean,o=t.variance,s=t.offset,c=t.scale;u.util.assert(a.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),u.util.assert(null==s||a.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),u.util.assert(null==c||a.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var f=[i,a,o],d=null;null!=s&&(d=s.shape,f.push(s));var p=null;null!=c&&(p=c.shape,f.push(c));var h=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new la(i.shape,a.shape,o.shape,d,p,l):new ca(i.shape,a.shape,o.shape,d,p,l);return n.runWebGLProgram(h,f,f[0].dtype)}},da=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Ue(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,i=function(e){if(1===e)return"sourceLoc";if(e<=6)return pa.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),a=t.map((function(e,t){return"sourceLoc.".concat(pa[t]," = start[").concat(t,"] + coords.").concat(pa[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(a.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")})),pa=["x","y","z","w","u","v"];var ha=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Ue(this.rank),r=ur("coords",this.rank),i=ur("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2(".concat(i.slice(-2).join(),")"),o="getChannel(getSource(".concat(i.join(),"), ").concat(a,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(i[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(i[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(i[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(i[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(i[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function va(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.begin,o=r.size,s=u.slice_util.parseSliceParams(i,a,o),l=(0,c.Z)(s,2),f=l[0],d=l[1];if(u.slice_util.assertParamsValid(i,f,d),0===u.util.sizeFromShape(d))return n.makeTensorInfo(d,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||"string"===i.dtype){var p=n.texData.get(i.dataId),h=qn(p.values,f,d,i.shape,i.dtype);return n.makeTensorInfo(d,i.dtype,h)}var v=n.texData.get(i.dataId).isPacked,m=u.slice_util.isSliceContinous(i.shape,f,d);if(v||!m){var g=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ha(d):new da(d),y=[f];return n.runWebGLProgram(g,[i],i.dtype,y)}return n.uploadToGPU(i.dataId),function(e,t,n,r){var i=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),o=r.texData.get(a.dataId);Object.assign(o,i),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=u.slice_util.computeFlatOffset(t,u.util.computeStrides(e.shape));i.slice&&(s+=i.slice.flatOffset),o.slice={flatOffset:s,origDataId:i.slice&&i.slice.origDataId||e.dataId};var c=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,c+1),a}(i,f,d,n)}var ma={kernelName:u.Slice,backendName:"webgl",kernelFunc:va},ga={kernelName:u.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.crops;u.util.assert(i.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),c=u.backend_util.getReshaped(i.shape,a,s),l=u.backend_util.getPermuted(c.length,a.length),f=u.backend_util.getReshapedPermuted(i.shape,a,s),d=u.backend_util.getSliceBeginCoords(o,a.length),p=u.backend_util.getSliceSize(f,o,a.length),h=[],v=ui({inputs:{x:i},backend:n,attrs:{shape:c}}),m=yi({inputs:{x:v},backend:n,attrs:{perm:l}}),g=ui({inputs:{x:m},backend:n,attrs:{shape:f}}),y=va({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(v),h.push(m),h.push(g),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var ya={kernelName:u.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.readSync(i.dataId),u=n.readSync(a.dataId),c=mn(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};var ba={kernelName:u.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,i=t.s1,a=n.readSync(r.dataId),o=n.readSync(i.dataId),s=u.backend_util.assertAndGetBroadcastShape(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},xa=ei({opSnippet:"return float(a != b);",cpuKernelImpl:Fn,dtype:"bool"}),ka={kernelName:u.NotEqual,backendName:"webgl",kernelFunc:xa};function wa(e){var t=e.inputs,n=e.backend,r=t.input;return Vr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var _a={kernelName:u.Real,backendName:"webgl",kernelFunc:wa},Sa="return float(int(x));";var Ta={kernelName:u.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=t.attrs,a=n.x,o=i.dtype;if("complex64"===o){if("complex64"===a.dtype)return Vr({inputs:{x:a},backend:r});var s=u.zeros(a.shape),l=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),f=Wr({inputs:{real:l,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(l),f}if("complex64"===a.dtype){var d=wa({inputs:{input:a},backend:r}),p=e({inputs:{x:d},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(d),p}if(!u.util.hasEncodingLoss(a.dtype,o)){var h=Vr({inputs:{x:a},backend:r});return{dataId:h.dataId,shape:h.shape,dtype:o}}if(r.shouldExecuteOnCPU([a])){var v=r.texData.get(a.dataId).values,m=yn(v,a.shape,a.dtype,o),g=(0,c.Z)(m,3),y=g[0],b=g[1],x=g[2];return r.makeTensorInfo(y,b,x)}if("int32"===o)return function(e,t){var n=new vr(e.shape,Sa),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===o){var k=r.makeTensorInfo([],"bool",u.util.getTypedArrayFromDType("bool",1)),w=xa({inputs:{a:a,b:k},backend:r});return r.disposeIntermediateTensorInfo(k),w}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}},Ca="return ceil(x);",Ea=$r({opSnippet:Ca,packedOpSnippet:Ca,cpuKernelImpl:bn}),Oa={kernelName:u.Ceil,backendName:"webgl",kernelFunc:Ea},Aa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),Ia=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var Ra={kernelName:u.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.clipValueMin,s=i.clipValueMax;t=(0,u.env)().getBool("WEBGL_PACK_CLIP")?new Ia(a.shape):new Aa(a.shape);var c=[[o],[s]];return r.runWebGLProgram(t,[a],a.dtype,c)}},Na=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function Pa(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Ma={kernelName:u.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n.texData.get(r.dataId),a=new Na(r.shape),o=[Pa(r,i.complexTensorInfos.real),Pa(r,i.complexTensorInfos.imag)];return n.runWebGLProgram(a,o,o[0].dtype)}},Da=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],a=1;a<n.length;a++){var o=n[a-1];i.push("else if (yC < ".concat(n[a],") ")+"setOutput(getT".concat(a,"(yR, yC-").concat(o,"));"))}var s=n.length,c=n[n.length-1];i.push("else setOutput(getT".concat(s,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")})),ja=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,n);var r=this.outputShape,i=r.length,a=Ue(i),o=ur("coords",i),s=["x","y","z","w","u","v"].slice(0,i);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var f=s[n],d=s.slice(-2),h=s.join(),v="if (".concat(f," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(d.join(),"));\n        }"),m=1;m<c.length;m++){var g=c[m-1];v+="\n        if (".concat(f," < ").concat(c[m],"  && ").concat(f," >= ").concat(c[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(La(s,f,g),"),\n            vec2(").concat(La(d,f,g),"));\n        }")}var y=c.length,b=c[c.length-1];v+="\n        return getChannel(\n          getT".concat(y,"(").concat(La(s,f,b),"),\n          vec2(").concat(La(d,f,b),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(v,"\n      }\n\n      void main() {\n        ").concat(a," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," + 1;\n        if (").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-2]," = ").concat(o[i-2]," + 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," - 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2]," &&\n            ").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}));function La(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Fa(e){var t=e.inputs,n=e.backend,r=t.input;return Vr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var Za={kernelName:u.Imag,backendName:"webgl",kernelFunc:Fa};function Ba(e,t,n){var r=e[0].dtype;if("complex64"===r){var i=e.map((function(e){return wa({inputs:{input:e},backend:n})})),a=e.map((function(e){return Fa({inputs:{input:e},backend:n})})),o=Ba(i,t,n),s=Ba(a,t,n),c=Wr({inputs:{real:o,imag:s},backend:n});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),c}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var f=e.map((function(e){var r=u.util.sizeFromShape(e.shape.slice(t));return ui({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=f.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=u.backend_util.computeOutShape(f.map((function(e){return e.shape})),1),h=1===f[0].shape[0],v=xn(d,p,r,h),m=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,v);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}var y=(0,u.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(e.length>y){for(var b=[],x=0;x<e.length;x+=y){var k=e.slice(x,x+y);b.push(Ba(k,t,n))}for(var w=Ba(b,t,n),_=0,S=b;_<S.length;_++){var T=S[_];n.disposeIntermediateTensorInfo(T)}return w}if((0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var C=new ja(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(C,e,r)}var E=function(e,t,n){var r=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),i=e.map((function(e){return ui({inputs:{x:e},attrs:{shape:[-1,u.util.sizeFromShape(e.shape.slice(t))]},backend:n})}));return{tensors2D:i,outShape:r}}(e,t,n),O=E.tensors2D,A=E.outShape,I=new Da(O.map((function(e){return e.shape}))),R=n.runWebGLProgram(I,O,r);O.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var N=ui({inputs:{x:R},attrs:{shape:A},backend:n});return n.disposeIntermediateTensorInfo(R),N}function Ua(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,i=u.util.parseAxisParam(r,t[0].shape)[0],a=t.map((function(e){return e.shape}));u.backend_util.assertParamsConsistent(a,i);var o=u.backend_util.computeOutShape(t.map((function(e){return e.shape})),i);if(0===u.util.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);var s=t.filter((function(e){return u.util.sizeFromShape(e.shape)>0}));return 1===s.length?Vr({inputs:{x:s[0]},backend:n}):Ba(s,i,n)}var Va={kernelName:u.Concat,backendName:"webgl",kernelFunc:Ua},za=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,v=4*Math.floor(t.inChannels/4),m=t.inChannels%4,g="channelsLast"===t.dataFormat,y=g?1:2,b=g?2:3,x=g?3:1,k="",w="";r&&(k=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(k,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(x,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(y,"], coords[").concat(b,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(f,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(v,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(g,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(g,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(v,") *\n                    getW(wR, wC, ").concat(v,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(v,", xR, xC) *\n                    getW(wR, wC, ").concat(v,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(v,", d2),\n                getW(wR, wC, ").concat(v," + 1, d2)\n              );\n\n              if (").concat(g,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(v,"),\n                  getX(batch, xR, xC, ").concat(v," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(v,", xR, xC),\n                  getX(batch, ").concat(v," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(v,", d2),\n                getW(wR, wC, ").concat(v," + 1, d2),\n                getW(wR, wC, ").concat(v," + 2, d2)\n              );\n\n              if (").concat(g,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(v,"),\n                  getX(batch, xR, xC, ").concat(v," + 1),\n                  getX(batch, xR, xC, ").concat(v," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(v,", xR, xC),\n                  getX(batch, ").concat(v," + 1, xR, xC),\n                  getX(batch, ").concat(v," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(_,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")})),Wa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,i=t.padInfo.left,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,v=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(a,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(i,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(f,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(v,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(v,") *\n                  getW(wF, wR, wC, ").concat(v,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(v,"),\n                  getX(batch, xF, xR, xC, ").concat(v," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(v,", d2),\n                  getW(wF, wR, wC, ").concat(v," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(v,"),\n                  getX(batch, xF, xR, xC, ").concat(v," + 1),\n                  getX(batch, xF, xR, xC, ").concat(v," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(v,", d2),\n                  getW(wF, wR, wC, ").concat(v," + 1, d2),\n                  getW(wF, wR, wC, ").concat(v," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ha=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=qe(this.outputShape.length);for(var o=t.padInfo.left,s=t.strideWidth,c=t.dilationWidth,l=t.filterHeight,f=t.filterWidth,d=f,h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;",v=0;v<f;v++)h+="\n           vec4 xTexelC".concat(2*v,";\n           int xTexelC").concat(2*v,"Ready;\n           vec4 xTexelC").concat(2*v+1,";\n           int xTexelC").concat(2*v+1,"Ready;\n           vec4 xC").concat(v,";");h+="\n     for (int r = 0; r < ".concat(l,"; r++) {\n      for (int d1 = 0; d1 < ").concat(t.inChannels,"; d1 += 2) {\n       ");for(var m=0;m<f;m++)h+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(var g=0;g<(d+1)/2;g++){var y=2*g;if(h+="\n           xC = xCCorner + ".concat(y*c,";\n           "),1===s){if(y<f&&(o%2===1?(h+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                   xTexelC").concat(y," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(y,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(y,"Ready = 1;\n                 }\n               "),h+=1===c&&y>0?"\n                 xC".concat(y," = vec4(xTexelC").concat(y-2,".zw, xTexelC").concat(y,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(y," = vec4(previous.zw, xTexelC").concat(y,".xy);\n                   } else {\n                     xC").concat(y," = vec4(0.0, 0.0, xTexelC").concat(y,".xy);\n                   }\n                   ")):h+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                   xTexelC").concat(y," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(y,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(y,"Ready = 1;\n                 }\n\n                 xC").concat(y," = xTexelC").concat(y,";\n                 "),y+1<f)){var b=o%2===0?u.util.nearestLargerEven(c):c;c%2===0&&o%2===1||c%2!==0&&o%2!==1?(h+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(b,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                     xTexelC").concat(y+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(y+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(y+1,"Ready = 1;\n                   }\n                   "),h+=c>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(y+1," = vec4(previous.zw, xTexelC").concat(y+1,".xy);\n                     } else {\n                      xC").concat(y+1," = vec4(0.0, 0.0, xTexelC").concat(y+1,".xy);\n                     }\n                     "):"\n                     xC".concat(y+1," = vec4(xTexelC").concat(y,".zw, xTexelC").concat(y+1,".xy);\n                     ")):h+=1===b?"\n                     xC".concat(y+1," = xTexelC").concat(y,";\n                     "):"\n                     xCOffset = xC + ".concat(b,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                       xTexelC").concat(y+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(y+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(y+1,"Ready = 1;\n                     }\n\n                     xC").concat(y+1," = xTexelC").concat(y+1,";\n                     ")}}else y<f&&(o%2===1?(h+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                   xTexelC").concat(y," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(y,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(y,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                   xTexelC").concat(y+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(y+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(y+1,"Ready = 1;\n                 }\n\n                 xC").concat(y," = vec4(xTexelC").concat(y,".zw, xTexelC").concat(y+1,".zw);\n               "),y+1<f&&(h+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(y+1," = vec4(xTexelC").concat(y+1,".xy, final.xy);\n                 "))):(h+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                   xTexelC").concat(y," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(y,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(y,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                   xTexelC").concat(y+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(y+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(y+1,"Ready = 1;\n                 }\n\n                 xC").concat(y," = vec4(\n                   xTexelC").concat(y,".xy, xTexelC").concat(y+1,".xy);\n               "),y+1<f&&(h+="\n                   xC".concat(y+1," = vec4(xTexelC").concat(y,".zw, xTexelC").concat(y+1,".zw);\n                 "))));y<f&&(h+="\n             wTexel = getW(r, ".concat(y,", d1, d2);\n             dotProd += xC").concat(y,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(t.inChannels,") {\n               dotProd += xC").concat(y,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),y+1<f&&(h+="\n               wTexel = getW(r, ".concat(y+1,", d1, d2);\n               dotProd += xC").concat(y+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(t.inChannels,") {\n                 dotProd += xC").concat(y+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";var x="",k="";r&&(x=i?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(r,"\n         }"):a?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(r,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(r,"\n         }"),k="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(x,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(h,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(w,"\n         ").concat(k,"\n         setOutput(result);\n       }\n     ")})),Ga=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=qe(this.outputShape.length);for(var r=n.dataFormat,i=Te(),a="channelsLast"===r,o=a?1:2,s=a?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(t[2]," && pos < ").concat(t[1],") {"),c="",l=0;l<=1;l++)for(var f=0;f<=1;f++)c+="\n          blockIndex = rc.z + ".concat(f,";\n          pos = rc.y + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(a,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(i.output," = result;\n      }\n    ")}));function qa(e,t){var n=e.length;return n>=3?[].concat((0,f.Z)(e.slice(0,-3)),t?[e[n-3]*e[n-2],e[n-1]]:[e[n-3],e[n-2]*e[n-1]]):!t&&1===n&&e[0]>1?[e[0],1]:null}function Ka(e){var t,n=e.x,r=e.filter,i=e.convInfo,a=e.backend,o=e.bias,s=void 0===o?null:o,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,p=e.activation,h=void 0===p?null:p,v=n.shape,m=a.texData.get(n.dataId),g=i.inChannels,y=v[0]*v[1]*v[2],b=i.outChannels,x="channelsLast"===i.dataFormat,k=[];if(null!=l){var w=qa(l.shape,x);null!=w&&(l=ui({inputs:{x:l},backend:a,attrs:{shape:w}}),k.push(l))}if(null!=s){var _=qa(s.shape,x);null!=_&&(s=ui({inputs:{x:s},backend:a,attrs:{shape:_}}),k.push(s))}if(!((1===y||1===b)&&g>xi)&&m.isPacked&&x&&null!=m.texture&&v[2]%2!==0&&u.util.arraysEqual(m.shape.slice(-3),v.slice(-3))){var S=v[0]*v[1]*(v[2]+1),T={dataId:n.dataId,shape:[1,S,i.inChannels],dtype:n.dtype},C=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,u.util.assert(fe(m.shape,T.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(T.shape," isn't free")}));var E=ui({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}});k.push(E);var O=ki({a:T,b:E,backend:a,transposeA:!1,transposeB:false,bias:s,activation:h,preluActivationWeights:l,leakyreluAlpha:d}),A=a.texData.get(O.dataId);u.util.assert(A.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=C,A.shape=i.outShape,(t=Vr({inputs:{x:O},backend:a})).shape=i.outShape,k.push(O)}else{var I=i.outHeight*i.outWidth,R=ui({inputs:{x:n},backend:a,attrs:{shape:x?[i.batchSize,I,i.inChannels]:[i.batchSize,i.inChannels,I]}}),N=ui({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}}),P=ki({a:x?R:N,b:x?N:R,transposeA:!x,transposeB:false,backend:a,bias:s,activation:h,preluActivationWeights:l,leakyreluAlpha:d});t=ui({inputs:{x:P},backend:a,attrs:{shape:i.outShape}}),k.push(R),k.push(N),k.push(P)}for(var M=0,D=k;M<D.length;M++){var j=D[M];a.disposeIntermediateTensorInfo(j)}return t}function Ya(e){var t=e.x,n=e.filter,r=e.convInfo,i=e.backend,a=e.bias,o=void 0===a?null:a,s=e.preluActivationWeights,c=void 0===s?null:s,l=e.leakyreluAlpha,f=void 0===l?0:l,d=e.activation,p=void 0===d?null:d,h=r.filterWidth,v=r.filterHeight,m=r.inChannels,g=r.outWidth,y=r.outHeight,b="channelsLast"===r.dataFormat,x=h*v*m,k=y*g,w=[r.batchSize,x,k],_=[];if(null!=c){var S=qa(c.shape,b);null!=S&&(c=ui({inputs:{x:c},backend:i,attrs:{shape:S}}),_.push(c))}if(null!=o){var T=qa(o.shape,b);null!=T&&(o=ui({inputs:{x:o},backend:i,attrs:{shape:T}}),_.push(o))}var C=ui({inputs:{x:n},backend:i,attrs:{shape:[1,x,u.util.sizeFromShape(n.shape)/x]}});_.push(C);var E=new Ga(w,r),O=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],A=i.runWebGLProgram(E,[t],"float32",O),I=ui({inputs:{x:A},backend:i,attrs:{shape:w}});_.push(A),_.push(I);var R=null!=o,N=null!=c,P="leakyrelu"===p,M=p?ti(p,!0):null,D=new ni(b?I.shape:C.shape,b?C.shape:I.shape,b?[r.batchSize,k,r.outChannels]:[r.batchSize,r.outChannels,k],!0,!1,R,M,N,P),j=b?[I,C]:[C,I];if(o&&j.push(o),N&&j.push(c),P){var L=i.makeTensorInfo([],"float32",u.util.createScalarValue(f,"float32"));j.push(L),_.push(L)}var F=i.runWebGLProgram(D,j,"float32"),Z=ui({inputs:{x:F},backend:i,attrs:{shape:r.outShape}});_.push(F);for(var B=0,U=_;B<U.length;B++){var V=U[B];i.disposeIntermediateTensorInfo(V)}return Z}var Xa={kernelName:u.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,c=i.pad,l=i.dataFormat,f=i.dilations,d=i.dimRoundingMode,p=u.backend_util.convertConv2DDataFormat(l),h=u.backend_util.computeConv2DInfo(a.shape,o.shape,s,f,c,d,!1,p);if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(h.strideWidth<=2&&"channelsLast"===p&&(0,u.env)().getBool("WEBGL_EXP_CONV")){var v=new Ha(h),m=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];t=r.runWebGLProgram(v,[a,o],"float32",m)}else if((0,u.env)().getBool("WEBGL_CONV_IM2COL"))t=Ya({x:a,filter:o,convInfo:h,backend:r});else{var g=new za(h);t=r.runWebGLProgram(g,[a,o],"float32")}else t=Ka({x:a,filter:o,convInfo:h,backend:r});var y=ui({inputs:{x:t},backend:r,attrs:{shape:h.outShape}});return r.disposeIntermediateTensorInfo(t),y}},Qa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ja=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,f=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(f,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),$a=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(a,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(i," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),eo=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=i-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(a,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(i,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(i," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var to={kernelName:u.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape,d=u.backend_util.convertConv2DDataFormat(c),p=u.backend_util.computeConv2DInfo(i.shape,f,o,1,s,l,!1,d),h=new Qa(p);return n.runWebGLProgram(h,[i,a],"float32")}};var no={kernelName:u.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.inputShape,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dimRoundingMode,d=u.backend_util.convertConv2DDataFormat(l),p=u.backend_util.computeConv2DInfo(o,a.shape,s,1,c,f,!1,d),h=new Ja(p);return n.runWebGLProgram(h,[i,a],"float32")}};var ro={kernelName:u.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,c=r.dilations,l=u.backend_util.computeConv3DInfo(i.shape,a.shape,o,c,s),f=new Wa(l);return n.runWebGLProgram(f,[i,a],"float32")}};var io={kernelName:u.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,c=r.filterShape,l=u.backend_util.computeConv3DInfo(i.shape,c,o,1,s),f=new $a(l);return n.runWebGLProgram(f,[i,a],"float32")}};var ao,oo={kernelName:u.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.pad,s=r.strides,c=r.inputShape,l=u.backend_util.computeConv3DInfo(c,a.shape,s,1,o),f=new eo(l);return n.runWebGLProgram(f,[i,a],"float32")}},so=$r({opSnippet:Jr+"\n  return cos(x);\n"}),uo={kernelName:u.Cos,backendName:"webgl",kernelFunc:so},co=$r({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),lo={kernelName:u.Cosh,backendName:"webgl",kernelFunc:co},fo=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3],d=(0,c.Z)(n,1)[0],h=(0,c.Z)(r,2),v=h[0],m=h[1];this.outputShape=[d,v,m,f];var g="bilinear"===i?1:0,y="".concat(u-1,".0"),b="".concat(l-1,".0"),x=v>1?["".concat((u-1)/(v-1)),"(y2-y1) * height_ratio","y1*".concat(y," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(y)],k=(0,c.Z)(x,3),w=k[0],_=k[1],S=k[2],T=m>1?["".concat((l-1)/(m-1)),"(x2-x1) * width_ratio","x1*".concat(b," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(b)],C=(0,c.Z)(T,3),E=C[0],O=C[1],A=C[2];this.userCode="\n      const float height_ratio = float(".concat(w,");\n      const float width_ratio = float(").concat(E,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(_,";\n        float width_scale = ").concat(O,";\n\n        float in_y = ").concat(S,";\n        if( in_y < 0.0 || in_y > ").concat(y," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n        float in_x = ").concat(A,";\n        if( in_x < 0.0 || in_x > ").concat(b," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(g," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),po={kernelName:u.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new fo(i.shape,a.shape,s,u,c);return n.runWebGLProgram(l,[i,a,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(ao||(ao={}));var ho=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var a=this.outputShape.length,o=this.op===ao.Prod?"1.0":"0.0",s=r?o:"getX(".concat(vo(a,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],c="",l="";r?(c=i?"end != ".concat(u-1):"end != 0",l=i?"end + 1":"end - 1"):(c=i?"end + pow2 < ".concat(u):"end >= pow2",l=i?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Ue(a)," coords = getOutputCoords();\n        int end = ").concat(mo(a,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(mo(a,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(vo(a,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}));function vo(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function mo(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function go(e,t,n,r,i,a){var o=t.shape.length,s=u.backend_util.getAxesPermutation([r],o),c=t;null!=s&&(c=yi({inputs:{x:t},backend:n,attrs:{perm:s}}));var l=u.backend_util.getInnerMostAxes(1,o)[0];if(l!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));for(var f=c.shape[l],d=Vr({inputs:{x:c},backend:n}),p=0;p<=Math.ceil(Math.log2(f))-1;p++){var h=new ho(e,c.shape,!1,a),v=[[p]],m=d;d=n.runWebGLProgram(h,[d],d.dtype,v),n.disposeIntermediateTensorInfo(m)}if(i){var g=new ho(e,c.shape,i,a),y=d;d=n.runWebGLProgram(g,[d],d.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=s){var b=yi({inputs:{x:d},backend:n,attrs:{perm:u.backend_util.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(c),b}return d}var yo={kernelName:u.Cumprod,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return go(ao.Prod,i,n,a,o,s)}};var bo={kernelName:u.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return go(ao.Sum,i,n,a,o,s)}};var xo={kernelName:u.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.readSync(i.dataId),c=n.readSync(a.dataId),l=mn(u,c,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}if(2===i.shape.length){var f=n.bufferSync(i),d=n.bufferSync(a),p=gn(f,d,o,s);return n.makeTensorInfo(p.shape,a.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}},ko=function(){function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,h.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var wo={kernelName:u.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockSize,o=r.dataFormat,s=i.shape[0],u=("NHWC"===o?i.shape[1]:i.shape[2])*a,c=("NHWC"===o?i.shape[2]:i.shape[3])*a,l=("NHWC"===o?i.shape[3]:i.shape[1])/(a*a),f=new ko("NHWC"===o?[s,u,c,l]:[s,l,u,c],a,o);return n.runWebGLProgram(f,[i],i.dtype)}},_o=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=qe(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(f,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")})),So=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=qe(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,c=t.strideWidth,l=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,h=d,v="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",m=0;m<d;m++)v+="\n          vec4 xTexelC".concat(2*m,";\n          int xTexelC").concat(2*m,"Ready;\n          vec4 xTexelC").concat(2*m+1,";\n          int xTexelC").concat(2*m+1,"Ready;\n          vec4 xC").concat(m,";");v+="\n    for (int r = 0; r < ".concat(f,"; r++) {\n      ");for(var g=0;g<d;g++)v+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");v+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var y=0;y<(h+1)/2;y++){var b=2*y;if(v+="\n          xC = xCCorner + ".concat(b*l,";\n          "),1===c){if(b<d&&(s%2===1?(v+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n              "),v+=1===l&&b>0?"\n                xC".concat(b," = vec4(xTexelC").concat(b-2,".zw, xTexelC").concat(b,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(b," = vec4(previous.zw, xTexelC").concat(b,".xy);\n                  } else {\n                    xC").concat(b," = vec4(0.0, 0.0, xTexelC").concat(b,".xy);\n                  }\n                  ")):v+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xC").concat(b," = xTexelC").concat(b,";\n                "),b+1<d)){var x=s%2===0?u.util.nearestLargerEven(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(v+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                    xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(b+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(b+1,"Ready = 1;\n                  }\n                  "),v+=l>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(b+1," = vec4(previous.zw, xTexelC").concat(b+1,".xy);\n                    } else {\n                     xC").concat(b+1," = vec4(0.0, 0.0, xTexelC").concat(b+1,".xy);\n                    }\n                    "):"\n                    xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".xy);\n                    ")):v+=1===x?"\n                    xC".concat(b+1," = xTexelC").concat(b,";\n                    "):"\n                    xCOffset = xC + ".concat(x,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                      xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(b+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(b+1,"Ready = 1;\n                    }\n\n                    xC").concat(b+1," = xTexelC").concat(b+1,";\n                    ")}}else b<d&&(s%2===1?(v+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n              "),b+1<d&&(v+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(b+1," = vec4(xTexelC").concat(b+1,".xy, final.xy);\n                "))):(v+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(\n                  xTexelC").concat(b,".xy, xTexelC").concat(b+1,".xy);\n              "),b+1<d&&(v+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n                "))));b<d&&(v+="\n            wTexel = getW(r, ".concat(b,", d1, q);\n            dotProd += xC").concat(b," * vec4(wTexel.xz, wTexel.xz);\n          "),b+1<d&&(v+="\n              wTexel = getW(r, ".concat(b+1,", d1, q);\n              dotProd += xC").concat(b+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}v+="\n    }\n  ",v+="\n      }\n    ";var k="",w="";r&&(k=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),w="result = activation(result);");var _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(k,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(v,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(_,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}));var To={kernelName:u.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode,f=c;null==f&&(f=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(f,"'")}));var d,p=u.backend_util.computeConv2DInfo(i.shape,a.shape,o,f,s,l,!0);d=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?new So(p):new _o(p);var h=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(d,[i,a],"float32",h)}},Co=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Eo=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var Oo={kernelName:u.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape,d=u.backend_util.computeConv2DInfo(i.shape,f,o,s,c,l,!0),p=new Co(d);return n.runWebGLProgram(p,[i,a],"float32")}};var Ao={kernelName:u.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.inputShape,d=u.backend_util.computeConv2DInfo(f,a.shape,o,s,c,l,!0),p=new Eo(d);return n.runWebGLProgram(p,[i,a],"float32")}},Io=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var Ro={kernelName:u.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=[].concat((0,f.Z)(r.shape),(0,f.Z)(r.shape)),a=u.util.sizeFromShape(r.shape),o=ui({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new Io(a),c=n.runWebGLProgram(s,[o],o.dtype),l=ui({inputs:{x:c},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}},No=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,i=t.padInfo,a=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,f=i.top,d=i.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var Po={kernelName:u.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,c=i.pad,l=i.dilations,f=u.backend_util.computeDilation2DInfo(a.shape,o.shape,s,c,"NHWC",l),d=new No(f),p=ui({inputs:{x:t=r.runWebGLProgram(d,[a,o],"float32")},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),p}},Mo=n(37762);var Do={kernelName:u.Einsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,i=t,a=u.backend_util.decodeEinsumEquation(r,i.length),o=a.allDims,s=a.summedDims,c=a.idDims;u.backend_util.checkEinsumDimSizes(o.length,c,i);for(var l=u.backend_util.getEinsumComputePath(s,c),f=l.path,d=l.steps,p=d.length,h=null,v=o.length,m=[],g=0;g<p;++g){var y,b=(0,Mo.Z)(d[g]);try{for(b.s();!(y=b.n()).done;){var x=y.value,k=u.backend_util.getEinsumPermutation(v,c[x]),w=k.permutationIndices,_=k.expandDims,S=void 0;u.backend_util.isIdentityPermutation(w)?S=i[x]:(S=yi({inputs:{x:i[x]},backend:n,attrs:{perm:w}}),m.push(S));for(var T=S.shape.slice(),C=0;C<_.length;++C)T.splice(_[C],0,1);u.util.arraysEqual(S.shape,T)||(S=ui({inputs:{x:S},backend:n,attrs:{shape:T}}),m.push(S)),null===h?h=S:(h=oi({inputs:{a:S,b:h},backend:n}),m.push(h))}}catch(I){b.e(I)}finally{b.f()}g<p-1&&(f[g]>=0&&(h=mi({inputs:{x:h},backend:n,attrs:{axis:f[g]-(o.length-v),keepDims:!1}}),m.push(h)),v--)}for(var E=0,O=m;E<O.length;E++){var A=O[E];A!==h&&n.disposeIntermediateTensorInfo(A)}return h}},jo=$r({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Lo={kernelName:u.Elu,backendName:"webgl",kernelFunc:jo},Fo={kernelName:u.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,i=t.y,a=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,i.shape):new Zr("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,i.shape);return n.runWebGLProgram(a,[r,i],r.dtype)}},Zo=ei({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:kn}),Bo={kernelName:u.Equal,backendName:"webgl",kernelFunc:Zo},Uo=$r({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(u.backend_util.ERF_P,";\n  float a1 = ").concat(u.backend_util.ERF_A1,";\n  float a2 = ").concat(u.backend_util.ERF_A2,";\n  float a3 = ").concat(u.backend_util.ERF_A3,";\n  float a4 = ").concat(u.backend_util.ERF_A4,";\n  float a5 = ").concat(u.backend_util.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),Vo={kernelName:u.Erf,backendName:"webgl",kernelFunc:Uo},zo=$r({opSnippet:Jr+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:wn,dtype:"float32"}),Wo={kernelName:u.Exp,backendName:"webgl",kernelFunc:zo};function Ho(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.dim,a=t.input,o=a.shape.length,s=a.shape.slice(),c=i;return i<0&&(u.util.assert(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),c=o+i+1),s.splice(c,0,1),ui({inputs:{x:a},backend:r,attrs:{shape:s}})}var Go={kernelName:u.ExpandDims,backendName:"webgl",kernelFunc:Ho},qo="return exp(x) - 1.0;",Ko=$r({opSnippet:qo,packedOpSnippet:qo,cpuKernelImpl:_n}),Yo={kernelName:u.Expm1,backendName:"webgl",kernelFunc:Ko},Xo=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["real","imag"];var i=n[1];this.outputShape=n;var a,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(i,".0"):"1.0";if("real"===t)a="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));a="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(i,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function Qo(e,t,n){var r=n.texData.get(e.dataId),i=u.util.sizeFromShape(e.shape),a=e.shape[e.shape.length-1],o=ui({inputs:{x:e},backend:n,attrs:{shape:[i/a,a]}}),s=o.shape,c=new Xo("real",s,t),l=new Xo("imag",s,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(c,f,"float32"),p=n.runWebGLProgram(l,f,"float32"),h=Wr({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);var v=ui({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(h),v}var Jo={kernelName:u.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Qo(t.input,!1,n)}},$o=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function es(e){var t=e.backend,n=e.attrs,r=n.shape,i=n.value,a=n.dtype;if("string"===(a=a||u.util.inferDtype(i))){var o=u.util.getArrayFromDType(a,u.util.sizeFromShape(r));return o.fill(i),t.makeTensorInfo(r,a,o)}var s=new $o(r,i),c=[[i]];return t.runWebGLProgram(s,[],a,c)}var ts,ns={kernelName:u.Fill,backendName:"webgl",kernelFunc:es},rs=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),is={kernelName:u.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,i=n,a=new rs(r.shape);return i.runWebGLProgram(a,[r],r.dtype)}},as="return floor(x);",os=$r({opSnippet:as,packedOpSnippet:as,cpuKernelImpl:Sn}),ss={kernelName:u.Floor,backendName:"webgl",kernelFunc:os},us=ei({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),cs={kernelName:u.FloorDiv,backendName:"webgl",kernelFunc:us},ls=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"];var n=Te(),r=(0,c.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(a,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),fs=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Te(),r=(0,c.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(a,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ds={kernelName:u.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&i instanceof HTMLVideoElement,l="undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement,f=s?[i.videoWidth,i.videoHeight]:[i.width,i.height],d=(0,c.Z)(f,2),p=d[0],h=d[1],v=[h,p],m=[h,p,a];if(l||s){var g=(0,u.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=ts&&g===ps||(ps=g,ts=document.createElement("canvas").getContext("2d",{willReadFrequently:ps})),ts.canvas.width=p,ts.canvas.height=h,ts.drawImage(i,0,0,p,h),i=ts.canvas}var y=n.makeTensorInfo(v,"int32");n.texData.get(y.dataId).usage=o.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(y.dataId),i);var b=(0,u.env)().getBool("WEBGL_PACK")?new fs(m):new ls(m),x=n.runWebGLProgram(b,[y],"int32");return n.disposeData(y.dataId),x}},ps=(0,u.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");var hs={kernelName:u.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=n.bias,c=n.preluActivationWeights,l=i.strides,f=i.pad,d=i.dataFormat,p=i.dilations,h=i.dimRoundingMode,v=i.activation,m=i.leakyreluAlpha,g=u.backend_util.convertConv2DDataFormat(d),y=u.backend_util.computeConv2DInfo(a.shape,o.shape,l,p,f,h,!1,g),b=[],x=null!=s,k=null!=c,w="leakyrelu"===v,_=function(){var e=[a,o],t=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=ui({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return b.push(n),n}return e};if(x&&e.push(t(s,d)),k&&e.push(t(c,d)),w){var n=r.makeTensorInfo([],"float32",u.util.createScalarValue(m,"float32"));e.push(n),b.push(n)}return e};if(1!==y.filterHeight||1!==y.filterWidth||1!==y.dilationHeight||1!==y.dilationWidth||1!==y.strideHeight||1!==y.strideWidth||"SAME"!==y.padInfo.type&&"VALID"!==y.padInfo.type)if(y.strideWidth<=2&&"channelsLast"===g&&(0,u.env)().getBool("WEBGL_EXP_CONV")){var S=v?ti(v,!0):null,T=new Ha(y,x,S,k,w),C=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],E=_();t=r.runWebGLProgram(T,E,"float32",C)}else if((0,u.env)().getBool("WEBGL_CONV_IM2COL"))t=Ya({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});else{var O=v?ti(v,!1):null,A=new za(y,x,O,k,w),I=_();t=r.runWebGLProgram(A,I,"float32")}else t=Ka({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});var R=ui({inputs:{x:t},backend:r,attrs:{shape:y.outShape}});return b.push(t),b.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),R}};var vs={kernelName:u.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,c=r.strides,l=r.pad,f=r.dilations,d=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,v=[],m=f;null==m&&(m=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(c,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(m,"'")}));var g,y=u.backend_util.computeConv2DInfo(i.shape,a.shape,c,m,l,d,!0),b=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,x=p?ti(p,b):null,k=[i,a],w=null!=o,_=null!=s,S="leakyrelu"===p;if(w&&k.push(o),_&&k.push(s),S){var T=n.makeTensorInfo([],"float32",u.util.createScalarValue(h,"float32"));k.push(T),v.push(T)}g=b?new So(y,w,x,_,S):new _o(y,w,x,_,S);var C=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],E=n.runWebGLProgram(g,k,"float32",C);return v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),E}},ms=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.sliceDim=t,this.strides=n,this.paramsShape=i,this.variableNames=["x","indices"],this.outputShape=r;for(var a=Ue(r.length),o="\n    int index;",s=0;s<this.sliceDim;s++)o+="\n          index = round(getIndices(coords[0], ".concat(s,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[s],";\n          flattenIndex += index * ").concat(this.strides[s],";");this.userCode="\n         void main() {\n          ".concat(a," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(o,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}));var gs={kernelName:u.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,i=t.indices,a=i.shape,o=a[a.length-1],s=u.util.sizeFromShape(r.shape),l=u.backend_util.prepareAndValidate(r,i),f=(0,c.Z)(l,4),d=f[0],p=f[1],h=f[2],v=f[3],m=ui({inputs:{x:i},backend:n,attrs:{shape:[p,o]}}),g=ui({inputs:{x:r},backend:n,attrs:{shape:[u.util.sizeFromShape(r.shape)/h,h]}});if(n.shouldExecuteOnCPU([r,i])||"string"===r.dtype){var y=n.readSync(i.dataId),b=n.bufferSync(r),x=Tn(y,b,r.dtype,p,o,h,v,r.shape,s);return n.makeTensorInfo(d,r.dtype,x.values)}var k=new ms(o,v,[p,h],r.shape),w=n.runWebGLProgram(k,[g,m],g.dtype),_=ui({inputs:{x:w},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(w),_}},ys=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Ue(this.rank),i=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],i=0;i<e.length;i++)2===i?r.push("index"):r.push("".concat(n[i]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(i,"));\n      }\n    ")}));function bs(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.indices,o=r.axis,s=r.batchDims,c=u.util.parseAxisParam(o,i.shape)[0];if((0,u.env)().get("DEBUG"))for(var l=n.readSync(a.dataId),f=i.shape[c],d=function(){var e=l[p];u.util.assert(e<=f-1&&e>=0,(function(){return"GatherV2: the index value ".concat(e," is not in [0, ").concat(f-1,"]")}))},p=0;p<l.length;++p)d();var h=u.backend_util.segment_util.collectGatherOpShapeInfo(i,a,c,s),v=u.util.sizeFromShape(a.shape),m=[],g=ui({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),y=ui({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,v/h.batchSize]}});m.push(g),m.push(y);var b=[h.batchSize,h.outerSize,v/h.batchSize,h.sliceSize];if(n.shouldExecuteOnCPU([i,a])||"string"===i.dtype){var x=n.bufferSync(y),k=n.bufferSync(g),w=Cn(k,x,b);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h.outputShape,w.dtype,w.values)}var _=new ys(g.shape,b),S=n.runWebGLProgram(_,[g,y],g.dtype);m.push(S);var T=ui({inputs:{x:S},backend:n,attrs:{shape:h.outputShape}});return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),T}var xs={kernelName:u.GatherV2,backendName:"webgl",kernelFunc:bs},ks=ei({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:En,dtype:"bool"}),ws={kernelName:u.Greater,backendName:"webgl",kernelFunc:ks},_s=ei({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:On}),Ss={kernelName:u.GreaterEqual,backendName:"webgl",kernelFunc:_s};var Ts={kernelName:u.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Qo(t.input,!0,n)}},Cs=$r({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Es={kernelName:u.IsFinite,backendName:"webgl",kernelFunc:Cs},Os=$r({opSnippet:"return float(isinf(x));",dtype:"bool"}),As={kernelName:u.IsInf,backendName:"webgl",kernelFunc:Os},Is=$r({opSnippet:"return float(isnan(x));",dtype:"bool"}),Rs={kernelName:u.IsNan,backendName:"webgl",kernelFunc:Is},Ns=ei({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:An,dtype:"bool"}),Ps={kernelName:u.Less,backendName:"webgl",kernelFunc:Ns},Ms=ei({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:In,dtype:"bool"}),Ds={kernelName:u.LessEqual,backendName:"webgl",kernelFunc:Ms};var js={kernelName:u.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=Rn(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Ls=$r({opSnippet:Jr+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Nn}),Fs={kernelName:u.Log,backendName:"webgl",kernelFunc:Ls},Zs=$r({opSnippet:Jr+"\n  return log(1.0 + x);\n"}),Bs={kernelName:u.Log1p,backendName:"webgl",kernelFunc:Zs},Us=ei({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Vs={kernelName:u.LogicalAnd,backendName:"webgl",kernelFunc:Us},zs=$r({opSnippet:"return float(!(x >= 1.0));"}),Ws={kernelName:u.LogicalNot,backendName:"webgl",kernelFunc:zs},Hs=ei({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Gs={kernelName:u.LogicalOr,backendName:"webgl",kernelFunc:Hs},qs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")})),Ks=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")})),Ys={kernelName:u.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.depthRadius,o=r.bias,s=r.alpha,c=r.beta,l=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Ks(i.shape,a,o,s,c):new qs(i.shape,a,o,s,c);return n.runWebGLProgram(l,[i],i.dtype)}},Xs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=i,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(i,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(i,")\n                * float(").concat(a,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(a,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),Qs={kernelName:u.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.y,o=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,f=new Xs(i.shape,s,u,c,l);return n.runWebGLProgram(f,[i,a,o],i.dtype)}};function Js(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reductionIndices,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=null!=d,h=n.shouldExecuteOnCPU([i]),v=i;if(p){if(h){for(var m=n.texData.get(v.dataId).values,g=new Array(s),y=0;y<g.length;y++)g[y]=i.shape[d[y]];var b=ar(m,i.shape,i.dtype,d,g);v=n.makeTensorInfo(g,i.dtype),n.texData.get(v.dataId).values=b}else v=vi(i,d,n);f=u.backend_util.getInnerMostAxes(f.length,s)}u.backend_util.assertAxesAreInnerMostDims("max",f,s);var x,k=u.backend_util.computeOutAndReduceShapes(v.shape,f),w=(0,c.Z)(k,2),_=w[0],S=w[1],T=_;if(o&&(T=u.backend_util.expandShapeToKeepDim(_,l)),h){var C=n.texData.get(v.dataId).values,E=Pn(C,u.util.sizeFromShape(S),T,i.dtype);x=n.makeTensorInfo(T,i.dtype),n.texData.get(x.dataId).values=E}else x=function(e,t,n,r){var i=u.util.sizeFromShape(t),a=ui({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/i,i]},backend:r}),o=di(a,e.dtype,"max",r),s=ui({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(v,S,T,n);return p&&n.disposeIntermediateTensorInfo(v),x}var $s={kernelName:u.Max,backendName:"webgl",kernelFunc:Js},eu=ei({opSnippet:Fr+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Br+"\n  return result;\n",cpuKernelImpl:Mn}),tu={kernelName:u.Maximum,backendName:"webgl",kernelFunc:eu};var nu={kernelName:u.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;_e(i,"maxPool");var a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=u.backend_util.computePool2DInfo(i.shape,a,o,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&u.util.arraysEqual(l.inShape,l.outShape))return Vr({inputs:{x:i},backend:n});var f=new ea(l,"max",!1);return n.runWebGLProgram(f,[i],i.dtype)}};var ru={kernelName:u.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=u.backend_util.computePool3DInfo(i.shape,a,o,[1,1,1],s,l,c),d=new ta(f,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}},iu=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,i=t.dilationHeight,a=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=a-1-t.padInfo.top,u=o-1-t.padInfo.left,c=a*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(a,";\n          wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),au=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,f=u-1-t.padInfo.front,d=c-1-t.padInfo.top,h=l-1-t.padInfo.left,v=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(a,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(v," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var ou={kernelName:u.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=u.backend_util.computePool3DInfo(a.shape,o,s,[1,1,1],c,l),d=new ta(f,"max",!0),p=n.runWebGLProgram(d,[a],a.dtype),h=new au(f),v=n.runWebGLProgram(h,[i,p],a.dtype);return n.disposeIntermediateTensorInfo(p),v}};var su={kernelName:u.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;_e([a,t.output],"maxPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=r.dimRoundingMode,d=u.backend_util.computePool2DInfo(o.shape,s,c,1,l,f),p=new ea(d,"max",!0),h=n.runWebGLProgram(p,[o],o.dtype),v=new iu(d),m=n.runWebGLProgram(v,[i,h],o.dtype);return n.disposeIntermediateTensorInfo(h),m}};var uu={kernelName:u.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.filterSize,o=n.strides,s=n.pad,l=n.includeBatchInIndex,f=r;u.util.assert(4===i.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,".")}));var d=[1,1];u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,d),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(d,"'")}));var p=u.backend_util.computePool2DInfo(i.shape,a,o,d,s),h=function(e,t,n,r){var i=new ea(n,"max",!1),a=r.runWebGLProgram(i,[e],"float32");return i=new ea(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,l,p,f),v=(0,c.Z)(h,2);return[v[0],v[1]]}};var cu={kernelName:u.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.keepDims,o=n.axis,s=r,l=i.shape.length,f=u.util.parseAxisParam(o,i.shape),d=f,p=u.backend_util.getAxesPermutation(d,l),h=null!=p,v=s.shouldExecuteOnCPU([i]),m=[],g=i;if(h){if(v){for(var y=s.texData.get(g.dataId).values,b=new Array(l),x=0;x<b.length;x++)b[x]=i.shape[p[x]];var k=ar(y,i.shape,i.dtype,p,b);g=s.makeTensorInfo(b,i.dtype),s.texData.get(g.dataId).values=k}else g=vi(i,p,s);m.push(g),d=u.backend_util.getInnerMostAxes(d.length,l)}u.backend_util.assertAxesAreInnerMostDims("sum",d,l);var w=u.backend_util.computeOutAndReduceShapes(g.shape,d),_=(0,c.Z)(w,2),S=_[0],T=_[1],C=S;a&&(C=u.backend_util.expandShapeToKeepDim(S,f));for(var E=function(e,t,n,r){var i=u.util.sizeFromShape(t),a=ui({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/i,i]},backend:r}),o=di(a,"float32","mean",r),s=ui({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(g,T,C,s),O=0,A=m;O<A.length;O++){var I=A[O];s.disposeIntermediateTensorInfo(I)}return E}};var lu={kernelName:u.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=i;null!=d&&(p=yi({inputs:{x:i},backend:n,attrs:{perm:d}}),f=u.backend_util.getInnerMostAxes(f.length,i.shape.length)),u.backend_util.assertAxesAreInnerMostDims("min",f,s);var h,v=u.backend_util.computeOutAndReduceShapes(p.shape,f),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=ui({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),x=di(b,b.dtype,"min",n);return h=ui(o?{inputs:{x:x},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(p),h}},fu=ei({opSnippet:Fr+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Br+"\n  return result;\n",cpuKernelImpl:Dn}),du={kernelName:u.Minimum,backendName:"webgl",kernelFunc:fu},pu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ue(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i),c="reflect"===r?0:1;this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(i,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(a," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),hu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ue(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=ur("rc",i),c=ur("source",i),l="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),f=1===i?"source":"vec2(".concat(c.slice(-2).join(),")"),d="reflect"===r?0:1,h="";if(1===i){var v="\n        ".concat(a," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(a," rc = outputLoc;\n        ").concat(v,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(l,") {\n          ").concat(v,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ")}else{var m="\n        ".concat(a," source = rc;\n        ").concat(a," lt = ").concat(a,"(lessThan(source, start));\n        ").concat(a," gte = ").concat(a,"(greaterThanEqual(source, end));\n        ").concat(a," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(a," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(l,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n        rc = outputLoc;\n        ").concat(u[i-2]," += 1;\n        if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          ").concat(u[i-1]," += 1;\n          if(").concat(l,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),vu={kernelName:u.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.mode,s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hu(i.shape,a,o):new pu(i.shape,a,o);return n.runWebGLProgram(s,[i],i.dtype)}},mu=ei({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+Br+"\n  return result;\n"}),gu={kernelName:u.Mod,backendName:"webgl",kernelFunc:mu},yu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),bu=ei({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),xu={kernelName:u.RealDiv,backendName:"webgl",kernelFunc:bu},ku="return a - b;",wu=ei({opSnippet:ku,packedOpSnippet:ku,supportsComplex:!0,cpuKernelImpl:nr}),_u={kernelName:u.Sub,backendName:"webgl",kernelFunc:wu};function Su(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.dim,o=u.util.parseAxisParam([a],i.shape),s=Js({inputs:{x:i},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),c=u.backend_util.expandShapeToKeepDim(s.shape,o),l=ui({inputs:{x:s},backend:n,attrs:{shape:c}}),f=wu({inputs:{a:i,b:l},backend:n}),d=zo({inputs:{x:f},backend:n}),p=mi({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),h=ui({inputs:{x:p},backend:n,attrs:{shape:c}}),v=bu({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),v}var Tu={kernelName:u.Softmax,backendName:"webgl",kernelFunc:Su};var Cu={kernelName:u.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.numSamples,o=r.seed,s=r.normalized,u=s?i:Su({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=u.shape[0],l=u.shape[1],f=new yu(c,l,a),d=[[o]],p=n.runWebGLProgram(f,[u],"int32",d);return s||n.disposeIntermediateTensorInfo(u),p}},Eu=mr+"\n  return -x;\n";var Ou={kernelName:u.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])){var a=r.texData.get(i.dataId),o=Ln(a.values,i.shape,i.dtype),s=(0,c.Z)(o,2),l=s[0],f=s[1];return r.makeTensorInfo(f,i.dtype,l)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Ar(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new vr(i.shape,Eu),r.runWebGLProgram(t,[i],i.dtype)}},Au=u.kernel_impls.nonMaxSuppressionV3Impl;var Iu={kernelName:u.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=n.readSync(i.dataId),f=n.readSync(a.dataId),d=Au(l,f,o,s,c).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Ru=u.kernel_impls.nonMaxSuppressionV4Impl;var Nu={kernelName:u.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.padToMaxOutputSize,f=n.readSync(i.dataId),d=n.readSync(a.dataId),p=Ru(f,d,o,s,c,l),h=p.selectedIndices,v=p.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},Pu=u.kernel_impls.nonMaxSuppressionV5Impl;var Mu={kernelName:u.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,f=n.readSync(i.dataId),d=n.readSync(a.dataId),p=Pu(f,d,o,s,c,l),h=p.selectedIndices,v=p.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},Du=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(i,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),ju={kernelName:u.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=r.dtype,o=r.depth,s=r.onValue,c=r.offValue,l=u.util.sizeFromShape(i.shape),d=new Du(l,o,s,c),p=ui({inputs:{x:i},backend:n,attrs:{shape:[l]}}),h=n.runWebGLProgram(d,[p],a);n.disposeIntermediateTensorInfo(p);var v=ui({inputs:{x:h},backend:n,attrs:{shape:[].concat((0,f.Z)(i.shape),[o])}});return n.disposeIntermediateTensorInfo(h),v}};function Lu(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var i=wa({inputs:{input:r},backend:n}),a=Lu({inputs:{x:i},backend:n}),o=Fa({inputs:{input:r},backend:n}),s=Lu({inputs:{x:o},backend:n}),u=Wr({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return es({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Fu={kernelName:u.ZerosLike,backendName:"webgl",kernelFunc:Lu};var Zu={kernelName:u.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){var a=wa({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=Fa({inputs:{input:i},backend:r}),u=Lu({inputs:{x:s},backend:r}),c=Wr({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return es({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:r})}};var Bu={kernelName:u.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Ho({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var i=t[0].shape,a=t[0].dtype;t.forEach((function(e){u.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),u.util.assert(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=Ua({inputs:t.map((function(e){var t=Ho({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},Uu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ue(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(a," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),Vu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var i=t.length,a=Ue(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=ur("rc",i),c=ur("source",i),l="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),f=1===i?"source":"vec2(".concat(c.slice(-2).join(),")"),d=["".concat(a," rc = outputLoc;"),"".concat(u[i-1]," += 1;\n       if(").concat(l,") {\n      "),1===i?"":"}\n       rc = outputLoc;\n       ".concat(u[i-2]," += 1;\n       if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {"),1===i?"":"  ".concat(u[i-1]," += 1;\n         if(").concat(l,") {")],h=1===i?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",m=0,g=1===i?2:4;m<g;m++)v+="\n        ".concat(d[m],"\n        if (").concat(h,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(a," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ");v+=1===i?"} ":"}}",this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(v,"\n        setOutput(result);\n      }\n    ")})),zu=function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.constantValue;if(0===u.util.sizeFromShape(i.shape))return es({backend:n,attrs:{shape:a.map((function(e,t){return e[0]+i.shape[t]+e[1]})),value:o,dtype:i.dtype}});var s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Vu(i.shape,a,o):new Uu(i.shape,a,o),c=[[o]];return n.runWebGLProgram(s,[i],i.dtype,c)},Wu={kernelName:u.PadV2,backendName:"webgl",kernelFunc:zu},Hu=ei({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+Br+"\n  return result;\n"}),Gu={kernelName:u.Pow,backendName:"webgl",kernelFunc:Hu};var qu={kernelName:u.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.axis,s=i.keepDims,l=a.shape.length,f=[],d=u.util.parseAxisParam(o,a.shape),p=d,h=u.backend_util.getAxesPermutation(p,l),v=a;if(null!=h&&(v=yi({inputs:{x:a},backend:r,attrs:{perm:h}}),p=u.backend_util.getInnerMostAxes(p.length,l),f.push(v)),u.backend_util.assertAxesAreInnerMostDims("prod",p,l),r.shouldExecuteOnCPU([v])){var m=r.texData.get(v.dataId).values,g=Zn(v.shape,v.dtype,m,p),y=g.outVals,b=g.outShape,x=g.outDtype;t=r.makeTensorInfo(b,x,y)}else{var k=u.backend_util.computeOutAndReduceShapes(v.shape,p),w=(0,c.Z)(k,2),_=w[0],S=w[1],T=u.util.sizeFromShape(S),C=ui({inputs:{x:v},backend:r,attrs:{shape:[-1,T]}}),E=di(C,(0,u.sumOutType)(a.dtype),"prod",r);t=ui({inputs:{x:E},backend:r,attrs:{shape:_}}),f.push(C),f.push(E)}if(s){f.push(t);var O=u.backend_util.expandShapeToKeepDim(t.shape,d);t=ui({inputs:{x:t},backend:r,attrs:{shape:O}})}return f.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}};var Ku={kernelName:u.RaggedGather,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.paramsNestedSplits,a=t.paramsDenseValues,o=t.indices,s=r.outputRaggedRank,u=i.map((function(e){return n.readSync(e.dataId)})),l=i.map((function(e){return e.shape})),f=n.readSync(a.dataId),d=n.readSync(o.dataId),p=Bn(u,l,f,a.shape,a.dtype,d,o.shape,s),h=(0,c.Z)(p,3),v=h[0],m=h[1],g=h[2],y=v.map((function(e){return n.makeTensorInfo([e.length],"int32",e)})),b=n.makeTensorInfo(g,a.dtype,m);return y.concat([b])}};var Yu={kernelName:u.RaggedTensorToTensor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.shape,a=t.values,o=t.defaultValue,s=t.rowPartitionTensors,u=r.rowPartitionTypes,l=n.readSync(i.dataId),f=n.readSync(a.dataId),d=n.readSync(o.dataId),p=s.map((function(e){return n.readSync(e.dataId)})),h=s.map((function(e){return e.shape})),v=Un(l,i.shape,f,a.shape,a.dtype,d,o.shape,p,h,u),m=(0,c.Z)(v,2),g=m[0],y=m[1];return n.makeTensorInfo(g,a.dtype,y)}},Xu=function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.step,o=n.dtype,s=Vn(r,i,a,o);return t.makeTensorInfo([s.length],o,s)},Qu={kernelName:u.Range,backendName:"webgl",kernelFunc:Xu},Ju=$r({opSnippet:"return 1.0 / x;"}),$u={kernelName:u.Reciprocal,backendName:"webgl",kernelFunc:Ju},ec=$r({opSnippet:mr+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),tc={kernelName:u.Relu,backendName:"webgl",kernelFunc:ec},nc=$r({opSnippet:mr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),rc={kernelName:u.Relu6,backendName:"webgl",kernelFunc:nc},ic=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r];d=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),ac=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r];d=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],",\n          ").concat(h[1]/v[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var oc={kernelName:u.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,c.Z)(s,2),f=l[0],d=l[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ac(i.shape,f,d,a,o):new ic(i.shape,f,d,a,o);return n.runWebGLProgram(p,[i],"float32")}},sc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,c.Z)(n,3),a=i[1],o=i[2],s=(0,c.Z)(t,3),u=s[1],l=s[2],f=[r&&u>1?a-1:a,r&&l>1?o-1:o],d=[r&&u>1?u-1:u,r&&l>1?l-1:l],h=f[0]/d[0],v=f[1]/d[1],m=1/h,g=1/v,y=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(v,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(a-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var uc={kernelName:u.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new sc(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},cc=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r],m=i?"0.5":"0.0";d=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),lc=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r],m=i?"0.5":"0.0";d=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],",\n          ").concat(h[1]/v[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var fc={kernelName:u.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,c.Z)(s,2),f=l[0],d=l[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new lc(i.shape,f,d,a,o):new cc(i.shape,f,d,a,o);return n.runWebGLProgram(p,[i],i.dtype)}},dc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,c.Z)(n,3),a=i[1],o=i[2],s=(0,c.Z)(t,3),u=s[1],l=s[2],f=[r&&u>1?a-1:a,r&&l>1?o-1:o],d=[r&&u>1?u-1:u,r&&l>1?l-1:l],h=f[0]/d[0],v=f[1]/d[1],m=1/h,g=1/v,y=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(v,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(f[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(f[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var pc={kernelName:u.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new dc(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},hc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var i=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),a=Ue(r);this.userCode="\n      void main() {\n        ".concat(a," coords = getOutputCoords();\n        setOutput(getX(").concat(i,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),vc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var i=ur("rc",r),a="".concat(i[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(i[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Ue(r);function u(e){var r=t.map((function(r,i){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(i,e)})),i=r.join(","),a=r.slice(-2).join(",");return"getChannel(getX(".concat(i,"), vec2(").concat(a,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(a,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(i.slice()),";\n          if(").concat(a,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(i.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            if(").concat(a,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var mc={kernelName:u.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.dims,o=i.shape.length,s=u.util.parseAxisParam(a,i.shape);if(0===o)return Vr({inputs:{x:i},backend:n});var c=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vc(i.shape,s):new hc(i.shape,s);return n.runWebGLProgram(c,[i],i.dtype)}},gc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],i=t[2];this.outputShape=t;var a="";a="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(a,"\n          if(coordX >= 0 && coordX < ").concat(i," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),yc={kernelName:u.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,a=n.radians,o=n.fillValue,s=n.center,l=r,f=new gc(i.shape,o),d=u.backend_util.getImageCenter(s,i.shape[1],i.shape[2]),p=(0,c.Z)(d,2),h=[[p[0],p[1],Math.sin(a),Math.cos(a)]];return l.runWebGLProgram(f,[i],i.dtype,h)}},bc=$r({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),xc={kernelName:u.Round,backendName:"webgl",kernelFunc:bc},kc=$r({opSnippet:"return inversesqrt(x);",cpuKernelImpl:zn}),wc={kernelName:u.Rsqrt,backendName:"webgl",kernelFunc:kc},_c=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Ue(a.length),u=Ue(o.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),f="";1===i?f="i":2===i&&(f="i, coords[1]");var d="getUpdates(".concat(f,")"),h=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(a,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(h,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(d,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var Sc={kernelName:u.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=t.updates,o=r.shape,s=u.backend_util.calculateShapes(a,i,o),c=s.sliceRank,l=s.numUpdates,f=s.sliceSize,d=s.strides,p=s.outputSize,h=[p/f,f];if(0===p)return n.makeTensorInfo(o,i.dtype);var v=ui({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),m=ui({inputs:{x:a},backend:n,attrs:{shape:[l,f]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new _c(l,c,v.shape.length,m.shape.length,d,h),b=n.runWebGLProgram(y,[m,v,g],m.dtype),x=ui({inputs:{x:b},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(g),x}},Tc=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var a="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),o=2===(0,u.env)().getNumber("WEBGL_VERSION")?"while (left < right) {":a,s="left"===i?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}));var Cc={kernelName:u.SearchSorted,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sortedSequence,a=t.values,o=r.side,s=new Tc(i.shape[0],i.shape[1],a.shape[1],o),u=[[i.shape[1]]];return n.runWebGLProgram(s,[i,a],"int32",u)}},Ec=(0,h.Z)((function e(t,n,r){var i,a;if((0,p.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)a="resRC",i="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(o[c])),c<t&&s.push("".concat(o[c]));i=s.join(),a=u.join()}var l=Ue(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(i,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(a,"));\n        } else {\n          setOutput(getB(").concat(a,"));\n        }\n      }\n    ")}));var Oc={kernelName:u.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,i=t.t,a=t.e,o=new Ec(r.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(o,[r,i,a],(0,u.upcastType)(i.dtype,a.dtype))}},Ac=$r({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(u.backend_util.SELU_SCALEALPHA,";\n  float scale = ").concat(u.backend_util.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),Ic={kernelName:u.Selu,backendName:"webgl",kernelFunc:Ac},Rc=$r({opSnippet:Jr+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Hn}),Nc={kernelName:u.Sigmoid,backendName:"webgl",kernelFunc:Rc},Pc=$r({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Mc={kernelName:u.Sign,backendName:"webgl",kernelFunc:Pc},Dc=$r({opSnippet:Jr+"\n  return sin(x);\n"}),jc={kernelName:u.Sin,backendName:"webgl",kernelFunc:Dc},Lc=$r({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Fc={kernelName:u.Sinh,backendName:"webgl",kernelFunc:Lc},Zc=$r({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Bc={kernelName:u.Softplus,backendName:"webgl",kernelFunc:Zc},Uc={kernelName:u.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.paddings;u.util.assert(i.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),c=[[0,0]];c.push.apply(c,(0,f.Z)(o));for(var l=1+a.length;l<i.shape.length;++l)c.push([0,0]);var d=[],p=zu({inputs:{x:i},backend:n,attrs:{paddings:c,constantValue:0}}),h=u.backend_util.getReshaped(p.shape,a,s,!1),v=u.backend_util.getPermuted(h.length,a.length,!1),m=u.backend_util.getReshapedPermuted(p.shape,a,s,!1),g=ui({inputs:{x:p},backend:n,attrs:{shape:h}}),y=yi({inputs:{x:g},backend:n,attrs:{perm:v}}),b=ui({inputs:{x:y},backend:n,attrs:{shape:m}});return d.push(p),d.push(g),d.push(y),d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Vc={kernelName:u.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.readSync(r.dataId),u=n.readSync(i.dataId),l=n.readSync(a.dataId),f=n.readSync(o.dataId)[0],d=Kn(s,r.shape,r.dtype,u,i.dtype,l,f),p=(0,c.Z)(d,5),h=p[0],v=p[1],m=p[2],g=p[3],y=p[4];return[n.makeTensorInfo(v,r.dtype,h),n.makeTensorInfo([v[0]],i.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var zc={kernelName:u.SparseReshape,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.readSync(i.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(a.dataId)),l=Yn(s,r.shape,r.dtype,o,u),f=(0,c.Z)(l,3),d=f[0],p=f[1],h=f[2];return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([h.length],a.dtype,new Int32Array(h))]}};var Wc={kernelName:u.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=Xn(o,r.shape,r.dtype,s,u,!0),f=(0,c.Z)(l,2),d=f[0],p=f[1];return n.makeTensorInfo(p,r.dtype,d)}};var Hc={kernelName:u.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=Xn(o,r.shape,r.dtype,s,u),f=(0,c.Z)(l,2),d=f[0],p=f[1];return n.makeTensorInfo(p,r.dtype,d)}};var Gc={kernelName:u.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sparseIndices,a=t.sparseValues,o=t.defaultValue,s=r.outputShape,c=u.backend_util.calculateShapes(a,i,s),l=c.sliceRank,f=c.numUpdates,d=c.sliceSize,p=c.strides,h=c.outputSize;if("string"===a.dtype){var v=n.bufferSync(i),m=n.bufferSync(a),g=u.util.decodeString(n.readSync(o.dataId)[0]),y=Wn(v,m,s,h,d,f,l,p,g,false);return n.makeTensorInfo(s,y.dtype,y.values)}var b=new _c(f,l,i.shape.length,a.shape.length,p,[h,1],false),x=n.runWebGLProgram(b,[a,i,o],a.dtype),k=ui({inputs:{x:x},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(x),k}};var qc={kernelName:u.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.numOrSizeSplits,o=r.axis,s=u.util.parseAxisParam(o,i.shape)[0],c=u.backend_util.prepareSplitSize(i,a,s),l=i.shape.length,d=new Array(l).fill(0),p=i.shape.slice();return c.map((function(e){var t=(0,f.Z)(p);t[s]=e;var r=va({inputs:{x:i},backend:n,attrs:{begin:d,size:t}});return d[s]+=e,r}))}},Kc="return sqrt(x);",Yc=$r({opSnippet:Kc,packedOpSnippet:Kc,cpuKernelImpl:Qn}),Xc={kernelName:u.Sqrt,backendName:"webgl",kernelFunc:Yc},Qc=$r({opSnippet:"return x * x;"}),Jc={kernelName:u.Square,backendName:"webgl",kernelFunc:Qc},$c="return (a - b) * (a - b);",el=ei({opSnippet:$c,packedOpSnippet:$c}),tl={kernelName:u.SquaredDifference,backendName:"webgl",kernelFunc:el};var nl={kernelName:u.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=mr+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new vr(i.shape,a);return r.runWebGLProgram(o,[i],i.dtype)}},rl=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var i=r.length,a=Ue(r.length),o=Ue(r.length),s="";if(1===i)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(a," begin = ").concat(a,"(").concat(t,");\n      ").concat(a," strides = ").concat(a,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var il={kernelName:u.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.begin,s=i.end,c=i.strides,l=i.beginMask,f=i.endMask,d=i.ellipsisMask,p=i.newAxisMask,h=i.shrinkAxisMask,v=u.slice_util.sliceInfo(a.shape,o,s,c,l,f,d,p,h),m=v.finalShapeSparse,g=v.finalShape,y=v.isIdentity,b=v.sliceDim0,x=v.isSimpleSlice,k=v.begin,w=v.end,_=v.strides;if(y)t=ui({inputs:{x:a},backend:r,attrs:{shape:g}});else if(b||x){u.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var S=u.slice_util.computeOutShape(k,w,_),T=va({inputs:{x:a},backend:r,attrs:{begin:k,size:S}});t=ui({inputs:{x:T},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(T)}else{if(r.shouldExecuteOnCPU([a])){var C=r.readSync(a.dataId),E=(0,u.buffer)(a.shape,a.dtype,C),O=Jn(m,E,_,k);t=r.makeTensorInfo(g,a.dtype,O.values)}else{var A=new rl(k,_,m);t=r.runWebGLProgram(A,[a],a.dtype)}}var I=ui({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),I}};var al={kernelName:u.StringNGrams,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,l=r.preserveShortSequences,f=t.data,d=t.dataSplits,p=n.readSync(f.dataId),h=n.readSync(d.dataId),v=$n(p,h,i,a,o,s,u,l),m=(0,c.Z)(v,2),g=m[0],y=m[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(d.shape,"int32",y)]}};var ol={kernelName:u.StringSplit,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.readSync(i.dataId),s=n.readSync(a.dataId)[0],u=er(o,s,r),l=(0,c.Z)(u,3),f=l[0],d=l[1],p=l[2],h=d.length;return[n.makeTensorInfo([h,2],"int32",f),n.makeTensorInfo([h],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var sl={kernelName:u.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.readSync(i.dataId),o=tr(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},ul=$r({opSnippet:"return tan(x);"}),cl={kernelName:u.Tan,backendName:"webgl",kernelFunc:ul},ll=$r({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),fl={kernelName:u.Tanh,backendName:"webgl",kernelFunc:ll},dl=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[i]*n[i];this.outputShape=r,this.rank=r.length;var a=Ue(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod(".concat(n[i],", ").concat(e[i],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function pl(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;if("string"===i.dtype||i.shape.length>5){var o=n.readSync(i.dataId),s="string"===i.dtype?o.map((function(e){return u.util.decodeString(e)})):o,c=(0,u.buffer)(i.shape,i.dtype,s),l=rr(c,a);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var f=new dl(i.shape,a);return n.runWebGLProgram(f,[i],i.dtype)}var hl={kernelName:u.Tile,backendName:"webgl",kernelFunc:pl},vl=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),ml=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function gl(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function yl(e){for(var t=1;t<e;)t*=2;return t}var bl={kernelName:u.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted,s=(0,u.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=(0,u.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),f=i.shape,d=f[f.length-1];if(n.shouldExecuteOnCPU([i])||d<s||a>l){var p=n.readSync(i.dataId),h=ir(p,f,i.dtype,a,o),v=(0,c.Z)(h,2),m=v[0],g=v[1];return[n.makeTensorInfo(m.shape,m.dtype,m.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===a)return f[f.length-1]=0,[n.makeTensorInfo(f,i.dtype,[]),n.makeTensorInfo(f,"int32",[])];if(1===d)return[i,es({attrs:{shape:f,dtype:"int32",value:0},backend:n})];var y=n.texData.get(i.dataId),b=null!==y&&y.isPacked,x=b?n.unpackTensor(i):i,k=u.util.sizeFromShape(f)/d,w=ui({inputs:{x:x},attrs:{shape:[k,d]},backend:n});b&&gl(n,x);for(var _=yl(a),S=yl(d),T=null,C=function(){return null===T?[w,w]:[w,T]},E=function(e,t,r){var i=C(),a=new vl(r),o=[[d],[null===T?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=T;T=n.runWebGLProgram(a,i,"int32",o),gl(n,s)},O=1;O<_;O*=2)for(var A=2*O,I=O;I>=1;I/=2)E(A,I,[k,S]);for(var R=S;R>_;R/=2){var N=C(),P=new ml([k,R/2]),M=[[d],[null===T?1:0],[_]],D=T;T=n.runWebGLProgram(P,N,"int32",M),gl(n,D);for(var j=_/2,L=2*j,F=j;F>=1;F/=2)E(L,F,T.shape)}var Z=T;T=va({inputs:{x:T},backend:n,attrs:{begin:0,size:[k,a]}}),gl(n,Z);var B=bs({inputs:{x:w,indices:T},backend:n,attrs:{axis:1,batchDims:1}});gl(n,w);var U=f.slice(0,-1);U.push(a),Z=T,T=ui({inputs:{x:T},attrs:{shape:U},backend:n}),gl(n,Z);var V=B;return B=ui({inputs:{x:B},attrs:{shape:U},backend:n}),gl(n,V),[B,T]}},xl=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(i){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(a,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(a,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var kl={kernelName:u.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.transforms,o=r.interpolation,s=r.fillMode,u=r.fillValue,l=r.outputShape,f=(0,c.Z)(i.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=null!=l?l:[p,h],g=(0,c.Z)(m,2),y=g[0],b=g[1],x=new xl(p,h,o,s,u,[d,y,b,v]);return n.runWebGLProgram(x,[i,a],"float32")}};var wl={kernelName:u.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;_e(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(a.dataId),s=or(o,i,a.shape,a.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,a.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var _l={kernelName:u.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i,s=o.shape.length,u=i.shape[a],c=new Array(s-1),l=0,f=0;f<s;f++)f!==a&&(c[l++]=o.shape[f]);var d=[],p=new Array(s).fill(0),h=o.shape.slice();h[a]=1;for(var v=new Array(u),m=0;m<v.length;m++){p[a]=m;var g=va({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),y=ui({inputs:{x:g},backend:n,attrs:{shape:c}});v[m]=y,d.push(g)}return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}},Sl=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.numSegments,s=o*Math.ceil(a/r);this.outputShape=[i,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",f="";a%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      "));var d="";a%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var Tl=0,Cl=[wi,Si,Ci,Oi,Ri,Mi,Di,ji,Vi,zi,Hi,qi,Yi,Qi,$i,na,ra,oa,sa,ua,fa,ga,ya,ba,Ta,Oa,Ra,Hr,Ma,Va,Xa,to,no,ro,io,oo,uo,lo,po,yo,bo,xo,wo,To,Oo,Ao,Ro,Po,Do,Lo,Fo,Bo,Vo,Wo,Go,Yo,Jo,ns,is,ss,cs,ds,hs,vs,gs,xs,ws,Ss,zr,Ts,Za,Es,As,Rs,Kr,Ps,Ds,js,Fs,Bs,Vs,Ws,Gs,Ys,Qs,$s,tu,nu,ru,ou,su,uu,cu,lu,du,vu,gu,Cu,si,Ou,Iu,Nu,Mu,ka,ju,Zu,Bu,Wu,Gu,Qr,qu,Ku,Yu,Qu,_a,xu,$u,tc,rc,ci,oc,uc,fc,pc,mc,yc,xc,wc,Sc,Cc,Oc,Ic,Nc,Mc,jc,Fc,ma,Tu,Bc,Uc,Vc,zc,Wc,Hc,Gc,qc,Xc,Jc,tl,nl,il,al,ol,sl,_u,gi,cl,fl,hl,bl,kl,bi,wl,_l,{kernelName:u.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.segmentIds,o=r.numSegments,s=i.shape.length,c=[],l=0,f=u.backend_util.getAxesPermutation([l],s),d=i;null!=f&&(d=yi({inputs:{x:i},backend:n,attrs:{perm:f}}),c.push(d),l=u.backend_util.getInnerMostAxes(1,s)[0]);var p=u.backend_util.segment_util.computeOutShape(d.shape,l,o),h=u.util.sizeFromShape([d.shape[l]]),v=ui({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});c.push(v);var m=ui({inputs:{x:function e(t,r,i,a,o){var s=t.shape[0],l=t.shape[1],f=u.backend_util.segment_util.segOpComputeOptimalWindowSize(l,o),d=new Sl({windowSize:f,inSize:l,batchSize:s,numSegments:o},r),p=n.compileAndRun(d,[t,i],a);if(c.push(p),p.shape[1]===o)return p;var h=Xu({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),v=pl({inputs:{x:h},backend:n,attrs:{reps:[l/f]}});return c.push(h),c.push(v),e(p,r,v,a,o)}(v,"unsortedSegmentSum",a,(0,u.sumOutType)(i.dtype),o)},backend:n,attrs:{shape:p}}),g=m;if(null!=f){c.push(m);var y=u.backend_util.getUndoAxesPermutation(f);g=yi({inputs:{x:g},backend:n,attrs:{perm:y}})}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}},Fu];Tl<Cl.length;Tl++){var El=Cl[Tl];(0,u.registerKernel)(El)}},54679:function(e,t,n){"use strict";n.d(t,{JL:function(){return a},Zu:function(){return o}});var r=n(15671),i=n(43144),a=function(){function e(t,n){(0,r.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,i.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,i){return s("move")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},60745:function(e,t,n){"use strict";n.d(t,{GP:function(){return o},qP:function(){return s},pA:function(){return u}});var r=n(42982);function i(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,i=e.length,a=0,o=!1;for(;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||a)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function a(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,i){return c(e,t,n,r,i,0)}function s(e,t,n,r,i,a){return c(e,t,n,r,i,0,!1,a,!0)}function u(e,t,n,r,i,a){return c(e,t,n,r,i,a,!0)}function c(e,t,n,a,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=[],v=0;v<t.length;v++)t[v]>o&&h.push({score:t[v],boxIndex:v,suppressBeginIndex:0});h.sort(d);for(var m=s>0?-.5/s:0,g=[],y=[];g.length<n&&h.length>0;){var b=h.pop(),x=b.score,k=b.boxIndex,w=b.suppressBeginIndex;if(x<o)break;for(var _=!1,S=g.length-1;S>=w;--S){var T=l(e,k,g[S]);if(T>=a){_=!0;break}if(b.score=b.score*f(a,m,T),b.score<=o)break}b.suppressBeginIndex=g.length,_||(b.score===x?(g.push(k),y.push(b.score)):b.score>o&&i(h,b,d))}var C=g.length,E=n-C;c&&E>0&&(g.push.apply(g,(0,r.Z)(new Array(E).fill(0))),y.push.apply(y,(0,r.Z)(new Array(E).fill(0))));var O={selectedIndices:g};return u&&(O.selectedScores=y),p&&(O.validOutputs=C),O}function l(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),p=(s-a)*(u-o),h=(f-c)*(d-l);if(p<=0||h<=0)return 0;var v=Math.max(a,c),m=Math.max(o,l),g=Math.min(s,f),y=Math.min(u,d),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(p+h-b)}function f(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},24189:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(77039);function i(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&n.push(i);for(var a=(0,r.f)(e,"int32"),o=(0,r.f)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=a.indexToLoc(n[s]),c=s*e.length;o.values.set(u,c)}return o.toTensor()}},70318:function(e,t,n){"use strict";n.d(t,{BV:function(){return T},wv:function(){return S}});var r=n(37762),i=n(42982),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(54679),l=n(35050),f=n(96581),d=n(32145),p=n(78864),h=n(17269),v=n(70115),m=n(36147),g=function(){function e(t,n){(0,s.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new y)}return(0,u.Z)(e,[{key:"profileKernel",value:function(e,t,n){var i,a,o=function(){i=n()},s=v.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var u,c=(0,r.Z)(i);try{for(c.s();!(u=c.n()).done;){u.value.dataSync()}}catch(p){c.e(p)}finally{c.f()}a=Promise.resolve({kernelMs:v.now()-s})}if((0,l.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var f=function(){var t=i[d];t.data().then((function(n){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found ".concat(i," in the result of '").concat(n,"'")),!0}}(n,t.dtype,e)}))},d=0;d<i.length;d++)f();return{kernelName:e,outputs:i,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,i=e.timeMs,a=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),i,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],a,r[2])}))}))}}]),e}();var y=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,i,a){var o="number"===typeof r?m.oj("".concat(r,"ms"),9):r.error,s=m.oj(e,25),u=t.rank,c=t.size,l=m.oj(t.shape.toString(),14),f="";for(var d in i){var p=i[d];if(null!=p){var h=p.shape||t.shape,v=h.length;f+="".concat(d,": ").concat(v,"D ").concat(v>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(f,"\t%c").concat(a),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();var b=n(4376),x=n(99064);function k(e){return null!=e.kernelName}var w=function(){function e(){(0,s.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,u.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),_=function(){function e(t){(0,s.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new w}return(0,u.Z)(e,[{key:"ready",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(h.Z("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new g(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;(0,p.tr)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,p.tr)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof c.Zu||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return i<t.pendingBackendInitId||(t.pendingBackendInit=null,h.Z("Initialization of backend ".concat(e," failed")),h.Z(n.stack||n.message)),!1}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}catch(o){return h.Z("Initialization of backend ".concat(e," failed")),h.Z(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,i=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(i){throw t(),i}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=T.runKernel(d.iJz,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return T.runKernel(d.RFZ,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=(0,p.pI)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,i=this,a=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=k(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(k(e)){var l=e.kernelName,f=e.inputs,d=e.attrs;null==this.backendName&&this.backend;var h=(0,p.pI)(l,this.backendName);m.hu(null!=h,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(i.backendName,"'")})),n=function(){var e=i.backend.numDataIds();r=h.kernelFunc({inputs:f,attrs:d,backend:i.backend});var t=Array.isArray(r)?r:[r];i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){return null!=e.rank?e:i.makeTensorFromTensorInfo(e)}));if(o){var s=i.getTensorsForGradient(l,f,n);a=i.saveTensorsForBackwardMode(s)}return n}}else{var v=e.forwardFunc,g=function(e){o&&(a=e.map((function(e){return i.keep(i.clone(e))})))};n=function(){var e=i.backend.numDataIds();r=i.tidy((function(){return v(i.backend,g)}));var t=Array.isArray(r)?r:[r];return i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(c,e,t),t}}var y,b=e.inputs,x=e.attrs,w=k(e)?null:e.backwardsFunc;return this.scopedRun((function(){return i.state.kernelDepth++}),(function(){return i.state.kernelDepth--}),(function(){i.ENV.getBool("DEBUG")||i.state.profiling?(y=i.profiler.profileKernel(c,b,(function(){return n()})),i.ENV.getBool("DEBUG")&&i.profiler.logKernelProfile(y),t=y.outputs):t=n()})),o&&this.addTapeNode(c,b,t,w,a,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(b).map((function(e){return null!=b[e]?b[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=(0,p.uk)(e);if(null!=r){var i,a=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(m.hu(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),i=Object.keys(t).map((function(e){return t[e]}))):i=a.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return i.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&m.HD(e[0])&&(i=e.map((function(e){return v.encodeString(e)})));var a=r.write(i,t,n),o=new b.es(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=(0,m.Ub)(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,i=e.dtype,a=new b.es(r,i,n,this.nextTensorId());return this.trackTensor(a,t),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var i=new b._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name ".concat(i.name," was already registered"));return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*m.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof b._w||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*m.bT(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,o,s,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,o=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,i.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-o,s=(0,r.Z)(this.state.activeProfile.kernels),e.prev=12,s.s();case 14:if((u=s.n()).done){e.next=24;break}return c=u.value,e.next=18,c.kernelTimeMs;case 18:return c.kernelTimeMs=e.sent,e.next=21,c.extraInfo;case 21:c.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=(0,p.uk)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=m.wT(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i,a)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=(0,x.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(m.hu(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));m.hu(o instanceof b.es,(function(){return"The result y returned by f() must be a tensor."}));var s=function(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var c in u){for(var l=u[c],f=!1,d=0;d<t.length;d++)if(r[l.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),f=!0,i[s.id]=!0;break}if(f)break}}var p={};p[n.id]=!0;for(var h={},v=e.length-1;v>=0;v--)for(var m=e[v],g=m.inputs,y=0;y<m.outputs.length;y++)if(p[m.outputs[y].id]){for(var b in g)p[g[b].id]=!0,h[m.id]=!0;break}for(var x=[],k=0;k<e.length;k++){var w=e[k];if(i[w.id]&&h[w.id]){var _={};for(var S in w.inputs){var T=w.inputs[S];r[T.id]&&(_[S]=T)}var C=Object.assign({},w);C.inputs=_,C.outputs=w.outputs,x.push(C)}}return x}(this.state.activeTape,t,o);if(!a&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?function(e){var t=(0,m.p8)((0,m.NA)(e),"float32");return T.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(var i=function(){var i=t[a],o=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var s=i.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var a=n((function(){return s[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!m.cO(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var u=e[o.id];e[o.id]=r(u,a),u.dispose()}};for(var c in i.inputs)u(c)},a=t.length-1;a>=0;a--)i()}(e,s,(function(e){return i.tidy(e)}),C);var a=t.map((function(t){return e[t.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){var t,n=(0,r.Z)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(i){n.e(i)}finally{n.f()}})),i.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return m.hu(m.mf(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a;m.hu(r.every((function(e){return e instanceof b.es})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));return t.runKernelFunc({forwardFunc:function(t,n){return a=e.apply(void 0,[].concat(r,[n])),m.hu(a.value instanceof b.es,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),m.hu(m.mf(a.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),a.value},backwardsFunc:function(e,t){var n=a.gradFunc(e,t),i=Array.isArray(n)?n:[n];m.hu(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),m.hu(i.every((function(e){return e instanceof b.es})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return i.forEach((function(e,t){o[t]=function(){return e}})),o},inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=(0,v.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new w,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function S(){var e=(0,f.D)();if(null==e._tfengine){var t=new l.qA(e);e._tfengine=new _(t)}return(0,l.iG)(e._tfengine.ENV),(0,b.Vi)((function(){return e._tfengine})),e._tfengine}_.nextTensorId=0,_.nextVariableId=0;var T=S();function C(e,t){var n={a:e,b:t};return T.runKernel(d.mm_,n)}},35050:function(e,t,n){"use strict";n.d(t,{OB:function(){return d},Vi:function(){return p},iG:function(){return h},qA:function(){return l}});var r=n(70885),i=n(74165),a=n(15861),o=n(15671),s=n(43144),u=n(36147),c="tfjsflags",l=function(){function e(t){(0,o.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=f,this.populateURLFlags()}return(0,s.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(d().getBool("IS_TEST")||d().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];d().getBool("IS_TEST")||d().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,u.tI)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(c in t)t[c].split(",").forEach((function(t){var n=t.split(":"),i=(0,r.Z)(n,2),a=i[0],o=i[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,o)}))}}}]),e}();function f(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function d(){return p}var p=null;function h(e){p=e}},96581:function(e,t,n){"use strict";var r;function i(){if(null==r){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,{D:function(){return i},R:function(){return a}})},35875:function(e,t,n){"use strict";n.d(t,{B9:function(){return m},CQ:function(){return b},Cd:function(){return x},Cn:function(){return g},G4:function(){return s},MX:function(){return l},N5:function(){return h},N8:function(){return f},N_:function(){return k},R:function(){return u},SR:function(){return d},VY:function(){return E},XV:function(){return y},cF:function(){return c},cj:function(){return w},jq:function(){return T},lu:function(){return v},sq:function(){return p},x3:function(){return _},y3:function(){return C},ze:function(){return S}});var r=n(70318),i=n(35050),a=n(4376),o=n(99064);function s(){(0,i.OB)().set("PROD",!0)}function u(){(0,i.OB)().set("DEBUG",!0)}function c(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function f(){r.BV.disposeVariables()}function d(){return r.BV}function p(){return r.BV.memory()}function h(e){return r.BV.profile(e)}function v(e,t){return r.BV.tidy(e,t)}function m(e){(0,o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function b(e){return r.BV.setBackend(e)}function x(){return r.BV.ready()}function k(){return r.BV.backendName}function w(e){r.BV.removeBackend(e)}function _(e){return r.BV.findBackend(e)}function S(e){return r.BV.findBackendFactory(e)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.BV.registerBackend(e,t,n)}function C(){return r.BV.backend}function E(e,t){(0,i.OB)().setPlatform(e,t)}(0,a.FZ)(l)},66450:function(e,t,n){"use strict";n.d(t,{UQ:function(){return u},cb:function(){return p},fN:function(){return f},h7:function(){return l},pn:function(){return d},ti:function(){return c}});var r=n(42982),i=n(70318),a=n(4376),o=n(48354),s=n(36147);function u(e){return s.hu(s.mf(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=(0,o._1)(t,"x","tf.grad","string_or_numeric"),a=null!=n?(0,o._1)(n,"dy","tf.grad"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e(r)}),[r],a),n=t.value,o=t.grads;return null!=a&&s.k5(n.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(o),o[0]}))}}function c(e){return s.hu(s.mf(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var a=(0,o.sI)(t,"args","tf.grads","string_or_numeric"),u=null!=n?(0,o._1)(n,"dy","tf.grads"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(a))}),a,u),n=t.value,o=t.grads;return null!=u&&s.k5(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o),o}))}}function l(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.hu(t instanceof a.es,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=i.BV.gradients((function(){return e(t)}),[t],n),o=r.grads,u=r.value;return h(o),{grad:o[0],value:u}}}function f(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t)&&t.every((function(e){return e instanceof a.es})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(t))}),t,n);return null!=n&&s.k5(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o.grads),o}}function d(e,t){s.hu(s.mf(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.hu(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof a._w})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],i.BV.registeredVariables)t.push(i.BV.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.hu(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."}));var c=i.BV.gradients(e,t,null,!0),l=c.value,f=c.grads;s.hu(f.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.hu(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var d={};return t.forEach((function(e,t){null!=f[t]&&(d[e.name]=f[t])})),null!=o&&o.forEach((function(e){return d[e.name]=null})),{value:l,grads:d}}function p(e){return i.BV.customGrad(e)}function h(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},67519:function(e,t,n){"use strict";n.r(t),n.d(t,{Abs:function(){return wt.SYM},Acos:function(){return wt.VGw},Acosh:function(){return wt.SpW},AdadeltaOptimizer:function(){return Pn},AdagradOptimizer:function(){return Dn},AdamOptimizer:function(){return Fn},AdamaxOptimizer:function(){return Un},Add:function(){return wt.mm_},AddN:function(){return wt.Xze},All:function(){return wt.oT6},Any:function(){return wt.IKK},ArgMax:function(){return wt.sJF},ArgMin:function(){return wt.aJk},Asin:function(){return wt.M2y},Asinh:function(){return wt.qw7},Atan:function(){return wt.jMg},Atan2:function(){return wt.QCc},Atanh:function(){return wt.Oyi},AvgPool:function(){return wt.JhU},AvgPool3D:function(){return wt._k9},AvgPool3DGrad:function(){return wt.IMb},AvgPoolGrad:function(){return wt.ROF},BatchMatMul:function(){return wt.XLW},BatchToSpaceND:function(){return wt.zws},Bincount:function(){return wt.zvY},BroadcastArgs:function(){return wt.eEB},BroadcastTo:function(){return wt.Ly9},Cast:function(){return wt.RFZ},Ceil:function(){return wt.gJX},ClipByValue:function(){return wt.xnO},Complex:function(){return wt.Zz9},ComplexAbs:function(){return wt.yj2},Concat:function(){return wt.Eh3},Conv2D:function(){return wt.mhS},Conv2DBackpropFilter:function(){return wt.wUP},Conv2DBackpropInput:function(){return wt.wm},Conv3D:function(){return wt.x12},Conv3DBackpropFilterV2:function(){return wt.o2y},Conv3DBackpropInputV2:function(){return wt.ik2},Cos:function(){return wt.mc4},Cosh:function(){return wt.TR1},CropAndResize:function(){return wt.VcC},Cumprod:function(){return wt.Byc},Cumsum:function(){return wt.iHb},DataStorage:function(){return ci.JL},DenseBincount:function(){return wt.QRR},DepthToSpace:function(){return wt.T0n},DepthwiseConv2dNative:function(){return wt.cie},DepthwiseConv2dNativeBackpropFilter:function(){return wt.sL$},DepthwiseConv2dNativeBackpropInput:function(){return wt.y7R},Diag:function(){return wt.$w},Dilation2D:function(){return wt.p4S},Dilation2DBackpropFilter:function(){return wt.Vn9},Dilation2DBackpropInput:function(){return wt.ekb},ENV:function(){return b.Vi},Einsum:function(){return wt.$g6},Elu:function(){return wt.SX0},EluGrad:function(){return wt.HEU},Environment:function(){return b.qA},Equal:function(){return wt.hdR},Erf:function(){return wt.Omj},Exp:function(){return wt.NEP},ExpandDims:function(){return wt.YFo},Expm1:function(){return wt.Y0y},FFT:function(){return wt.vwp},Fill:function(){return wt.deh},FlipLeftRight:function(){return wt.Uyb},Floor:function(){return wt.OR},FloorDiv:function(){return wt.jeX},FromPixels:function(){return wt.eBW},FusedBatchNorm:function(){return wt.sHE},FusedConv2D:function(){return wt._V0},FusedDepthwiseConv2D:function(){return wt.luS},GatherNd:function(){return wt.q1x},GatherV2:function(){return wt.qi_},Greater:function(){return wt.iZT},GreaterEqual:function(){return wt.Acj},IFFT:function(){return wt.Qg5},Identity:function(){return wt.iJz},Imag:function(){return wt.J_u},IsFinite:function(){return wt.avt},IsInf:function(){return wt.iWB},IsNan:function(){return wt.r7n},KernelBackend:function(){return ci.Zu},LRN:function(){return wt.eZ0},LRNGrad:function(){return wt.Hhh},LeakyRelu:function(){return wt.J$2},Less:function(){return wt.vtC},LessEqual:function(){return wt.CAk},LinSpace:function(){return wt.e7N},Log:function(){return wt.ZbH},Log1p:function(){return wt.kU},LogSoftmax:function(){return wt.qCd},LogicalAnd:function(){return wt.PYm},LogicalNot:function(){return wt.VfG},LogicalOr:function(){return wt.MZg},LogicalXor:function(){return wt.w6g},LowerBound:function(){return wt.qIC},Max:function(){return wt.YoZ},MaxPool:function(){return wt.mTV},MaxPool3D:function(){return wt.OAf},MaxPool3DGrad:function(){return wt.OU7},MaxPoolGrad:function(){return wt.OV7},MaxPoolWithArgmax:function(){return wt.vFR},Maximum:function(){return wt.BMI},Mean:function(){return wt.q2K},Min:function(){return wt.c17},Minimum:function(){return wt.q8u},MirrorPad:function(){return wt.jQs},Mod:function(){return wt.Vbg},MomentumOptimizer:function(){return zn},Multinomial:function(){return wt.NZg},Multiply:function(){return wt.wYn},Neg:function(){return wt.kuV},NonMaxSuppressionV3:function(){return wt.uv1},NonMaxSuppressionV4:function(){return wt.cye},NonMaxSuppressionV5:function(){return wt.W0H},NotEqual:function(){return wt.yQU},OP_SCOPE_SUFFIX:function(){return qn.zvA},OneHot:function(){return wt.we_},OnesLike:function(){return wt.qWM},Optimizer:function(){return Nn},OptimizerConstructors:function(){return Hn},Pack:function(){return wt.QiL},PadV2:function(){return wt.lyA},Pool:function(){return wt.Kgp},Pow:function(){return wt.pe_},Prelu:function(){return wt.o0g},Prod:function(){return wt.DlI},RMSPropOptimizer:function(){return Wn},RaggedGather:function(){return wt.dDz},RaggedTensorToTensor:function(){return wt.BiW},Range:function(){return wt.e6w},Rank:function(){return Gn.yw},Real:function(){return wt.xJR},RealDiv:function(){return wt.oHH},Reciprocal:function(){return wt.$HU},Reduction:function(){return Kn.I},Relu:function(){return wt.qkr},Relu6:function(){return wt.SbG},Reshape:function(){return wt.HZH},ResizeBilinear:function(){return wt._Yw},ResizeBilinearGrad:function(){return wt.zbQ},ResizeNearestNeighbor:function(){return wt.dpD},ResizeNearestNeighborGrad:function(){return wt.Hmb},Reverse:function(){return wt.mKl},RotateWithOffset:function(){return wt.b9H},Round:function(){return wt.e07},Rsqrt:function(){return wt.bV0},SGDOptimizer:function(){return Vn},ScatterNd:function(){return wt.xQA},SearchSorted:function(){return wt.nr8},Select:function(){return wt.PhF},Selu:function(){return wt.oFR},Sigmoid:function(){return wt.a5O},Sign:function(){return wt.i5y},Sin:function(){return wt.RQH},Sinh:function(){return wt.wYB},Slice:function(){return wt.p2w},Softmax:function(){return wt.Gcp},Softplus:function(){return wt.MRv},SpaceToBatchND:function(){return wt.TQc},SparseFillEmptyRows:function(){return wt.O3z},SparseReshape:function(){return wt.nhH},SparseSegmentMean:function(){return wt.w3H},SparseSegmentSum:function(){return wt.ZjV},SparseToDense:function(){return wt.D2d},SplitV:function(){return wt.L8s},Sqrt:function(){return wt.FKq},Square:function(){return wt.bK0},SquaredDifference:function(){return wt._tC},Step:function(){return wt.h8e},StridedSlice:function(){return wt.jQk},StringNGrams:function(){return wt._JP},StringSplit:function(){return wt.s1s},StringToHashBucketFast:function(){return wt.XkS},Sub:function(){return wt.Tr8},Sum:function(){return wt.GBy},Tan:function(){return wt.sEM},Tanh:function(){return wt.MIZ},Tensor:function(){return ze.es},TensorBuffer:function(){return ze.YD},Tile:function(){return wt.n9L},TopK:function(){return wt.cWu},Transform:function(){return wt.wx7},Transpose:function(){return wt.G3Y},Unique:function(){return wt.kpP},Unpack:function(){return wt.ToN},UnsortedSegmentSum:function(){return wt.Qvg},UpperBound:function(){return wt.XDQ},Variable:function(){return ze._w},ZerosLike:function(){return wt.RuY},_FusedMatMul:function(){return wt.usg},abs:function(){return qn.WnP},acos:function(){return qn.Khb},acosh:function(){return qn.__u},add:function(){return qn.IHx},addN:function(){return qn.QBD},all:function(){return qn.$6P},any:function(){return qn.YjB},argMax:function(){return qn.NqF},argMin:function(){return qn.vHJ},asin:function(){return qn.ZRM},asinh:function(){return qn.VfV},atan:function(){return qn.z4N},atan2:function(){return qn.fvJ},atanh:function(){return qn.C80},avgPool:function(){return qn.wS1},avgPool3d:function(){return qn.uR5},backend:function(){return _n.y3},backend_util:function(){return d},basicLSTMCell:function(){return qn.zEQ},batchNorm:function(){return qn.tgs},batchNorm2d:function(){return qn.Dxk},batchNorm3d:function(){return qn.JY5},batchNorm4d:function(){return qn.p3b},batchToSpaceND:function(){return qn.E4h},bincount:function(){return qn.yE8},booleanMaskAsync:function(){return qn.anm},broadcastArgs:function(){return qn.XsQ},broadcastTo:function(){return qn.UFq},broadcast_util:function(){return kt},browser:function(){return o},buffer:function(){return qn.f3b},cast:function(){return qn.pju},ceil:function(){return qn.mDi},clipByValue:function(){return qn.iUl},clone:function(){return qn.d9v},complex:function(){return qn.PYB},concat:function(){return qn.zoF},concat1d:function(){return qn.gME},concat2d:function(){return qn.Izb},concat3d:function(){return qn.MNy},concat4d:function(){return qn.ZaL},conv1d:function(){return qn.PAt},conv2d:function(){return qn.Tek},conv2dTranspose:function(){return qn.bc},conv3d:function(){return qn.pdZ},conv3dTranspose:function(){return qn.$QV},copyRegisteredKernels:function(){return _t.T3},cos:function(){return qn.mCk},cosh:function(){return qn.f9Y},cosineWindow:function(){return qn.mew},cumprod:function(){return qn.$Gn},cumsum:function(){return qn.zbp},customGrad:function(){return In.cb},denseBincount:function(){return qn.ppE},deprecationWarn:function(){return _n.MX},depthToSpace:function(){return qn.nTT},depthwiseConv2d:function(){return qn.B10},device_util:function(){return r},diag:function(){return qn.Ka3},dilation2d:function(){return qn.WmZ},disableDeprecationWarnings:function(){return _n.cF},dispose:function(){return _n.B9},disposeVariables:function(){return _n.N8},div:function(){return qn.hiC},divNoNan:function(){return qn.NTj},dot:function(){return qn.AKD},dropout:function(){return qn.rvX},einsum:function(){return qn.WYO},elu:function(){return qn.pyx},enableDebugMode:function(){return _n.R},enableProdMode:function(){return _n.G4},enclosingPowerOfTwo:function(){return qn.GRh},engine:function(){return _n.SR},env:function(){return b.OB},equal:function(){return qn.DgJ},erf:function(){return qn.qNN},euclideanNorm:function(){return qn.d2q},exp:function(){return qn.Qqt},expandDims:function(){return qn.dt4},expm1:function(){return qn.t$B},eye:function(){return qn.iyy},fft:function(){return qn.kp_},fill:function(){return qn.hlL},findBackend:function(){return _n.x3},findBackendFactory:function(){return _n.ze},floor:function(){return qn.GWj},floorDiv:function(){return qn.qPi},fused:function(){return qn.imm},gather:function(){return qn.Iqj},gatherND:function(){return qn.dbB},gather_util:function(){return s},getBackend:function(){return _n.N_},getGradient:function(){return _t.uk},getKernel:function(){return _t.pI},getKernelsForBackend:function(){return _t.tr},grad:function(){return In.UQ},grads:function(){return In.ti},greater:function(){return qn.pjt},greaterEqual:function(){return qn.brS},ifft:function(){return qn.Sxn},imag:function(){return qn.asL},image:function(){return qn.BHj},inTopKAsync:function(){return qn.V3u},io:function(){return i},irfft:function(){return qn.wx0},isFinite:function(){return qn.xVT},isInf:function(){return qn.UWc},isNaN:function(){return qn.i2d},keep:function(){return _n.Cn},kernel_impls:function(){return p},leakyRelu:function(){return qn.hi7},less:function(){return qn.d9m},lessEqual:function(){return qn.zN1},linalg:function(){return qn.$r2},linspace:function(){return qn.SX3},localResponseNormalization:function(){return qn.G9k},log:function(){return qn.cM7},log1p:function(){return qn.Krr},logSigmoid:function(){return qn.e_t},logSoftmax:function(){return qn.CmS},logSumExp:function(){return qn.l_t},logicalAnd:function(){return qn.HvI},logicalNot:function(){return qn.hJK},logicalOr:function(){return qn.K5V},logicalXor:function(){return qn.egP},losses:function(){return qn.MB5},lowerBound:function(){return qn.eab},matMul:function(){return qn.OI3},math:function(){return a},max:function(){return qn.Fp7},maxPool:function(){return qn._sB},maxPool3d:function(){return qn.YQQ},maxPoolWithArgmax:function(){return qn.Ip$},maximum:function(){return qn.gWQ},mean:function(){return qn.J69},memory:function(){return _n.sq},meshgrid:function(){return qn.ry_},min:function(){return qn.VV$},minimum:function(){return qn.LTh},mirrorPad:function(){return qn.VdP},mod:function(){return qn.wQq},moments:function(){return qn.Gi7},movingAverage:function(){return qn.p_},mul:function(){return qn.dC7},multiRNNCell:function(){return qn.rq4},multinomial:function(){return qn.SJ_},neg:function(){return qn.W76},nextFrame:function(){return Qn},norm:function(){return qn.KOy},notEqual:function(){return qn.Quu},oneHot:function(){return qn.lfX},ones:function(){return qn.iUs},onesLike:function(){return qn.JpU},op:function(){return qn.op},outerProduct:function(){return qn.N2O},pad:function(){return qn.vku},pad1d:function(){return qn.pNR},pad2d:function(){return qn.koy},pad3d:function(){return qn.t1L},pad4d:function(){return qn.lGY},pool:function(){return qn.d_R},pow:function(){return qn.sQ3},prelu:function(){return qn.AL3},print:function(){return qn.S0v},prod:function(){return qn.WVs},profile:function(){return _n.N5},raggedGather:function(){return qn.$gW},raggedTensorToTensor:function(){return qn.N89},rand:function(){return qn.TN_},randomGamma:function(){return qn.wzB},randomNormal:function(){return qn.nGf},randomStandardNormal:function(){return qn.ruB},randomUniform:function(){return qn.LGj},range:function(){return qn.w6H},ready:function(){return _n.Cd},real:function(){return qn.kwC},reciprocal:function(){return qn.M25},registerBackend:function(){return _n.jq},registerGradient:function(){return _t.Li},registerKernel:function(){return _t.wC},relu:function(){return qn.UYe},relu6:function(){return qn.btT},removeBackend:function(){return _n.cj},reshape:function(){return qn.XLQ},reverse:function(){return qn.GYS},reverse1d:function(){return qn.SDf},reverse2d:function(){return qn.diP},reverse3d:function(){return qn.sx7},reverse4d:function(){return qn.mG2},rfft:function(){return qn.QEs},round:function(){return qn.NMM},rsqrt:function(){return qn.bp0},scalar:function(){return qn.iD$},scatterND:function(){return qn.snQ},scatter_util:function(){return Pt},searchSorted:function(){return qn.zcT},selu:function(){return qn.U8D},separableConv2d:function(){return qn.U_I},serialization:function(){return c},setBackend:function(){return _n.CQ},setPlatform:function(){return _n.VY},setdiff1dAsync:function(){return qn.ODp},sigmoid:function(){return qn.XD2},sign:function(){return qn.Xxe},signal:function(){return qn.tdS},sin:function(){return qn.O$l},sinh:function(){return qn.R_K},slice:function(){return qn.tPi},slice1d:function(){return qn.jZU},slice2d:function(){return qn.SmN},slice3d:function(){return qn.CnO},slice4d:function(){return qn.p0P},slice_util:function(){return u},softmax:function(){return qn.XAC},softplus:function(){return qn.Wvh},spaceToBatchND:function(){return qn.fBT},sparse:function(){return qn.rVs},sparseToDense:function(){return qn.ers},spectral:function(){return qn.uN7},split:function(){return qn.Vl2},sqrt:function(){return qn._b3},square:function(){return qn.h62},squaredDifference:function(){return qn.$i},squeeze:function(){return qn.L9e},stack:function(){return qn.knu},step:function(){return qn.Nbs},stridedSlice:function(){return qn.NXj},string:function(){return qn.Z_8},sub:function(){return qn.luU},sum:function(){return qn.Smz},sumOutType:function(){return Gn.z4},tan:function(){return qn.ORZ},tanh:function(){return qn.AEp},tensor:function(){return qn.XeE},tensor1d:function(){return qn.RRF},tensor2d:function(){return qn.odF},tensor3d:function(){return qn.wOQ},tensor4d:function(){return qn.yXz},tensor5d:function(){return qn.Bfx},tensor6d:function(){return qn.xZs},tensor_util:function(){return nn},test_util:function(){return l},tidy:function(){return _n.lu},tile:function(){return qn.Gg6},time:function(){return _n.XV},topk:function(){return qn.hg7},train:function(){return Yn},transpose:function(){return qn.p4s},truncatedNormal:function(){return qn.Xu6},unique:function(){return qn.Two},unregisterGradient:function(){return _t.bt},unregisterKernel:function(){return _t.nE},unsortedSegmentSum:function(){return qn.pUJ},unstack:function(){return qn.HHK},upcastType:function(){return Gn.x8},upperBound:function(){return qn.GaM},util:function(){return rn},valueAndGrad:function(){return In.h7},valueAndGrads:function(){return In.fN},variable:function(){return qn.VD$},variableGrads:function(){return In.pn},version_core:function(){return xn},where:function(){return qn.arb},whereAsync:function(){return qn.itS},zeros:function(){return qn.lls},zerosLike:function(){return qn.P84}});var r={};n.r(r),n.d(r,{isBrowser:function(){return y},isMobile:function(){return g},mockIsMobile:function(){return m}});var i={};n.r(i),n.d(i,{browserFiles:function(){return Ke},browserHTTPRequest:function(){return ot},concatenateArrayBuffers:function(){return U},copyModel:function(){return Re},decodeWeights:function(){return D},encodeWeights:function(){return P},fromMemory:function(){return lt},fromMemorySync:function(){return ft},getLoadHandlers:function(){return ee},getModelArtifactsForJSON:function(){return H},getModelArtifactsForJSONSync:function(){return W},getModelArtifactsInfoForJSON:function(){return q},getSaveHandlers:function(){return $},getWeightSpecs:function(){return K},http:function(){return at},isHTTPScheme:function(){return rt},listModels:function(){return Ee},loadWeights:function(){return Je},moveModel:function(){return Pe},registerLoadRouter:function(){return J},registerSaveRouter:function(){return Q},removeModel:function(){return Ae},weightsLoaderFactory:function(){return et},withSaveHandler:function(){return dt},withSaveHandlerSync:function(){return pt}});var a={};n.r(a),n.d(a,{confusionMatrix:function(){return xt}});var o={};n.r(o),n.d(o,{fromPixels:function(){return Rt},fromPixelsAsync:function(){return Et},toPixels:function(){return At}});var s={};n.r(s),n.d(s,{prepareAndValidate:function(){return Nt}});var u={};n.r(u),n.d(u,{assertParamsValid:function(){return jt},computeFlatOffset:function(){return Yt},computeOutShape:function(){return Ft},getNormalizedAxes:function(){return Vt},isSliceContinous:function(){return Kt},maskToAxes:function(){return Lt},parseSliceParams:function(){return Xt},sliceInfo:function(){return Qt},startForAxis:function(){return Gt},startIndicesWithElidedDims:function(){return zt},stopForAxis:function(){return qt},stopIndicesWithElidedDims:function(){return Wt},stridesForAxis:function(){return Ht},stridesWithElidedDims:function(){return Zt}});var c={};n.r(c),n.d(c,{Serializable:function(){return $t},SerializationMap:function(){return en},registerClass:function(){return tn}});var l={};n.r(l),n.d(l,{TEST_EPSILON_FLOAT16:function(){return on},createVideoElement:function(){return gn},encodeStrings:function(){return mn},expectArrayBuffersEqual:function(){return vn},expectArraysClose:function(){return sn},expectArraysEqual:function(){return fn},expectNumbersClose:function(){return dn},expectPromiseToFail:function(){return ln},expectValuesInRange:function(){return hn},play:function(){return yn},testEpsilon:function(){return un}});var f={};n.r(f),n.d(f,{collectGatherOpShapeInfo:function(){return ii},computeOutShape:function(){return ri},segOpComputeOptimalWindowSize:function(){return ni}});var d={};n.r(d),n.d(d,{ERF_A1:function(){return br},ERF_A2:function(){return xr},ERF_A3:function(){return kr},ERF_A4:function(){return wr},ERF_A5:function(){return _r},ERF_P:function(){return yr},PARALLELIZE_THRESHOLD:function(){return ur},RowPartitionType:function(){return tr},SELU_SCALE:function(){return gr},SELU_SCALEALPHA:function(){return mr},applyActivation:function(){return rr.QH},assertAndGetBroadcastShape:function(){return kt.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return Jn.lB},assertParamsConsistent:function(){return $n},assignToTypedArray:function(){return Ir},axesAreInnerMostDims:function(){return Jn.YB},calculateShapes:function(){return Pt.calculateShapes},checkEinsumDimSizes:function(){return Zr},checkPadOnDimRoundingMode:function(){return nr.m},combineLocations:function(){return Jn.Vh},combineRaggedTensorToTensorShapes:function(){return ir},complexWithEvenIndex:function(){return Er},complexWithOddIndex:function(){return Or},computeConv2DInfo:function(){return nr.Ix},computeConv3DInfo:function(){return nr.jw},computeDefaultPad:function(){return nr.aO},computeDilation2DInfo:function(){return nr.Rf},computeOptimalWindowSize:function(){return cr},computeOutAndReduceShapes:function(){return Jn.kz},computeOutShape:function(){return er},computePool2DInfo:function(){return nr.Xw},computePool3DInfo:function(){return nr.pl},convertConv2DDataFormat:function(){return nr.sl},decodeEinsumEquation:function(){return Lr},eitherStridesOrDilationsAreOne:function(){return nr.jT},expandShapeToKeepDim:function(){return Jn.rv},exponent:function(){return Nr},exponents:function(){return Rr},fromStringArrayToUint8:function(){return oi},fromUint8ToStringArray:function(){return ai},getAxesPermutation:function(){return Jn.Q3},getBroadcastDims:function(){return kt.getBroadcastDims},getComplexWithIndex:function(){return Ar},getEinsumComputePath:function(){return Br},getEinsumPermutation:function(){return Fr},getFusedBiasGradient:function(){return rr.pf},getFusedDyActivation:function(){return rr.Fr},getImageCenter:function(){return lr},getInnerMostAxes:function(){return Jn.sY},getPermuted:function(){return dr},getRaggedRank:function(){return or},getReductionAxes:function(){return kt.getReductionAxes},getReshaped:function(){return fr},getReshapedPermuted:function(){return pr},getRowPartitionTypesHelper:function(){return ar},getSliceBeginCoords:function(){return hr},getSliceSize:function(){return vr},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return Wr},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return Hr},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return Gr},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return Yr},getSparseReshapeInputOutputMismatchErrorMessage:function(){return Qr},getSparseReshapeInputOutputMultipleErrorMessage:function(){return Xr},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return qr},getSparseReshapeNegativeOutputDimErrorMessage:function(){return Kr},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return ti},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return Jr},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return $r},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return ei},getUndoAxesPermutation:function(){return Jn.LJ},isIdentityPermutation:function(){return Ur},log:function(){return Sr.c},mergeRealAndImagArrays:function(){return Tr},prepareAndValidate:function(){return Nt},prepareSplitSize:function(){return zr},segment_util:function(){return f},shouldFuse:function(){return rr.uy},slice_util:function(){return u},splitRealAndImagArrays:function(){return Cr},tupleValuesAreOne:function(){return nr.I0},upcastType:function(){return Gn.x8},validateDefaultValueShape:function(){return sr},validateInput:function(){return Pt.validateInput},validateUpdateShape:function(){return Pt.validateUpdateShape},warn:function(){return Sr.Z}});var p={};n.r(p),n.d(p,{nonMaxSuppressionV3Impl:function(){return si.GP},nonMaxSuppressionV4Impl:function(){return si.qP},nonMaxSuppressionV5Impl:function(){return si.pA},whereImpl:function(){return ui.Z}});var h,v=n(70318);function m(e){h=e}function g(e){if(void 0!==h)return h;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function y(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var b=n(35050),x=(0,b.OB)();x.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),x.registerFlag("IS_BROWSER",(function(){return y()})),x.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),x.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),x.registerFlag("PROD",(function(){return!1})),x.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return x.getBool("DEBUG")})),x.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),x.registerFlag("IS_TEST",(function(){return!1})),x.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),x.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),x.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1})),x.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(function(){return!1})),x.registerFlag("USE_SETTIMEOUTCUSTOM",(function(){return!1}));var k=n(15671),w=n(43144),_=n(37762),S=n(74165),T=n(15861),C=n(70885),E=n(42982),O=n(59253),A=n(72442),I=n(36147),R={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},N=4;function P(e,t){return M.apply(this,arguments)}function M(){return M=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=[],a=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),o=(0,S.Z)().mark((function e(){var o,u,c,l;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a[s],"float32"===(u=Array.isArray(t)?t[s].tensor:t[o]).dtype||"int32"===u.dtype||"bool"===u.dtype||"string"===u.dtype||"complex64"===u.dtype){e.next=4;break}throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(u.dtype));case 4:c={name:o,shape:u.shape,dtype:u.dtype},"string"===u.dtype?(l=new Promise(function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s,c;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+N*n.length,i=new Uint8Array(r),a=0,o=0;o<n.length;o++)s=n[o],c=new Uint8Array(new Uint32Array([s.length]).buffer),i.set(c,a),a+=N,i.set(s,a),a+=s.length;t(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.push(l)):i.push(u.data()),null!=n&&(c.group=n),r.push(c);case 8:case"end":return e.stop()}}),e)})),s=0;case 5:if(!(s<a.length)){e.next=10;break}return e.delegateYield(o(),"t0",7);case 7:++s,e.next=5;break;case 10:return e.next=12,Promise.all(i);case 12:return u=e.sent,e.abrupt("return",{data:j(u),specs:r});case 14:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function D(e,t){var n,r,i={},a=0,o=(0,_.Z)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.name,c=s.dtype,l=s.shape,f=(0,I.NA)(l),d=void 0;if("quantization"in s){var p=s.quantization;if("uint8"===p.dtype||"uint16"===p.dtype){if(!("min"in p)||!("scale"in p))throw new Error("Weight ".concat(s.name," with quantization ").concat(p.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==p.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(p.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight ".concat(s.name," is quantized with ").concat(p.dtype," ")+"which only supports weights of type float32 not ".concat(c,"."))}var h=R[p.dtype],v=e.slice(a,a+f*h),m="uint8"===p.dtype?new Uint8Array(v):new Uint16Array(v);if("float32"===c)if("uint8"===p.dtype||"uint16"===p.dtype){d=new Float32Array(m.length);for(var g=0;g<m.length;g++){var y=m[g];d[g]=y*p.scale+p.min}}else{if("float16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type float32.");void 0===n&&(n=Y()),d=n(m)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));if("uint8"!==p.dtype&&"uint16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type int32.");d=new Int32Array(m.length);for(var b=0;b<m.length;b++){var x=m[b];d[b]=Math.round(x*p.scale+p.min)}}a+=f*h}else if("string"===c){var k=(0,I.NA)(s.shape);d=[];for(var w=0;w<k;w++){var S=new Uint32Array(e.slice(a,a+N))[0];a+=N;var T=new Uint8Array(e.slice(a,a+S));d.push(T),a+=S}}else{var C=R[c],E=e.slice(a,a+f*C);if("float32"===c)d=new Float32Array(E);else if("int32"===c)d=new Int32Array(E);else if("bool"===c)d=new Uint8Array(E);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));d=new Float32Array(E);for(var P=new Float32Array(d.length/2),M=new Float32Array(d.length/2),D=0;D<P.length;D++)P[D]=d[2*D],M[D]=d[2*D+1];var j=(0,A.X)(P,l,"float32"),L=(0,A.X)(M,l,"float32");i[u]=(0,O.P)(j,L),j.dispose(),L.dispose()}a+=f*C}"complex64"!==c&&(i[u]=(0,A.X)(d,l,c))}}catch(F){o.e(F)}finally{o.f()}return i}function j(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var L="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function F(e){return L?Buffer.byteLength(e):new Blob([e]).size}function Z(e){if(L)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function B(e){if(L){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}function U(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function V(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function z(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function W(e,t,n){var r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),r}function H(e,t){return G.apply(this,arguments)}function G(){return G=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.weightsManifest){e.next=7;break}return e.next=3,n(t.weightsManifest);case 3:a=e.sent,o=(0,C.Z)(a,2),r=o[0],i=o[1];case 7:return e.abrupt("return",W(t,r,i));case 8:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function q(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:F(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:F(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function K(e){var t,n=[],r=(0,_.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push.apply(n,(0,E.Z)(i.weights))}}catch(a){r.e(a)}finally{r.f()}return n}function Y(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var i=new ArrayBuffer(4*r.length),a=new Uint32Array(i),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];a[o]=u}return new Float32Array(i)}}var X=function(){function e(){(0,k.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i}}]),e}(),Q=function(e){return X.registerSaveRouter(e)},J=function(e){return X.registerLoadRouter(e)},$=function(e){return X.getSaveHandlers(e)},ee=function(e,t){return X.getLoadHandlers(e,t)},te="tensorflowjs",ne="models_store",re="model_info_store";function ie(){if(!(0,b.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function ae(e){var t=e.result;t.createObjectStore(ne,{keyPath:"modelPath"}),t.createObjectStore(re,{keyPath:"modelPath"})}var oe=function(){function e(t){if((0,k.Z)(this,e),this.indexedDB=ie(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open(te,1);i.onupgradeneeded=function(){return ae(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(ne,"readonly"),s=o.objectStore(ne).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,c=q(t),l=a.transaction(re,"readwrite"),f=l.objectStore(re),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var i=(u=a.transaction(ne,"readwrite")).objectStore(ne).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});i.onsuccess=function(){return e({modelArtifactsInfo:c})},i.onerror=function(e){var t=(f=l.objectStore(re)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},d.onerror=function(e){return a.close(),r(d.error)},l.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))}}]),e}();oe.URL_SCHEME="indexeddb://";var se=function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(oe.URL_SCHEME)?(t=e.slice(oe.URL_SCHEME.length),new oe(t)):null;var t};X.registerSaveRouter(se),X.registerLoadRouter(se);var ue=function(){function e(){(0,k.Z)(this,e),this.indexedDB=ie()}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(te,1);r.onupgradeneeded=function(){return ae(r)},r.onsuccess=function(){var t=r.result,i=t.transaction(re,"readonly"),a=i.objectStore(re).getAll();a.onsuccess=function(){var t,n={},r=(0,_.Z)(a.result);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.modelPath]=i.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},a.onerror=function(e){return t.close(),n(a.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(oe.URL_SCHEME)?r.slice(oe.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var i=n.indexedDB.open(te,1);i.onupgradeneeded=function(){return ae(i)},i.onsuccess=function(){var n,a=i.result,o=a.transaction(re,"readwrite"),s=o.objectStore(re),u=s.get(t);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var i=s.delete(t),o=function(){var i=(n=a.transaction(ne,"readwrite")).objectStore(ne).delete(t);i.onsuccess=function(){return e(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==n?a.close():n.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ce="/",le="tensorflowjs_models",fe="info",de="model_topology",pe="weight_specs",he="weight_data",ve="model_metadata";function me(e){return{info:[le,e,fe].join(ce),topology:[le,e,de].join(ce),weightSpecs:[le,e,pe].join(ce),weightData:[le,e,he].join(ce),modelMetadata:[le,e,ve].join(ce)}}function ge(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function ye(e){var t=e.split(ce);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(ce)}var be=function(){function e(t){if((0,k.Z)(this,e),!(0,b.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=me(this.modelPath)}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=q(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Z(t.weightData)),a={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),e.abrupt("return",{modelArtifactsInfo:i});case 17:throw e.prev=17,e.t0=e.catch(7),ge(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(i.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(i.weightSpecsBytes,", ")+"weightDataBytes=".concat(i.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=i,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=B(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();be.URL_SCHEME="localstorage://";var xe=function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(be.URL_SCHEME)?(t=e.slice(be.URL_SCHEME.length),new be(t)):null;var t};X.registerSaveRouter(xe),X.registerLoadRouter(xe);var ke=function(){function e(){(0,k.Z)(this,e),(0,I.hu)((0,b.OB)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,I.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=le+ce,r=ce+fe,i=0;i<this.LS.length;++i)(a=this.LS.key(i)).startsWith(n)&&a.endsWith(r)&&(o=ye(a),t[o]=JSON.parse(this.LS.getItem(a)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(i=t).startsWith(be.URL_SCHEME)?i.slice(be.URL_SCHEME.length):i,n=me(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),ge(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var i}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),we="://",_e=function(){function e(){(0,k.Z)(this,e),this.managers={}}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){(0,I.hu)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(we)&&(t=t.slice(0,t.indexOf(we))),(0,I.hu)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();(0,I.hu)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(t){var n=e.getInstance().managers[t];if(null==n)throw new Error("Cannot find model manager for scheme '".concat(t,"'"));return n}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function Se(e){if(-1===e.indexOf(we))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(_e.getSchemes().join(",")));return{scheme:e.split(we)[0],path:e.split(we)[1]}}function Te(e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],(0,I.hu)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),i=X.getLoadHandlers(t),(0,I.hu)(i.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),(0,I.hu)(i.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,".")})),a=i[0],o=X.getSaveHandlers(n),(0,I.hu)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),(0,I.hu)(o.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=o[0],u=Se(t).scheme,c=Se(t).path,l=u===Se(t).scheme,e.next=15,a.load();case 15:if(f=e.sent,!r||!l){e.next=19;break}return e.next=19,_e.getManager(u).removeModel(c);case 19:return e.next=21,s.save(f);case 21:if(d=e.sent,!r||l){e.next=25;break}return e.next=25,_e.getManager(u).removeModel(c);case 25:return e.abrupt("return",d.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function Ee(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_e.getSchemes(),n={},r=(0,_.Z)(t),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=9,_e.getManager(a).listModels();case 9:for(s in o=e.sent)n[a+we+s]=o[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function Ae(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t),r=_e.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,T.Z)((0,S.Z)().mark((function e(t,n){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",Te(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,T.Z)((0,S.Z)().mark((function e(t,n){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",Te(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De=function(){function e(){(0,k.Z)(this,e),this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}return(0,w.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}},{key:"setTimeoutCustom",value:function(e,t){var n=this;window&&(0,b.OB)().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((function(){window.postMessage({name:n.messageName,index:n.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(function(e){e.source===window&&e.data.name===n.messageName&&(e.stopPropagation(),(0,n.functionRefs[e.data.index])(),n.handledMessageCount++,n.handledMessageCount===n.functionRefs.length&&(n.functionRefs=[],n.handledMessageCount=0))}),!0))):setTimeout(e,t)}}]),e}();if((0,b.OB)().get("IS_BROWSER")){(0,b.OB)().setPlatform("browser",new De);try{_e.registerManager(be.URL_SCHEME,new ke)}catch(li){}try{_e.registerManager(oe.URL_SCHEME,new ue)}catch(li){}}var je,Le=function(){return n(75410)};var Fe=function(){function e(){(0,k.Z)(this,e),this.util=n(48628),this.textEncoder=new this.util.TextEncoder}return(0,w.Z)(e,[{key:"fetch",value:function(e,t){return null!=(0,b.OB)().global.fetch?(0,b.OB)().global.fetch(e,t):(null==je&&(je=Le()),je(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();(0,b.OB)().get("IS_NODE")&&!(0,b.OB)().get("IS_BROWSER")&&(0,b.OB)().setPlatform("node",new Fe);var Ze=n(77039),Be=n(99118),Ue=n(10672),Ve=n(64600),ze=n(4376);(0,v.wv)();var We={buffer:Ze.f,cast:Be.p,clone:Ue.d,print:Ve.S};(0,ze.Vp)(We);function He(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var Ge=function(){function e(t){if((0,k.Z)(this,e),!(0,b.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i=z(t,r),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=a,e.next=15,He((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,He((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:q(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ge.URL_SCHEME="downloads://";var qe=function(){function e(t){if((0,k.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,w.Z)(e,[{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var i=JSON.parse(r.target.result),a=i.modelTopology;if(null!=a)if(null!=i.weightsManifest)if(0!==t.weightsFiles.length){var o=H(i,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:a});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],i=[],a=(0,_.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.push.apply(r,(0,E.Z)(o.weights)),i.push.apply(i,(0,E.Z)(o.paths))}}catch(li){a.e(li)}finally{a.f()}var s=this.checkManifestAndWeightFiles(e),u=i.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,U(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var i=new FileReader;i.onload=function(e){var t=e.target.result;n(t)},i.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},i.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],i=this.weightsFiles.map((function(e){return V(e.name)})),a={},o=(0,_.Z)(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=V(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===i.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));a[e]=n.weightsFiles[i.indexOf(t)]}))}}catch(li){o.e(li)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}();function Ke(e){return new qe(e)}function Ye(e,t,n,r){!function(e){(0,I.hu)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){(0,I.hu)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),(0,I.hu)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),(0,I.hu)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function Xe(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?(0,b.OB)().platform.fetch:n.fetchFunc,i=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),a=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(i);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Ye(i,n.onProgress,a,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Ye(u,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return f=e.t1,e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return $e.apply(this,arguments)}function $e(){return $e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,a=et((function(e){return Xe(e,{requestInit:i})})),e.abrupt("return",a(t,n,r));case 6:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}function et(e){return function(){var t=(0,T.Z)((0,S.Z)().mark((function t(n){var r,i,a,o,s,u,c,l,f,d,p,h,v=arguments;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",i=v.length>2?v[2]:void 0,a=n.map((function(){return!1})),o={},s=null!=i?i.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=R[r]*I.NA(e.shape),l=function(){a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=i?i.forEach((function(t,n){t===e.name&&(l(),s[n]=!0)})):l(),u.push(e.name),n+=c}))})),s.every((function(e){return e}))){t.next=10;break}throw c=i.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return l=a.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),t.next=15,e(f);case 15:return d=t.sent,p={},h=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=d[h+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<t;c++){var l=new Uint8Array(d[h+c]);s.set(l,u),u+=l.byteLength}o[e].forEach((function(e){var t=D(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]})),h+=t})),t.abrupt("return",p);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}X.registerSaveRouter((function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ge.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new Ge(e)}(e.slice(Ge.URL_SCHEME.length)):null}));var tt=function(){function e(t,n){if((0,k.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?((0,I.hu)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=(0,b.OB)().platform.fetch,(0,I.hu)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,I.hu)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],i=z(t,r),n.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(a=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:q(t),responses:[a]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(i=n.modelTopology,a=n.weightsManifest,null!=i||null!=a){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",H(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=nt(n),i=(0,C.Z)(r,2),a=i[0],o=i[1],s=this.weightPathPrefix||a,u=K(t),c=[],l=[],f=(0,_.Z)(t);try{for(f.s();!(d=f.n()).done;){p=d.value,h=(0,_.Z)(p.paths);try{for(h.s();!(v=h.n()).done;)m=v.value,null!=this.weightUrlConverter?l.push(this.weightUrlConverter(m)):c.push(s+m+o)}catch(li){h.e(li)}finally{h.f()}}}catch(li){f.e(li)}finally{f.f()}if(!this.weightUrlConverter){e.next=17;break}return e.t0=c.push,e.t1=c,e.t2=E.Z,e.next=14,Promise.all(l);case 14:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 17:return e.next=19,Xe(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 19:return g=e.sent,e.abrupt("return",[u,U(g)]);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function nt(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function rt(e){return null!=e.match(tt.URL_SCHEME_REGEX)}tt.URL_SCHEME_REGEX=/^https?:\/\//;var it=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return rt(e)})):rt(e))?at(e,t):null};function at(e,t){return new tt(e,t)}function ot(e,t){return at(e,t)}X.registerSaveRouter(it),X.registerLoadRouter(it);var st=function(){function e(t){(0,k.Z)(this,e),this.modelArtifacts=t}return(0,w.Z)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),ut=function(){function e(t){(0,k.Z)(this,e),this.saveHandler=t}return(0,w.Z)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),ct=(0,w.Z)((function e(t){(0,k.Z)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function lt(e,t,n,r){var i=arguments;return new ct(ft.apply(void 0,(0,E.Z)(i)))}function ft(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new st(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new st({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new st({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function dt(e){return new ut(e)}function pt(e){return new ut(e)}var ht=n(48354),vt=n(57221),mt=n(34326),gt=n(38640),yt=n(61240);var bt,xt=(0,gt.op)({confusionMatrix_:function(e,t,n){var r=(0,ht._1)(e,"labels","confusionMatrix"),i=(0,ht._1)(t,"predictions","confusionMatrix");I.hu(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),I.hu(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),I.hu(1===i.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(i.rank)})),I.hu(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(i.shape[0],". ")+"Labels and predictions should have the same number of elements."})),I.hu(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var a=(0,mt.l)((0,Be.p)(r,"int32"),n),o=(0,mt.l)((0,Be.p)(i,"int32"),n),s=(0,yt.p)(a),u=(0,vt.O)(s,o);return(0,Be.p)(u,"int32")}}),kt=n(45774),wt=n(32145),_t=n(78864),St=n(73123);function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=(0,_t.pI)(wt.eBW,v.BV.backendName)){var u={pixels:e},c={numChannels:t};return v.BV.runKernel(wt.eBW,u,c)}var l,f,d=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],p=(0,C.Z)(d,2),h=p[0],m=p[1];if(o)l=e.getContext("2d").getImageData(0,0,h,m).data;else if(r||n)l=e.data;else if(a||i||s){if(null==bt)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");bt=new OffscreenCanvas(1,1).getContext("2d")}else bt=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});bt.canvas.width=h,bt.canvas.height=m,bt.drawImage(e,0,0,h,m),l=bt.getImageData(0,0,h,m).data}if(4===t)f=new Int32Array(l);else{var g=h*m;f=new Int32Array(g*t);for(var y=0;y<g;y++)for(var b=0;b<t;++b)f[y*t+b]=l[4*y+b]}var x=[m,h,t];return(0,St.w)(f,x,"int32")}function Ct(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function Et(e){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:3,r=null,!(0,b.OB)().getBool("WRAP_TO_IMAGEBITMAP")||!Ct(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=null;case 12:r=null!=i&&i.width===t.width&&i.height===t.height?i:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",Tt(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ot.apply(this,arguments)}function At(e,t){return It.apply(this,arguments)}function It(){return(It=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,ht._1)(t,"img","toPixels"),t instanceof ze.es||(i=r,r=(0,Be.p)(i,"int32"),i.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(a=r.shape.slice(0,2),o=(0,C.Z)(a,2),s=o[0],u=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,f="float32"===r.dtype?255:1,d=new Uint8ClampedArray(u*s*4),p=0;case 16:if(!(p<s*u)){e.next=41;break}h=[0,0,0,255],v=0;case 19:if(!(v<c)){e.next=33;break}if(m=l[p*c+v],"float32"!==r.dtype){e.next=26;break}if(!(m<0||m>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(m,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(m<0||m>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(m,"."));case 29:1===c?(h[0]=m*f,h[1]=m*f,h[2]=m*f):h[v]=m*f;case 30:v++,e.next=19;break;case 33:d[(g=4*p)+0]=Math.round(h[0]),d[g+1]=Math.round(h[1]),d[g+2]=Math.round(h[2]),d[g+3]=Math.round(h[3]);case 38:++p,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,y=n.getContext("2d"),b=new ImageData(d,u,s),y.putImageData(b,0,0)),r!==t&&r.dispose(),e.abrupt("return",d);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rt=(0,gt.op)({fromPixels_:Tt});function Nt(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===(0,I.NA)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var i=t.shape,a=i[i.length-1],o=1,s=0;s<i.length-1;++s)o*=i[s];var u=e.shape,c=i.slice();c.pop();for(var l=1,f=a;f<n;++f)l*=u[f],c.push(u[f]);var d=[].concat((0,E.Z)((0,I.e3)(e.shape).map((function(e){return e/l}))),[1]).slice(0,a);return[c,o,l,d]}var Pt=n(48604),Mt=-2,Dt=-1;function jt(e,t,n){var r=e.shape.length;I.hu(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),I.hu(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var i=function(i){I.hu(t[i]+n[i]<=e.shape[i],(function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")}))},a=0;a<r;++a)i(a)}function Lt(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Ft(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function Zt(e,t,n,r){for(var i=(0,E.Z)(e),a=i.length;a<r.length;a++)i.push(1);for(var o=0;o<n;o++)0===o?i[t]=1:(i.splice(t,0,1),i.pop());return i}function Bt(e,t,n){return n<=e?n:n-(t-1)}function Ut(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function Vt(e,t,n,r,i,a,o,s,u){var c=e.length,l=new Array(c),f=new Array(c),d=new Array(c);if(t.length&&n>0){var p=t[0],h=n+1;l=zt(o,p,h,r,e),f=Wt(s,p,h,i,e),d=Zt(a,p,h,e)}else for(var v=0;v<c;v++)l[v]=Gt(o,r,a,e,v,u),f[v]=qt(s,i,a,e,v,u),d[v]=Ht(a,v,u);return{begin:l,end:f,strides:d}}function zt(e,t,n,r,i){for(var a=(0,E.Z)(i),o=Ut(n,t),s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=0;else{var u=Bt(t,n,s),c=r[u];e&1<<u&&(c=0),a[s]=c}return a}function Wt(e,t,n,r,i){for(var a=(0,E.Z)(i),o=Ut(n,t),s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{var u=Bt(t,n,s),c=r[u];e&1<<u&&(c=Number.MAX_SAFE_INTEGER),a[s]=c}for(var l=0;l<a.length;l++){var f=i[l];a[l]<0&&(a[l]+=f),a[l]=I.uZ(0,a[l],i[l])}return a}function Ht(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function Gt(e,t,n,r,i,a){var o=t[i],s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=r[i];return o<0&&(o+=u),o=I.uZ(0,o,u-1)}function qt(e,t,n,r,i,a){var o=t[i],s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=r[i];return o<0&&(o+=u),o=s>0?I.uZ(0,o,u):I.uZ(-1,o,u-1)}function Kt(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(var a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Yt(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Xt(e,t,n){var r,i,a=e.shape.length;return(r="number"===typeof t?[t].concat((0,E.Z)(new Array(a-1).fill(0))):t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice()).forEach((function(e){I.hu(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(a).fill(-1):"number"===typeof n?[n].concat((0,E.Z)(new Array(a-1).fill(-1))):n.length<a?n.concat(new Array(a-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(I.hu(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,i]}function Qt(e,t,n,r,i,a,o,s,u){var c;if(null==r?(c=new Array(t.length)).fill(1):c=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var l=!1,f={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:u},d=0;d<f.dims;d++)l&&0!==(1<<d&s)&&f.numAddAxisAfterEllipsis++,1<<d&o&&(l=!0);l||(f.ellipsisMask|=1<<f.dims,f.dims++);var p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(Mt),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(Dt),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(f,p);for(var h=!0,v=!0,m=!0,g=[],y=[],b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var x=!!(p.shrinkAxisMask&1<<b),k=e[b];if(-1!==k){var w=[p.beginMask&1<<b,p.endMask&1<<b],_=[p.strides[b]>0?0:-1,p.strides[b]>0?k:k-1];if(x&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];var S=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(x){var T=p.begin[b]<0?k+p.begin[b]:p.begin[b];if(p.begin[b]=T,p.end[b]=p.begin[b]+1,T<0||T>=k)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=Jt(p.begin[b],0,p.strides[b],k,w,_),p.end[b]=Jt(p.end[b],1,p.strides[b],k,w,_);var C=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===k;h=h&&C,v=v&&(0===b&&1===p.strides[b]||C)}else h=h&&1===p.strides[b]&&S,v=v&&(0===b&&1===p.strides[b]||S);var E=void 0,O=!1;if(p.beginValid&&p.endValid?(E=p.end[b]-p.begin[b],O=!0):x?(E=1,O=!0):S&&k>=0&&(E=p.strides[b]<0?-k:k,O=!0),O){var A=void 0;A=0===E||E<0!==p.strides[b]<0?0:Math.trunc(E/p.strides[b])+(E%p.strides[b]!==0?1:0),g.push(A)}else g.push(-1)}else g.push(x?1:-1)}for(var I=0;I<p.finalShapeGatherIndices.length;++I){var R=p.finalShapeGatherIndices[I];R>=0?y.push(g[R]):R===Mt&&y.push(1)}var N=y.filter((function(e,t){return p.finalShapeGatherIndices[t]!==Mt}));return{finalShapeSparse:N,finalShape:y,isIdentity:h,sliceDim0:v,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function Jt(e,t,n,r,i,a){if(i[t])return n>0?a[t]:a[t+1&1];var o=e<0?r+e:e;return o<a[0]?a[0]:o>a[1]?a[1]:o}var $t=function(){function e(){(0,k.Z)(this,e)}return(0,w.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),en=function(){function e(){(0,k.Z)(this,e),this.classNameMap={}}return(0,w.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function tn(e){(0,I.hu)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),(0,I.hu)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),(0,I.hu)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),en.register(e)}var nn=n(99064),rn=n(70115),an=.001,on=.1;function sn(e,t,n){return null==n&&(n=un()),cn(e,t,(function(e,t){return pn(e,t,n)}))}function un(){return 32===v.BV.backend.floatPrecision()?an:on}function cn(e,t,n){var r=!0;if(((0,I.fU)(e)||(0,I.fU)(t))&&(r=!1),(0,I.fU)(e)&&(0,I.fU)(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: ".concat(i,". ")+"Expected: ".concat(a))}if(Array.isArray(e)&&Array.isArray(t)){var o=(0,ht.C)(e),s=(0,ht.C)(t);if(!(0,I.cO)(o,s))throw new Error("Arrays have different shapes. "+"Actual: [".concat(o,"]. Expected: [").concat(s,"]"))}var u=(0,I.fU)(e)?e:(0,I.xH)(e),c=(0,I.fU)(t)?t:(0,I.xH)(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: ".concat(u.length," vs ")+"expected: ".concat(c.length,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."));for(var l=0;l<c.length;++l){var f=u[l],d=c[l];if(!n(f,d))throw new Error("Arrays differ: actual[".concat(l,"] = ").concat(f,", expected[").concat(l,"] = ").concat(d,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."))}"undefined"!==typeof expect&&expect().nothing()}function ln(e,t){e().then((function(){return t.fail()}),(function(){return t()})),"undefined"!==typeof expect&&expect().nothing()}function fn(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,I.HD)(e)||(0,I.HD)(e[0])||(0,I.HD)(t)||(0,I.HD)(t[0])?cn(e,n,(function(e,t){return e==t})):cn(e,t,(function(e,t){return pn(e,t,0)}))}function dn(e,t,n){if(null==n&&(n=un()),!pn(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function pn(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function hn(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function vn(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error("Expected ArrayBuffer value at ".concat(i," to be ")+"".concat(r[i]," but got ").concat(n[i]," instead"))}function mn(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?mn(n):e[t]=(0,rn.encodeString)(n)}return e}function gn(e){var t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((function(e){t.addEventListener("loadeddata",(function(n){return e(t)})),t.load()}))}function yn(e){return bn.apply(this,arguments)}function bn(){return(bn=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.play();case 2:if(!("requestVideoFrameCallback"in t)){e.next=5;break}return e.next=5,new Promise((function(e){t.requestVideoFrameCallback(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xn="3.21.0",kn=n(60136),wn=n(29388),_n=n(35875),Sn=n(43312),Tn=n(15750),Cn=n(30651),En=n(46902),On=n(7391),An=n(87293),In=n(66450),Rn=n(27067),Nn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,w.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return(0,_n.B9)(a),t?i:(i.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,In.pn)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,_n.B9)(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:(0,Rn.i)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($t);Object.defineProperty(Nn,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Pn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,k.Z)(this,n),(i=t.call(this)).learningRate=e,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==a&&(i.epsilon=v.BV.backend.epsilon()),i}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:(0,_n.lu)((function(){return(0,An.P)(i).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:(0,_n.lu)((function(){return(0,An.P)(i).variable(false)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;(0,_n.lu)((function(){var e=(0,Sn.I)((0,Cn.d)(o,t.rho),(0,Cn.d)((0,On.h)(a),1-t.rho)),n=(0,Cn.d)((0,Tn.h)((0,En._)((0,Sn.I)(s,t.epsilon)),(0,En._)((0,Sn.I)(o,t.epsilon))),a),r=(0,Sn.I)((0,Cn.d)(s,t.rho),(0,Cn.d)((0,On.h)(n),1-t.rho));o.assign(e),s.assign(r);var u=(0,Sn.I)((0,Cn.d)(n,-t.learningRate),i);i.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,_n.B9)(this.accumulatedGrads.map((function(e){return e.variable}))),(0,_n.B9)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,E.Z)(this.accumulatedGrads),(0,E.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(Nn);Pn.className="Adadelta",tn(Pn);var Mn=n(8582),Dn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=i,r.accumulatedGrads=[],r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:(0,_n.lu)((function(){return(0,Mn.h)(i.shape,t.initialAccumulatorValue).variable(false)}))}}var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;(0,_n.lu)((function(){var e=(0,Sn.I)(o,(0,On.h)(a));o.assign(e);var n=(0,Sn.I)((0,Cn.d)((0,Tn.h)(a,(0,En._)((0,Sn.I)(e,v.BV.backend.epsilon()))),-t.learningRate),i);i.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,_n.B9)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(Nn);Dn.className="Adagrad",tn(Dn);var jn=n(44334),Ln=n(84774),Fn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,k.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],(0,_n.lu)((function(){a.accBeta1=(0,Rn.i)(r).variable(),a.accBeta2=(0,Rn.i)(i).variable()})),null==o&&(a.epsilon=v.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,_n.lu)((function(){var r=(0,Ln.l)(1,t.accBeta1),i=(0,Ln.l)(1,t.accBeta2);n.forEach((function(n,a){var o=v.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,_n.lu)((function(){return(0,An.P)(o).variable(false)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:"".concat(n,"/v"),variable:(0,_n.lu)((function(){return(0,An.P)(o).variable(false)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedSecondMoment[a].variable,l=(0,Sn.I)((0,Cn.d)(u,t.beta1),(0,Cn.d)(s,1-t.beta1)),f=(0,Sn.I)((0,Cn.d)(c,t.beta2),(0,Cn.d)((0,On.h)(s),1-t.beta2)),d=(0,Tn.h)(l,r),p=(0,Tn.h)(f,i);u.assign(l),c.assign(f);var h=(0,Sn.I)((0,Cn.d)((0,Tn.h)(d,(0,Sn.I)((0,En._)(p),t.epsilon)),-t.learningRate),o);o.assign(h)}})),t.accBeta1.assign((0,Cn.d)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,Cn.d)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,_n.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&(0,_n.B9)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,E.Z)(this.accumulatedFirstMoment),(0,E.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,(0,_n.lu)((function(){r.accBeta1.assign((0,jn.s)(r.beta1,r.iterations_+1)),r.accBeta2.assign((0,jn.s)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(Nn);Fn.className="Adam",tn(Fn);var Zn=n(7613),Bn=n(70705),Un=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,k.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.decay=s,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],(0,_n.lu)((function(){a.iteration=(0,Rn.i)(0).variable(),a.accBeta1=(0,Rn.i)(r).variable()})),null==o&&(a.epsilon=v.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,_n.lu)((function(){var r=(0,Ln.l)(1,t.accBeta1),i=(0,Tn.h)(-t.learningRate,(0,Sn.I)((0,Cn.d)(t.iteration,t.decay),1));n.forEach((function(n,a){var o=v.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,An.P)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:"".concat(n,"/v"),variable:(0,An.P)(o).variable(false)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedWeightedInfNorm[a].variable,l=(0,Sn.I)((0,Cn.d)(u,t.beta1),(0,Cn.d)(s,1-t.beta1)),f=(0,Cn.d)(c,t.beta2),d=(0,Zn.W)(s),p=(0,Bn.g)(f,d);u.assign(l),c.assign(p);var h=(0,Sn.I)((0,Cn.d)((0,Tn.h)(i,r),(0,Tn.h)(l,(0,Sn.I)(p,t.epsilon))),o);o.assign(h)}})),t.iteration.assign((0,Sn.I)(t.iteration,1)),t.accBeta1.assign((0,Cn.d)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,_n.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&(0,_n.B9)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(Nn);Un.className="Adamax",tn(Un);var Vn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e){var r;return(0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=v.BV.registeredVariables[n];(0,_n.lu)((function(){var e=(0,Sn.I)((0,Cn.d)(t.c,i),a);a.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,_n.Cn)((0,Rn.i)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(Nn);Vn.className="SGD",tn(Vn);var zn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,k.Z)(this,n),(i=t.call(this,e)).learningRate=e,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=(0,Rn.i)(i.momentum),i}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:(0,_n.lu)((function(){return(0,An.P)(i).variable(false)}))}}var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&(0,_n.lu)((function(){var e,n=(0,Sn.I)((0,Cn.d)(t.m,a),o);e=t.useNesterov?(0,Sn.I)((0,Cn.d)(t.c,(0,Sn.I)(o,(0,Cn.d)(n,t.m))),i):(0,Sn.I)((0,Cn.d)(t.c,n),i),a.assign(n),i.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,_n.B9)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(Vn);zn.className="Momentum",tn(zn);var Wn=function(e){(0,kn.Z)(n,e);var t=(0,wn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=i,r.momentum=a,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=v.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n],a=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:(0,_n.lu)((function(){return(0,An.P)(i).variable(a)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:(0,_n.lu)((function(){return(0,An.P)(i).variable(a)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:(0,_n.lu)((function(){return(0,An.P)(i).variable(a)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;(0,_n.lu)((function(){var e=(0,Sn.I)((0,Cn.d)(s,t.decay),(0,Cn.d)((0,On.h)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,a=(0,Sn.I)((0,Cn.d)(n,t.decay),(0,Cn.d)(o,1-t.decay)),c=(0,Tn.h)((0,Cn.d)(o,t.learningRate),(0,En._)((0,Ln.l)(e,(0,Sn.I)((0,On.h)(a),t.epsilon)))),l=(0,Sn.I)((0,Cn.d)(u,t.momentum),c);s.assign(e),n.assign(a),u.assign(l);var f=(0,Ln.l)(i,l);i.assign(f)}else{var d=(0,Sn.I)((0,Cn.d)(s,t.decay),(0,Cn.d)((0,On.h)(o),1-t.decay)),p=(0,Sn.I)((0,Cn.d)(u,t.momentum),(0,Tn.h)((0,Cn.d)(o,t.learningRate),(0,En._)((0,Sn.I)(d,t.epsilon))));s.assign(d),u.assign(p);var h=(0,Ln.l)(i,p);i.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,_n.B9)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&(0,_n.B9)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&(0,_n.B9)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,E.Z)(this.accumulatedMeanSquares),(0,E.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,E.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(Nn);Wn.className="RMSProp",tn(Wn);var Hn=function(){function e(){(0,k.Z)(this,e)}return(0,w.Z)(e,null,[{key:"sgd",value:function(e){return new Vn(e)}},{key:"momentum",value:function(e,t){return new zn(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},{key:"rmsprop",value:function(e){return new Wn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}},{key:"adam",value:function(){return new Fn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}},{key:"adadelta",value:function(){return new Pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"adamax",value:function(){return new Un(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}},{key:"adagrad",value:function(e){return new Dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}]),e}(),Gn=n(3525),qn=n(33567),Kn=n(47627),Yn={sgd:Hn.sgd,momentum:Hn.momentum,adadelta:Hn.adadelta,adagrad:Hn.adagrad,rmsprop:Hn.rmsprop,adamax:Hn.adamax,adam:Hn.adam},Xn="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function Qn(){return new Promise((function(e){return Xn((function(){return e()}))}))}var Jn=n(88473);function $n(e,t){var n=e[0].length;e.forEach((function(e,t){I.hu(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),I.hu(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)I.hu(a===t||e[a]===r[a],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(i,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(i,".")}))}))}function er(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var tr,nr=n(39151),rr=n(5171);function ir(e,t,n){var r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(var i=1;i<n.length;++i){var a=n[i],o=r[r.length-n.length+i],s=r[o];if(a>=0)if(s>=0){if(s!==a)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(i+e,"] = ").concat(a," but shape[").concat(i+e,"] = ").concat(s))}else r[o]=a}return r}function ar(e){var t,n={FIRST_DIM_SIZE:tr.FIRST_DIM_SIZE,VALUE_ROWIDS:tr.VALUE_ROWIDS,ROW_LENGTHS:tr.ROW_LENGTHS,ROW_SPLITS:tr.ROW_SPLITS,ROW_LIMITS:tr.ROW_LIMITS,ROW_STARTS:tr.ROW_STARTS},r=[],i=(0,_.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!(a in n))break;r.push(n[a])}}catch(li){i.e(li)}finally{i.f()}return r}function or(e){return 0===e.length?0:e[0]===tr.FIRST_DIM_SIZE?e.length-1:e.length}function sr(e,t){if(null!=e&&null!=t){var n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(var i=0;i<Math.min(n,r-1);++i){var a=e[i],o=t[i+1];if(a>=0&&o>=0&&1!==a&&a!==o)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(i-e.length,"] = ").concat(a," but ragged tensor input.flatValues.shape[").concat(i-e.length,"] = ").concat(o))}}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(tr||(tr={}));var ur=30;function cr(e){return e<=ur?e:(0,I.jP)(e,Math.floor(Math.sqrt(e)))}function lr(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function fr(e,t,n){var r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])(r=r.concat(t.slice(0))).push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);for(var i=t.length,a=0;a<i;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(i+1))}return r}function dr(e,t){var n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(var r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{for(var i=[],a=[],o=1;o<e;++o)o>=2*t+1||o%2===1?a.push(o):i.push(o);n.push.apply(n,i),n.push(0),n.push.apply(n,a)}return n}function pr(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function hr(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function vr(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}var mr=1.7580993408473768,gr=1.0507009873554805,yr=.3275911,br=.254829592,xr=-.284496736,kr=1.421413741,wr=-1.453152027,_r=1.061405429,Sr=n(17269);function Tr(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Cr(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Er(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Or(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Ar(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Ir(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Rr(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}function Nr(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var Pr="->",Mr=/->/g,Dr=",",jr="...";function Lr(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(Mr,"").length)/Pr.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(Pr,'").'));var r=e.split(Pr),i=(0,C.Z)(r,2),a=i[0],o=i[1];(0,I.hu)(-1===a.indexOf(jr),(function(){return'The ellipsis notation ("'.concat(jr,'") is not supported yet.')}));var s=a.split(Dr),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(){var e=o[f];if(!s.some((function(t){return-1!==t.indexOf(e)})))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===c.indexOf(e)&&c.push(e)},f=0;f<o.length;++f)l();for(var d=0;d<a.length;++d){var p=a[d];-1===c.indexOf(p)&&p!==Dr&&c.push(p)}for(var h=new Array(s.length),v=0;v<u;++v){if(new Set(s[v].split("")).size!==s[v].length)throw new Error("Found duplicate axes in input component ".concat(s[v],". ")+"Support for duplicate axes in input is not implemented yet.");h[v]=[];for(var m=0;m<s[v].length;++m)h[v].push(c.indexOf(s[v][m]))}for(var g=c.length,y=[],b=o.length;b<g;++b)y.push(b);return{allDims:c,summedDims:y,idDims:h}}function Fr(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var i=[],a=0;a<e;++a)-1===n[a]&&i.push(a);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:i}}function Zr(e,t,n){for(var r=new Array(e),i=function(e){for(var i=n[e].shape,a=function(n){void 0===r[t[e][n]]?r[t[e][n]]=i[n]:(0,I.hu)(r[t[e][n]]===i[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(i),", ")+"but got dimension ".concat(i[n])}))},o=0;o<t[e].length;++o)a(o)},a=0;a<n.length;++a)i(a)}function Br(e,t){var n,r=e,i=[];0===e.length&&r.push(-1),n=e.length+1;for(var a=0;a<n;++a)i.push([]);for(var o=[],s=0;s<r.length;++s){var u,c=Vr(t,r[s]),l=(0,_.Z)(c);try{for(l.s();!(u=l.n()).done;){var f=u.value;-1===o.indexOf(f)&&(i[s].push(f),o.push(f))}}catch(li){l.e(li)}finally{l.f()}}return{path:r,steps:i}}function Ur(e){return e.every((function(e,t){return e===t}))}function Vr(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)(0,I.hu)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var i=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);(0,I.hu)(i<=1,(function(){return"There should be only one negative value in split array."}));var a=t.indexOf(-1);if(-1!==a){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[a]=e.shape[n]-o}(0,I.hu)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function Wr(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Hr(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Gr(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function qr(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Kr(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Yr(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Xr(e,t){var n=(0,I.NA)(e),r=(0,I.NA)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Qr(e,t){var n=(0,I.NA)(e),r=(0,I.NA)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Jr(){return"segment ids must be >= 0"}function $r(){return"segment ids are not increasing"}function ei(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function ti(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function ni(e,t){var n,r=!1;for(e<=ur?(n=e,r=!0):n=(0,I.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,I.jP)(e,n+1);return n}function ri(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}function ii(e,t,n,r){var i=t.shape.length,a=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error("Expect batchDims in the range of [-".concat(i,", ").concat(i,"], but got ").concat(r));if(r<0&&(r+=i),r>a)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(a,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],c=1,l=1,f=1,d=0;d<r;++d)u.push(e.shape[d]),c*=e.shape[d];for(var p=r;p<n;p++)u.push(e.shape[p]),l*=e.shape[p];for(var h=r;h<i;h++)u.push(t.shape[h]);for(var v=n+1;v<a;v++)u.push(e.shape[v]),f*=e.shape[v];return{batchSize:c,sliceSize:f,outerSize:l,dimSize:s,outputShape:u}}function ai(e){try{return e.map((function(e){return(0,rn.decodeString)(e)}))}catch(li){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(li))}}function oi(e){return e.map((function(e){return(0,rn.encodeString)(e)}))}var si=n(60745),ui=n(24189),ci=n(54679)},32145:function(e,t,n){"use strict";n.d(t,{$HU:function(){return ht},$g6:function(){return $},$w:function(){return K},Acj:function(){return me},BMI:function(){return Fe},BiW:function(){return ft},Byc:function(){return B},CAk:function(){return Te},D2d:function(){return Wt},DlI:function(){return ct},Eh3:function(){return R},FKq:function(){return Dt},G3Y:function(){return rn},GBy:function(){return jt},Gcp:function(){return Zt},HEU:function(){return te},HZH:function(){return mt},Hhh:function(){return je},Hmb:function(){return yt},IKK:function(){return c},IMb:function(){return x},J$2:function(){return _e},J_u:function(){return be},JhU:function(){return g},Kgp:function(){return ot},L8s:function(){return Ft},Ly9:function(){return S},M2y:function(){return d},MIZ:function(){return $t},MRv:function(){return Mt},MZg:function(){return Re},NEP:function(){return ie},NZg:function(){return Ye},O3z:function(){return Bt},OAf:function(){return Ue},OR:function(){return le},OU7:function(){return Ve},OV7:function(){return Be},Omj:function(){return ne},Oyi:function(){return v},PYm:function(){return Ae},PhF:function(){return Et},QCc:function(){return m},QRR:function(){return z},Qg5:function(){return ye},QiL:function(){return it},Qvg:function(){return sn},RFZ:function(){return C},ROF:function(){return y},RQH:function(){return It},RuY:function(){return cn},SX0:function(){return ee},SYM:function(){return r},SbG:function(){return kt},SpW:function(){return a},T0n:function(){return W},TQc:function(){return Lt},TR1:function(){return Z},ToN:function(){return on},Tr8:function(){return Qt},Uyb:function(){return ce},VGw:function(){return i},Vbg:function(){return Ke},VcC:function(){return V},VfG:function(){return Ie},Vn9:function(){return Q},W0H:function(){return tt},XDQ:function(){return un},XLW:function(){return k},XkS:function(){return Xt},Xze:function(){return s},Y0y:function(){return oe},YFo:function(){return ae},YoZ:function(){return Le},ZbH:function(){return Ee},ZjV:function(){return zt},Zz9:function(){return A},_JP:function(){return Kt},_V0:function(){return hn},_Yw:function(){return bt},_k9:function(){return b},_tC:function(){return Ht},a5O:function(){return Pt},aJk:function(){return f},avt:function(){return xe},b9H:function(){return dn},bK0:function(){return Gt},bV0:function(){return St},c17:function(){return He},cWu:function(){return tn},cie:function(){return H},cye:function(){return et},dDz:function(){return lt},deh:function(){return ue},dpD:function(){return gt},e07:function(){return _t},e6w:function(){return dt},e7N:function(){return Ce},eBW:function(){return fn},eEB:function(){return T},eZ0:function(){return De},ekb:function(){return X},gJX:function(){return E},h8e:function(){return ln},hdR:function(){return re},i5y:function(){return Nt},iHb:function(){return U},iJz:function(){return ge},iWB:function(){return ke},iZT:function(){return ve},ik2:function(){return L},jMg:function(){return h},jQk:function(){return qt},jQs:function(){return qe},jeX:function(){return fe},kU:function(){return Oe},kpP:function(){return an},kuV:function(){return Qe},luS:function(){return vn},lyA:function(){return at},mKl:function(){return wt},mTV:function(){return Ze},mc4:function(){return F},mhS:function(){return N},mm_:function(){return o},n9L:function(){return en},nhH:function(){return Ut},nr8:function(){return Ct},o0g:function(){return ut},o2y:function(){return j},oFR:function(){return Ot},oHH:function(){return J},oT6:function(){return u},p2w:function(){return At},p4S:function(){return Y},pe_:function(){return st},q1x:function(){return he},q2K:function(){return We},q8u:function(){return Ge},qCd:function(){return Pe},qIC:function(){return Me},qWM:function(){return nt},qi_:function(){return pe},qkr:function(){return vt},qw7:function(){return p},r7n:function(){return we},s1s:function(){return Yt},sEM:function(){return Jt},sHE:function(){return de},sJF:function(){return l},sL$:function(){return G},usg:function(){return pn},uv1:function(){return $e},vFR:function(){return ze},vtC:function(){return Se},vwp:function(){return se},w3H:function(){return Vt},w6g:function(){return Ne},wUP:function(){return P},wYB:function(){return Rt},wYn:function(){return Xe},we_:function(){return rt},wm:function(){return M},wx7:function(){return nn},x12:function(){return D},xJR:function(){return pt},xQA:function(){return Tt},xnO:function(){return O},y7R:function(){return q},yQU:function(){return Je},yj2:function(){return I},zbQ:function(){return xt},zvY:function(){return _},zws:function(){return w}});var r="Abs",i="Acos",a="Acosh",o="Add",s="AddN",u="All",c="Any",l="ArgMax",f="ArgMin",d="Asin",p="Asinh",h="Atan",v="Atanh",m="Atan2",g="AvgPool",y="AvgPoolGrad",b="AvgPool3D",x="AvgPool3DGrad",k="BatchMatMul",w="BatchToSpaceND",_="Bincount",S="BroadcastTo",T="BroadcastArgs",C="Cast",E="Ceil",O="ClipByValue",A="Complex",I="ComplexAbs",R="Concat",N="Conv2D",P="Conv2DBackpropFilter",M="Conv2DBackpropInput",D="Conv3D",j="Conv3DBackpropFilterV2",L="Conv3DBackpropInputV2",F="Cos",Z="Cosh",B="Cumprod",U="Cumsum",V="CropAndResize",z="DenseBincount",W="DepthToSpace",H="DepthwiseConv2dNative",G="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",K="Diag",Y="Dilation2D",X="Dilation2DBackpropInput",Q="Dilation2DBackpropFilter",J="RealDiv",$="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ie="Exp",ae="ExpandDims",oe="Expm1",se="FFT",ue="Fill",ce="FlipLeftRight",le="Floor",fe="FloorDiv",de="FusedBatchNorm",pe="GatherV2",he="GatherNd",ve="Greater",me="GreaterEqual",ge="Identity",ye="IFFT",be="Imag",xe="IsFinite",ke="IsInf",we="IsNan",_e="LeakyRelu",Se="Less",Te="LessEqual",Ce="LinSpace",Ee="Log",Oe="Log1p",Ae="LogicalAnd",Ie="LogicalNot",Re="LogicalOr",Ne="LogicalXor",Pe="LogSoftmax",Me="LowerBound",De="LRN",je="LRNGrad",Le="Max",Fe="Maximum",Ze="MaxPool",Be="MaxPoolGrad",Ue="MaxPool3D",Ve="MaxPool3DGrad",ze="MaxPoolWithArgmax",We="Mean",He="Min",Ge="Minimum",qe="MirrorPad",Ke="Mod",Ye="Multinomial",Xe="Multiply",Qe="Neg",Je="NotEqual",$e="NonMaxSuppressionV3",et="NonMaxSuppressionV4",tt="NonMaxSuppressionV5",nt="OnesLike",rt="OneHot",it="Pack",at="PadV2",ot="Pool",st="Pow",ut="Prelu",ct="Prod",lt="RaggedGather",ft="RaggedTensorToTensor",dt="Range",pt="Real",ht="Reciprocal",vt="Relu",mt="Reshape",gt="ResizeNearestNeighbor",yt="ResizeNearestNeighborGrad",bt="ResizeBilinear",xt="ResizeBilinearGrad",kt="Relu6",wt="Reverse",_t="Round",St="Rsqrt",Tt="ScatterNd",Ct="SearchSorted",Et="Select",Ot="Selu",At="Slice",It="Sin",Rt="Sinh",Nt="Sign",Pt="Sigmoid",Mt="Softplus",Dt="Sqrt",jt="Sum",Lt="SpaceToBatchND",Ft="SplitV",Zt="Softmax",Bt="SparseFillEmptyRows",Ut="SparseReshape",Vt="SparseSegmentMean",zt="SparseSegmentSum",Wt="SparseToDense",Ht="SquaredDifference",Gt="Square",qt="StridedSlice",Kt="StringNGrams",Yt="StringSplit",Xt="StringToHashBucketFast",Qt="Sub",Jt="Tan",$t="Tanh",en="Tile",tn="TopK",nn="Transform",rn="Transpose",an="Unique",on="Unpack",sn="UnsortedSegmentSum",un="UpperBound",cn="ZerosLike",ln="Step",fn="FromPixels",dn="RotateWithOffset",pn="_FusedMatMul",hn="FusedConv2D",vn="FusedDepthwiseConv2D"},78864:function(e,t,n){"use strict";n.d(t,{Li:function(){return p},T3:function(){return m},bt:function(){return v},nE:function(){return h},pI:function(){return c},tr:function(){return f},uk:function(){return l},wC:function(){return d}});var r=n(70885),i=n(35050),a=n(96581),o=n(17269),s=(0,a.R)("kernelRegistry",(function(){return new Map})),u=(0,a.R)("gradRegistry",(function(){return new Map}));function c(e,t){var n=g(e,t);return s.get(n)}function l(e){return u.get(e)}function f(e){for(var t=s.entries(),n=[];;){var i=t.next(),a=i.done,o=i.value;if(a)break;var u=(0,r.Z)(o,2),c=u[0],l=u[1],f=c.split("_");(0,r.Z)(f,1)[0]===e&&n.push(l)}return n}function d(e){var t=e.kernelName,n=e.backendName,r=g(t,n);s.has(r)&&o.Z("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function p(e){var t=e.kernelName;u.has(t)&&(0,i.OB)().getBool("DEBUG")&&o.Z("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function h(e,t){var n=g(e,t);if(!s.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));s.delete(n)}function v(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function m(e,t){f(e).forEach((function(e){d(Object.assign({},e,{backendName:t}))}))}function g(e,t){return"".concat(t,"_").concat(e)}},17269:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},c:function(){return a}});var r=n(35050);function i(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function a(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).log.apply(e,arguments)}},7613:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({abs_:function(e){var t=(0,a._1)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.BV.runKernel(i.yj2,n)}var o={x:t};return r.BV.runKernel(i.SYM,o)}})},43312:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({add_:function(e,t){var n=(0,s._1)(e,"a","add"),u=(0,s._1)(t,"b","add"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.mm_,f)}})},88473:function(e,t,n){"use strict";n.d(t,{LJ:function(){return l},Q3:function(){return c},Vh:function(){return a},YB:function(){return i},kz:function(){return o},lB:function(){return u},rv:function(){return s},sY:function(){return f}});var r=n(36147);function i(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function a(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function o(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);var a=t.map((function(t){return e[t]}));return[n,a]}function s(e,t){return a(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.hu(i(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(i(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function f(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},45774:function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function i(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function a(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(a)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:function(){return a},getBroadcastDims:function(){return r},getReductionAxes:function(){return i}})},77039:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(4376),i=n(36147);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",i.Mu(e),new r.YD(e,t,n)}},99118:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({cast_:function(e,t){var n=(0,a._1)(e,"x","cast");if(!o.LP(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.BV.runKernel(i.RFZ,s,u)}})},10672:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({clone_:function(e){var t={x:(0,a._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(i.iJz,t)}})},59253:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({complex_:function(e,t){var n=(0,a._1)(e,"real","complex"),s=(0,a._1)(t,"imag","complex");o.k5(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.BV.runKernel(i.Zz9,u)}})},39151:function(e,t,n){"use strict";n.d(t,{I0:function(){return m},Ix:function(){return c},Rf:function(){return o},Xw:function(){return s},aO:function(){return f},jT:function(){return g},jw:function(){return l},m:function(){return b},pl:function(){return u},sl:function(){return y}});var r=n(70885),i=n(42982),a=n(36147);function o(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3];return c(e,[].concat((0,i.Z)(t),[s]),n,o,r,null,null,y(a))}function s(e,t,n,i,a,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=d(t),f=(0,r.Z)(l,2),p=f[0],h=f[1];if("channelsLast"===u)s=[p,h,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[p,h,e[1],e[1]]}return c(e,s,n,i,a,o,!1,u)}function u(e,t,n,i,a,o){var s,u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",f=p(t),d=(0,r.Z)(f,3),h=d[0],v=d[1],m=d[2];if("NDHWC"===c)u="channelsLast",s=[h,v,m,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));u="channelsFirst",s=[h,v,m,e[1],e[1]]}return l(e,s,n,i,a,!1,u,o)}function c(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,p=-1,m=-1;if("channelsLast"===u){var g=(0,r.Z)(e,4);c=g[0],l=g[1],p=g[2],m=g[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var y=(0,r.Z)(e,4);c=y[0],m=y[1],l=y[2],p=y[3]}var b,x=(0,r.Z)(t,4),k=x[0],w=x[1],_=x[3],S=d(n),T=(0,r.Z)(S,2),C=T[0],E=T[1],O=d(i),A=(0,r.Z)(O,2),I=A[0],R=A[1],N=h(k,I),P=h(w,R),M=function(e,t,n,r,i,a,o,s,u){var c,l,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,i){null==r&&(r=f(e,t,n));var a=e[0],o=e[1],s=v((a-t+2*r)/n+1,i),u=v((o-t+2*r)/n+1,i);return[s,u]}([t,n],a,r,e,s);l=p[0],d=p[1]}else if("same"===e){l=Math.ceil(t/r),d=Math.ceil(n/i);var h=Math.max(0,(l-1)*r+a-t),m=Math.max(0,(d-1)*i+o-n),g=Math.floor(h/2),y=h-g,b=Math.floor(m/2);c={top:g,bottom:y,left:b,right:m-b,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-a+1)/r),d=Math.ceil((n-o+1)/i);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var x="channelsLast"===u?e[1][0]:e[2][0],k="channelsLast"===u?e[1][1]:e[2][1],w="channelsLast"===u?e[2][0]:e[3][0],_="channelsLast"===u?e[2][1]:e[3][1];c={top:x,bottom:k,left:w,right:_,type:0===x&&0===k&&0===w&&0===_?"VALID":"EXPLICIT"},l=v((t-a+x+k)/r+1,s),d=v((n-o+w+_)/i+1,s)}return{padInfo:c,outHeight:l,outWidth:d}}(a,l,p,C,E,N,P,o,u),D=M.padInfo,j=M.outHeight,L=M.outWidth,F=s?_*m:_;return"channelsFirst"===u?b=[c,F,j,L]:"channelsLast"===u&&(b=[c,j,L,F]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:p,inChannels:m,outHeight:j,outWidth:L,outChannels:F,padInfo:D,strideHeight:C,strideWidth:E,filterHeight:k,filterWidth:w,effectiveFilterHeight:N,effectiveFilterWidth:P,dilationHeight:I,dilationWidth:R,inShape:e,outShape:b,filterShape:t}}function l(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,d=-1,m=-1,g=-1;if("channelsLast"===s){var y=(0,r.Z)(e,5);c=y[0],l=y[1],d=y[2],m=y[3],g=y[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var b=(0,r.Z)(e,5);c=b[0],g=b[1],l=b[2],d=b[3],m=b[4]}var x,k=(0,r.Z)(t,5),w=k[0],_=k[1],S=k[2],T=k[4],C=p(n),E=(0,r.Z)(C,3),O=E[0],A=E[1],I=E[2],R=p(i),N=(0,r.Z)(R,3),P=N[0],M=N[1],D=N[2],j=h(w,P),L=h(_,M),F=h(S,D),Z=function(e,t,n,r,i,a,o,s,u,c,l){var d,p,h,m;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var g=function(e,t,n,r,i,a){null==i&&(i=f(e,t,r));var o=e[0],s=e[1],u=e[2],c=v((o-t+2*i)/r+1,a),l=v((s-t+2*i)/r+1,a),d=v((u-t+2*i)/r+1,a);return[c,l,d,n]}([t,n,r,1],s,1,i,e,l);p=g[0],h=g[1],m=g[2]}else if("same"===e){var y=((p=Math.ceil(t/i))-1)*i+s-t,b=((h=Math.ceil(n/a))-1)*a+u-n,x=((m=Math.ceil(r/o))-1)*o+c-r,k=Math.floor(y/2),w=y-k,_=Math.floor(b/2),S=b-_,T=Math.floor(x/2);d={top:_,bottom:S,left:T,right:x-T,front:k,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/i),h=Math.ceil((n-u+1)/a),m=Math.ceil((r-c+1)/o)}return{padInfo:d,outDepth:p,outHeight:h,outWidth:m}}(a,l,d,m,O,A,I,j,L,F,u),B=Z.padInfo,U=Z.outDepth,V=Z.outHeight,z=Z.outWidth,W=o?T*g:T;return"channelsFirst"===s?x=[c,W,U,V,z]:"channelsLast"===s&&(x=[c,U,V,z,W]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:d,inWidth:m,inChannels:g,outDepth:U,outHeight:V,outWidth:z,outChannels:W,padInfo:B,strideDepth:O,strideHeight:A,strideWidth:I,filterDepth:w,filterHeight:_,filterWidth:S,effectiveFilterDepth:j,effectiveFilterHeight:L,effectiveFilterWidth:F,dilationDepth:P,dilationHeight:M,dilationWidth:D,inShape:e,outShape:x,filterShape:t}}function f(e,t,n){var r=h(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function d(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function p(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function v(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function m(e){var t=d(e),n=(0,r.Z)(t,3),i=n[0],a=n[1],o=n[2];return 1===i&&1===a&&1===o}function g(e,t){return m(e)||m(t)}function y(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function b(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},15750:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(67145);var c=(0,n(38640).op)({div_:function(e,t){var n=(0,s._1)(e,"a","div"),c=(0,s._1)(t,"b","div"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);if(n=f[0],c=f[1],"int32"===n.dtype&&"int32"===c.dtype)return(0,u.q)(n,c);var d={a:n,b:c};return i.BV.runKernel(a.oHH,d,{})}})},52353:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({elu_:function(e){var t={x:(0,a._1)(e,"x","elu","float32")};return r.BV.runKernel(i.SX0,t)}})},8582:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){var a={shape:e,value:t,dtype:n};return r.BV.runKernel(i.deh,{},a)}},67145:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({floorDiv_:function(e,t){var n=(0,s._1)(e,"a","floorDiv"),u=(0,s._1)(t,"b","floorDiv"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.jeX,f)}})},5171:function(e,t,n){"use strict";n.d(t,{Fr:function(){return h},QH:function(){return m},pf:function(){return v},uy:function(){return g}});var r=n(45774),i=n(52353),a=n(74419),o=n(30651),s=n(96859),u=n(17539),c=n(65900),l=n(75561),f=n(77643),d=n(94031),p=n(40227);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.d)(e,(0,d.N)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function v(e,t){var n=t,i=r.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,p.S)(n,i)),(0,l.X)(n,e.shape)}function m(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,a.h)(e,r);if("sigmoid"===t)return(0,f.X)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var g=function(e,t){return!(e>0)||"linear"===t}},76996:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({imag_:function(e){var t={input:(0,a._1)(e,"input","imag")};return r.BV.runKernel(i.J_u,t)}})},74419:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:(0,a._1)(e,"x","leakyRelu")},o={alpha:t};return r.BV.runKernel(i.J$2,n,o)}})},47627:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},57221:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,s._1)(e,"a","matMul"),l=(0,s._1)(t,"b","matMul"),f=(0,o.makeTypesMatch)(c,l),d=(0,r.Z)(f,2),p={a:c=d[0],b:l=d[1]},h={transposeA:n,transposeB:u};return i.BV.runKernel(a.XLW,p,h)}})},70705:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),c=n(99118);var l=(0,n(38640).op)({maximum_:function(e,t){var n=(0,s._1)(e,"a","maximum"),l=(0,s._1)(t,"b","maximum"),f=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var p={a:n,b:l};return i.BV.runKernel(a.BMI,p)}})},30651:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mul_:function(e,t){var n=(0,s._1)(e,"a","mul"),u=(0,s._1)(t,"b","mul"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.wYn,f)}})},4362:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({neg_:function(e){var t={x:(0,a._1)(e,"x","neg")};return r.BV.runKernel(i.kuV,t)}})},34326:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var u={indices:(0,a._1)(e,"indices","oneHot","int32")},c={dtype:s,depth:t,onValue:n,offValue:o};return r.BV.runKernel(i.we_,u,c)}})},38640:function(e,t,n){"use strict";n.d(t,{op:function(){return o},z:function(){return a}});var r=n(70318),i=n(36147),a="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=a;var s=function(){r.BV.startScope(n);try{var e=o.apply(void 0,arguments);return(0,i.tI)(e)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(e),e}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},33567:function(e,t,n){"use strict";n.d(t,{zvA:function(){return u.z},WnP:function(){return i.W},Khb:function(){return c},__u:function(){return l},IHx:function(){return f.I},QBD:function(){return p},$6P:function(){return h},YjB:function(){return v},NqF:function(){return m},vHJ:function(){return g},ZRM:function(){return y},VfV:function(){return b},z4N:function(){return x},fvJ:function(){return _},C80:function(){return S},wS1:function(){return O},uR5:function(){return A},zEQ:function(){return L},tgs:function(){return Z},Dxk:function(){return B},JY5:function(){return U},p3b:function(){return V},E4h:function(){return F},yE8:function(){return z},anm:function(){return lr},XsQ:function(){return W},UFq:function(){return H},f3b:function(){return G.f},pju:function(){return T.p},mDi:function(){return q},iUl:function(){return Y},d9v:function(){return I.d},PYB:function(){return X.P},zoF:function(){return R},gME:function(){return Q},Izb:function(){return J},MNy:function(){return $},ZaL:function(){return ee},PAt:function(){return ne},Tek:function(){return te},bc:function(){return ie},pdZ:function(){return ae},$QV:function(){return se},mCk:function(){return ue},f9Y:function(){return ce},mew:function(){return br},$Gn:function(){return le},zbp:function(){return fe},ppE:function(){return de},nTT:function(){return pe},B10:function(){return he},Ka3:function(){return ve},WmZ:function(){return me},hiC:function(){return ge.h},NTj:function(){return we},AKD:function(){return _e},rvX:function(){return gr},WYO:function(){return Se},pyx:function(){return Te.p},GRh:function(){return yr},DgJ:function(){return be},qNN:function(){return Ce},d2q:function(){return Le},Qqt:function(){return Fe},dt4:function(){return Ze},t$B:function(){return Be},iyy:function(){return Ve},kp_:function(){return Mn},hlL:function(){return K.h},GWj:function(){return ze},qPi:function(){return We.q},imm:function(){return r},Iqj:function(){return He},dbB:function(){return mr},pjt:function(){return Ge},brS:function(){return qe},Sxn:function(){return Dn},asL:function(){return Ke.a},BHj:function(){return wi},V3u:function(){return kr},wx0:function(){return jn},xVT:function(){return Ye},UWc:function(){return Xe},i2d:function(){return Qe},hi7:function(){return Je.h},d9m:function(){return $e},zN1:function(){return et},$r2:function(){return _i},SX3:function(){return tt},G9k:function(){return nt},cM7:function(){return rt},Krr:function(){return it},e_t:function(){return ut},CmS:function(){return lt},l_t:function(){return ft},HvI:function(){return dt},hJK:function(){return pt},K5V:function(){return ht},egP:function(){return vt},MB5:function(){return Si},eab:function(){return yt},OI3:function(){return N.O},Fp7:function(){return Oe},_sB:function(){return bt},YQQ:function(){return xt},Ip$:function(){return kt},gWQ:function(){return wt.g},J69:function(){return _t},ry_:function(){return Et},VV$:function(){return Ae},LTh:function(){return Ot},VdP:function(){return At},wQq:function(){return It},Gi7:function(){return Rt},p_:function(){return dr},dC7:function(){return P.d},rq4:function(){return Nt},SJ_:function(){return Pt},W76:function(){return ot.W},KOy:function(){return je},Quu:function(){return Mt},lfX:function(){return Dt.l},iUs:function(){return Tt},JpU:function(){return jt},op:function(){return u.op},N2O:function(){return Lt},vku:function(){return Ft},pNR:function(){return Zt},koy:function(){return Bt},t1L:function(){return Ut},lGY:function(){return Vt},d_R:function(){return Wt},sQ3:function(){return Ie.s},AL3:function(){return Ht.A},S0v:function(){return Gt.S},WVs:function(){return qt},$gW:function(){return Kt},N89:function(){return Yt},TN_:function(){return Xt},wzB:function(){return rn},nGf:function(){return an},ruB:function(){return on},LGj:function(){return sn},w6H:function(){return un},kwC:function(){return cn.k},M25:function(){return ln},UYe:function(){return fn.U},btT:function(){return dn.b},XLQ:function(){return E.X},GYS:function(){return pn},SDf:function(){return hn},diP:function(){return vn},sx7:function(){return mn},mG2:function(){return gn},QEs:function(){return Fn},NMM:function(){return yn},bp0:function(){return bn},iD$:function(){return Re.i},snQ:function(){return hr},zcT:function(){return gt},U8D:function(){return xn},U_I:function(){return kn},ODp:function(){return Tn},XD2:function(){return M.X},Xxe:function(){return Cn},tdS:function(){return ki},O$l:function(){return En},R_K:function(){return On},tPi:function(){return D},jZU:function(){return An},SmN:function(){return In},CnO:function(){return Rn},p0P:function(){return Nn},XAC:function(){return Pn},Wvh:function(){return st},fBT:function(){return zt},rVs:function(){return Ti},ers:function(){return vr},uN7:function(){return xi},Vl2:function(){return Ln},_b3:function(){return Ne._},h62:function(){return Pe.h},$i:function(){return Zn},L9e:function(){return Bn},knu:function(){return Un},Nbs:function(){return Vn.N},NXj:function(){return zn},Z_8:function(){return Ci},luU:function(){return ct.l},Smz:function(){return Me.S},ORZ:function(){return Wn},AEp:function(){return j},XeE:function(){return Hn.X},RRF:function(){return qn},odF:function(){return Kn},wOQ:function(){return Yn.w},yXz:function(){return Xn},Bfx:function(){return Qn},xZs:function(){return Jn},Gg6:function(){return Ue},hg7:function(){return $n},p4s:function(){return fr.p},Xu6:function(){return er},Two:function(){return tr},pUJ:function(){return nr},HHK:function(){return rr},GaM:function(){return ir},VD$:function(){return ar},arb:function(){return xe},itS:function(){return ur},lls:function(){return St},P84:function(){return ke.P}});var r={};n.r(r),n.d(r,{conv2d:function(){return Sr},depthwiseConv2d:function(){return Er},matMul:function(){return Or}});var i=n(7613),a=n(70318),o=n(32145),s=n(48354),u=n(38640);var c=(0,u.op)({acos_:function(e){var t={x:(0,s._1)(e,"x","acos")};return a.BV.runKernel(o.VGw,t)}});var l=(0,u.op)({acosh_:function(e){var t={x:(0,s._1)(e,"x","acosh")};return a.BV.runKernel(o.SpW,t)}}),f=n(43312),d=n(36147);var p=(0,u.op)({addN_:function(e){d.hu(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),d.hu(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return(0,s._1)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!d.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return a.BV.runKernel(o.Xze,r)}});var h=(0,u.op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:(0,s._1)(e,"x","all","bool")},i={axis:t,keepDims:n};return a.BV.runKernel(o.oT6,r,i)}});var v=(0,u.op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:(0,s._1)(e,"x","any","bool")},i={axis:t,keepDims:n};return a.BV.runKernel(o.IKK,r,i)}});var m=(0,u.op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:(0,s._1)(e,"x","argMax")},r={axis:t};return a.BV.runKernel(o.sJF,n,r)}});var g=(0,u.op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:(0,s._1)(e,"x","argMin")},r={axis:t};return a.BV.runKernel(o.aJk,n,r)}});var y=(0,u.op)({asin_:function(e){var t={x:(0,s._1)(e,"x","asin")};return a.BV.runKernel(o.M2y,t)}});var b=(0,u.op)({asinh_:function(e){var t={x:(0,s._1)(e,"x","asinh")};return a.BV.runKernel(o.qw7,t)}});var x=(0,u.op)({atan_:function(e){var t={x:(0,s._1)(e,"x","atan")};return a.BV.runKernel(o.jMg,t)}}),k=n(70885),w=n(99064);var _=(0,u.op)({atan2_:function(e,t){var n=(0,s._1)(e,"a","atan2"),r=(0,s._1)(t,"b","atan2"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2),c={a:n=u[0],b:r=u[1]};return a.BV.runKernel(o.QCc,c)}});var S=(0,u.op)({atanh_:function(e){var t={x:(0,s._1)(e,"x","atanh")};return a.BV.runKernel(o.Oyi,t)}}),T=n(99118),C=n(39151),E=n(75561);var O=(0,u.op)({avgPool_:function(e,t,n,r,i){var u=(0,s._1)(e,"x","avgPool","float32");d.hu(C.jT(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var c=u,l=!1;3===u.rank&&(l=!0,c=(0,E.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]])),d.hu(4===c.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(c.rank,".")})),C.m("avgPool",r,i);var f={x:c},p={filterSize:t,strides:n,pad:r,dimRoundingMode:i},h=a.BV.runKernel(o.JhU,f,p);return h=(0,T.p)(h,u.dtype),l?(0,E.X)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var A=(0,u.op)({avgPool3d_:function(e,t,n,r,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",c=(0,s._1)(e,"x","avgPool3d","float32"),l=c,f=!1;4===c.rank&&(f=!0,l=(0,E.X)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),d.hu(5===l.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(l.rank,".")})),d.hu("NDHWC"===u,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(u)})),(0,C.m)("avgPool3d",r,i);var p={x:l},h={filterSize:t,strides:n,pad:r,dimRoundingMode:i,dataFormat:u},v=a.BV.runKernel(o._k9,p,h);return v=(0,T.p)(v,l.dtype),f?(0,E.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),I=n(10672);var R=(0,u.op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,d.hu)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=(0,s.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return(0,I.d)(n[0]);var r=n,i={axis:t};return a.BV.runKernel(o.Eh3,r,i)}}),N=n(57221),P=n(30651),M=n(77643);var D=(0,u.op)({slice_:function(e,t,n){var r=(0,s._1)(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");var i={x:r},u={begin:t,size:n};return a.BV.runKernel(o.p2w,i,u)}});var j=(0,u.op)({tanh_:function(e){var t={x:(0,s._1)(e,"x","tanh","float32")};return a.BV.runKernel(o.MIZ,t)}});var L=(0,u.op)({basicLSTMCell_:function(e,t,n,r,i,a){var o=(0,s._1)(e,"forgetBias","basicLSTMCell"),u=(0,s._1)(t,"lstmKernel","basicLSTMCell"),c=(0,s._1)(n,"lstmBias","basicLSTMCell"),l=(0,s._1)(r,"data","basicLSTMCell"),d=(0,s._1)(i,"c","basicLSTMCell"),p=(0,s._1)(a,"h","basicLSTMCell"),h=R([l,p],1),v=(0,N.O)(h,u),m=(0,f.I)(v,c),g=m.shape[0],y=m.shape[1]/4,b=[g,y],x=D(m,[0,0],b),k=D(m,[0,y],b),w=D(m,[0,2*y],b),_=D(m,[0,3*y],b),S=(0,f.I)((0,P.d)((0,M.X)(x),j(k)),(0,P.d)(d,(0,M.X)((0,f.I)(o,w))));return[S,(0,P.d)(j(S),(0,M.X)(_))]}});var F=(0,u.op)({batchToSpaceND_:function(e,t,n){var r=(0,s._1)(e,"x","batchToSpaceND"),i=t.reduce((function(e,t){return e*t}));d.hu(r.rank>=1+t.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)})),d.hu(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),d.hu(r.shape[0]%i===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(i)}));var u={x:r},c={blockShape:t,crops:n};return a.BV.runKernel(o.zws,u,c)}});var Z=(0,u.op)({batchNorm_:function(e,t,n,r,i,u){null==u&&(u=.001);var c,l,f=(0,s._1)(e,"x","batchNorm"),p=(0,s._1)(t,"mean","batchNorm"),h=(0,s._1)(n,"variance","batchNorm");null!=i&&(c=(0,s._1)(i,"scale","batchNorm")),null!=r&&(l=(0,s._1)(r,"offset","batchNorm")),d.hu(p.rank===h.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),d.hu(null==l||p.rank===l.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),d.hu(null==c||p.rank===c.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var v={x:function(e){return 0===e.rank||1===e.rank?(0,E.X)(e,[1,1,1,e.size]):2===e.rank?(0,E.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,E.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(f),scale:c,offset:l,mean:p,variance:h},m={varianceEpsilon:u},g=a.BV.runKernel(o.sHE,v,m);return(0,E.X)(g,f.shape)}});var B=(0,u.op)({batchNorm2d_:function(e,t,n,r,i,a){var o,u,c=(0,s._1)(e,"x","batchNorm"),l=(0,s._1)(t,"mean","batchNorm"),f=(0,s._1)(n,"variance","batchNorm");return null!=i&&(o=(0,s._1)(i,"scale","batchNorm")),null!=r&&(u=(0,s._1)(r,"offset","batchNorm")),d.hu(2===c.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(c.rank,".")})),d.hu(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(l.rank,".")})),d.hu(2===f.rank||1===f.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(f.rank,".")})),null!=o&&d.hu(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&d.hu(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")})),Z(c,l,f,u,o,a)}});var U=(0,u.op)({batchNorm3d_:function(e,t,n,r,i,a){var o,u,c=(0,s._1)(e,"x","batchNorm"),l=(0,s._1)(t,"mean","batchNorm"),f=(0,s._1)(n,"variance","batchNorm");return null!=i&&(o=(0,s._1)(i,"scale","batchNorm")),null!=r&&(u=(0,s._1)(r,"offset","batchNorm")),d.hu(3===c.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(c.rank,".")})),d.hu(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(l.rank,".")})),d.hu(3===f.rank||1===f.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(f.rank,".")})),null!=o&&d.hu(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&d.hu(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")})),Z(c,l,f,u,o,a)}});var V=(0,u.op)({batchNorm4d_:function(e,t,n,r,i,a){var o,u,c=(0,s._1)(e,"x","batchNorm"),l=(0,s._1)(t,"mean","batchNorm"),f=(0,s._1)(n,"variance","batchNorm");return null!=i&&(o=(0,s._1)(i,"scale","batchNorm")),null!=r&&(u=(0,s._1)(r,"offset","batchNorm")),d.hu(4===c.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(c.rank,".")})),d.hu(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(l.rank,".")})),d.hu(4===f.rank||1===f.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(f.rank,".")})),null!=o&&d.hu(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=u&&d.hu(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")})),Z(c,l,f,u,o,a)}});var z=(0,u.op)({bincount_:function(e,t,n){var r=(0,s._1)(e,"x","bincount"),i=(0,s._1)(t,"weights","bincount");d.hu("int32"===r.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)})),d.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),d.hu(i.size===r.size||0===i.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(i.shape,".")}));var u={x:r,weights:i},c={size:n};return a.BV.runKernel(o.zvY,u,c)}});var W=(0,u.op)({broadcastArgs_:function(e,t){var n=(0,s._1)(e,"s0","broadcastArgs","int32"),r=(0,s._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var i={s0:n,s1:r};return a.BV.runKernel(o.eEB,i)}});var H=(0,u.op)({broadcastTo_:function(e,t){var n=(0,s._1)(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=(0,E.X)(n,i)}for(var u=n.shape,c=Array.from(t),l=t.length-1;l>=0;l--)if(u[l]===t[l])c[l]=1;else if(1!==n.shape[l])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));if(0===c.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0})).length)return(0,I.d)(n);var f={x:n},d={reps:c};return a.BV.runKernel(o.n9L,f,d)}}),G=n(77039);var q=(0,u.op)({ceil_:function(e){var t={x:(0,s._1)(e,"x","ceil","float32")};return a.BV.runKernel(o.gJX,t)}}),K=n(8582);var Y=(0,u.op)({clipByValue_:function(e,t,n){var r=(0,s._1)(e,"x","clipByValue");if(d.hu(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")})),t===n)return(0,K.h)(r.shape,t,r.dtype);var i={x:r},u={clipValueMin:t,clipValueMax:n};return a.BV.runKernel(o.xnO,i,u)}}),X=n(59253);var Q=(0,u.op)({concat1d_:function(e){return R(e,0)}});var J=(0,u.op)({concat2d_:function(e,t){return R(e,t)}});var $=(0,u.op)({concat3d_:function(e,t){return R(e,t)}});var ee=(0,u.op)({concat4d_:function(e,t){return R(e,t)}});var te=(0,u.op)({conv2d_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=(0,s._1)(e,"x","conv2d","float32"),f=(0,s._1)(t,"filter","conv2d","float32"),p=l,h=!1;3===l.rank&&(h=!0,p=(0,E.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),d.hu(4===p.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(p.rank,".")})),d.hu(4===f.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(f.rank,".")})),C.m("conv2d",r,c);var v="NHWC"===i?p.shape[3]:p.shape[1];d.hu(v===f.shape[2],(function(){return"Error in conv2d: depth of input (".concat(v,") must match ")+"input depth for filter ".concat(f.shape[2],".")})),d.hu(C.jT(n,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(u,"'")}));var m={x:p,filter:f},g={strides:n,pad:r,dataFormat:i,dilations:u,dimRoundingMode:c},y=a.BV.runKernel(o.mhS,m,g);return h?(0,E.X)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}});var ne=(0,u.op)({conv1d_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0,u=(0,s._1)(e,"x","conv1d"),c=(0,s._1)(t,"filter","conv1d"),l=u,f=!1;2===u.rank&&(f=!0,l=(0,E.X)(u,[1,u.shape[0],u.shape[1]])),d.hu(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(l.rank,".")})),d.hu(3===c.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(c.rank,".")})),C.m("conv1d",r,o),d.hu(l.shape[2]===c.shape[1],(function(){return"Error in conv1d: depth of input (".concat(l.shape[2],") must match ")+"input depth for filter ".concat(c.shape[1],".")})),d.hu(C.jT(n,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(a,"'")})),d.hu("NWC"===i,(function(){return"Error in conv1d: got dataFormat of ".concat(i," but only NWC is currently supported.")}));var p=(0,E.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]),h=(0,E.X)(l,[l.shape[0],1,l.shape[1],l.shape[2]]),v=te(h,p,[1,n],r,"NHWC",[1,a],o);return f?(0,E.X)(v,[v.shape[2],v.shape[3]]):(0,E.X)(v,[v.shape[0],v.shape[2],v.shape[3]])}});var re=(0,u.op)({conv2DBackpropInput_:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",u=arguments.length>6?arguments[6]:void 0;d.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var c=e,l=t,f=!1;3===t.rank&&(f=!0,l=(0,E.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),c=[1,e[0],e[1],e[2]]),d.hu(4===c.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(c.length,".")})),d.hu(4===l.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank)})),d.hu(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var p="NHWC"===s?c[3]:c[1],h="NHWC"===s?l.shape[3]:l.shape[1];d.hu(p===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(p,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),d.hu(h===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(h,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),C.m("conv2dDerInput",i,u);var v={dy:l,filter:n},m={strides:r,pad:i,dataFormat:s,dimRoundingMode:u,inputShape:c},g=a.BV.runKernel(o.wm,v,m);return f?(0,E.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}});var ie=(0,u.op)({conv2dTranspose_:function(e,t,n,r,i,a){var o=(0,s._1)(e,"x","conv2dTranspose"),u=(0,s._1)(t,"filter","conv2dTranspose");return re(n,o,u,r,i,"NHWC",a)}});var ae=(0,u.op)({conv3d_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],c=(0,s._1)(e,"x","conv3d"),l=(0,s._1)(t,"filter","conv3d"),f=c,p=!1;4===c.rank&&(p=!0,f=(0,E.X)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),d.hu(5===f.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(f.rank,".")})),d.hu(5===l.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(l.rank,".")})),d.hu(f.shape[4]===l.shape[3],(function(){return"Error in conv3d: depth of input (".concat(f.shape[4],") must match ")+"input depth for filter ".concat(l.shape[3],".")})),d.hu((0,C.jT)(n,u),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(u,"'")})),d.hu("NDHWC"===i,(function(){return"Error in conv3d: got dataFormat of ".concat(i," but only NDHWC is currently supported.")}));var h={x:f,filter:l},v={strides:n,pad:r,dataFormat:i,dilations:u},m=a.BV.runKernel(o.x12,h,v);return p?(0,E.X)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}});var oe=(0,u.op)({conv3DBackpropInput_:function(e,t,n,r,i){d.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var s=e,u=t,c=!1;4===t.rank&&(c=!0,u=(0,E.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),s=[1,e[0],e[1],e[2],e[3]]);var l=s[4],f=u.shape[4];d.hu(5===s.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(s.length,".")})),d.hu(5===u.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(u.rank)})),d.hu(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),d.hu(l===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),d.hu(f===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(f,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var p={dy:u,filter:n},h={pad:i,strides:r,inputShape:s},v=a.BV.runKernel(o.ik2,p,h);return c?(0,E.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}});var se=(0,u.op)({conv3dTranspose_:function(e,t,n,r,i){var a=(0,s._1)(e,"x","conv3dTranspose"),o=(0,s._1)(t,"filter","conv3dTranspose");return oe(n,a,o,r,i)}});var ue=(0,u.op)({cos_:function(e){var t={x:(0,s._1)(e,"x","cos","float32")};return a.BV.runKernel(o.mc4,t)}});var ce=(0,u.op)({cosh_:function(e){var t={x:(0,s._1)(e,"x","cosh","float32")};return a.BV.runKernel(o.TR1,t)}});var le=(0,u.op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={x:(0,s._1)(e,"x","cumprod")},u={axis:t,exclusive:n,reverse:r};return a.BV.runKernel(o.Byc,i,u)}});var fe=(0,u.op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={x:(0,s._1)(e,"x","cumsum")},u={axis:t,exclusive:n,reverse:r};return a.BV.runKernel(o.iHb,i,u)}});var de=(0,u.op)({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,s._1)(e,"x","denseBincount"),u=(0,s._1)(t,"weights","denseBincount");d.hu("int32"===i.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(i.dtype)})),d.hu(i.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(i.rank,".")})),d.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),d.hu(u.size===i.size||0===u.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(i.shape,", weights shape: ")+"".concat(u.shape,".")}));var c={x:i,weights:u},l={size:n,binaryOutput:r};return a.BV.runKernel(o.QRR,c,l)}});var pe=(0,u.op)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=(0,s._1)(e,"x","depthToSpace","float32"),i="NHWC"===n?r.shape[1]:r.shape[2],u="NHWC"===n?r.shape[2]:r.shape[3],c="NHWC"===n?r.shape[3]:r.shape[1];d.hu(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),d.hu(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(i," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)})),d.hu(u*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)})),d.hu(c%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(c," for depthToSpace with input shape ").concat(r.shape)}));var l={x:r},f={blockSize:t,dataFormat:n};return a.BV.runKernel(o.T0n,l,f)}});var he=(0,u.op)({depthwiseConv2d_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=(0,s._1)(e,"x","depthwiseConv2d","float32"),f=(0,s._1)(t,"filter","depthwiseConv2d","float32"),p=l,h=!1;3===l.rank&&(h=!0,p=(0,E.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),d.hu(4===p.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(p.rank,".")})),d.hu(4===f.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(f.rank,".")}));var v="NHWC"===i?p.shape[3]:p.shape[1];d.hu(v===f.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(v,") must match the inChannels dimension in ")+"filter ".concat(f.shape[2],".")})),C.m("depthwiseConv2d",r,c);var m={x:p,filter:f},g={strides:n,pad:r,dataFormat:i,dilations:u,dimRoundingMode:c},y=a.BV.runKernel(o.cie,m,g);return h?(0,E.X)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}});var ve=(0,u.op)({diag_:function(e){var t={x:(0,s._1)(e,"x","diag")};return a.BV.runKernel(o.$w,t)}});var me=(0,u.op)({dilation2d_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",c=(0,s._1)(e,"x","dilation2d"),l=(0,s._1)(t,"filter","dilation2d");d.hu(3===c.rank||4===c.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(c.rank,".")})),d.hu(3===l.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(l.rank,".")})),d.hu("NHWC"===u,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(u)}));var f=c,p=!1;3===c.rank&&(f=(0,E.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]),p=!0);var h={x:f,filter:l},v={strides:n,pad:r,dilations:i},m=a.BV.runKernel(o.p4S,h,v);return p?(0,E.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),ge=n(15750),ye=n(45774);var be=(0,u.op)({equal_:function(e,t){var n=(0,s._1)(e,"a","equal","string_or_numeric"),r=(0,s._1)(t,"b","equal","string_or_numeric"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.hdR,c)}});var xe=(0,u.op)({where_:function(e,t,n){var r=(0,s._1)(t,"a","where"),i=(0,s._1)(n,"b","where"),u=(0,s._1)(e,"condition","where","bool"),c=(0,ye.assertAndGetBroadcastShape)((0,ye.assertAndGetBroadcastShape)(u.shape,r.shape),i.shape),l={condition:H(u,c),t:H(r,c),e:H(i,c)};return a.BV.runKernel(o.PhF,l)}}),ke=n(87293);var we=(0,u.op)({divNoNan_:function(e,t){var n=(0,s._1)(e,"a","div"),r=(0,s._1)(t,"b","div"),i=(0,w.makeTypesMatch)(n,r),a=(0,k.Z)(i,2);n=a[0],r=a[1];var o=(0,ge.h)(n,r),u=(0,ke.P)(o),c=be(r,u);return xe(c,u,o)}});var _e=(0,u.op)({dot_:function(e,t){var n=(0,s._1)(e,"t1","dot"),r=(0,s._1)(t,"t2","dot");d.hu((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(d.hu(i===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(i," and ").concat(a,".")})),1===n.rank&&1===r.rank){var o=(0,E.X)(n,[1,-1]),u=(0,E.X)(r,[-1,1]),c=(0,N.O)(o,u);return(0,E.X)(c,[])}if(1===n.rank&&2===r.rank){var l=(0,E.X)(n,[1,-1]),f=(0,E.X)(r,[r.shape[0],r.shape[1]]),p=(0,N.O)(l,f);return(0,E.X)(p,[p.size])}if(2===n.rank&&1===r.rank){var h=(0,E.X)(r,[-1,1]),v=(0,N.O)(n,h);return(0,E.X)(v,[v.size])}var m=(0,E.X)(r,[r.shape[0],r.shape[1]]);return(0,N.O)(n,m)}});var Se=(0,u.op)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map((function(e,t){return(0,s._1)(e,"tensors".concat(t),"einsum")})),u={equation:e};return a.BV.runKernel(o.$g6,i,u)}}),Te=n(52353);var Ce=(0,u.op)({erf_:function(e){var t=(0,s._1)(e,"x","erf");d.hu("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,T.p)(t,"float32"));var n={x:t};return a.BV.runKernel(o.Omj,n)}}),Ee=n(88473);var Oe=(0,u.op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:(0,s._1)(e,"x","max")},i={reductionIndices:t,keepDims:n};return a.BV.runKernel(o.YoZ,r,i)}});var Ae=(0,u.op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:(0,s._1)(e,"x","min")},i={axis:t,keepDims:n};return a.BV.runKernel(o.c17,r,i)}}),Ie=n(44334),Re=n(27067),Ne=n(46902),Pe=n(7391),Me=n(40227);function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return(0,i.W)(e);if(1!==e.rank&&null===n)return De((0,E.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,Me.S)((0,i.W)(e),n);if(t===1/0)return Oe((0,i.W)(e),n);if(t===-1/0)return Ae((0,i.W)(e),n);if("euclidean"===t||2===t)return(0,Ne._)((0,Me.S)((0,Ie.s)((0,i.W)(e),(0,Re.i)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return Oe((0,Me.S)((0,i.W)(e),n[0]),n[1]-1);if(t===1/0)return Oe((0,Me.S)((0,i.W)(e),n[1]),n[0]);if(t===-1/0)return Ae((0,Me.S)((0,i.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,Ne._)((0,Me.S)((0,Pe.h)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var je=(0,u.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=De(e=(0,s._1)(e,"x","norm"),t,n),a=i.shape;if(r){var o=(0,d.EC)(n,e.shape);a=Ee.rv(i.shape,o)}return(0,E.X)(i,a)}});var Le=(0,u.op)({euclideanNorm_:function(e){return je(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});var Fe=(0,u.op)({exp_:function(e){var t={x:(0,s._1)(e,"x","exp")};return a.BV.runKernel(o.NEP,t)}});var Ze=(0,u.op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s._1)(e,"x","expandDims","string_or_numeric");d.hu(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r={input:n},i={dim:t};return a.BV.runKernel(o.YFo,r,i)}});var Be=(0,u.op)({expm1_:function(e){var t={x:(0,s._1)(e,"x","expm1")};return a.BV.runKernel(o.Y0y,t)}});var Ue=(0,u.op)({tile_:function(e,t){var n=(0,s._1)(e,"x","tile","string_or_numeric");d.hu(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var r={x:n},i={reps:t};return a.BV.runKernel(o.n9L,r,i)}});var Ve=(0,u.op)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var i=(0,G.f)([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=(0,E.X)(i.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return Ue(Ze(s,0),[n[0],1,1]);if(2===n.length)return Ue(Ze(Ze(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Ue(Ze(Ze(Ze(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});var ze=(0,u.op)({floor_:function(e){var t={x:(0,s._1)(e,"x","floor","float32")};return a.BV.runKernel(o.OR,t)}}),We=n(67145);var He=(0,u.op)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i={x:(0,s._1)(e,"x","gather"),indices:(0,s._1)(t,"indices","gather","int32")},u={axis:n,batchDims:r};return a.BV.runKernel(o.qi_,i,u)}});var Ge=(0,u.op)({greater_:function(e,t){var n=(0,s._1)(e,"a","greater","string_or_numeric"),r=(0,s._1)(t,"b","greater","string_or_numeric"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.iZT,c)}});var qe=(0,u.op)({greaterEqual_:function(e,t){var n=(0,s._1)(e,"a","greaterEqual","string_or_numeric"),r=(0,s._1)(t,"b","greaterEqual","string_or_numeric"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.Acj,c)}}),Ke=n(76996);var Ye=(0,u.op)({isFinite_:function(e){var t={x:(0,s._1)(e,"x","isFinite")};return a.BV.runKernel(o.avt,t)}});var Xe=(0,u.op)({isInf_:function(e){var t={x:(0,s._1)(e,"x","isInf")};return a.BV.runKernel(o.iWB,t)}});var Qe=(0,u.op)({isNaN_:function(e){var t={x:(0,s._1)(e,"x","isNaN")};return a.BV.runKernel(o.r7n,t)}}),Je=n(74419);var $e=(0,u.op)({less_:function(e,t){var n=(0,s._1)(e,"a","less","string_or_numeric"),r=(0,s._1)(t,"b","less","string_or_numeric"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.vtC,c)}});var et=(0,u.op)({lessEqual_:function(e,t){var n=(0,s._1)(e,"a","lessEqual","string_or_numeric"),r=(0,s._1)(t,"b","lessEqual","string_or_numeric"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.CAk,c)}});function tt(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return a.BV.runKernel(o.e7N,{},r)}var nt=(0,u.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,u=(0,s._1)(e,"x","localResponseNormalization");d.hu(4===u.rank||3===u.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(u.rank,".")})),d.hu(d.GN(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var c=u,l=!1;3===u.rank&&(l=!0,c=(0,E.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));var f={x:c},p={depthRadius:t,bias:n,alpha:r,beta:i},h=a.BV.runKernel(o.eZ0,f,p);return l?(0,E.X)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var rt=(0,u.op)({log_:function(e){var t={x:(0,s._1)(e,"x","log","float32")};return a.BV.runKernel(o.ZbH,t)}});var it=(0,u.op)({log1p_:function(e){var t={x:(0,s._1)(e,"x","log1p")};return a.BV.runKernel(o.kU,t)}}),at=n(66450),ot=n(4362);var st=(0,u.op)({softplus_:function(e){var t={x:(0,s._1)(e,"x","softplus")};return a.BV.runKernel(o.MRv,t)}});var ut=(0,u.op)({logSigmoid_:function(e){var t=(0,s._1)(e,"x","logSigmoid");return(0,at.cb)((function(e){return{value:(0,ot.W)(st((0,ot.W)(e))),gradFunc:function(t){return(0,P.d)(t,(0,M.X)((0,ot.W)(e)))}}}))(t)}}),ct=n(84774);var lt=(0,u.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,s._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var r=(0,at.cb)((function(e,n){var r=Oe(e,t,!0),i=(0,ct.l)(e,r),a=(0,ct.l)((0,T.p)(i,"float32"),rt((0,Me.S)(Fe(i),t,!0)));n([a]);return{value:a,gradFunc:function(e,n){var r=(0,k.Z)(n,1)[0],i=Fe(r);return(0,ct.l)(e,(0,P.d)((0,Me.S)(e,t,!0),i))}}}));return r(n)}});var ft=(0,u.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,s._1)(e,"x","logSumExp"),i=(0,d.EC)(t,r.shape),a=Oe(r,i,!0),o=(0,ct.l)(r,a),u=Fe(o),c=(0,Me.S)(u,i),l=rt(c),p=(0,f.I)((0,E.X)(a,l.shape),l);if(n){var h=(0,Ee.rv)(p.shape,i);return(0,E.X)(p,h)}return p}});var dt=(0,u.op)({logicalAnd_:function(e,t){var n=(0,s._1)(e,"a","logicalAnd","bool"),r=(0,s._1)(t,"b","logicalAnd","bool");(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var i={a:n,b:r};return a.BV.runKernel(o.PYm,i)}});var pt=(0,u.op)({logicalNot_:function(e){var t={x:(0,s._1)(e,"x","logicalNot","bool")};return a.BV.runKernel(o.VfG,t)}});var ht=(0,u.op)({logicalOr_:function(e,t){var n=(0,s._1)(e,"a","logicalOr","bool"),r=(0,s._1)(t,"b","logicalOr","bool");(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var i={a:n,b:r};return a.BV.runKernel(o.MZg,i)}});var vt=(0,u.op)({logicalXor_:function(e,t){var n=(0,s._1)(e,"a","logicalXor","bool"),r=(0,s._1)(t,"b","logicalXor","bool");return(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape),dt(ht(e,t),pt(dt(e,t)))}}),mt=2147483648;var gt=(0,u.op)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=(0,s._1)(e,"sortedSequence","searchSorted"),i=(0,s._1)(t,"values","searchSorted"),u=r.shape[r.shape.length-1],c=i.shape[i.shape.length-1],l=(0,E.X)(r,[-1,u]),f=(0,E.X)(i,[-1,c]);if(l.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(l.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,d.NA)(f.shape)>=mt)throw new Error("values tensor size must less than ".concat(mt));if(l.shape[1]>=mt)throw new Error("trailing dim_size must less than ".concat(mt," for int32 output type, was ").concat(l.shape[1]));var p={sortedSequence:l,values:f},h={side:n};return a.BV.runKernel(o.nr8,p,h)}});function yt(e,t){return gt(e,t,"left")}var bt=(0,u.op)({maxPool_:function(e,t,n,r,i){var u=(0,s._1)(e,"x","maxPool"),c=u,l=!1;3===u.rank&&(l=!0,c=(0,E.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]])),d.hu(4===c.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(c.rank,".")})),d.hu(C.jT(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),C.m("maxPool",r,i);var f={x:c},p={filterSize:t,strides:n,pad:r,dimRoundingMode:i},h=a.BV.runKernel(o.mTV,f,p);return l?(0,E.X)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var xt=(0,u.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",c=(0,s._1)(e,"x","maxPool3d"),l=c,f=!1;4===c.rank&&(f=!0,l=(0,E.X)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),d.hu(5===l.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(l.rank,".")})),d.hu("NDHWC"===u,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(u)})),(0,C.m)("maxPool3d",r,i);var p={x:l},h={filterSize:t,strides:n,pad:r,dimRoundingMode:i,dataFormat:u},v=a.BV.runKernel(o.OAf,p,h);return f?(0,E.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}});var kt=(0,u.op)({maxPoolWithArgmax_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u={x:(0,s._1)(e,"x","maxPoolWithArgmax")},c={filterSize:t,strides:n,pad:r,includeBatchInIndex:i},l=a.BV.runKernel(o.vFR,u,c);return{result:l[0],indexes:l[1]}}}),wt=n(70705);var _t=(0,u.op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:(0,s._1)(e,"x","mean")},i={axis:t,keepDims:n};return a.BV.runKernel(o.q2K,r,i)}});function St(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=St(e,"float32"),r=St(e,"float32");return(0,X.P)(n,r)}var i=(0,d.wT)((0,d.NA)(e),t);return a.BV.makeTensor(i,e,t)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=Tt(e,"float32"),r=St(e,"float32");return(0,X.P)(n,r)}var i=(0,d.p8)((0,d.NA)(e),t);return a.BV.makeTensor(i,e,t)}var Ct=n(4376);function Et(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).indexing,r=void 0===n?"xy":n;if("xy"!==r&&"ij"!==r)throw new TypeError("".concat(r," is not a valid third argument to meshgrid"));if(void 0===e)return[];var i=(0,s._1)(e,"x","meshgrid",e instanceof Ct.es?e.dtype:"float32");if(void 0===t)return[i];var a=(0,s._1)(t,"y","meshgrid",t instanceof Ct.es?t.dtype:"float32"),o=(0,d.NA)(i.shape),u=(0,d.NA)(a.shape);return"xy"===r?(i=(0,E.X)(i,[1,-1]),a=(0,E.X)(a,[-1,1]),[(0,N.O)(Tt([u,1],i.dtype),i),(0,N.O)(a,Tt([1,o],a.dtype))]):(i=(0,E.X)(i,[-1,1]),a=(0,E.X)(a,[1,-1]),[(0,N.O)(i,Tt([1,u],i.dtype)),(0,N.O)(Tt([o,1],a.dtype),a)])}var Ot=(0,u.op)({minimum_:function(e,t){var n=(0,s._1)(e,"a","minimum"),r=(0,s._1)(t,"b","minimum"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],"bool"===n.dtype&&(n=(0,T.p)(n,"int32"),r=(0,T.p)(r,"int32")),(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.q8u,c)}});var At=(0,u.op)({mirrorPad_:function(e,t,n){d.hu("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var r=(0,s._1)(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");d.hu(t.length===r.rank,(function(){return"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")}));for(var i="reflect"===n?1:0,u=function(e){d.hu(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),d.hu(t[e][0]>=0&&t[e][0]<=r.shape[e]-i&&t[e][1]>=0&&t[e][1]<=r.shape[e]-i,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(r.shape[e]-i," or less than 0 for input of ")+"shape ".concat(r.shape)}))},c=0;c<r.rank;c++)u(c);var l={paddings:t,mode:n},f={x:r};return a.BV.runKernel(o.jQs,f,l)}});var It=(0,u.op)({mod_:function(e,t){var n=(0,s._1)(e,"a","mod"),r=(0,s._1)(t,"b","mod"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2),c={a:n=u[0],b:r=u[1]};return a.BV.runKernel(o.Vbg,c)}});var Rt=(0,u.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,s._1)(e,"x","moments");var r=(0,d.EC)(t,e.shape),i=_t(e,r,n),a=i.shape;n||(a=(0,Ee.rv)(i.shape,r));var o=(0,Pe.h)((0,ct.l)((0,T.p)(e,"float32"),(0,E.X)(i,a)));return{mean:i,variance:_t(o,r,n)}}});var Nt=(0,u.op)({multiRNNCell_:function(e,t,n,r){for(var i=(0,s._1)(t,"data","multiRNNCell"),a=(0,s.sI)(n,"c","multiRNNCell"),o=(0,s.sI)(r,"h","multiRNNCell"),u=i,c=[],l=0;l<e.length;l++){var f=e[l](u,a[l],o[l]);c.push(f[0]),c.push(f[1]),u=f[1]}for(var d=[],p=[],h=0;h<c.length;h+=2)d.push(c[h]),p.push(c[h+1]);return[d,p]}});var Pt=(0,u.op)({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,s._1)(e,"logits","multinomial"),u=i.size,c=i.rank;if(u<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(u,"."));if(c>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(c));n=n||Math.random();var l={logits:1===c?(0,E.X)(i,[1,-1]):i},f={numSamples:t,seed:n,normalized:r},d=a.BV.runKernel(o.NZg,l,f);return 1===c?(0,E.X)(d,[d.size]):d}});var Mt=(0,u.op)({notEqual_:function(e,t){var n=(0,s._1)(e,"a","notEqual","string_or_numeric"),r=(0,s._1)(t,"b","notEqual","string_or_numeric"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o.yQU,c)}}),Dt=n(34326);var jt=(0,u.op)({onesLike_:function(e){var t={x:(0,s._1)(e,"x","onesLike")};return a.BV.runKernel(o.qWM,t)}});var Lt=(0,u.op)({outerProduct_:function(e,t){var n=(0,s._1)(e,"v1","outerProduct"),r=(0,s._1)(t,"v2","outerProduct");d.hu(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=(0,E.X)(n,[-1,1]),a=(0,E.X)(r,[1,-1]);return(0,N.O)(i,a)}});var Ft=(0,u.op)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,s._1)(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n},u={x:r};return a.BV.runKernel(o.lyA,u,i)}});var Zt=(0,u.op)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.hu)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Ft(e,[t],n)}});var Bt=(0,u.op)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Ft(e,t,n)}});var Ut=(0,u.op)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Ft(e,t,n)}});var Vt=(0,u.op)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Ft(e,t,n)}});var zt=(0,u.op)({spaceToBatchND_:function(e,t,n){var r=(0,s._1)(e,"x","spaceToBatchND");d.hu(r.rank>=1+t.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)})),d.hu(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),d.hu(r.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var i={x:r},u={blockShape:t,paddings:n};return a.BV.runKernel(o.TQc,i,u)}});var Wt=(0,u.op)({pool_:function(e,t,n,r,i,a,o){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var u=(0,s._1)(e,"x","maxPool"),c=u,l=!1;3===u.rank&&(l=!0,c=(0,E.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]])),d.hu(C.jT(a,i),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(i,"'")}));var f,p=C.Xw(c.shape,t,a,i,r),h=[p.dilationHeight,p.dilationWidth];f="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})),r=n.map((function(e){return e-1})),i=r.map((function(e){return Math.floor(e/2)})),a=r.map((function(e,t){return e-i[t]}));return r.map((function(e,t){return[i[t],a[t]]}))}([p.filterHeight,p.filterWidth],h):[[0,0],[0,0]];var v=1===h[0]&&1===h[1],m=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),c=t.map((function(e,t){return[0,o[t]]}));return[u,c]}([p.inHeight,p.inWidth],h,f),g=(0,k.Z)(m,2),y=g[0],b=g[1],x=v?r:"valid",w=v?c:zt(c,h,y),_=("avg"===n?function(){return O(w,t,a,x,o)}:function(){return bt(w,t,a,x,o)})(),S=v?_:F(_,h,b);return l?(0,E.X)(S,[S.shape[1],S.shape[2],S.shape[3]]):S}}),Ht=n(96859),Gt=n(64600);var qt=(0,u.op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,s._1)(e,"x","prod");"bool"===r.dtype&&(r=(0,T.p)(r,"int32"));var i={x:r},u={axis:t,keepDims:n};return a.BV.runKernel(o.DlI,i,u)}});var Kt=(0,u.op)({raggedGather_:function(e,t,n,r){var i={paramsNestedSplits:e.map((function(e,t){return(0,s._1)(e,"tensors".concat(t),"raggedGather","int32")})),paramsDenseValues:(0,s._1)(t,"paramsDenseValues","raggedGather"),indices:(0,s._1)(n,"indices","raggedGather","int32")},u={outputRaggedRank:r},c=a.BV.runKernel(o.dDz,i,u);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}});var Yt=(0,u.op)({raggedTensorToTensor_:function(e,t,n,r,i){var u=(0,s._1)(e,"shape","raggedTensorToTensor","int32"),c=(0,s._1)(t,"values","raggedTensorToTensor"),l={shape:u,values:c,defaultValue:(0,s._1)(n,"defaultValue","raggedTensorToTensor",c.dtype),rowPartitionTensors:r.map((function(e,t){return(0,s._1)(e,"tensors".concat(t),"raggedTensorToTensor","int32")}))},f={rowPartitionTypes:i};return a.BV.runKernel(o.BiW,l,f)}});var Xt=(0,u.op)({rand_:function(e,t,n){var r=(0,d.NA)(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=t();return a.BV.makeTensor(i,e,n)}}),Qt=n(15671),Jt=n(43144),$t=n(96699),en=function(){function e(t,n,r,i,a){(0,Qt.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=a||Math.random();this.random=$t.alea(o.toString())}return(0,Jt.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),tn=function(){function e(t,n,r,i){(0,Qt.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var a=i||Math.random();this.randu=$t.alea(a.toString()),this.randn=new en(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,Jt.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),nn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if((0,Qt.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=i,null==a&&(a=Math.random()),"number"===typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=$t.alea(a)}return(0,Jt.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var rn=(0,u.op)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var a=new tn(t,n,r,i),o=(0,G.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var an=(0,u.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var a=new en(t,n,r,!1,i),o=(0,G.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var on=(0,u.op)({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return an(e,0,1,t,n)}});var sn=(0,u.op)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0,a=(0,G.f)(e,r),o=new nn(t,n,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}});function un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var i={start:e,stop:t,step:n,dtype:r};return a.BV.runKernel(o.e6w,{},i)}var cn=n(26972);var ln=(0,u.op)({reciprocal_:function(e){var t={x:(0,s._1)(e,"x","reciprocal")};return a.BV.runKernel(o.$HU,t)}}),fn=n(17539),dn=n(65900);var pn=(0,u.op)({reverse_:function(e,t){var n={x:(0,s._1)(e,"x","reverse")},r={dims:t};return a.BV.runKernel(o.mKl,n,r)}});var hn=(0,u.op)({reverse1d_:function(e){var t=(0,s._1)(e,"x","reverse");return d.hu(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),pn(t,0)}});var vn=(0,u.op)({reverse2d_:function(e,t){var n=(0,s._1)(e,"x","reverse");return d.hu(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),pn(n,t)}});var mn=(0,u.op)({reverse3d_:function(e,t){var n=(0,s._1)(e,"x","reverse");return d.hu(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),pn(n,t)}});var gn=(0,u.op)({reverse4d_:function(e,t){var n=(0,s._1)(e,"x","reverse");return d.hu(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),pn(n,t)}});var yn=(0,u.op)({round_:function(e){var t={x:(0,s._1)(e,"x","round")};return a.BV.runKernel(o.e07,t)}});var bn=(0,u.op)({rsqrt_:function(e){var t={x:(0,s._1)(e,"x","rsqrt","float32")};return a.BV.runKernel(o.bV0,t)}});var xn=(0,u.op)({selu_:function(e){var t={x:(0,s._1)(e,"x","selu")};return a.BV.runKernel(o.oFR,t)}});var kn=(0,u.op)({separableConv2d_:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",u=(0,s._1)(e,"x","separableConv2d"),c=(0,s._1)(t,"depthwiseFilter","separableConv2d"),l=(0,s._1)(n,"pointwiseFilter","separableConv2d"),f=u,p=!1;if(3===u.rank&&(p=!0,f=(0,E.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");d.hu(4===f.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,".")})),d.hu(4===c.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(c.rank,".")})),d.hu(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(c.rank,".")})),d.hu(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(l.shape[0],".")})),d.hu(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(l.shape[1],".")}));var h=c.shape[2],v=c.shape[3];d.hu(l.shape[2]===h*v,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*v,", ")+"but got ".concat(l.shape[2],".")}));var m=he(f,c,r,i,o,a),g=te(m,l,1,"valid",o);return p?(0,E.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}}),wn=n(74165),_n=n(15861);function Sn(){return Sn=(0,_n.Z)((0,wn.Z)().mark((function e(t,n){var r,i,a,o,u,c,l,f,p,h,v;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s._1)(t,"x","setdiff1d"),i=(0,s._1)(n,"y","setdiff1d"),d.hu(r.dtype===i.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(i.dtype,").")})),d.hu(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),d.hu(1===i.rank,(function(){return"y should be 1D tensor, but got y (".concat(i.shape,").")})),e.next=7,r.data();case 7:return a=e.sent,e.next=10,i.data();case 10:for(o=e.sent,u=new Set(o),c=0,l=0;l<a.length;l++)u.has(a[l])||c++;for(f=new Ct.YD([c],r.dtype),p=new Ct.YD([c],"int32"),h=0,v=0;h<a.length;h++)u.has(a[h])||(f.values[v]=a[h],p.values[v]=h,v++);return e.abrupt("return",[f.toTensor(),p.toTensor()]);case 18:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}var Tn=function(e,t){return Sn.apply(this,arguments)};var Cn=(0,u.op)({sign_:function(e){var t={x:(0,s._1)(e,"x","sign")};return a.BV.runKernel(o.i5y,t)}});var En=(0,u.op)({sin_:function(e){var t={x:(0,s._1)(e,"x","sin","float32")};return a.BV.runKernel(o.RQH,t)}});var On=(0,u.op)({sinh_:function(e){var t={x:(0,s._1)(e,"x","sinh")};return a.BV.runKernel(o.wYB,t)}});var An=(0,u.op)({slice1d_:function(e,t,n){var r=(0,s._1)(e,"x","slice1d");return d.hu(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),D(r,[t],[n])}});var In=(0,u.op)({slice2d_:function(e,t,n){var r=(0,s._1)(e,"x","slice2d");return d.hu(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),D(r,t,n)}});var Rn=(0,u.op)({slice3d_:function(e,t,n){var r=(0,s._1)(e,"x","slice3d");return d.hu(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),D(r,t,n)}});var Nn=(0,u.op)({slice4d_:function(e,t,n){var r=(0,s._1)(e,"x","slice4d");return d.hu(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),D(r,t,n)}});var Pn=(0,u.op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,s._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var r={logits:n},i={dim:t};return a.BV.runKernel(o.Gcp,r,i)}});var Mn=(0,u.op)({fft_:function(e){(0,d.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return a.BV.runKernel(o.vwp,t)}});var Dn=(0,u.op)({ifft_:function(e){(0,d.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return a.BV.runKernel(o.Qg5,t)}});var jn=(0,u.op)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],r=e.size/n;if(n<=2){var i=(0,E.X)(e,[r,n]);t=Dn(i)}else{var a=[r,2*(n-1)],o=(0,E.X)((0,cn.k)(e),[r,n]),s=(0,E.X)((0,Ke.a)(e),[r,n]),u=pn(D(o,[0,1],[r,n-2]),1),c=(0,P.d)(pn(D(s,[0,1],[r,n-2]),1),(0,Re.i)(-1)),l=R([o,u],1),f=R([s,c],1),d=(0,E.X)((0,X.P)(l,f),[a[0],a[1]]);t=Dn(d)}if(t=(0,cn.k)(t),3===e.rank&&0!==e.shape[0]){var p=t,h=e.shape[0];t=(0,E.X)(t,[h,t.shape[0]/h,t.shape[1]]),p.dispose()}return t}});var Ln=(0,u.op)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={x:(0,s._1)(e,"x","split")},i={numOrSizeSplits:t,axis:n};return a.BV.runKernel(o.L8s,r,i)}});var Fn=(0,u.op)({rfft_:function(e,t){(0,d.hu)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var a=e.shape.map((function(e){return 0})),o=e.shape.map((function(e){return e}));o[e.shape.length-1]=t,n=D(e,a,o),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=R([e,St(s)],e.shape.length-1),r=t}else n=e;var u=(0,ke.P)(n),c=(0,E.X)((0,X.P)(n,u),[i,r]),l=Mn(c),f=Math.floor(r/2)+1,p=(0,cn.k)(l),h=(0,Ke.a)(l),v=Ln(p,[f,r-f],p.shape.length-1),m=Ln(h,[f,r-f],h.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=f,(0,E.X)((0,X.P)(v[0],m[0]),g)}});var Zn=(0,u.op)({squaredDifference_:function(e,t){var n=(0,s._1)(e,"a","squaredDifference"),r=(0,s._1)(t,"b","squaredDifference"),i=(0,w.makeTypesMatch)(n,r),u=(0,k.Z)(i,2);n=u[0],r=u[1],(0,ye.assertAndGetBroadcastShape)(n.shape,r.shape);var c={a:n,b:r};return a.BV.runKernel(o._tC,c,{})}});var Bn=(0,u.op)({squeeze_:function(e,t){var n=(0,s._1)(e,"x","squeeze","string_or_numeric");return(0,E.X)(n,(0,d.bp)(n.shape,t).newShape)}});var Un=(0,u.op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s.sI)(e,"tensors","stack","string_or_numeric");d.hu(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&d.hu(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n,i={axis:t};return a.BV.runKernel(o.QiL,r,i)}}),Vn=n(94031);var zn=(0,u.op)({stridedSlice_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d={x:(0,s._1)(e,"x","stridedSlice","string_or_numeric")},p={begin:t,end:n,strides:r,beginMask:i,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:f};return a.BV.runKernel(o.jQk,d,p)}});var Wn=(0,u.op)({tan_:function(e){var t={x:(0,s._1)(e,"x","tan","float32")};return a.BV.runKernel(o.sEM,t)}}),Hn=n(72442),Gn=n(77960);function qn(e,t){(0,d.Cq)(e);var n=(0,s.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,Gn.H)(e,null,n,t)}function Kn(e,t,n){if((0,d.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=(0,s.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,Gn.H)(e,t,r,n)}var Yn=n(73123);function Xn(e,t,n){if((0,d.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=(0,s.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,Gn.H)(e,t,r,n)}function Qn(e,t,n){if((0,d.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=(0,s.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,Gn.H)(e,t,r,n)}function Jn(e,t,n){if((0,d.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=(0,s.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,Gn.H)(e,t,r,n)}var $n=(0,u.op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,s._1)(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(i,") ")+"but got ".concat(t));var u={x:r},c={k:t,sorted:n},l=a.BV.runKernel(o.cWu,u,c),f=(0,k.Z)(l,2);return{values:f[0],indices:f[1]}}});var er=(0,u.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var a=new en(t,n,r,!0,i),o=(0,G.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var tr=(0,u.op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s._1)(e,"x","unique","string_or_numeric");(0,d.hu)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:n},i={axis:t},u=a.BV.runKernel(o.kpP,r,i),c=(0,k.Z)(u,2);return{values:c[0],indices:c[1]}}});var nr=(0,u.op)({unsortedSegmentSum_:function(e,t,n){var r=(0,s._1)(e,"x","unsortedSegmentSum"),i=(0,s._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,d.hu)((0,d.GN)(n),(function(){return"numSegments must be of dtype int"}));var u={x:r,segmentIds:i},c={numSegments:n};return a.BV.runKernel(o.Qvg,u,c)}});var rr=(0,u.op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s._1)(e,"x","unstack","string_or_numeric");d.hu(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var r={value:n},i={axis:t};return a.BV.runKernel(o.ToN,r,i)}});function ir(e,t){return gt(e,t,"right")}function ar(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return a.BV.makeVariable(e,t,n,r)}var or=n(24189);function sr(){return(sr=(0,_n.Z)((0,wn.Z)().mark((function e(t){var n,r,i;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,s._1)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,i=(0,or.Z)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ur=function(e){return sr.apply(this,arguments)};function cr(){return cr=(0,_n.Z)((0,wn.Z)().mark((function e(t,n,r){var i,a,o,u,c,l,f,p,h,v,m,g,y;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=(0,s._1)(t,"tensor","boolMask"),a=(0,s._1)(n,"mask","boolMask","bool"),o=null==r?0:r,u=a.rank,c=i.shape,d.hu(u>0,(function(){return"mask cannot be scalar"})),d.k5(c.slice(o,o+u),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,f=o;f<o+u;f++)l*=c[f];return p=c.slice(0,o).concat([l],c.slice(o+u)),h=(0,E.X)(i,p),v=(0,E.X)(a,[-1]),e.next=14,ur(v);case 14:return m=e.sent,g=Bn(m,[1]),y=He(h,g,o),t!==i&&i.dispose(),n!==a&&a.dispose(),g.dispose(),h.dispose(),v.dispose(),m.dispose(),e.abrupt("return",y);case 24:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}var lr=function(e,t,n){return cr.apply(this,arguments)},fr=n(61240);var dr=(0,u.op)({movingAverage_:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=(0,s._1)(e,"v","movingAverage"),o=(0,s._1)(t,"x","movingAverage"),u=(0,s._1)(n,"decay","movingAverage");(0,w.assertTypesMatch)(a,o),d.hu(d.cO(a.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var c=(0,Re.i)(1),l=(0,ct.l)(c,u),p=(0,P.d)((0,ct.l)(o,a),l);if(i){d.hu(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var h=(0,s._1)(r,"step","movingAverage");p=(0,ge.h)(p,(0,ct.l)(c,(0,Ie.s)(u,h)))}return(0,f.I)(a,p)}}),pr=n(48604);var hr=(0,u.op)({scatterND_:function(e,t,n){var r=(0,s._1)(e,"indices","scatterND","int32"),i=(0,s._1)(t,"updates","scatterND");pr.validateInput(i,r,n);var u={indices:r,updates:i},c={shape:n};return a.BV.runKernel(o.xQA,u,c)}});var vr=(0,u.op)({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=(0,s._1)(e,"sparseIndices","sparseToDense","int32"),u=(0,s._1)(t,"sparseValues","sparseToDense","string_or_numeric"),c=(0,s._1)(r,"defaultValue","sparseToDense",u.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(a,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(i,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,u,n,c);var l={sparseIndices:i,sparseValues:u,defaultValue:c},f={outputShape:n};return a.BV.runKernel(o.D2d,l,f)}});var mr=(0,u.op)({gatherND_:function(e,t){var n=(0,s._1)(t,"indices","gatherND","int32"),r={params:(0,s._1)(e,"x","gatherND","string_or_numeric"),indices:n};return a.BV.runKernel(o.q1x,r)}});var gr=(0,u.op)({dropout_:function(e,t,n,r){var i=(0,s._1)(e,"x","dropout");if(d.hu("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(i.dtype," tensor instead.")})),d.hu(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof Ct.es?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(d.cO(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,u=(0,ge.h)(ze((0,f.I)(sn(a,0,1,"float32",r),o)),o);return(0,P.d)(i,u)}});function yr(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function br(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return qn(i,"float32")}function xr(){return xr=(0,_n.Z)((0,wn.Z)().mark((function e(t,n){var r,i,a,o,u,c,l,f,p,h,v,m,g,y,b,x=arguments;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.length>2&&void 0!==x[2]?x[2]:1,i=(0,s._1)(t,"predictions","inTopK"),a=(0,s._1)(n,"targets","inTopK"),(0,d.hu)(i.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)})),(0,d.hu)(i.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(a.rank)})),(0,d.k5)(i.shape.slice(0,i.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=i.shape[i.shape.length-1],(0,d.hu)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,i.data();case 10:return u=e.sent,e.next=13,a.data();case 13:c=e.sent,l=u.length/o,f=o,p=(0,d.WP)("bool",l),h=0;case 17:if(!(h<l)){e.next=35;break}for(v=h*f,m=u.subarray(v,v+f),g=[],y=0;y<m.length;y++)g.push({value:m[y],index:y});g.sort((function(e,t){return t.value-e.value})),p[h]=0,b=0;case 25:if(!(b<r)){e.next=32;break}if(g[b].index!==c[h]){e.next=29;break}return p[h]=1,e.abrupt("break",32);case 29:b++,e.next=25;break;case 32:h++,e.next=17;break;case 35:return t!==i&&i.dispose(),n!==a&&a.dispose(),e.abrupt("return",(0,Hn.X)(p,a.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}var kr=function(e,t){return xr.apply(this,arguments)};var wr=(0,u.op)({conv2DBackpropFilter_:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",u=arguments.length>6?arguments[6]:void 0,c=e;3===e.rank&&(c=(0,E.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l=t;3===l.rank&&(l=(0,E.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),d.hu(4===c.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(c.shape,".")})),d.hu(4===l.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,".")})),d.hu(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var f="NHWC"===s?c.shape[3]:c.shape[1],p="NHWC"===s?l.shape[3]:l.shape[1];d.hu(f===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(f,") must ")+"match input depth in filter (".concat(n[2],".")})),d.hu(p===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(p,") must ")+"match output depth for filter (".concat(n[3],").")})),C.m("conv2dDerFilter",i,u);var h={x:c,dy:l},v={strides:r,pad:i,dataFormat:s,dimRoundingMode:u,filterShape:n};return a.BV.runKernel(o.wUP,h,v)}}),_r=n(5171);var Sr=(0,u.op)({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,u=e.dataFormat,c=void 0===u?"NHWC":u,l=e.dilations,p=void 0===l?[1,1]:l,h=e.dimRoundingMode,v=e.bias,m=e.activation,g=void 0===m?"linear":m,y=e.preluActivationWeights,b=e.leakyreluAlpha;if(g=g||"linear",!1===(0,_r.uy)(a.BV.state.gradientDepth,g)){d.hu("NHWC"===c,(function(){return"Error in fused conv2d: got dataFormat of ".concat(c," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."}));var x=te(t,n,r,i,c,p,h);return null!=v&&(x=(0,f.I)(x,v)),(0,_r.QH)(x,g,y,b)}var _=(0,s._1)(t,"x","conv2d","float32"),S=(0,s._1)(n,"filter","conv2d","float32"),T=_,O=!1;3===_.rank&&(O=!0,T=(0,E.X)(_,[1,_.shape[0],_.shape[1],_.shape[2]])),d.hu(4===T.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(T.rank,".")})),d.hu(4===S.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(S.rank,".")})),C.m("fused conv2d",i,h);var A="NHWC"===c?T.shape[3]:T.shape[1];d.hu(S.shape[2]===A,(function(){return"Error in conv2d: depth of input (".concat(A,") must match ")+"input depth for filter ".concat(S.shape[2],".")})),d.hu(C.jT(r,p),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(p,"'")}));var I,R,N=C.Ix(T.shape,S.shape,r,p,i,h);if(null!=v){I=(0,s._1)(v,"bias","fused conv2d");var P=(0,w.makeTypesMatch)(I,_),M=(0,k.Z)(P,1);I=M[0],"NHWC"===c?ye.assertAndGetBroadcastShape(N.outShape,I.shape):(d.hu(I.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(I.shape.length,".")})),d.hu(0===I.shape.length||I.shape[0]===N.outChannels||1===I.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(I.shape,") is not ")+"compatible with the number of output channels "+"(".concat(N.outChannels,")")})))}if(null!=y){var D=y.shape;if(d.hu(D.length<=1||3===D.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(D.length,".")})),1===D.length)d.hu(1===D[0]||D[0]===N.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(D,") is not compatible with the number of output ")+"channels (".concat(N.outChannels,").")}));else if(3===D.length)try{ye.assertAndGetBroadcastShape(D,N.outShape)}catch(U){var j="Error in fused conv2d: PReLU activation weights (".concat(D,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(N.outShape,").");throw Error(j)}R=(0,s._1)(y,"prelu weights","fused conv2d")}var L=function(e,t){d.hu("NHWC"===c,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(c," but only NHWC is currently supported.")}));var n=(0,k.Z)(t,4),a=n[0],o=n[1],s=n[2],u=n[3],l=(0,_r.Fr)(e,s,g);d.hu(C.I0(p),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(p,"'")}));var f=[re(o.shape,l,a,r,i),wr(o,l,a.shape,r,i)];if(null!=u){var h=(0,_r.pf)(u,l);f.push(h)}return f},F={x:T,filter:S,bias:I,preluActivationWeights:R},Z={strides:r,pad:i,dataFormat:c,dilations:p,dimRoundingMode:h,activation:g,leakyreluAlpha:b};if(null==v){var B=(0,at.cb)((function(e,t,n){var r=a.BV.runKernel(o._V0,F,Z);return n([t,e,r]),O&&(r=(0,E.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:L}}));return B(T,S)}return(0,at.cb)((function(e,t,n,r){var i=a.BV.runKernel(o._V0,F,Z);return r([t,e,i,n]),O&&(i=(0,E.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:L}}))(T,S,I)}});var Tr=(0,u.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,c=e;3===e.rank&&(c=(0,E.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l=t;3===l.rank&&(l=(0,E.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={x:c,dy:l},d={strides:r,pad:i,dimRoundingMode:u,dilations:s,filterShape:n};return a.BV.runKernel(o.sL$,f,d)}});var Cr=(0,u.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,c=t,l=!1;3===t.rank&&(l=!0,c=(0,E.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={dy:c,filter:n},d={strides:r,pad:i,dimRoundingMode:u,dilations:s,inputShape:e},p=a.BV.runKernel(o.y7R,f,d);return l?(0,E.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var Er=(0,u.op)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,u=e.dataFormat,c=void 0===u?"NHWC":u,l=e.dilations,p=void 0===l?[1,1]:l,h=e.dimRoundingMode,v=e.bias,m=e.activation,g=void 0===m?"linear":m,y=e.preluActivationWeights,b=e.leakyreluAlpha;if(!1===(0,_r.uy)(a.BV.state.gradientDepth,g)){var x=he(t,n,r,i,c,p,h);return null!=v&&(x=(0,f.I)(x,v)),(0,_r.QH)(x,g,y,b)}var _=(0,s._1)(t,"x","depthwiseConv2d","float32"),S=(0,s._1)(n,"filter","depthwiseConv2d","float32"),T=_,O=!1;3===_.rank&&(O=!0,T=(0,E.X)(_,[1,_.shape[0],_.shape[1],_.shape[2]])),d.hu(4===T.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(T.rank,".")})),d.hu(4===S.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(S.rank,".")})),d.hu(T.shape[3]===S.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(T.shape[3],") must match the inChannels dimension in ")+"filter ".concat(S.shape[2],".")})),null==p&&(p=[1,1]),d.hu(C.jT(r,p),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(p,"'")})),C.m("fused depthwiseConv2d",i,h);var A,I,R=C.Ix(T.shape,S.shape,r,p,i,h,!0);if(null!=v){A=(0,s._1)(v,"bias","fused conv2d");var N=(0,w.makeTypesMatch)(A,_),P=(0,k.Z)(N,1);A=P[0],ye.assertAndGetBroadcastShape(R.outShape,A.shape)}null!=y&&(I=(0,s._1)(y,"prelu weights","fused depthwiseConv2d"));var M=function(e,t){d.hu(C.I0(p),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(p,"'")}));var n=(0,k.Z)(t,4),a=n[0],o=n[1],s=n[2],u=n[3],c=(0,_r.Fr)(e,s,g),l=Cr(o.shape,c,a,r,i,p,h),f=Tr(o,c,a.shape,r,i,p,h);return null!=u?[l,f,(0,_r.pf)(A,c)]:[l,f]},D={x:T,filter:S,bias:A,preluActivationWeights:I},j={strides:r,pad:i,dataFormat:c,dilations:p,dimRoundingMode:h,activation:g,leakyreluAlpha:b};if(null==v){var L=(0,at.cb)((function(e,t,n){var r=a.BV.runKernel(o.luS,D,j);return n([t,e,r]),O&&(r=(0,E.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:M}}));return L(T,S)}return(0,at.cb)((function(e,t,n,r){var i=a.BV.runKernel(o.luS,D,j);return r([t,e,i,n]),O&&(i=(0,E.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:M}}))(T,S,A)}});var Or=(0,u.op)({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,i=void 0!==r&&r,u=e.transposeB,c=void 0!==u&&u,l=e.bias,p=e.activation,h=void 0===p?"linear":p,v=e.preluActivationWeights,m=e.leakyreluAlpha,g=void 0===m?.2:m;if(!1===(0,_r.uy)(a.BV.state.gradientDepth,h)){var y=(0,N.O)(t,n,i,c);return null!=l&&(y=(0,f.I)(y,l)),(0,_r.QH)(y,h,v,g)}var b=(0,s._1)(t,"a","fused matMul"),x=(0,s._1)(n,"b","fused matMul"),_=(0,w.makeTypesMatch)(b,x),S=(0,k.Z)(_,2);b=S[0],x=S[1];var T=i?b.shape[b.rank-2]:b.shape[b.rank-1],C=c?x.shape[x.rank-1]:x.shape[x.rank-2],O=i?b.shape[b.rank-1]:b.shape[b.rank-2],A=c?x.shape[x.rank-2]:x.shape[x.rank-1],I=b.shape.slice(0,-2),R=x.shape.slice(0,-2),P=d.NA(I),M=d.NA(R);d.hu(T===C,(function(){return"Error in fused matMul: inner shapes (".concat(T,") and (")+"".concat(C,") of Tensors with shapes ").concat(b.shape," and ")+"".concat(x.shape," and transposeA=").concat(i)+" and transposeB=".concat(c," must match.")}));var D,j,L=ye.assertAndGetBroadcastShape(b.shape.slice(0,-2),x.shape.slice(0,-2)).concat([O,A]),F=i?(0,E.X)(b,[P,T,O]):(0,E.X)(b,[P,O,T]),Z=c?(0,E.X)(x,[M,A,C]):(0,E.X)(x,[M,C,A]);if(null!=l){D=(0,s._1)(l,"bias","fused matMul");var B=(0,w.makeTypesMatch)(D,b);D=(0,k.Z)(B,1)[0],ye.assertAndGetBroadcastShape(L,D.shape)}null!=v&&(j=(0,s._1)(v,"prelu weights","fused matMul"));var U=function(e,t){var n,r,a=(0,k.Z)(t,4),o=a[0],s=a[1],u=a[2],f=a[3],d=(0,_r.Fr)((0,E.X)(e,u.shape),u,h);return i||c?!i&&c?(n=(0,N.O)(d,s,!1,!1),r=(0,N.O)(d,o,!0,!1)):i&&!c?(n=(0,N.O)(s,d,!1,!0),r=(0,N.O)(o,d,!1,!1)):(n=(0,N.O)(s,d,!0,!0),r=(0,N.O)(d,o,!0,!0)):(n=(0,N.O)(d,s,!1,!0),r=(0,N.O)(o,d,!0,!1)),null!=l?[n,r,(0,_r.pf)(f,d)]:[n,r]},V={a:F,b:Z,bias:D,preluActivationWeights:j},z={transposeA:i,transposeB:c,activation:h,leakyreluAlpha:g};if(null==l){var W=(0,at.cb)((function(e,t,n){var r=a.BV.runKernel(o.usg,V,z);return n([e,t,r]),{value:(0,E.X)(r,L),gradFunc:U}}));return W(F,Z)}return(0,at.cb)((function(e,t,n,r){var i=a.BV.runKernel(o.usg,V,z);return r([e,t,i,n]),{value:(0,E.X)(i,L),gradFunc:U}}))(F,Z,D)}});var Ar=(0,u.op)({hammingWindow_:function(e){return br(e,.54,.46)}});var Ir=(0,u.op)({hannWindow_:function(e){return br(e,.5,.5)}});var Rr=(0,u.op)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0,o=[];a+t<=e.size;)o.push(D(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=R([D(e,a,t-s),(0,K.h)([s],i)]);o.push(u),a+=n}return 0===o.length?Kn([],[0,t]):(0,E.X)(R(o),[o.length,t])}});var Nr=(0,u.op)({stft_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ir;null==r&&(r=yr(t));var a=Rr(e,t,n),o=(0,P.d)(a,i(t));return Fn(o,r)}});var Pr=(0,u.op)({cropAndResize_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=(0,s._1)(e,"image","cropAndResize"),l=(0,s._1)(t,"boxes","cropAndResize","float32"),f=(0,s._1)(n,"boxInd","cropAndResize","int32"),p=l.shape[0];d.hu(4===c.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(c.rank,".")})),d.hu(2===l.rank&&4===l.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(p,",4] ")+"but had shape ".concat(l.shape,".")})),d.hu(1===f.rank&&f.shape[0]===p,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(p,"] ")+"but had shape ".concat(l.shape,".")})),d.hu(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),d.hu(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),d.hu("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was ".concat(i)}));var h={image:c,boxes:l,boxInd:f},v={method:i,extrapolationValue:u,cropSize:r};return a.BV.runKernel(o.VcC,h,v)}});var Mr=(0,u.op)({flipLeftRight_:function(e){var t=(0,s._1)(e,"image","flipLeftRight","float32");d.hu(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return a.BV.runKernel(o.Uyb,n,{})}});var Dr=(0,u.op)({grayscaleToRGB_:function(e){var t=(0,s._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];d.hu(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),d.hu(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,Ue(t,i)}});var jr=(0,u.op)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=(0,s._1)(e,"image","rotateWithOffset","float32");d.hu(4===i.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(i.rank,".")}));var u={image:i},c={radians:t,fillValue:n,center:r};return a.BV.runKernel(o.b9H,u,c)}});function Lr(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),d.hu(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),d.hu(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),d.hu(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),d.hu(1===t.rank,(function(){return"scores must be a 1D tensor"})),d.hu(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),d.hu(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(a,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var Fr=(0,u.op)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,u=(0,s._1)(e,"boxes","nonMaxSuppression","float32"),c=(0,s._1)(t,"scores","nonMaxSuppression","float32"),l=Lr(u,c,n,r,i),f={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold};return a.BV.runKernel(o.uv1,{boxes:u,scores:c},f)}}),Zr=n(60745);function Br(){return Br=(0,_n.Z)((0,wn.Z)().mark((function e(t,n,r){var i,a,o,u,c,l,f,d,p,h,v=arguments;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>3&&void 0!==v[3]?v[3]:.5,a=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,o=(0,s._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,s._1)(n,"scores","nonMaxSuppressionAsync"),c=Lr(o,u,r,i,a),r=c.maxOutputSize,i=c.iouThreshold,a=c.scoreThreshold,e.next=10,Promise.all([o.data(),u.data()]);case 10:return l=e.sent,f=l[0],d=l[1],p=(0,Zr.GP)(f,d,r,i,a),h=p.selectedIndices,o!==t&&o.dispose(),u!==n&&u.dispose(),e.abrupt("return",qn(h,"int32"));case 17:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}var Ur=function(e,t,n){return Br.apply(this,arguments)};var Vr=(0,u.op)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=(0,s._1)(e,"boxes","nonMaxSuppression"),l=(0,s._1)(t,"scores","nonMaxSuppression"),f=Lr(c,l,n,r,i,u),d={boxes:c,scores:l},p={maxOutputSize:n=f.maxOutputSize,iouThreshold:r=f.iouThreshold,scoreThreshold:i=f.scoreThreshold,softNmsSigma:u=f.softNmsSigma},h=a.BV.runKernel(o.W0H,d,p);return{selectedIndices:h[0],selectedScores:h[1]}}});function zr(){return zr=(0,_n.Z)((0,wn.Z)().mark((function e(t,n,r){var i,a,o,u,c,l,f,d,p,h,v,m,g=arguments;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.length>3&&void 0!==g[3]?g[3]:.5,a=g.length>4&&void 0!==g[4]?g[4]:Number.NEGATIVE_INFINITY,o=g.length>5&&void 0!==g[5]?g[5]:0,u=(0,s._1)(t,"boxes","nonMaxSuppressionAsync"),c=(0,s._1)(n,"scores","nonMaxSuppressionAsync"),l=Lr(u,c,r,i,a,o),r=l.maxOutputSize,i=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma,e.next=12,Promise.all([u.data(),c.data()]);case 12:return f=e.sent,d=f[0],p=f[1],h=(0,Zr.pA)(d,p,r,i,a,o),v=h.selectedIndices,m=h.selectedScores,u!==t&&u.dispose(),c!==n&&c.dispose(),e.abrupt("return",{selectedIndices:qn(v,"int32"),selectedScores:qn(m)});case 19:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}var Wr=function(e,t,n){return zr.apply(this,arguments)};var Hr=(0,u.op)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=(0,s._1)(e,"boxes","nonMaxSuppression"),l=(0,s._1)(t,"scores","nonMaxSuppression"),f=Lr(c,l,n,r,i,null),d={boxes:c,scores:l},p={maxOutputSize:f.maxOutputSize,iouThreshold:f.iouThreshold,scoreThreshold:f.scoreThreshold,padToMaxOutputSize:u},h=a.BV.runKernel(o.cye,d,p);return{selectedIndices:h[0],validOutputs:h[1]}}});function Gr(){return Gr=(0,_n.Z)((0,wn.Z)().mark((function e(t,n,r){var i,a,o,u,c,l,f,d,p,h,v,m,g,y,b,x,w=arguments;return(0,wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=w.length>3&&void 0!==w[3]?w[3]:.5,a=w.length>4&&void 0!==w[4]?w[4]:Number.NEGATIVE_INFINITY,o=w.length>5&&void 0!==w[5]&&w[5],u=(0,s._1)(t,"boxes","nonMaxSuppressionAsync"),c=(0,s._1)(n,"scores","nonMaxSuppressionAsync"),l=Lr(u,c,r,i,a,null),f=l.maxOutputSize,d=l.iouThreshold,p=l.scoreThreshold,e.next=11,Promise.all([u.data(),c.data()]);case 11:return h=e.sent,v=(0,k.Z)(h,2),m=v[0],g=v[1],y=(0,Zr.qP)(m,g,f,d,p,o),b=y.selectedIndices,x=y.validOutputs,u!==t&&u.dispose(),c!==n&&c.dispose(),e.abrupt("return",{selectedIndices:qn(b,"int32"),validOutputs:(0,Re.i)(x,"int32")});case 19:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}var qr=function(e,t,n){return Gr.apply(this,arguments)};var Kr=(0,u.op)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,s._1)(e,"images","resizeBilinear");d.hu(3===i.rank||4===i.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,".")})),d.hu(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),d.hu(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var u=i,c=!1;3===i.rank&&(c=!0,u=(0,E.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),(0,k.Z)(t,0);var l={images:u},f={alignCorners:n,halfPixelCenters:r,size:t},p=a.BV.runKernel(o._Yw,l,f);return c?(0,E.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var Yr=(0,u.op)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,s._1)(e,"images","resizeNearestNeighbor");d.hu(3===i.rank||4===i.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,".")})),d.hu(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),d.hu("float32"===i.dtype||"int32"===i.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),d.hu(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var u=i,c=!1;3===i.rank&&(c=!0,u=(0,E.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),(0,k.Z)(t,0);var l={images:u},f={alignCorners:n,halfPixelCenters:r,size:t},p=a.BV.runKernel(o.dpD,l,f);return c?(0,E.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var Xr=(0,u.op)({threshold_:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=(0,s._1)(e,"image","threshold"),l=c.shape[0]*c.shape[1],p=(0,P.d)(qn([u]),255);if(d.hu(3===c.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")})),d.hu(3===c.shape[2]||1===c.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")})),d.hu("int32"===c.dtype||"float32"===c.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")})),d.hu("otsu"===a||"binary"===a,(function(){return"Method must be binary or otsu, but was ".concat(a)})),3===c.shape[2]){var h=Ln(c,[1,1,1],-1),v=(0,k.Z)(h,3);t=v[0],n=v[1],r=v[2];var m=(0,P.d)(t,.2989),g=(0,P.d)(n,.587),y=(0,P.d)(r,.114);i=(0,f.I)((0,f.I)(m,g),y)}else i=e;"otsu"===a&&(p=function(e,t){for(var n,r,i,a,o,s,u=qn([-1]),c=qn([0]),l=qn([0]),d=0;d<e.size-1;d++){n=D(e,0,d+1),r=D(e,d+1),o=(0,ge.h)((0,Me.S)(n),t),s=(0,ge.h)((0,Me.S)(r),t);var p=(0,Me.S)((0,P.d)(n,un(0,n.size)));i=(0,ge.h)(p,(0,Me.S)(n));var h=(0,K.h)(r.shape,n.size),v=(0,f.I)(un(0,r.size),h),m=(0,P.d)(r,v);a=(0,ge.h)((0,Me.S)(m),(0,Me.S)(r));var g=(0,ct.l)(i,a),y=(0,ct.l)(i,a),b=(0,P.d)(o,s);l=(0,P.d)((0,P.d)(b,g),y);var x=Ge(l,c);c=xe(x,l,c),u=xe(x,qn([d]),u)}return u}(z((0,T.p)(yn(i),"int32"),(0,Hn.X)([]),256),l));var b=o?et(i,p):Ge(i,p);return(0,T.p)((0,P.d)(b,255),"int32")}});var Qr=(0,u.op)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0,c=(0,s._1)(e,"image","transform","float32"),l=(0,s._1)(t,"transforms","transform","float32");d.hu(4===c.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(c.rank,".")})),d.hu(2===l.rank&&(l.shape[0]===c.shape[0]||1===l.shape[0])&&8===l.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),d.hu(null==u||2===u.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(u,".")}));var f={image:c,transforms:l},p={interpolation:n,fillMode:r,fillValue:i,outputShape:u};return a.BV.runKernel(o.wx7,f,p)}});var Jr=(0,u.op)({bandPart_:function(e,t,n){(0,d.hu)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),(0,d.hu)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=(0,s._1)(e,"a","bandPart");(0,d.hu)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var i=r.shape,a=r.shape.slice(-2),o=(0,k.Z)(a,2),u=o[0],c=o[1];if(!(t<=u))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(u,")."));if(!(n<=c))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(c,")."));t<0&&(t=u),n<0&&(n=c);var l=(0,E.X)(un(0,u,1,"int32"),[-1,1]),f=un(0,c,1,"int32"),p=(0,ct.l)(l,f),h=dt(et(p,(0,Re.i)(+t,"int32")),qe(p,(0,Re.i)(-n,"int32"))),v=St([u,c],r.dtype);return(0,E.X)(Un(rr((0,E.X)(r,[-1,u,c])).map((function(e){return xe(h,e,v)}))),i)}});var $r=(0,u.op)({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,(0,d.hu)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){(0,d.hu)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},i=1;i<e.length;++i)r(i)}else t=!0,e=Ln(e,e.shape[0],0).map((function(e){return Bn(e,[0])}));(0,d.hu)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var o=[],s=e,u=function(e){o.push(a.BV.tidy((function(){var t=s[e];if(e>0)for(var n=0;n<e;++n){var r=(0,P.d)((0,Me.S)((0,P.d)(o[n],t)),o[n]);t=(0,ct.l)(t,r)}return(0,ge.h)(t,je(t,"euclidean"))})))},c=0;c<e.length;++c)u(c);return t?Un(o,0):o}}),ei=n(35875);function ti(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.BV.tidy((function(){(0,d.hu)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],i=Ve(n),o=(0,I.d)(e),s=Kn([[1]],[1,1]),u=(0,I.d)(s),c=n>=r?r:n,l=function(e){var t=o,c=u,l=i,f=a.BV.tidy((function(){var t=D(o,[e,e],[n-e,1]),a=je(t),c=D(o,[e,e],[1,1]),l=xe(Ge(c,0),Kn([[-1]]),Kn([[1]])),f=(0,ct.l)(c,(0,P.d)(l,a)),d=(0,ge.h)(t,f);u=1===d.shape[0]?(0,I.d)(s):R([s,D(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);var p=(0,ot.W)((0,ge.h)((0,N.O)(l,f),a)),h=D(o,[e,0],[n-e,r]),v=(0,P.d)(p,u),m=(0,fr.p)(u);if(0===e)o=(0,ct.l)(h,(0,N.O)(v,(0,N.O)(m,h)));else{var g=(0,ct.l)(h,(0,N.O)(v,(0,N.O)(m,h)));o=R([D(o,[0,0],[e,r]),g],0)}var y=(0,fr.p)(v),b=D(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,ct.l)(b,(0,N.O)((0,N.O)(b,u),y));else{var x=(0,ct.l)(b,(0,N.O)((0,N.O)(b,u),y));i=R([D(i,[0,0],[n,e]),x],1)}return[u,o,i]})),d=(0,k.Z)(f,3);u=d[0],o=d[1],i=d[2],(0,ei.B9)([t,c,l])},f=0;f<c;++f)l(f);return!t&&n>r&&(i=D(i,[0,0],[n,r]),o=D(o,[0,0],[r,r])),[i,o]}))}var ni=(0,u.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,d.hu)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return ti(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=rr((0,E.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return r.forEach((function(e){var n=ti(e,t),r=(0,k.Z)(n,2),o=r[0],s=r[1];i.push(o),a.push(s)})),[(0,E.X)(Un(i,0),e.shape),(0,E.X)(Un(a,0),e.shape)]}}),ri=n(47627);var ii=(0,u.op)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri.I.SUM_BY_NONZERO_WEIGHTS,r=(0,s._1)(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=(0,s._1)(t,"weights","computeWeightedLoss"));var a=null==i?r:(0,P.d)(r,i);if(n===ri.I.NONE)return a;if(n===ri.I.SUM)return(0,Me.S)(a);if(n===ri.I.MEAN){if(null==i)return _t(a);var o=r.size/i.size,u=(0,ge.h)((0,Me.S)(a),(0,Me.S)(i));return o>1?(0,ge.h)(u,(0,Re.i)(o)):u}if(n===ri.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,ge.h)((0,Me.S)(a),(0,Re.i)(r.size));var c=(0,P.d)(i,Tt(r.shape)),l=(0,T.p)((0,Me.S)(Mt(c,(0,Re.i)(0))),"float32");return(0,ge.h)((0,Me.S)(a),l)}throw Error("Unknown reduction: ".concat(n))}});var ai=(0,u.op)({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ri.I.SUM_BY_NONZERO_WEIGHTS,a=(0,s._1)(e,"labels","absoluteDifference"),o=(0,s._1)(t,"predictions","absoluteDifference"),u=null;null!=n&&(u=(0,s._1)(n,"weights","absoluteDifference")),(0,d.k5)(a.shape,o.shape,"Error in absoluteDifference: ");var c=(0,i.W)((0,ct.l)(a,o));return ii(c,u,r)}});var oi=(0,u.op)({cosineDistance_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ri.I.SUM_BY_NONZERO_WEIGHTS,a=(0,s._1)(e,"labels","cosineDistance"),o=(0,s._1)(t,"predictions","cosineDistance"),u=null;null!=r&&(u=(0,s._1)(r,"weights","cosineDistance")),(0,d.k5)(a.shape,o.shape,"Error in cosineDistance: ");var c=(0,Re.i)(1),l=(0,ct.l)(c,(0,Me.S)((0,P.d)(a,o),n,!0));return ii(l,u,i)}});var si=(0,u.op)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ri.I.SUM_BY_NONZERO_WEIGHTS,i=(0,s._1)(e,"labels","hingeLoss"),a=(0,s._1)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=(0,s._1)(n,"weights","hingeLoss")),(0,d.k5)(i.shape,a.shape,"Error in hingeLoss: ");var u=(0,Re.i)(1);i=(0,ct.l)((0,P.d)((0,Re.i)(2),i),u);var c=(0,fn.U)((0,ct.l)(u,(0,P.d)(i,a)));return ii(c,o,r)}});var ui=(0,u.op)({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ri.I.SUM_BY_NONZERO_WEIGHTS,o=(0,s._1)(e,"labels","huberLoss"),u=(0,s._1)(t,"predictions","huberLoss"),c=null;null!=n&&(c=(0,s._1)(n,"weights","huberLoss")),(0,d.k5)(o.shape,u.shape,"Error in huberLoss: ");var l=(0,Re.i)(r),p=(0,i.W)((0,ct.l)(u,o)),h=Ot(p,l),v=(0,ct.l)(p,h),m=(0,f.I)((0,P.d)((0,Re.i)(.5),(0,Pe.h)(h)),(0,P.d)(l,v));return ii(m,c,a)}});var ci=(0,u.op)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ri.I.SUM_BY_NONZERO_WEIGHTS,a=(0,s._1)(e,"labels","logLoss"),o=(0,s._1)(t,"predictions","logLoss"),u=null;null!=n&&(u=(0,s._1)(n,"weights","logLoss")),(0,d.k5)(a.shape,o.shape,"Error in logLoss: ");var c=(0,Re.i)(1),l=(0,Re.i)(r),p=(0,ot.W)((0,P.d)(a,rt((0,f.I)(o,l)))),h=(0,P.d)((0,ct.l)(c,a),rt((0,f.I)((0,ct.l)(c,o),l))),v=(0,ct.l)(p,h);return ii(v,u,i)}});var li=(0,u.op)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ri.I.SUM_BY_NONZERO_WEIGHTS,i=(0,s._1)(e,"labels","meanSquaredError"),a=(0,s._1)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=(0,s._1)(n,"weights","meanSquaredError")),(0,d.k5)(i.shape,a.shape,"Error in meanSquaredError: ");var u=Zn(i,a);return ii(u,o,r)}});var fi=(0,u.op)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ri.I.SUM_BY_NONZERO_WEIGHTS,o=(0,s._1)(e,"multiClassLabels","sigmoidCrossEntropy"),u=(0,s._1)(t,"logits","sigmoidCrossEntropy"),c=null;if(null!=n&&(c=(0,s._1)(n,"weights","sigmoidCrossEntropy")),(0,d.k5)(o.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=(0,Re.i)(r),p=(0,Re.i)(1),h=(0,Re.i)(.5);o=(0,f.I)((0,P.d)(o,(0,ct.l)(p,l)),(0,P.d)(h,l))}var v=function(e,t){var n=(0,s._1)(e,"labels","sigmoidCrossEntropyWithLogits"),r=(0,s._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,d.k5)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=(0,fn.U)(r),o=(0,P.d)(r,n),u=it(Fe((0,ot.W)((0,i.W)(r))));return(0,f.I)((0,ct.l)(a,o),u)}(o,u);return ii(v,c,a)}});var di=(0,u.op)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ri.I.SUM_BY_NONZERO_WEIGHTS,a=(0,s._1)(e,"onehotLabels","softmaxCrossEntropy"),o=(0,s._1)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=(0,s._1)(n,"weights","softmaxCrossEntropy")),(0,d.k5)(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var c=(0,Re.i)(r),l=(0,Re.i)(1),p=(0,Re.i)(a.shape[1]);a=(0,f.I)((0,P.d)(a,(0,ct.l)(l,c)),(0,ge.h)(c,p))}var h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=(0,at.cb)((function(e,t,r){var i=ft(t,[n],!0),a=(0,ct.l)((0,T.p)(t,"float32"),i);r([e,a]);var o=(0,ot.W)((0,P.d)(a,e));return{value:(0,Me.S)(o,[n]),gradFunc:function(e,t){var r=(0,k.Z)(t,2),i=r[0],a=r[1],o=(0,Ee.rv)(e.shape,[n]);return[(0,P.d)((0,E.X)(e,o),(0,ct.l)((0,T.p)(i,"float32"),Fe(a))),(0,P.d)((0,E.X)(e,o),(0,ct.l)(Fe(a),(0,T.p)(i,"float32")))]}}}));return r(e,t)}(a,o);return ii(h,u,i)}});var pi=(0,u.op)({sparseFillEmptyRows_:function(e,t,n,r){var i=(0,s._1)(e,"indices","sparseFillEmptyRows","int32"),u=(0,s._1)(t,"values","sparseFillEmptyRows"),c=(0,s._1)(n,"denseShape","sparseFillEmptyRows","int32"),l=(0,s._1)(r,"defaultValue","sparseFillEmptyRows",u.dtype);if(2!==i.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(i.shape));if(1!==u.rank)throw new Error("Values should be Tensor1D but received shape ".concat(u.shape));if(1!==c.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(c.shape));if(0!==l.rank)throw new Error("Default value should be a scalar but received shape ".concat(l.shape));var f={indices:i,values:u,denseShape:c,defaultValue:l},d=a.BV.runKernel(o.O3z,f);return{outputIndices:d[0],outputValues:d[1],emptyRowIndicator:d[2],reverseIndexMap:d[3]}}});var hi=(0,u.op)({sparseReshape_:function(e,t,n){var r=(0,s._1)(e,"inputIndices","sparseReshape","int32"),i=(0,s._1)(t,"inputShape","sparseReshape","int32"),u=(0,s._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==i.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(i.shape));if(1!==u.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(u.shape));var c={inputIndices:r,inputShape:i,newShape:u},l=a.BV.runKernel(o.nhH,c);return{outputIndices:l[0],outputShape:l[1]}}});var vi=(0,u.op)({sparseSegmentMean_:function(e,t,n){var r=(0,s._1)(e,"data","sparseSegmentMean"),i=(0,s._1)(t,"indices","sparseSegmentMean","int32"),u=(0,s._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(i.shape));if(1!==u.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(u.shape));var c={data:r,indices:i,segmentIds:u};return a.BV.runKernel(o.w3H,c)}});var mi=(0,u.op)({sparseSegmentSum_:function(e,t,n){var r=(0,s._1)(e,"data","sparseSegmentSum"),i=(0,s._1)(t,"indices","sparseSegmentSum","int32"),u=(0,s._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(i.shape));if(1!==u.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(u.shape));var c={data:r,indices:i,segmentIds:u};return a.BV.runKernel(o.ZjV,c)}});var gi=(0,u.op)({stringNGrams_:function(e,t,n,r,i,u,c,l){var f=(0,s._1)(e,"data","stringNGrams","string");if("string"!==f.dtype)throw new Error("Data must be of datatype string");if(1!==f.shape.length)throw new Error("Data must be a vector, saw: ".concat(f.shape));var d=(0,s._1)(t,"dataSplits","stringNGrams");if("int32"!==d.dtype)throw new Error("Data splits must be of datatype int32");var p={separator:n,nGramWidths:r,leftPad:i,rightPad:u,padWidth:c,preserveShortSequences:l},h={data:f,dataSplits:d},v=a.BV.runKernel(o._JP,h,p);return{nGrams:v[0],nGramsSplits:v[1]}}});var yi=(0,u.op)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,s._1)(e,"input","stringSplit","string"),i=(0,s._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==i.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(i.shape));var u={skipEmpty:n},c={input:r,delimiter:i},l=a.BV.runKernel(o.s1s,c,u);return{indices:l[0],values:l[1],shape:l[2]}}});var bi=(0,u.op)({stringToHashBucketFast_:function(e,t){var n=(0,s._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var i={input:n};return a.BV.runKernel(o.XkS,i,r)}}),xi={fft:Mn,ifft:Dn,rfft:Fn,irfft:jn},ki={hammingWindow:Ar,hannWindow:Ir,frame:Rr,stft:Nr},wi={flipLeftRight:Mr,grayscaleToRGB:Dr,resizeNearestNeighbor:Yr,resizeBilinear:Kr,rotateWithOffset:jr,cropAndResize:Pr,nonMaxSuppression:Fr,nonMaxSuppressionAsync:Ur,nonMaxSuppressionWithScore:Vr,nonMaxSuppressionWithScoreAsync:Wr,nonMaxSuppressionPadded:Hr,nonMaxSuppressionPaddedAsync:qr,threshold:Xr,transform:Qr},_i={bandPart:Jr,gramSchmidt:$r,qr:ni},Si={absoluteDifference:ai,computeWeightedLoss:ii,cosineDistance:oi,hingeLoss:si,huberLoss:ui,logLoss:ci,meanSquaredError:li,sigmoidCrossEntropy:fi,softmaxCrossEntropy:di},Ti={sparseFillEmptyRows:pi,sparseReshape:hi,sparseSegmentMean:vi,sparseSegmentSum:mi},Ci={stringNGrams:gi,stringSplit:yi,stringToHashBucketFast:bi}},44334:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({pow_:function(e,t){var n=(0,s._1)(e,"base","pow"),u=(0,s._1)(t,"exp","pow"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.pe_,f)}})},96859:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({prelu_:function(e,t){var n={x:(0,a._1)(e,"x","prelu"),alpha:(0,a._1)(t,"alpha","prelu")};return r.BV.runKernel(i.o0g,n)}})},64600:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,{S:function(){return r}})},26972:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({real_:function(e){var t={input:(0,a._1)(e,"input","real")};return r.BV.runKernel(i.xJR,t)}})},17539:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu_:function(e){var t={x:(0,a._1)(e,"x","relu")};return r.BV.runKernel(i.qkr,t)}})},65900:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu6_:function(e){var t={x:(0,a._1)(e,"x","relu6")};return r.BV.runKernel(i.SbG,t)}})},75561:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reshape_:function(e,t){var n={x:(0,a._1)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.BV.runKernel(i.HZH,n,o)}})},27067:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(36147),i=n(77960);function a(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},48604:function(e,t,n){"use strict";n.r(t),n.d(t,{calculateShapes:function(){return s},validateInput:function(){return o},validateUpdateShape:function(){return a}});var r=n(42982),i=n(36147);function a(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(i,".");if(n.rank<i)throw new Error(a+" update.rank < ".concat(i,". "));if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < ".concat(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != ".concat(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-i;++s)if(n.shape[s+i]!==e[s+r])throw new Error(a+" updates.shape[".concat(s+i,"] (").concat(n.shape[s+i],") != shape[").concat(s+i,"] (").concat(e[s+i],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}a(n,t,e)}function s(e,t,n){for(var a=t.shape.length,o=a>1?t.shape[a-1]:1,s=n.length,u=1,c=o;c<s;++c)u*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:(0,i.NA)(t.shape)/l,sliceSize:u,strides:[].concat((0,r.Z)((0,i.e3)(n.slice(0,o))),[1]),outputSize:(0,i.NA)(n)}}},77643:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sigmoid_:function(e){var t={x:(0,a._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(i.a5O,t)}})},46902:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sqrt_:function(e){var t={x:(0,a._1)(e,"x","sqrt","float32")};return r.BV.runKernel(i.FKq,t)}})},7391:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(48354);var a=(0,n(38640).op)({square_:function(e){var t=(0,i._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},94031:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:(0,a._1)(e,"x","step")},o={alpha:t};return r.BV.runKernel(i.h8e,n,o)}})},84774:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(70885),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({sub_:function(e,t){var n=(0,s._1)(e,"a","sub"),u=(0,s._1)(t,"b","sub"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.Tr8,f)}})},40227:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.GBy,u,c)}})},72442:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(48354),i=n(77960);function a(e,t,n){var a=(0,r.C)(e,n);return(0,i.H)(e,t,a,n)}},73123:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=(0,r.C)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,a.H)(e,t,o,n)}},77960:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(70318),i=n(36147),a=n(70115);function o(e,t,n,o){if(null==o&&(o=(0,i.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);var s=(0,i.NA)(t),u=(0,i.NA)(n);(0,i.hu)(s===u,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(s," values but has ").concat(u)}));for(var c=0;c<n.length;++c){var l=n[c],f=c!==n.length-1||l!==(0,i.NA)(t.slice(c));(0,i.hu)(n[c]===t[c]||!f,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,a.toTypedArray)(e,o):(0,i.xH)(e,[],!0),r.BV.makeTensor(e,t,o)}},61240:function(e,t,n){"use strict";n.d(t,{p:function(){return p}});var r=n(70318),i=n(35875),a=n(32145),o=n(48354),s=n(36147),u=n(59253),c=n(76996),l=n(4362),f=n(38640),d=n(26972);var p=(0,f.op)({transpose_:function(e,t,n){var f=(0,o._1)(e,"x","transpose");if(null==t&&(t=f.shape.map((function(e,t){return t})).reverse()),s.hu(f.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(f.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){s.hu(e>=0&&e<f.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(f.rank-1)+" but got ".concat(t)}))})),f.rank<=1)return f.clone();var p={x:f},h={perm:t};return"complex64"===f.dtype?(0,i.lu)((function(){var e=(0,d.k)(f),t=(0,c.a)(f);return e=r.BV.runKernel(a.G3Y,{x:e},h),t=r.BV.runKernel(a.G3Y,{x:t},h),n&&(t=(0,l.W)(t)),(0,u.P)(e,t)})):r.BV.runKernel(a.G3Y,p,h)}})},87293:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({zerosLike_:function(e){var t={x:(0,a._1)(e,"x","zerosLike")};return r.BV.runKernel(i.RuY,t)}})},4376:function(e,t,n){"use strict";n.d(t,{es:function(){return E},YD:function(){return k},_w:function(){return O},FZ:function(){return C},Vp:function(){return T},Vi:function(){return S}});var r=n(60136),i=n(29388),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(96581),l=n(42982),f=n(36147),d=20,p=3,h=7;function v(e,t,n,r){var i=(0,f.e3)(t),a=function(e,t,n,r){var i=(0,f.NA)(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?b(e):e;if(s>1)for(var c=0;c<i/a;c++)for(var l=c*a,d=0;d<a;d++)o[d]=Math.max(o[d],m(u[l+d],0,n).length);return o}(e,t,n,i),o=t.length,s=y(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function m(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(h))," + ")+"".concat(parseFloat(e[1].toFixed(h)),"j"):(0,f.HD)(e)?"'".concat(e,"'"):"bool"===n?g(e):parseFloat(e.toFixed(h)).toString(),(0,f.oj)(r,t)}function g(e){return 0===e?"false":"true"}function y(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],u=t.length;if(0===u)return"complex64"===n?[m(b(e)[0],0,n)]:"bool"===n?[g(e[0])]:[e[0].toString()];if(1===u){if(s>d){var c=p*o,f=Array.from(e.slice(0,c)),h=Array.from(e.slice((s-p)*o,s*o));return"complex64"===n&&(f=b(f),h=b(h)),["["+f.map((function(e,t){return m(e,i[t],n)})).join(", ")+", ..., "+h.map((function(e,t){return m(e,i[s-p+t],n)})).join(", ")+"]"]}return["["+("complex64"===n?b(e):Array.from(e)).map((function(e,t){return m(e,i[t],n)})).join(", ")+"]"]}var v=t.slice(1),x=r.slice(1),k=r[0]*o,w=[];if(s>d){for(var _=0;_<p;_++){var S=_*k,T=S+k;w.push.apply(w,(0,l.Z)(y(e.slice(S,T),v,n,x,i,!1)))}w.push("...");for(var C=s-p;C<s;C++){var E=C*k,O=E+k;w.push.apply(w,(0,l.Z)(y(e.slice(E,O),v,n,x,i,C===s-1)))}}else for(var A=0;A<s;A++){var I=A*k,R=I+k;w.push.apply(w,(0,l.Z)(y(e.slice(I,R),v,n,x,i,A===s-1)))}var N=2===u?",":"";w[0]="["+w[0]+N;for(var P=1;P<w.length-1;P++)w[P]=" "+w[P]+N;for(var M=",\n",D=2;D<u;D++)M+="\n";return w[w.length-1]=" "+w[w.length-1]+"]"+(a?"":M),w}function b(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var x=n(70115),k=function(){function e(t,n,r){var i=this;if((0,s.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=f.NA(t),null!=r){var a=r.length;f.hu(a===this.size,(function(){return"Length of values '".concat(a,"' does not match the size ")+"inferred by the shape '".concat(i.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||f.rQ(n,this.size),this.strides=(0,f.e3)(t)}return(0,u.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];0===r.length&&(r=[0]),f.hu(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var a=this.locToIndex(r);this.values[a]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,i=0,a=t;i<a.length;i++){var o=a[i];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return w().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),w=null,_=null;function S(e){w=e}function T(e){_=e}function C(e){e}var E=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=f.NA(t),this.strides=(0,f.e3)(t),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,u.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",_.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return _.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",(0,f.GX)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return(0,f.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=w().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return x.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),w().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=w().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return x.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,w().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(w().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),_.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this.dataSync(),this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),_.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),w().makeVariable(this,e,t,n)}}]),e}();Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),(0,c.R)("Tensor",(function(){return E}));var O=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,a)).trainable=r,o.name=i,o}return(0,u.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!f.cO(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));w().disposeTensor(this),this.dataId=e.dataId,w().incRef(this,null)}},{key:"dispose",value:function(){w().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(E);Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return e instanceof E&&null!=e.assign&&e.assign instanceof Function}})},99064:function(e,t,n){"use strict";n.r(t),n.d(t,{assertTypesMatch:function(){return s},getTensorsInContainer:function(){return c},isTensorInList:function(){return u},makeTypesMatch:function(){return o}});var r=n(4376),i=n(3525),a=n(36147);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,a.hu)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return l(e,t,new Set),t}function l(e,t,n){if(null!=e)if(e instanceof r.es)t.push(e);else if(i=e,Array.isArray(i)||"object"===typeof i){var i,a=e;for(var o in a){var s=a[o];n.has(s)||(n.add(s),l(s,t,n))}}}},48354:function(e,t,n){"use strict";n.d(t,{C:function(){return u},_1:function(){return f},sI:function(){return d}});var r=n(70318),i=n(35050),a=n(4376),o=n(36147),s=n(70115);function u(e,t){var n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],Array.isArray(e)||(0,o.fU)(e)){(0,o.hu)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),(0,o.hu)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),i=0;i<e.length;++i)c(e[i],r,n.concat(i))}else(0,o.hu)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function f(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof a.es)return l(i,e.dtype,t,n),e;var c=(0,o.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(i)>=0&&(c=i),l(i,c,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var f=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(f,"'"))}var d=u(e,c);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);var p="string"!==c?(0,s.toTypedArray)(e,c):(0,o.xH)(e,[],!0);return r.BV.makeTensor(p,d,c)}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map((function(e,i){return f(e,"".concat(t,"[").concat(i,"]"),n,r)}))}},3525:function(e,t,n){"use strict";var r,i,a,o,s;n.d(t,{x8:function(){return c},yw:function(){return r},z4:function(){return l}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:i,bool:a,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function l(e){return c(e,"int32")}},70115:function(e,t,n){"use strict";n.r(t),n.d(t,{arraysEqual:function(){return i.cO},assert:function(){return i.hu},assertNonNegativeIntegerDimensions:function(){return i.Mu},assertNonNull:function(){return i.Cq},assertShapesMatch:function(){return i.k5},bytesFromStringArray:function(){return i.Ub},bytesPerElement:function(){return i.bT},checkConversionForErrors:function(){return i.D5},clamp:function(){return i.uZ},computeStrides:function(){return i.e3},createScalarValue:function(){return b},createShuffledIndices:function(){return i.U$},decodeString:function(){return S},distSquared:function(){return i.E7},encodeString:function(){return _},fetch:function(){return w},fingerPrint64:function(){return y},flatten:function(){return i.xH},getArrayFromDType:function(){return i.rQ},getTypedArrayFromDType:function(){return i.WP},hasEncodingLoss:function(){return i.QB},hexToLong:function(){return s},indexToLoc:function(){return i.NE},inferDtype:function(){return i.D2},inferFromImplicitShape:function(){return i.JZ},isBoolean:function(){return i.jn},isFunction:function(){return i.mf},isInt:function(){return i.GN},isNumber:function(){return i.hj},isPromise:function(){return i.tI},isScalarShape:function(){return i.N9},isString:function(){return i.HD},isTypedArray:function(){return i.fU},isValidDtype:function(){return i.LP},locToIndex:function(){return i.qy},makeOnesTypedArray:function(){return i.p8},makeZerosNestedTypedArray:function(){return i.l6},makeZerosTypedArray:function(){return i.wT},nearestDivisor:function(){return i.jP},nearestLargerEven:function(){return i.nY},now:function(){return k},parseAxisParam:function(){return i.EC},randUniform:function(){return i.bj},repeatedTry:function(){return i.WD},rightPad:function(){return i.oj},shuffle:function(){return i.TV},shuffleCombo:function(){return i.d7},sizeFromShape:function(){return i.NA},sizeToSquarishShape:function(){return i.YP},squeezeShape:function(){return i.bp},sum:function(){return i.Sm},swap:function(){return i.LF},tanh:function(){return i.AE},toNestedArray:function(){return i.GX},toTypedArray:function(){return x}});var r=n(35050),i=n(36147),a=n(18987),o=n.n(a)()||a;function s(e){return o.fromString(e,!0,16)}var u=s("c3a5c85c97cb3127"),c=s("b492b66fbe98f273"),l=s("9ae16a3b2f90404f");function f(e){return e.xor(e.shru(47))}function d(e,t,n){var r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function p(e,t){return d(e,t,8)}function h(e,t){return d(e,t,4)}function v(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var i=t.xor(r).mul(n);return i=(i=i.xor(i.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,i,a){i=i.add(e),a=v(a.add(i).add(r),21);var o=i;return i=(i=i.add(t)).add(n),a=a.add(v(i,44)),[i.add(r),a.add(o)]}(p(e,t),p(e,t+8),p(e,t+16),p(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=o.fromNumber(81,!0);if(t<=32)return t<=16?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=l.add(2*t),r=p(e,0).add(l),i=p(e,t-8);return m(v(i,37).mul(n).add(r),v(r,25).add(i).mul(n),n)}if(t>=4){var a=l.add(2*t);return m(h(e,0).shl(3).add(t),h(e,t-4),a)}if(t>0){var o=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return f(l.mul(o).xor(u.mul(s))).mul(l)}return l}(e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=p(e,0).mul(c),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(l);return m(v(r.add(i),43).add(v(a,30)).add(o),r.add(v(i.add(l),18)).add(a),n)}(e,t);if(t<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=p(e,0).mul(l),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(l),s=v(r.add(i),43).add(v(a,30)).add(o),u=m(s,r.add(v(i.add(l),18)).add(a),n),c=p(e,16).mul(n),f=p(e,24),d=s.add(p(e,t-32)).mul(n),h=u.add(p(e,t-24)).mul(n);return m(v(c.add(f),43).add(v(d,30)).add(h),c.add(v(f.add(r),18)).add(d),n)}(e,t);var r=n,i=n.mul(c).add(113),a=f(i.mul(l).add(113)).mul(l),s=[o.UZERO,o.UZERO],d=[o.UZERO,o.UZERO];r=r.mul(l).add(p(e,0));var y=0,b=64*(t-1>>6),x=b+(t-1&63)-63;do{r=v(r.add(i).add(s[0]).add(p(e,y+8)),37).mul(c),i=v(i.add(s[1]).add(p(e,y+48)),42).mul(c),r=r.xor(d[1]),i=i.add(s[0]).add(p(e,y+40)),a=v(a.add(d[0]),33).mul(c),s=g(e,y,s[1].mul(c),r.add(d[0])),d=g(e,y+32,a.add(d[1]),i.add(p(e,y+16)));var k=[r,a];a=k[0],r=k[1],y+=64}while(y!==b);var w=c.add(a.and(255).shl(1));y=x,d[0]=d[0].add(t-1&63),s[0]=s[0].add(d[0]),d[0]=d[0].add(s[0]),r=v(r.add(i).add(s[0]).add(p(e,y+8)),37).mul(w),i=v(i.add(s[1]).add(p(e,y+48)),42).mul(w),r=r.xor(d[1].mul(9)),i=i.add(s[0].mul(9).add(p(e,y+40))),a=v(a.add(d[0]),33).mul(w),s=g(e,y,s[1].mul(w),r.add(d[0])),d=g(e,y+32,a.add(d[1]),i.add(p(e,y+16)));var _=[r,a];return a=_[0],r=_[1],m(m(s[0],d[0],w).add(f(i).mul(u)).add(a),m(s[1],d[1],w).add(r),w)}function b(e,t){return"string"===t?_(e):x([e],t)}function x(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,r.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw new Error("Unknown data type ".concat(t))}function k(){return(0,r.OB)().platform.now()}function w(e,t){return(0,r.OB)().platform.fetch(e,t)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},36147:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function i(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n}function f(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";f(g(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function p(e){f(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||N(e)&&!n)for(var r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function v(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function x(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function k(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function w(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:setTimeout;return new Promise((function(i,a){var o=0;!function s(){if(e())i();else{o++;var u=t(o);null!=n&&o>=n?a():r(s,u)}}()}))}function S(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(i));r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found ".concat(e[i]," at dim ").concat(i));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var a=e.slice();return a[r]=t/n,a}function T(e,t){var n=t.length;return f((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),f(e.every((function(e){return y(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function C(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:T(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function E(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function O(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function I(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function R(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function N(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function P(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function M(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function D(e){return"string"===typeof e||e instanceof String}function j(e){return"boolean"===typeof e}function L(e){return"number"===typeof e}function F(e){return Array.isArray(e)?F(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":L(e)?"float32":D(e)?"string":j(e)?"bool":"float32"}function Z(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function U(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array;if(1===t.length)for(var a=t[0]*(r?2:1),o=0;o<a;o++)i[o]=n[e+o];else for(var s=t[0],u=t.slice(1),c=u.reduce((function(e,t){return e*t}))*(r?2:1),l=0;l<s;l++)i[l]=V(e+l*c,u,n,r);return i}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return V(0,e,t,n)}function W(e,t){for(var n=H(e,t),r=0;r<n.length;r++)n[r]=1;return n}function H(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function G(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return z(e,new Float32Array(n));if("int32"===t)return z(e,new Int32Array(n));if("bool"===t)return z(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function q(e){e.forEach((function(t){f(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function Y(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function X(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:function(){return b},Cq:function(){return p},D2:function(){return F},D5:function(){return A},E7:function(){return l},EC:function(){return T},GN:function(){return y},GX:function(){return z},HD:function(){return D},JZ:function(){return S},LF:function(){return s},LP:function(){return I},Mu:function(){return q},N9:function(){return m},NA:function(){return v},NE:function(){return Y},QB:function(){return R},Sm:function(){return u},TV:function(){return r},U$:function(){return k},Ub:function(){return M},WD:function(){return _},WP:function(){return E},YP:function(){return x},bT:function(){return P},bj:function(){return c},bp:function(){return C},cO:function(){return g},d7:function(){return i},e3:function(){return U},fU:function(){return N},hj:function(){return L},hu:function(){return f},jP:function(){return B},jn:function(){return j},k5:function(){return d},l6:function(){return G},mf:function(){return Z},nY:function(){return o},oj:function(){return w},p8:function(){return W},qy:function(){return K},rQ:function(){return O},tI:function(){return X},uZ:function(){return a},wT:function(){return H},xH:function(){return h}})},87996:function(e,t,n){"use strict";var r="undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};n(44584),n(65084),n(18116),n(33858),n(87264),n(58894);var i=n(17156),a=n(66115),o=n(61655),s=n(94993),u=n(73808),c=n(38416),l=n(89728),f=n(56690);n(65202),n(67675),n(32463),n(22583);var d=n(64687),p=n(18698);n(4778),n(89104),n(59147);var h=n(62895),v=n(82764);n(18887),n(81740),n(30974),n(20447),n(54178);var m=n(1263),g=n(861);n(68225);var y=n(62839),b=n(32467);n(49258),n(4772),n(85625);var x=n(27424);n(45742);var k=n(8645),w=n(58868),_=n(46390),S=n(94774),T=n(56491);n(36669),n(44105),n(73966),n(55790),n(56678),n(74847),n(48884),n(67582),n(15669),n(40014),n(45927),n(78850),n(697),n(53517),n(68591),n(44516),n(51937),n(5977),n(71283),n(86332),n(32040),n(20718),n(54777),n(31447),n(44319),n(1583),n(78493),n(54121),n(50288);var C=n(50574);n(99238),n(55269),n(45327);var E=n(33496),O=n(45239);function A(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}n(55531);var R=A(i),N=A(a),P=A(o),M=A(s),D=A(u),j=A(c),L=A(l),F=A(f),Z=A(d),B=A(p),U=I(h),V=A(g),z=A(b),W=A(x),H=A(E);function G(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":B.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function q(e,t){if("object"===("undefined"===typeof Reflect?"undefined":B.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function K(e,t){return["".concat((new Date).toISOString()," Conversations ").concat(e,":")].concat(Array.from(t))}var Y=U.getLogger("twilio-conversations"),X=function(){function e(t){F.default(this,e),j.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return L.default(e,[{key:"setLevel",value:function(e){Y.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.trace.apply(null,K(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.debug.apply(null,K(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.info.apply(null,K(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.warn.apply(null,K(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.error.apply(null,K(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){Y.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.trace.apply(null,K("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.debug.apply(null,K("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.info.apply(null,K("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.warn.apply(null,K("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Y.error.apply(null,K("E",t))}}]),e}();function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J="PT5S",$="PT5S",ee=L.default((function e(){var t,n,r,i,a,o,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;F.default(this,e),j.default(this,"typingIndicatorTimeoutDefault",5e3);var f=u.Chat||u.IPMessaging||u||{};this.productId=f.productId,this.links={myConversations:c.links.my_conversations,conversations:c.links.conversations,users:c.links.users,currentUser:c.links.current_user,typing:c.links.typing,mediaService:c.links.media_service,mediaSetService:c.links.media_set_service,messagesReceipts:c.links.messages_receipts},this.limits={mediaAttachmentsCountLimit:c.options.media_attachments_count_limit,mediaAttachmentSizeLimitInMb:c.options.media_attachment_size_limit_in_mb,mediaAttachmentsTotalSizeLimitInMb:c.options.media_attachments_total_size_limit_in_mb,emailHistoriesAllowedContentTypes:c.options.email_histories_allowed_mime_types,emailBodiesAllowedContentTypes:c.options.email_bodies_allowed_mime_types},this.typingIndicatorTimeoutOverride=f.typingIndicatorTimeoutOverride,this.backoffConfiguration=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){j.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({min:1e3,max:4e3,maxAttemptsCount:3},f.backoffConfigOverride),this.retryWhenThrottled=void 0===f.retryWhenThrottledOverride||f.retryWhenThrottledOverride,this.userInfosToSubscribe=null!==(t=null!==(n=f.userInfosToSubscribeOverride)&&void 0!==n?n:c.options.user_infos_to_subscribe)&&void 0!==t?t:100,this.reachabilityEnabled=c.options.reachability_enabled,this.userIdentity=c.identity,this.userInfo=c.sync_objects.my_user_info,this.myConversations=c.sync_objects.my_conversations;var d=null!==(r=null!==(i=f.httpCacheIntervalOverride)&&void 0!==i?i:c.options.http_cache_interval)&&void 0!==r?r:J;try{this.httpCacheInterval=v.toSeconds(v.parse(d))}catch(h){l.error("Failed to parse http cache interval ".concat(d,", using default value ").concat(J)),this.httpCacheInterval=v.toSeconds(v.parse(J))}var p=null!==(a=null!==(o=f.consumptionReportIntervalOverride)&&void 0!==o?o:c.options.consumption_report_interval)&&void 0!==a?a:$;try{this.consumptionReportInterval=v.toSeconds(v.parse(p))}catch(m){l.error("Failed to parse consumption report interval ".concat(p,", using default value ").concat($)),this.consumptionReportInterval=v.toSeconds(v.parse($))}this.channelMetadataCacheCapacity=null!==(s=u.channelMetadataCacheCapacity)&&void 0!==s?s:100}));function te(e){return"undefined"===typeof e||isNaN(Number(e))?null:Number(e)}function ne(e){try{return new Date(e)}catch(t){return null}}function re(e,t,n){var r={};if(e)try{r=JSON.parse(e)}catch(i){n.warn(t,i)}return r}var ie=function(){function e(t){F.default(this,e),this.base=t.replace(/\/$/,""),this.args=[],this.paths=[]}return L.default(e,[{key:"arg",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"path",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}(),ae=m.custom((function(e){return[["string","number","boolean","object"].includes(B.default(e)),"a JSON type"]})),oe=m.custom((function(e){return[["undefined","string","number","boolean","object"].includes(B.default(e)),"an optional JSON type"]})),se=m.objectSchema("send media options",{contentType:[m.literal(null),"string"],filename:["string","undefined"],media:[m.literal("null"),"string"].concat(V.default("function"===typeof Buffer?[Buffer]:[]),V.default("function"===typeof Blob?[Blob]:[]))});function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}var ce=X.scope("User"),le=function(e){P.default(n,e);var t=ue(n);function n(e,r,i,a){var o;return F.default(this,n),o=t.call(this),j.default(N.default(o),"promiseToFetch",null),j.default(N.default(o),"updated","updated"),j.default(N.default(o),"userSubscribed","userSubscribed"),j.default(N.default(o),"userUnsubscribed","userUnsubscribed"),o.services=a,o.subscribed="initializing",o.setMaxListeners(0),o.state={identity:e,entityName:r,friendlyName:null,attributes:{},online:null,notifiable:null},o._initializationPromise=new Promise((function(e){o._resolveInitializationPromise=e})),null!==i&&o._resolveInitialization(i,e,r,!1),o}return L.default(n,[{key:"identity",get:function(){return this.state.identity},set:function(e){this.state.identity=e}},{key:"entityName",set:function(e){this.state.entityName=e}},{key:"attributes",get:function(){return this.state.attributes}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"isOnline",get:function(){return this.state.online}},{key:"isNotifiable",get:function(){return this.state.notifiable}},{key:"isSubscribed",get:function(){return"subscribed"==this.subscribed}},{key:"_update",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:r=[],ce.debug("User for",this.state.identity,"updated:",t,n),e.t0=t,e.next="friendlyName"===e.t0?7:"attributes"===e.t0?9:"reachability"===e.t0?12:15;break;case 7:return this.state.friendlyName!==n.value&&(r.push("friendlyName"),this.state.friendlyName=n.value),e.abrupt("break",16);case 9:return i=re(n.value,"Retrieved malformed attributes from the server for user: ".concat(this.state.identity),ce),z.default(this.state.attributes,i)||(this.state.attributes=i,r.push("attributes")),e.abrupt("break",16);case 12:return this.state.online!==n.online&&(this.state.online=n.online,r.push("reachabilityOnline")),this.state.notifiable!==n.notifiable&&(this.state.notifiable=n.notifiable,r.push("reachabilityNotifiable")),e.abrupt("break",16);case 15:return e.abrupt("return");case 16:r.length>0&&this.emit("updated",{user:this,updateReasons:r});case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateReachabilityInfo",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(this.configuration.reachabilityEnabled){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.abrupt("return",t.get("reachability").then(n).catch((function(e){ce.warn("Failed to get reachability info for ",r.state.identity,e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=R.default(Z.default.mark((function e(){var t=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(this.state.entityName){e.next=4;break}return e.abrupt("return",this);case 4:return this.promiseToFetch=this.services.syncClient.map({id:this.state.entityName,mode:"open_existing",includeItems:!0}).then((function(e){return t.entity=e,e.on("itemUpdated",(function(e){return ce.debug(t.state.entityName+" ("+t.state.identity+") itemUpdated: "+e.item.key),t._update(e.item.key,e.item.data)})),e.on("itemAdded",(function(e){return ce.debug(t.state.entityName+" ("+t.state.identity+") itemAdded: "+e.item.key),t._update(e.item.key,e.item.data)})),Promise.all([e.get("friendlyName").then((function(e){return t._update(e.key,e.data)})),e.get("attributes").then((function(e){return t._update(e.key,e.data)})),t._updateReachabilityInfo(e,(function(e){return t._update(e.key,e.data)}))])})).then((function(){return ce.debug("Fetched for",t.identity),t.subscribed="subscribed",t.emit("userSubscribed",t),t})).catch((function(e){throw t.promiseToFetch=null,e})),e.abrupt("return",this.promiseToFetch);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_ensureFetched",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:return e.abrupt("return",this.promiseToFetch||this._fetch());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:JSON.stringify(t)});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFriendlyName",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.commandExecutor.mutateResource("post",this.links.self,{friendly_name:t});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(!this.promiseToFetch){e.next=9;break}return e.next=5,this.promiseToFetch;case 5:this.entity.close(),this.promiseToFetch=null,this.subscribed="unsubscribed",this.emit("userUnsubscribed",this);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_resolveInitialization",value:function(e,t,n,r){this.configuration=e,this.identity=t,this.entityName=n,this.links={self:"".concat(this.configuration.links.users,"/").concat(encodeURIComponent(this.identity))},this._resolveInitializationPromise(),r&&this.emit("updated",{user:this,updateReasons:["friendlyName","attributes","reachabilityOnline","reachabilityNotifiable"]})}}]),n}(y.ReplayEventEmitter);function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}G([m.validateTypesAsync(ae),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],le.prototype,"updateAttributes",null),G([m.validateTypesAsync(["string"]),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],le.prototype,"updateFriendlyName",null);var pe=function(){function e(t,n){F.default(this,e),this.configuration=t,this.services=n,this.cache=new Map,this.cacheLifetime=100*this.configuration.httpCacheInterval,this.cleanupCache()}return L.default(e,[{key:"isExpired",value:function(e){return!this.cacheLifetime||Date.now()-e>this.cacheLifetime}},{key:"cleanupCache",value:function(){var e,t=fe(this.cache);try{for(t.s();!(e=t.n()).done;){var n=W.default(e.value,2),r=n[0],i=n[1];this.isExpired(i.timestamp)&&this.cache.delete(r)}}catch(a){t.e(a)}finally{t.f()}0===this.cache.size&&clearInterval(this.timer)}},{key:"pokeTimer",value:function(){var e=this;this.timer=this.timer||setInterval((function(){return e.cleanupCache()}),2*this.cacheLifetime)}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,i){var a=[502,503,504];n&&a.push(429);var o=new k.Retrier(t.configuration.backoffConfiguration);o.on("attempt",(function(){e().then((function(e){return o.succeeded(e)})).catch((function(e){a.indexOf(e.status)>-1||"Twilsock disconnected"===e.message?o.failed(e):(o.removeAllListeners(),o.cancel(),i(e))}))})),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(e)})),o.on("failed",(function(e){return i(e)})),o.start()}))}},{key:"get",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))||this.isExpired(n.timestamp)){e.next=3;break}return e.abrupt("return",n.response);case 3:return r={},e.next=6,this.executeWithRetry((function(){return a.services.transport.get(t,r,a.configuration.productId)}),this.configuration.retryWhenThrottled);case 6:return i=e.sent,this.cache.set(t,{response:i,timestamp:Date.now()}),this.pokeTimer(),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),he=L.default((function e(){F.default(this,e)}));function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}j.default(he,"TYPING_INDICATOR","twilio.ipmsg.typing_indicator"),j.default(he,"NEW_MESSAGE","twilio.conversations.new_message"),j.default(he,"ADDED_TO_CONVERSATION","twilio.conversations.added_to_conversation"),j.default(he,"REMOVED_FROM_CONVERSATION","twilio.conversations.removed_from_conversation"),j.default(he,"CONSUMPTION_UPDATE","twilio.channel.consumption_update");var me=X.scope("Participant"),ge=function(e){P.default(n,e);var t=ve(n);function n(e,r,i,a,o){var s,u,c;if(F.default(this,n),(c=t.call(this)).conversation=i,c.links=a,c.services=o,c.state={attributes:re(e.attributes,"Retrieved malformed attributes from the server for participant: "+r,me),dateCreated:e.dateCreated?ne(e.dateCreated):null,dateUpdated:e.dateCreated?ne(e.dateUpdated):null,sid:r,typingTimeout:null,isTyping:!1,identity:e.identity,roleSid:null!==(s=e.roleSid)&&void 0!==s?s:"",lastReadMessageIndex:Number.isInteger(e.lastConsumedMessageIndex)?e.lastConsumedMessageIndex:null,lastReadTimestamp:e.lastConsumptionTimestamp?ne(e.lastConsumptionTimestamp):null,type:e.type||"chat",userInfo:e.userInfo,bindings:null!==(u=e.bindings)&&void 0!==u?u:{}},!e.identity&&!e.type)throw new Error("Received invalid Participant object from server: Missing identity or type of Participant.");return c}return L.default(n,[{key:"sid",get:function(){return this.state.sid}},{key:"attributes",get:function(){return this.state.attributes}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"identity",get:function(){return this.state.identity}},{key:"isTyping",get:function(){return this.state.isTyping}},{key:"lastReadMessageIndex",get:function(){return this.state.lastReadMessageIndex}},{key:"lastReadTimestamp",get:function(){return this.state.lastReadTimestamp}},{key:"roleSid",get:function(){return this.state.roleSid}},{key:"type",get:function(){return this.state.type}},{key:"bindings",get:function(){var e;return null!==(e=this.state.bindings)&&void 0!==e?e:{}}},{key:"_startTyping",value:function(e){var t=this;return this.state.typingTimeout&&clearTimeout(this.state.typingTimeout),this.state.isTyping=!0,this.emit("typingStarted",this),this.conversation.emit("typingStarted",this),this.state.typingTimeout=Number(setTimeout((function(){return t._endTyping()}),e)),this}},{key:"_endTyping",value:function(){this.state.typingTimeout&&(this.state.isTyping=!1,this.emit("typingEnded",this),this.conversation.emit("typingEnded",this),clearInterval(this.state.typingTimeout),this.state.typingTimeout=null)}},{key:"_update",value:function(e){var t=[],n=re(e.attributes,"Retrieved malformed attributes from the server for participant: "+this.state.sid,me);e.attributes&&!z.default(this.state.attributes,n)&&(this.state.attributes=n,t.push("attributes"));var r=ne(e.dateUpdated);e.dateUpdated&&(null===r||void 0===r?void 0:r.getTime())!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=r,t.push("dateUpdated"));var i=ne(e.dateCreated);if(e.dateCreated&&(null===i||void 0===i?void 0:i.getTime())!==(this.state.dateCreated&&this.state.dateCreated.getTime())&&(this.state.dateCreated=i,t.push("dateCreated")),e.roleSid&&this.state.roleSid!==e.roleSid&&(this.state.roleSid=e.roleSid,t.push("roleSid")),!Number.isInteger(e.lastConsumedMessageIndex)&&null!==e.lastConsumedMessageIndex||this.state.lastReadMessageIndex===e.lastConsumedMessageIndex||(this.state.lastReadMessageIndex=e.lastConsumedMessageIndex,t.push("lastReadMessageIndex")),e.lastConsumptionTimestamp){var a=new Date(e.lastConsumptionTimestamp);this.state.lastReadTimestamp&&this.state.lastReadTimestamp.getTime()===a.getTime()||(this.state.lastReadTimestamp=a,t.push("lastReadTimestamp"))}return e.bindings&&!z.default(this.state.bindings,e.bindings)&&(this.state.bindings=e.bindings,t.push("bindings")),t.length>0&&this.emit("updated",{participant:this,updateReasons:t}),this}},{key:"getUser",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"==this.type){e.next=2;break}throw new Error("Getting User is not supported for this Participant type: "+this.type);case 2:return e.abrupt("return",this.services.users.getUser(this.state.identity,this.state.userInfo));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.conversation.removeParticipant(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:JSON.stringify(t)});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(y.ReplayEventEmitter);function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}j.default(ge,"typingStarted","typingStarted"),j.default(ge,"typingEnded","typingEnded"),j.default(ge,"updated","updated"),G([m.validateTypesAsync(ae),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],ge.prototype,"updateAttributes",null);var be=X.scope("Participants"),xe=function(e){P.default(n,e);var t=ye(n);function n(e,r,i,a,o){var s;return F.default(this,n),s=t.call(this),j.default(N.default(s),"rosterEntityPromise",null),s.conversation=e,s.participants=r,s.links=i,s.configuration=a,s.services=o,s}return L.default(n,[{key:"unsubscribe",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rosterEntityPromise){e.next=6;break}return e.next=3,this.rosterEntityPromise;case 3:e.sent.close(),this.rosterEntityPromise=null;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(e){var t=this,n="string"===typeof e?this.services.syncClient.map({id:e,mode:"open_existing"}):Promise.resolve(e);return this.rosterEntityPromise=this.rosterEntityPromise||n.then((function(e){e.on("itemAdded",(function(e){be.debug(t.conversation.sid+" itemAdded: "+e.item.key),t.upsertParticipant(e.item.key,e.item.data).then((function(e){t.emit("participantJoined",e)}))})),e.on("itemRemoved",(function(e){be.debug(t.conversation.sid+" itemRemoved: "+e.key);var n=e.key;if(t.participants.has(n)){var r=t.participants.get(n);t.participants.delete(n),r&&t.emit("participantLeft",r)}})),e.on("itemUpdated",(function(e){be.debug(t.conversation.sid+" itemUpdated: "+e.item.key),t.upsertParticipant(e.item.key,e.item.data)}));var n=[];return e.getItems().then((function e(r){return r.items.forEach((function(e){n.push(t.upsertParticipant(e.key,e.data))})),r.hasNextPage?r.nextPage().then(e):null})).then((function(){return Promise.all(n)})).then((function(){return e}))})).catch((function(e){throw t.rosterEntityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&be.error("Failed to get roster object for conversation",t.conversation.sid,e),be.debug("ERROR: Failed to get roster object for conversation",t.conversation.sid,e),e}))}},{key:"upsertParticipantFromResponse",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a,o,s,u,c;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,i=t.attributes,a=t.date_created,o=t.date_updated,s=t.identity,u=t.role_sid,c=t.messaging_binding,e.next=3,this.upsertParticipant(r,{attributes:i,dateCreated:new Date(a),dateUpdated:new Date(o),identity:s,roleSid:u,lastConsumedMessageIndex:null,lastConsumptionTimestamp:null,type:null!==(n=null===c||void 0===c?void 0:c.type)&&void 0!==n?n:"chat"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upsertParticipant",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i,a=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.participants.get(t))){e.next=3;break}return e.abrupt("return",r._update(n));case 3:return i={self:"".concat(this.links.participants,"/").concat(t)},r=new ge(n,t,this.conversation,i,this.services),this.participants.set(t,r),r.on("updated",(function(e){return a.emit("participantUpdated",e)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getParticipants",value:function(){var e=R.default(Z.default.mark((function e(){var t=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){var e=[];return t.participants.forEach((function(t){return e.push(t)})),e})):[]);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantBySid",value:function(){var e=R.default(Z.default.mark((function e(t){var n=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){var e=n.participants.get(t);if(!e)throw new Error("Participant with SID "+t+" was not found");return e})):null);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){if(r.participants.forEach((function(e){e.identity===t&&(n=e)})),!n)throw new Error("Participant with identity "+t+" was not found");return n})):null);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=R.default(Z.default.mark((function e(t,n){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.participants,{identity:t,attributes:"undefined"!==typeof n?JSON.stringify(n):void 0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNonChatParticipant",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i,a,o,s=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:{},o=s.length>3&&void 0!==s[3]?s[3]:{},e.next=4,this.services.commandExecutor.mutateResource("post",this.links.participants,{attributes:"undefined"!==typeof a?JSON.stringify(a):void 0,messaging_binding:{address:n,proxy_address:t,name:null===o||void 0===o||null===(r=o.email)||void 0===r?void 0:r.name,level:null===o||void 0===o||null===(i=o.email)||void 0===i?void 0:i.level}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"remove",value:function(e){return this.services.commandExecutor.mutateResource("delete","".concat(this.links.participants,"/").concat(encodeURIComponent(e)))}}]),n}(y.ReplayEventEmitter),ke=function(){function e(t,n){F.default(this,e),j.default(this,"mcsMedia",null),this.services=n,t instanceof T.McsMedia&&(this.mcsMedia=t),this.state={sid:t.sid,category:t.category,filename:t.filename,contentType:t.contentType,size:t.size}}return L.default(e,[{key:"sid",get:function(){return this.state.sid}},{key:"filename",get:function(){return this.state.filename}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"category",get:function(){return this.state.category}},{key:"getContentTemporaryUrl",value:function(){var e=this;return new T.CancellablePromise(function(){var t=R.default(Z.default.mark((function t(n,r,i){var a,o,s,u;return Z.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e._fetchMcsMedia(),s=null===(a=e.mcsMedia)||void 0===a?void 0:a.getContentUrl(),i((function(){o.cancel(),s&&s.cancel()})),t.prev=3,e.mcsMedia){t.next=9;break}return t.next=7,o;case 7:u=t.sent,s=u.getContentUrl();case 9:if(t.t0=n,!s){t.next=16;break}return t.next=13,s;case 13:t.t1=t.sent,t.next=17;break;case 16:t.t1=null;case 17:t.t2=t.t1,(0,t.t0)(t.t2),t.next=24;break;case 21:t.prev=21,t.t3=t.catch(3),r(t.t3);case 24:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e,n,r){return t.apply(this,arguments)}}())}},{key:"_fetchMcsMedia",value:function(){var e=this;return new T.CancellablePromise(function(){var t=R.default(Z.default.mark((function t(n,r,i){var a;return Z.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.services.mcsClient.get(e.state.sid),!e.services.mcsClient){t.next=14;break}return i((function(){return a.cancel()})),t.prev=3,t.next=6,a;case 6:e.mcsMedia=t.sent,n(e.mcsMedia),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),r(t.t0);case 13:return t.abrupt("return");case 14:r(new Error("Media Content Service is unavailable"));case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n,r){return t.apply(this,arguments)}}())}}]),e}(),we=function(){function e(t){F.default(this,e),this.state=t}return L.default(e,[{key:"total",get:function(){return this.state.total}},{key:"sent",get:function(){return this.state.sent}},{key:"delivered",get:function(){return this.state.delivered}},{key:"read",get:function(){return this.state.read}},{key:"undelivered",get:function(){return this.state.undelivered}},{key:"failed",get:function(){return this.state.failed}},{key:"_update",value:function(e){this.state=e}},{key:"_isEquals",value:function(e){var t=this.total===e.total,n=this.sent===e.sent,r=this.delivered===e.delivered,i=this.read===e.read,a=this.undelivered===e.undelivered,o=this.failed===e.failed;return t&&n&&r&&i&&a&&o}}]),e}(),_e=function(){function e(t,n,r,i){F.default(this,e),this.state={prevToken:r,nextToken:i,source:n,items:t}}return L.default(e,[{key:"hasNextPage",get:function(){return!!this.state.nextToken}},{key:"hasPrevPage",get:function(){return!!this.state.prevToken}},{key:"items",get:function(){return this.state.items}},{key:"nextPage",value:function(){return this.hasNextPage?this.state.source(this.state.nextToken):Promise.reject(new Error("No next page"))}},{key:"prevPage",value:function(){return this.hasPrevPage?this.state.source(this.state.prevToken):Promise.reject(new Error("No previous page"))}}]),e}(),Se=L.default((function e(t){F.default(this,e),this.sid=t.sid,this.messageSid=t.message_sid,this.conversationSid=t.conversation_sid,this.channelMessageSid=t.channel_message_sid,this.participantSid=t.participant_sid,this.status=t.status||"queued",this.errorCode=t.error_code||0,this.dateCreated=t.date_created,this.dateUpdated=t.date_updated})),Te=function(e){return e.map((function(e){var t,n,r,i,a=JSON.stringify(e);switch(e.type){case"QUICK_REPLY":return{type:"reply",title:e.title,id:null!==(t=e.id)&&void 0!==t?t:"",index:null!==(n=e.index)&&void 0!==n?n:0,rawData:a};case"PHONE_NUMBER":return{type:"phone",title:e.title,phone:null!==(r=e.phone)&&void 0!==r?r:"",rawData:a};case"URL":return{type:"url",title:e.title,url:null!==(i=e.url)&&void 0!==i?i:"",rawData:a};default:return{type:"other",rawData:a}}}))},Ce=function(e,t){var n=JSON.stringify(t);switch(e){case"twilio/text":return{type:"text",body:t.body,rawData:n};case"twilio/media":var r=t;return{type:"media",body:r.body,media:r.media,rawData:n};case"twilio/location":var i=t;return{type:"location",longitude:i.longitude,latitude:i.latitude,label:i.label,rawData:n};case"twilio/quick-reply":var a=t;return{type:"quickReply",body:a.body,replies:a.actions,rawData:n};case"twilio/call-to-action":var o=t;return{type:"callToAction",body:o.body,actions:Te(o.actions),rawData:n};case"twilio/list-picker":var s=t;return{type:"listPicker",body:s.body,button:s.button,items:s.items,rawData:n};case"twilio/card":var u,c,l=t;return{type:"card",title:l.title,subtitle:l.subtitle,media:null!==(u=l.media)&&void 0!==u?u:[],actions:Te(null!==(c=l.actions)&&void 0!==c?c:[]),rawData:n};default:return{type:"other",rawData:n}}},Ee=function(){function e(t,n){F.default(this,e),this.name=t,this.value=n}return L.default(e,[{key:"copyWithValue",value:function(t){return new e(this.name,t)}}]),e}(),Oe=L.default((function e(t){F.default(this,e),this.sid=t.sid,this.friendlyName=t.friendly_name,this.variables=Object.entries(JSON.parse(t.variables)).map((function(e){var t=W.default(e,2),n=t[0],r=t[1];return new Ee(n,r)})),this.variants=function(e){for(var t=new Map,n=0,r=Object.entries(e);n<r.length;n++){var i=W.default(r[n],2),a=i[0],o=i[1];t.set(a,Ce(a,o))}return t}(t.variants),this.dateCreated=new Date(t.date_created),this.dateUpdated=new Date(t.date_updated)}));function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){j.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}var Ne=X.scope("Message"),Pe=r.XMLHttpRequest||{},Me=function(e){P.default(n,e);var t=Re(n);function n(e,r,i,a,o,s){var u,c,l,f,d,p;return F.default(this,n),(p=t.call(this)).conversation=i,p.links=a,p.configuration=o,p.services=s,p.state={sid:r.sid,index:e,author:r.author,subject:r.subject,contentSid:r.contentSid,body:null!==(u=r.text)&&void 0!==u?u:null,timestamp:r.timestamp?new Date(r.timestamp):null,dateUpdated:r.dateUpdated?new Date(r.dateUpdated):null,lastUpdatedBy:null!==(c=r.lastUpdatedBy)&&void 0!==c?c:null,attributes:re(r.attributes,"Got malformed attributes for the message ".concat(r.sid),Ne),type:null!==(l=r.type)&&void 0!==l?l:"text",media:"media"===r.type&&r.media?new ke(r.media,p.services):null,medias:"media"===r.type&&r.medias?r.medias.map((function(e){return new ke(e,p.services)})):"media"===r.type&&r.media&&!r.medias?[new ke(Ie(Ie({},r.media),{},{category:"media"}),p.services)]:null,participantSid:null!==(f=r.memberSid)&&void 0!==f?f:null,aggregatedDeliveryReceipt:r.delivery?new we(r.delivery):null,hasChannelMetadata:null!==(d=r.channelMetadata)&&void 0!==d&&d},p}return L.default(n,[{key:"sid",get:function(){return this.state.sid}},{key:"author",get:function(){return this.state.author}},{key:"subject",get:function(){return this.state.subject}},{key:"contentSid",get:function(){return this.state.contentSid}},{key:"body",get:function(){return this.state.body}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"index",get:function(){return this.state.index}},{key:"lastUpdatedBy",get:function(){return this.state.lastUpdatedBy}},{key:"dateCreated",get:function(){return this.state.timestamp}},{key:"attributes",get:function(){return this.state.attributes}},{key:"type",get:function(){return this.state.type}},{key:"media",get:function(){return this.state.media}},{key:"attachedMedia",get:function(){return this.getMediaByCategories(["media"])}},{key:"participantSid",get:function(){return this.state.participantSid}},{key:"aggregatedDeliveryReceipt",get:function(){return this.state.aggregatedDeliveryReceipt}},{key:"getMediaByCategory",value:function(e){return this.getMediaByCategories(e)}},{key:"getMediaByCategories",value:function(e){var t;return(null!==(t=this.state.medias)&&void 0!==t?t:[]).filter((function(t){return e.includes(t.category)}))}},{key:"getEmailBody",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text/plain";return null!==(e=null===(t=this.getMediaByCategories(["body"]))||void 0===t?void 0:t.filter((function(e){return e.contentType==n})).shift())&&void 0!==e?e:null}},{key:"getEmailHistory",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text/plain";return null!==(e=null===(t=this.getMediaByCategories(["history"]))||void 0===t?void 0:t.filter((function(e){return e.contentType==n})).shift())&&void 0!==e?e:null}},{key:"_update",value:function(e){var t=[];!e.text&&"string"!==typeof e.text||e.text===this.state.body||(this.state.body=e.text,t.push("body")),e.subject&&e.subject!==this.state.subject&&(this.state.subject=e.subject,t.push("subject")),e.lastUpdatedBy&&e.lastUpdatedBy!==this.state.lastUpdatedBy&&(this.state.lastUpdatedBy=e.lastUpdatedBy,t.push("lastUpdatedBy")),e.author&&e.author!==this.state.author&&(this.state.author=e.author,t.push("author")),e.dateUpdated&&new Date(e.dateUpdated).getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=new Date(e.dateUpdated),t.push("dateUpdated")),e.timestamp&&new Date(e.timestamp).getTime()!==(this.state.timestamp&&this.state.timestamp.getTime())&&(this.state.timestamp=new Date(e.timestamp),t.push("dateCreated"));var n=re(e.attributes,"Got malformed attributes for the message ".concat(this.sid),Ne);z.default(this.state.attributes,n)||(this.state.attributes=n,t.push("attributes"));var r=e.delivery,i=this.state.aggregatedDeliveryReceipt;!!r&&!!r.total&&!!r.delivered&&!!r.failed&&!!r.read&&!!r.sent&&!!r.undelivered&&(i?i._isEquals(r)||(i._update(r),t.push("deliveryReceipt")):(this.state.aggregatedDeliveryReceipt=new we(r),t.push("deliveryReceipt"))),t.length>0&&this.emit("updated",{message:this,updateReasons:t})}},{key:"getParticipant",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.state.participantSid){e.next=5;break}return e.next=4,this.conversation.getParticipantBySid(this.state.participantSid).catch((function(){return Ne.debug('Participant with sid "'.concat(r.participantSid,'" not found for message ').concat(r.sid)),null}));case 4:t=e.sent;case 5:if(t||!this.state.author){e.next=9;break}return e.next=8,this.conversation.getParticipantByIdentity(this.state.author).catch((function(){return Ne.debug('Participant with identity "'.concat(r.author,'" not found for message ').concat(r.sid)),null}));case 8:t=e.sent;case 9:if(!t){e.next=11;break}return e.abrupt("return",t);case 11:throw n="Participant with ",this.state.participantSid&&(n+="SID '"+this.state.participantSid+"' "),this.state.author&&(this.state.participantSid&&(n+="or "),n+="identity '"+this.state.author+"' "),"Participant with "===n&&(n="Participant "),n+="was not found",new Error(n);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetailedDeliveryReceipts",value:function(){var e=R.default(Z.default.mark((function e(){var t,n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getDetailedDeliveryReceiptsPaginator();case 2:t=e.sent,n=t.items;case 4:if(!t.hasNextPage){e.next=11;break}return e.next=7,t.nextPage();case 7:t=e.sent,n=[].concat(V.default(n),V.default(t.items)),e.next=4;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("delete",this.links.self);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateBody",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{body:t});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:"undefined"!==typeof t?JSON.stringify(t):void 0});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attachTemporaryUrlsFor",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t.map((function(e){return e.sid})),!this.services.mcsClient||!n){e.next=7;break}return e.next=4,this.services.mcsClient.mediaSetGet(n);case 4:return e.abrupt("return",e.sent.map((function(e){return new ke(e,r.services)})));case 7:throw new Error("Media Content Service is unavailable");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTemporaryContentUrlsForMedia",value:function(e){var t=e.map((function(e){return e.sid}));return this.getTemporaryContentUrlsForMediaSids(t)}},{key:"getTemporaryContentUrlsForMediaSids",value:function(e){var t=this;return new T.CancellablePromise(function(){var n=R.default(Z.default.mark((function n(r,i,a){var o,s;return Z.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.services.mcsClient.mediaSetGetContentUrls(null!==e&&void 0!==e?e:[]),t.services.mcsClient&&e){n.next=4;break}return i(new Error("Media Content Service is unavailable")),n.abrupt("return");case 4:return a((function(){o.cancel()})),n.prev=5,n.next=8,o;case 8:s=n.sent,r(s),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),i(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t,r){return n.apply(this,arguments)}}())}},{key:"getTemporaryContentUrlsForAttachedMedia",value:function(){var e,t=this.attachedMedia,n=null!==(e=null===t||void 0===t?void 0:t.map((function(e){return e.sid})))&&void 0!==e?e:[];return this.getTemporaryContentUrlsForMediaSids(n)}},{key:"_getDetailedDeliveryReceiptsPaginator",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.configuration.links.messagesReceipts.replace("%s",this.conversation.sid).replace("%s",this.sid),r=new ie(n).arg("PageToken",null===t||void 0===t?void 0:t.pageToken).arg("PageSize",null===t||void 0===t?void 0:t.pageSize).build(),e.next=4,this.services.network.get(r);case 4:return i=e.sent,e.abrupt("return",new _e(i.body.delivery_receipts.map((function(e){return new Se(e)})),(function(e,t){return a._getDetailedDeliveryReceiptsPaginator({pageToken:e,pageSize:t})}),i.body.meta.previous_token,i.body.meta.next_token));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContentData",value:function(){var e=this;return new T.CancellablePromise(function(){var t=R.default(Z.default.mark((function t(n,r,i){var a,o,s,u,c,l,f,d,p,h;return Z.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.state.contentSid){t.next=3;break}return n(null),t.abrupt("return");case 3:if(null!==(a=e.getMediaByCategories(["body"]))){t.next=7;break}return n(null),t.abrupt("return");case 7:if(o="application/x-vnd.com.twilio.rich.",0!==(s=a.filter((function(e){return e.contentType.startsWith(o)}))).length){t.next=12;break}return n(null),t.abrupt("return");case 12:return u=s[0],c=u.getContentTemporaryUrl(),i((function(){c.cancel()})),t.prev=15,t.next=18,c;case 18:l=t.sent,t.next=25;break;case 21:return t.prev=21,t.t0=t.catch(15),r(t.t0),t.abrupt("return");case 25:if(null!==l){t.next=28;break}return n(null),t.abrupt("return");case 28:return f=new Promise((function(e,t){var n,r=!1,a=new Pe;a.open("GET",null!==(n=l)&&void 0!==n?n:"",!0),a.responseType="text",a.onreadystatechange=function(){4!==a.readyState||r||e(a.responseText)},a.onerror=function(){t(a.statusText)},i((function(){r=!0,a.abort(),t(new Error("XHR has been aborted"))})),a.send()})),t.prev=29,t.next=32,f;case 32:p=t.sent,d=JSON.parse(p),t.next=40;break;case 36:return t.prev=36,t.t1=t.catch(29),r(t.t1),t.abrupt("return");case 40:h=u.contentType.replace(o,"").replace(".","/"),n(Ce(h,d.data));case 42:case"end":return t.stop()}}),t,null,[[15,21],[29,36]])})));return function(e,n,r){return t.apply(this,arguments)}}())}},{key:"getChannelMetadata",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.hasChannelMetadata){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.services.channelMetadataClient.getChannelMetadata(this.conversation.sid,this.sid);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(y.ReplayEventEmitter);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){j.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}j.default(Me,"updated","updated"),G([C.deprecated("getMediaByCategory","getMediaByCategories"),q("design:type",Function),q("design:paramtypes",[Array]),q("design:returntype",Array)],Me.prototype,"getMediaByCategory",null),G([m.validateTypes([m.nonEmptyString,"undefined"]),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",ke)],Me.prototype,"getEmailBody",null),G([m.validateTypes([m.nonEmptyString,"undefined"]),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",ke)],Me.prototype,"getEmailHistory",null),G([m.validateTypesAsync("string"),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],Me.prototype,"updateBody",null),G([m.validateTypesAsync(ae),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],Me.prototype,"updateAttributes",null),G([C.deprecated("attachTemporaryUrlsFor","getTemporaryContentUrlsForMedia"),q("design:type",Function),q("design:paramtypes",[Array]),q("design:returntype",Promise)],Me.prototype,"attachTemporaryUrlsFor",null),G([m.validateTypesAsync(m.nonEmptyArray("media",ke)),q("design:type",Function),q("design:paramtypes",[Array]),q("design:returntype",T.CancellablePromise)],Me.prototype,"getTemporaryContentUrlsForMedia",null),G([m.validateTypesAsync(m.nonEmptyArray("strings","string")),q("design:type",Function),q("design:paramtypes",[Array]),q("design:returntype",T.CancellablePromise)],Me.prototype,"getTemporaryContentUrlsForMediaSids",null);var Be=X.scope("Messages"),Ue=function(e){P.default(n,e);var t=Ze(n);function n(e,r,i){var a;return F.default(this,n),(a=t.call(this)).conversation=e,a.configuration=r,a.services=i,a.messagesByIndex=new Map,a.messagesListPromise=null,a}return L.default(n,[{key:"subscribe",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.messagesListPromise){e.next=2;break}return e.abrupt("return",this.messagesListPromise);case 2:return this.messagesListPromise="string"===typeof t?this.services.syncClient.list({id:t,mode:"open_existing"}):Promise.resolve(t),e.prev=3,e.next=6,this.messagesListPromise;case 6:return(n=e.sent).on("itemAdded",(function(e){Be.debug("".concat(r.conversation.sid," itemAdded: ").concat(e.item.index));var t={self:"".concat(r.conversation._links.messages,"/").concat(e.item.data.sid),conversation:r.conversation._links.self,messages_receipts:"".concat(r.conversation._links.messages,"/").concat(e.item.data.sid,"/Receipts")},n=new Me(e.item.index,e.item.data,r.conversation,t,r.configuration,r.services);r.messagesByIndex.has(n.index)?Be.debug("Message arrived, but is already known and ignored",r.conversation.sid,n.index):(r.messagesByIndex.set(n.index,n),n.on("updated",(function(e){return r.emit("messageUpdated",e)})),r.emit("messageAdded",n))})),n.on("itemRemoved",(function(e){Be.debug("#{this.conversation.sid} itemRemoved: ".concat(e.index));var t=e.index;if(r.messagesByIndex.has(t)){var n=r.messagesByIndex.get(t);if(!n)return;r.messagesByIndex.delete(n.index),n.removeAllListeners("updated"),r.emit("messageRemoved",n)}})),n.on("itemUpdated",(function(e){Be.debug("".concat(r.conversation.sid," itemUpdated: ").concat(e.item.index));var t=r.messagesByIndex.get(e.item.index);t&&t._update(e.item.data)})),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e.catch(3),this.messagesListPromise=null,"disconnected"!==this.services.syncClient.connectionState&&Be.error("Failed to get messages object for conversation",this.conversation.sid,e.t0),Be.debug("ERROR: Failed to get messages object for conversation",this.conversation.sid,e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messagesListPromise){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.messagesListPromise;case 4:e.sent.close(),this.messagesListPromise=null;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendV2",value:function(e){var t=this;return Be.debug("Sending message V2",e.mediaContent,e.attributes,e.emailOptions),new T.CancellablePromise(function(){var n=R.default(Z.default.mark((function n(r,i,a){var o,s,u,c,l,f,d,p,h,v,m,g;return Z.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=[],u=[],a((function(){u.forEach((function(e){return e.cancel()}))})),c=Le(e.mediaContent),n.prev=4,c.s();case 6:if((l=c.n()).done){n.next=25;break}return f=W.default(l.value,2),d=f[0],p=f[1],n.prev=8,Be.debug("Adding media to a message as ".concat(p instanceof FormData?"FormData":"SendMediaOptions"),p),m=p instanceof FormData?t.services.mcsClient.postFormData(p,d):t.services.mcsClient.post(null!==(h=p.contentType)&&void 0!==h?h:"",null!==(v=p.media)&&void 0!==v?v:"",d,p.filename),u.push(m),n.t0=s,n.next=15,m;case 15:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),n.next=23;break;case 19:return n.prev=19,n.t2=n.catch(8),i(n.t2),n.abrupt("return");case 23:n.next=6;break;case 25:n.next=30;break;case 27:n.prev=27,n.t3=n.catch(4),c.e(n.t3);case 30:return n.prev=30,c.f(),n.finish(30);case 33:return g=t.services.commandExecutor.mutateResource("post",t.conversation._links.messages,{body:e.text,subject:null===(o=e.emailOptions)||void 0===o?void 0:o.subject,media_sids:s.map((function(e){return e.sid})),attributes:"undefined"!==typeof e.attributes?JSON.stringify(e.attributes):void 0,content_sid:e.contentSid,content_variables:"undefined"!==typeof e.contentVariables?JSON.stringify(e.contentVariables.reduce((function(e,t){return je(je({},e),{},j.default({},t.name,t.value))}),{})):void 0}),n.prev=34,n.t4=r,n.next=38,g;case 38:n.t5=n.sent,(0,n.t4)(n.t5),n.next=45;break;case 42:n.prev=42,n.t6=n.catch(34),i(n.t6);case 45:case"end":return n.stop()}}),n,null,[[4,27,30,33],[8,19],[34,42]])})));return function(e,t,r){return n.apply(this,arguments)}}())}},{key:"send",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2?i[2]:void 0,Be.debug("Sending text message",t,n,r),e.abrupt("return",this.services.commandExecutor.mutateResource("post",this.conversation._links.messages,{body:null!==t&&void 0!==t?t:"",attributes:"undefined"!==typeof n?JSON.stringify(n):void 0,subject:null===r||void 0===r?void 0:r.subject}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMedia",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a,o,s=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,Be.debug("Sending media message",t,i,a),Be.debug("Sending media message as ".concat(t instanceof FormData?"FormData":"SendMediaOptions"),t,i),!(t instanceof FormData)){e.next=10;break}return e.next=7,this.services.mcsClient.postFormData(t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.services.mcsClient.post(null!==(n=t.contentType)&&void 0!==n?n:"",null!==(r=t.media)&&void 0!==r?r:"","media",t.filename);case 12:e.t0=e.sent;case 13:return o=e.t0,e.next=16,this.services.commandExecutor.mutateResource("post",this.conversation._links.messages,{media_sids:[o.sid],attributes:"undefined"!==typeof i?JSON.stringify(i):void 0});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"backwards",e.abrupt("return",this._getMessages(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_wrapPaginator",value:function(e,t,n){var r=this,i="desc"===e,a=function(){return t.nextPage().then((function(t){return r._wrapPaginator(e,t,n)}))},o=function(){return t.prevPage().then((function(t){return r._wrapPaginator(e,t,n)}))};return n(t.items).then((function(e){return{items:e.sort((function(e,t){return e.index-t.index})),hasPrevPage:i?t.hasNextPage:t.hasPrevPage,hasNextPage:i?t.hasPrevPage:t.hasNextPage,prevPage:i?a:o,nextPage:i?o:a}}))}},{key:"_upsertMessage",value:function(e,t){var n=this,r=this.messagesByIndex.get(e);if(r)return r;var i={self:"".concat(this.conversation._links.messages,"/").concat(t.sid),conversation:this.conversation._links.self,messages_receipts:"".concat(this.conversation._links.messages,"/").concat(t.sid,"/Receipts")},a=new Me(e,t,this.conversation,i,this.configuration,this.services);return this.messagesByIndex.set(a.index,a),a.on("updated",(function(e){return n.emit("messageUpdated",e)})),a}},{key:"_getMessages",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:30,n=s.length>1&&void 0!==s[1]?s[1]:"end",r="backwards"===(s.length>2&&void 0!==s[2]?s[2]:"forward")?"desc":"asc",e.next=6,this.messagesListPromise;case 6:return i=e.sent,e.next=9,null===i||void 0===i?void 0:i.getItems({from:"end"!==n?n:void 0,pageSize:t,order:r,limit:t});case 9:return a=e.sent,e.next=12,this._wrapPaginator(r,a,(function(e){return Promise.all(e.map((function(e){return o._upsertMessage(e.index,e.data)})))}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(y.ReplayEventEmitter),Ve=function(){function e(t){F.default(this,e),j.default(this,"attributes",{}),j.default(this,"mediaContent",[]),j.default(this,"emailOptions",{}),this.messagesEntity=t}return L.default(e,[{key:"send",value:function(){var e=this;return new T.CancellablePromise(function(){var t=R.default(Z.default.mark((function t(n,r,i){var a,o;return Z.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.messagesEntity.sendV2(e),i((function(){return a.cancel()})),t.prev=2,t.next=5,a;case 5:o=t.sent,n(te(o.index)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n,r){return t.apply(this,arguments)}}())}}]),e}(),ze=function(){function e(t,n){F.default(this,e),this.limits=t,this.message=new Ve(n),this.emailBodies=new Map,this.emailHistories=new Map}return L.default(e,[{key:"setBody",value:function(e){return this.message.text=e,this}},{key:"setSubject",value:function(e){return this.message.emailOptions.subject=e,this}},{key:"setAttributes",value:function(e){return this.message.attributes=e,this}},{key:"setEmailBody",value:function(e,t){return this.emailBodies.set(e,t),this}},{key:"setEmailHistory",value:function(e,t){return this.emailHistories.set(e,t),this}},{key:"setContentTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.message.contentSid=e,this.message.contentVariables=t,this}},{key:"addMedia",value:function(e){if("undefined"===typeof FormData&&e instanceof FormData)throw new Error("Could not add FormData content whilst not in a browser");if(!(e instanceof FormData)){var t=e;if(!t.contentType||!t.media)throw new Error("Media content in SendMediaOptions must contain non-empty contentType and media")}return this.message.mediaContent.push(["media",e]),this}},{key:"build",value:function(){var e=this;if(this.emailBodies.forEach((function(t,n){if(!e.limits.emailBodiesAllowedContentTypes.includes(n))throw new Error("Unsupported email body content type ".concat(n))})),this.emailHistories.forEach((function(t,n){if(!e.limits.emailHistoriesAllowedContentTypes.includes(n))throw new Error("Unsupported email history content type ".concat(n))})),this.emailBodies.size>this.limits.emailBodiesAllowedContentTypes.length)throw new Error("Too many email bodies attached to the message (".concat(this.emailBodies.size," > ").concat(this.limits.emailBodiesAllowedContentTypes.length,")"));if(this.emailHistories.size>this.limits.emailHistoriesAllowedContentTypes.length)throw new Error("Too many email histories attached to the message (".concat(this.emailHistories.size," > ").concat(this.limits.emailHistoriesAllowedContentTypes.length,")"));if(this.message.mediaContent.length>this.limits.mediaAttachmentsCountLimit)throw new Error("Too many media attachments in the message (".concat(this.message.mediaContent.length," > ").concat(this.limits.mediaAttachmentsCountLimit,")"));return this.emailBodies.forEach((function(t){e.message.mediaContent.push(["body",t])})),this.emailHistories.forEach((function(t){e.message.mediaContent.push(["history",t])})),this.message}},{key:"buildAndSend",value:function(){return this.build().send()}}]),e}();function We(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}G([m.validateTypes("string"),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",ze)],ze.prototype,"setBody",null),G([m.validateTypes("string"),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",ze)],ze.prototype,"setSubject",null),G([m.validateTypes(ae),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",ze)],ze.prototype,"setAttributes",null),G([m.validateTypes("string",[FormData,se]),q("design:type",Function),q("design:paramtypes",[String,Object]),q("design:returntype",ze)],ze.prototype,"setEmailBody",null),G([m.validateTypes("string",[FormData,se]),q("design:type",Function),q("design:paramtypes",[String,Object]),q("design:returntype",ze)],ze.prototype,"setEmailHistory",null),G([m.validateTypes("string",[m.array("content variables",Ee),"undefined"]),q("design:type",Function),q("design:paramtypes",[String,Array]),q("design:returntype",ze)],ze.prototype,"setContentTemplate",null),G([m.validateTypes([FormData,se]),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",ze)],ze.prototype,"addMedia",null);var qe={lastMessage:"lastMessage",attributes:"attributes",createdBy:"createdBy",dateCreated:"dateCreated",dateUpdated:"dateUpdated",friendlyName:"friendlyName",lastConsumedMessageIndex:"lastConsumedMessageIndex",notificationLevel:"notificationLevel",sid:"sid",status:"status",uniqueName:"uniqueName",state:"state",bindings:"bindings"},Ke=function(e){P.default(n,e);var t=Ge(n);function n(e,r,i,a,o){var s,u,c;F.default(this,n),(c=t.call(this)).sid=r,c._links=i,c._configuration=a,c._services=o,c._entityName=e.channel,c._internalState={uniqueName:e.uniqueName||null,status:"notParticipating",attributes:null!==(s=e.attributes)&&void 0!==s?s:{},createdBy:e.createdBy,dateCreated:ne(e.dateCreated),dateUpdated:ne(e.dateUpdated),friendlyName:e.friendlyName||null,lastReadMessageIndex:Number.isInteger(e.lastConsumedMessageIndex)?e.lastConsumedMessageIndex:null,bindings:null!==(u=e.bindings)&&void 0!==u?u:{}},e.notificationLevel&&(c._internalState.notificationLevel=e.notificationLevel);var l={participants:c._links.participants};return c._participants=new Map,c._participantsEntity=new xe(N.default(c),c._participants,l,c._configuration,c._services),c._participantsEntity.on("participantJoined",(function(e){return c.emit("participantJoined",e)})),c._participantsEntity.on("participantLeft",(function(e){return c.emit("participantLeft",e)})),c._participantsEntity.on("participantUpdated",(function(e){return c.emit("participantUpdated",e)})),c._messagesEntity=new Ue(N.default(c),a,o),c._messagesEntity.on("messageAdded",(function(e){return c._onMessageAdded(e)})),c._messagesEntity.on("messageUpdated",(function(e){return c.emit("messageUpdated",e)})),c._messagesEntity.on("messageRemoved",(function(e){return c.emit("messageRemoved",e)})),c}return L.default(n,[{key:"uniqueName",get:function(){return this._internalState.uniqueName}},{key:"status",get:function(){return this._internalState.status}},{key:"friendlyName",get:function(){return this._internalState.friendlyName}},{key:"dateUpdated",get:function(){return this._internalState.dateUpdated}},{key:"dateCreated",get:function(){return this._internalState.dateCreated}},{key:"createdBy",get:function(){var e;return null!==(e=this._internalState.createdBy)&&void 0!==e?e:""}},{key:"attributes",get:function(){return this._internalState.attributes}},{key:"lastReadMessageIndex",get:function(){return this._internalState.lastReadMessageIndex}},{key:"lastMessage",get:function(){var e;return null!==(e=this._internalState.lastMessage)&&void 0!==e?e:void 0}},{key:"notificationLevel",get:function(){var e;return null!==(e=this._internalState.notificationLevel)&&void 0!==e?e:"default"}},{key:"bindings",get:function(){return this._internalState.bindings}},{key:"limits",get:function(){return this._configuration.limits}},{key:"state",get:function(){return this._internalState.state}},{key:"_statusSource",get:function(){return this._dataSource}},{key:"add",value:function(){var e=R.default(Z.default.mark((function e(t,n){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._participantsEntity.add(t,null!==n&&void 0!==n?n:{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNonChatParticipant",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i,a=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},i=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this._participantsEntity.addNonChatParticipant(t,n,null!==r&&void 0!==r?r:{},null!==i&&void 0!==i?i:{}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"advanceLastReadMessageIndex",value:function(){var e=R.default(Z.default.mark((function e(t){var n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:if(!(t<(null!==(n=this.lastReadMessageIndex)&&void 0!==n?n:0))){e.next=6;break}return e.next=5,this._setLastReadMessageIndex(this.lastReadMessageIndex);case 5:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,this._setLastReadMessageIndex(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.commandExecutor.mutateResource("delete",this._links.self);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAttributes",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return e.abrupt("return",this.attributes);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=R.default(Z.default.mark((function e(t,n,r){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this._messagesEntity.getMessages(t,n,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getParticipants",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this._participantsEntity.getParticipants());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantsCount",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie(this._configuration.links.conversations).path(this.sid).build(),e.next=3,this._services.network.get(n);case 3:return r=e.sent,e.abrupt("return",null!==(t=r.body.participants_count)&&void 0!==t?t:0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantBySid",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._participantsEntity.getParticipantBySid(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(){var e=R.default(Z.default.mark((function e(){var t,n=arguments;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.abrupt("return",this._participantsEntity.getParticipantByIdentity(null!==t&&void 0!==t?t:""));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagesCount",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie(this._configuration.links.conversations).path(this.sid).build(),e.next=3,this._services.network.get(n);case 3:return r=e.sent,e.abrupt("return",null!==(t=r.body.messages_count)&&void 0!==t?t:0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUnreadMessagesCount",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ie(this._configuration.links.myConversations).path(this.sid).build(),e.next=3,this._services.network.get(t);case 3:if((n=e.sent).body.conversation_sid===this.sid){e.next=6;break}throw new Error("Conversation was not found in the user conversations list");case 6:if("number"!==typeof(r=n.body.unread_messages_count)){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"join",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.commandExecutor.mutateResource("post",this._links.participants,{identity:this._configuration.userIdentity});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"!==this._internalState.status){e.next=3;break}return e.next=3,this._services.commandExecutor.mutateResource("delete","".concat(this._links.participants,"/").concat(encodeURIComponent(this._configuration.userIdentity)));case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeParticipant",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._participantsEntity.remove("string"===typeof t?t:t.sid);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=R.default(Z.default.mark((function e(t,n,r){var i,a,o,s;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t&&null!==t){e.next=5;break}return e.next=3,this._messagesEntity.send(t,n,r);case 3:return o=e.sent,e.abrupt("return",null!==(a=te(o.index))&&void 0!==a?a:0);case 5:return e.next=7,this._messagesEntity.sendMedia(t,n,r);case 7:return s=e.sent,e.abrupt("return",null!==(i=te(s.index))&&void 0!==i?i:0);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"prepareMessage",value:function(){return new ze(this.limits,this._messagesEntity)}},{key:"setAllMessagesRead",value:function(){var e=R.default(Z.default.mark((function e(){var t;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this.getMessages(1);case 4:if(!((t=e.sent).items.length>0)){e.next=7;break}return e.abrupt("return",this.advanceLastReadMessageIndex(t.items[0].index));case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAllMessagesUnread",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this._setLastReadMessageIndex(null);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setUserNotificationLevel",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.commandExecutor.mutateResource("post","".concat(this._configuration.links.myConversations,"/").concat(this.sid),{notification_level:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"typing",value:function(){return this._services.typingIndicator.send(this.sid)}},{key:"updateAttributes",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.commandExecutor.mutateResource("post",this._links.self,{attributes:void 0!==t?JSON.stringify(t):void 0});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFriendlyName",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._internalState.friendlyName===t){e.next=3;break}return e.next=3,this._services.commandExecutor.mutateResource("post",this._links.self,{friendly_name:t});case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLastReadMessageIndex",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this._setLastReadMessageIndex(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUniqueName",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._internalState.uniqueName===t){e.next=4;break}return t||(t=""),e.next=4,this._services.commandExecutor.mutateResource("post",this._links.self,{unique_name:t});case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(){var e=R.default(Z.default.mark((function e(){var t=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._entityPromise){e.next=2;break}return e.abrupt("return",this._entityPromise);case 2:return this._entityPromise=this._services.syncClient.document({id:this._entityName,mode:"open_existing"}),e.prev=3,e.next=6,this._entityPromise;case 6:return this._entity=e.sent,this._entity.on("updated",(function(e){return t._update(e.data)})),this._entity.on("removed",(function(){return t.emit("removed",t)})),this._update(this._entity.data),e.abrupt("return",this._entity);case 13:throw e.prev=13,e.t0=e.catch(3),this._entity=null,this._entityPromise=null,"disconnected"!=this._services.syncClient.connectionState&&n._logger.error("Failed to get conversation object",e.t0),n._logger.debug("ERROR: Failed to get conversation object",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetchStreams",value:function(){var e=R.default(Z.default.mark((function e(){var t,r,i;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return n._logger.trace("_streamsAvailable, this.entity.data=",null===(t=this._entity)||void 0===t?void 0:t.data),i=null===(r=this._entity)||void 0===r?void 0:r.data,e.next=6,this._services.syncClient.list({id:i.messages,mode:"open_existing"});case 6:return this._messagesList=e.sent,e.next=9,this._services.syncClient.map({id:i.roster,mode:"open_existing"});case 9:this._participantsMap=e.sent;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_subscribeStreams",value:function(){var e=R.default(Z.default.mark((function e(){var t,r,i,a,o,s,u;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._subscribe();case 3:return n._logger.trace("_subscribeStreams, this.entity.data=",null===(t=this._entity)||void 0===t?void 0:t.data),o=null===(r=this._entity)||void 0===r?void 0:r.data,s=o.messages,u=o.roster,e.next=9,Promise.all([this._messagesEntity.subscribe(null!==(i=this._messagesList)&&void 0!==i?i:s),this._participantsEntity.subscribe(null!==(a=this._participantsMap)&&void 0!==a?a:u)]);case 9:e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(0),"disconnected"!==this._services.syncClient.connectionState&&n._logger.error("Failed to subscribe on conversation objects",this.sid,e.t0),n._logger.debug("ERROR: Failed to subscribe on conversation objects",this.sid,e.t0),e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_unsubscribe",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._entity){e.next=5;break}return e.next=3,this._entity.close();case 3:this._entity=null,this._entityPromise=null;case 5:return e.abrupt("return",Promise.all([this._participantsEntity.unsubscribe(),this._messagesEntity.unsubscribe()]));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_setStatus",value:function(e,t){var r=this;this._dataSource=t,this._internalState.status!==e&&(this._internalState.status=e,"joined"!==e?this._entityPromise&&this._unsubscribe().catch((function(t){if(n._logger.debug("ERROR while setting conversation status "+e,t),"disconnected"!==r._services.syncClient.connectionState)throw t})):this._subscribeStreams().catch((function(t){if(n._logger.debug("ERROR while setting conversation status "+e,t),"disconnected"!==r._services.syncClient.connectionState)throw t})))}},{key:"_update",value:function(e){var t,r,i,a,o;n._logger.trace("_update",e),n.preprocessUpdate(e,this.sid);for(var s=new Set,u=0,c=Object.keys(e);u<c.length;u++){var l=c[u],f=qe[l];if(f)switch(f){case qe.status:if(!e.status||"unknown"===e.status||this._internalState.status===e.status)break;this._internalState.status=e.status,s.add(f);break;case qe.attributes:if(z.default(this._internalState.attributes,e.attributes))break;this._internalState.attributes=e.attributes,s.add(f);break;case qe.lastConsumedMessageIndex:if(void 0===e.lastConsumedMessageIndex||e.lastConsumedMessageIndex===this._internalState.lastReadMessageIndex)break;this._internalState.lastReadMessageIndex=e.lastConsumedMessageIndex,s.add("lastReadMessageIndex");break;case qe.lastMessage:if(this._internalState.lastMessage&&!e.lastMessage){delete this._internalState.lastMessage,s.add(f);break}this._internalState.lastMessage=this._internalState.lastMessage||{},void 0!==(null===(t=e.lastMessage)||void 0===t?void 0:t.index)&&e.lastMessage.index!==this._internalState.lastMessage.index&&(this._internalState.lastMessage.index=e.lastMessage.index,s.add(f)),void 0!==(null===(r=e.lastMessage)||void 0===r?void 0:r.timestamp)&&(null===(i=this._internalState.lastMessage)||void 0===i||null===(a=i.dateCreated)||void 0===a?void 0:a.getTime())!==e.lastMessage.timestamp.getTime()&&(this._internalState.lastMessage.dateCreated=e.lastMessage.timestamp,s.add(f)),z.default(this._internalState.lastMessage,{})&&delete this._internalState.lastMessage;break;case qe.state:var d=e.state||void 0;if(void 0!==d&&(d.dateUpdated=new Date(d.dateUpdated)),z.default(this._internalState.state,d))break;this._internalState.state=d,s.add(f);break;case qe.bindings:if(z.default(this._internalState.bindings,e.bindings))break;this._internalState.bindings=e.bindings,s.add(f);break;default:var p=e[l]instanceof Date,h=p&&(null===(o=this._internalState[f])||void 0===o?void 0:o.getTime())===e[l].getTime(),v=!p&&this[f]===e[l];if(h||v)break;this._internalState[f]=e[l],s.add(f)}}s.size>0&&this.emit("updated",{conversation:this,updateReasons:V.default(s)})}},{key:"_onMessageAdded",value:function(e){var t,n=We(this._participants.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.identity===e.author){r._endTyping();break}}}catch(i){n.e(i)}finally{n.f()}this.emit("messageAdded",e)}},{key:"_setLastReadMessageIndex",value:function(){var e=R.default(Z.default.mark((function e(t){var n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.commandExecutor.mutateResource("post","".concat(this._configuration.links.myConversations,"/").concat(this.sid),{last_read_message_index:t});case 2:return n=e.sent,e.abrupt("return",n.unread_messages_count);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"preprocessUpdate",value:function(e,t){try{"string"===typeof e.attributes?e.attributes=JSON.parse(e.attributes):e.attributes&&JSON.stringify(e.attributes)}catch(r){n._logger.warn("Retrieved malformed attributes from the server for conversation: "+t),e.attributes={}}try{e.dateCreated&&(e.dateCreated=new Date(e.dateCreated))}catch(r){n._logger.warn("Retrieved malformed dateCreated from the server for conversation: "+t),delete e.dateCreated}try{e.dateUpdated&&(e.dateUpdated=new Date(e.dateUpdated))}catch(r){n._logger.warn("Retrieved malformed dateUpdated from the server for conversation: "+t),delete e.dateUpdated}try{e.lastMessage&&e.lastMessage.timestamp&&(e.lastMessage.timestamp=new Date(e.lastMessage.timestamp))}catch(r){n._logger.warn("Retrieved malformed lastMessage.timestamp from the server for conversation: "+t),delete e.lastMessage.timestamp}}}]),n}(y.ReplayEventEmitter);j.default(Ke,"participantJoined","participantJoined"),j.default(Ke,"participantLeft","participantLeft"),j.default(Ke,"participantUpdated","participantUpdated"),j.default(Ke,"messageAdded","messageAdded"),j.default(Ke,"messageRemoved","messageRemoved"),j.default(Ke,"messageUpdated","messageUpdated"),j.default(Ke,"typingEnded","typingEnded"),j.default(Ke,"typingStarted","typingStarted"),j.default(Ke,"updated","updated"),j.default(Ke,"removed","removed"),j.default(Ke,"_logger",X.scope("Conversation")),G([m.validateTypesAsync(m.nonEmptyString,oe),q("design:type",Function),q("design:paramtypes",[String,Object]),q("design:returntype",Promise)],Ke.prototype,"add",null),G([m.validateTypesAsync(m.nonEmptyString,m.nonEmptyString,oe),q("design:type",Function),q("design:paramtypes",[String,String,Object,Object]),q("design:returntype",Promise)],Ke.prototype,"addNonChatParticipant",null),G([m.validateTypesAsync(m.nonNegativeInteger),q("design:type",Function),q("design:paramtypes",[Number]),q("design:returntype",Promise)],Ke.prototype,"advanceLastReadMessageIndex",null),G([m.validateTypesAsync(["undefined",m.nonNegativeInteger],["undefined",m.nonNegativeInteger],["undefined",m.literal("backwards","forward")]),q("design:type",Function),q("design:paramtypes",[Number,Number,String]),q("design:returntype",Promise)],Ke.prototype,"getMessages",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],Ke.prototype,"getParticipantBySid",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],Ke.prototype,"getParticipantByIdentity",null),G([m.validateTypesAsync([m.nonEmptyString,ge]),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],Ke.prototype,"removeParticipant",null),G([m.validateTypesAsync(["string",FormData,m.literal(null),m.objectSchema("media options",{contentType:m.nonEmptyString,media:m.custom((function(e){var t="string"===typeof e&&e.length>0||e instanceof Uint8Array||e instanceof ArrayBuffer;return"function"===typeof Blob&&(t=t||e instanceof Blob),[t,"a non-empty string, an instance of Buffer or an instance of Blob"]}))})],oe,["undefined",m.literal(null),m.objectSchema("email attributes",{subject:[m.nonEmptyString,"undefined"]})]),q("design:type",Function),q("design:paramtypes",[Object,Object,Object]),q("design:returntype",Promise)],Ke.prototype,"sendMessage",null),G([m.validateTypesAsync(m.literal("default","muted")),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],Ke.prototype,"setUserNotificationLevel",null),G([m.validateTypesAsync(ae),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],Ke.prototype,"updateAttributes",null),G([m.validateTypesAsync("string"),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],Ke.prototype,"updateFriendlyName",null),G([m.validateTypesAsync([m.literal(null),m.nonNegativeInteger]),q("design:type",Function),q("design:paramtypes",[Number]),q("design:returntype",Promise)],Ke.prototype,"updateLastReadMessageIndex",null),G([m.validateTypesAsync(["string",m.literal(null)]),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],Ke.prototype,"updateUniqueName",null);var Ye=function(){function e(){var t=this;F.default(this,e),this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return L.default(e,[{key:"promise",get:function(){return this._promise}},{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}}]),e}();function Xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){j.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}var tt=X.scope("Conversations"),nt=function(e){P.default(n,e);var t=et(n);function n(e,r){var i;return F.default(this,n),i=t.call(this),j.default(N.default(i),"conversations",new Map),j.default(N.default(i),"myConversationsRead",new Ye),j.default(N.default(i),"tombstones",new Set),j.default(N.default(i),"myConversationsFetched",!1),i.configuration=e,i.services=r,i}return L.default(n,[{key:"addConversation",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a,o,s,u,c,l,f;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="undefined"!==typeof(null===t||void 0===t?void 0:t.attributes)?t.attributes:{},e.next=3,this.services.commandExecutor.mutateResource("post",this.configuration.links.conversations,{friendly_name:t.friendlyName,unique_name:t.uniqueName,attributes:"undefined"!==typeof a?JSON.stringify(a):void 0});case 3:if(o=e.sent,s=null!==(n=o.sid)&&void 0!==n?n:null,u=null!==(r=null===(i=o.sync_objects)||void 0===i?void 0:i.conversation)&&void 0!==r?r:null,c=$e({self:o.url},o.links),!(l=this.conversations.get(s))){e.next=12;break}return e.next=11,l._subscribe();case 11:return e.abrupt("return",l);case 12:return f=new Ke({channel:u,entityName:"",uniqueName:"",attributes:null,createdBy:"",friendlyName:"",lastConsumedMessageIndex:0,dateCreated:null,dateUpdated:null},s,c,this.configuration,this.services),this.conversations.set(f.sid,f),this._registerForEvents(f),e.next=17,f._subscribe();case 17:return this.emit("conversationAdded",f),e.abrupt("return",f);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchConversations",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r,i,a,o,s,u=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getMap();case 3:return(t=e.sent).on("itemAdded",(function(e){tt.debug("itemAdded: ".concat(e.item.key)),u._upsertConversation("sync",e.item.key,e.item.data)})),t.on("itemRemoved",(function(e){tt.debug("itemRemoved: ".concat(e.key));var t=e.key;u.myConversationsFetched||u.tombstones.add(t);var n=u.conversations.get(t);n&&("joined"===n.status&&(n._setStatus("notParticipating","sync"),u.emit("conversationLeft",n)),u.conversations.delete(t),u.emit("conversationRemoved",n),n.emit("removed",n))})),t.on("itemUpdated",(function(e){tt.debug("itemUpdated: ".concat(e.item.key)),u._upsertConversation("sync",e.item.key,e.item.data)})),e.next=9,this._fetchMyConversations();case 9:n=e.sent,r=[],i=Xe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,r.push(this._upsertConversation("rest",o.channel_sid,o))}catch(c){i.e(c)}finally{i.f()}return this.myConversationsRead.set(!0),e.next=16,Promise.all(r);case 16:return this.myConversationsFetched=!0,this.tombstones.clear(),tt.debug("The conversations list has been successfully fetched"),e.abrupt("return",this);case 22:throw e.prev=22,e.t0=e.catch(0),s="Failed to fetch the conversations list","disconnected"!==this.services.syncClient.connectionState&&tt.error(s,e.t0),tt.debug("ERROR: ".concat(s),e.t0),e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"getConversations",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMap();case 2:return t=e.sent,e.next=5,t.getItems();case 5:return n=e.sent,e.abrupt("return",this._wrapPaginator(n,(function(e){return Promise.all(e.map((function(e){return r._upsertConversation("sync",e.key,e.data)})))})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConversation",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMap();case 2:return n=e.sent,e.next=5,n.getItems({key:t});case 5:return r=e.sent,i=r.items.map((function(e){return a._upsertConversation("sync",e.key,e.data)})),e.abrupt("return",i.length>0?i[0]:null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationByUniqueName",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a,o;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie(this.configuration.links.myConversations).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,i=r.body,a=i.conversation_sid,o={entityName:null,lastConsumedMessageIndex:i.last_read_message_index,status:(null===i||void 0===i?void 0:i.status)||"unknown",friendlyName:i.friendly_name,dateUpdated:i.date_updated,dateCreated:i.date_created,uniqueName:i.unique_name,createdBy:i.created_by,attributes:i.attributes,channel:i.sync_objects.conversation,notificationLevel:null===i||void 0===i?void 0:i.notification_level,sid:a},e.abrupt("return",a?this._upsertConversation("sync",a,o):null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"peekConversation",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie(this.configuration.links.conversations).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,i=r.body,a={entityName:null,status:(null===i||void 0===i?void 0:i.status)||"unknown",friendlyName:i.friendly_name,dateUpdated:i.date_updated,dateCreated:i.date_created,uniqueName:i.unique_name,createdBy:i.created_by,attributes:i.attributes,channel:"".concat(t,".channel"),sid:t},e.abrupt("return",this._upsertConversation("sync",t,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMap",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.syncClient.map({id:this.configuration.myConversations,mode:"open_existing"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_wrapPaginator",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.items);case 2:return r=e.sent,e.abrupt("return",{items:r.filter((function(e){return null!==e})),hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,nextPage:function(){return t.nextPage().then((function(e){return i._wrapPaginator(e,n)}))},prevPage:function(){return t.prevPage().then((function(e){return i._wrapPaginator(e,n)}))}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateConversation",value:function(){var e=R.default(Z.default.mark((function e(t,n,r){var i,a,o;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=void 0!==n._statusSource&&t!==n._statusSource,a="rest"!==t||"sync"===n._statusSource,!i||!a||"sync"===t){e.next=5;break}return tt.trace("upsertConversation: conversation is known from sync and came from REST, ignoring",{sid:n.sid,data:r.status,conversation:n.status}),e.abrupt("return");case 5:if("joined"!==r.status||"joined"===n.status){e.next=15;break}return n._setStatus("joined",t),o={},"undefined"!==typeof r.notificationLevel&&(o.notificationLevel=r.notificationLevel),"undefined"!==typeof r.lastConsumedMessageIndex&&(o.lastConsumedMessageIndex=r.lastConsumedMessageIndex),z.default(o,{})||n._update(o),e.next=13,n._subscribe();case 13:return this.emit("conversationJoined",n),e.abrupt("return");case 15:if("notParticipating"!==r.status||"joined"!==n.status){e.next=22;break}return n._setStatus("notParticipating",t),n._update(r),e.next=20,n._subscribe();case 20:return this.emit("conversationLeft",n),e.abrupt("return");case 22:if("notParticipating"!==r.status){e.next=26;break}return e.next=25,n._subscribe();case 25:return e.abrupt("return");case 26:n._update(r);case 27:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_upsertConversation",value:function(){var e=R.default(Z.default.mark((function e(t,n,r){var i,a,o,s;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tt.trace("upsertConversation called for ".concat(n),r),!(i=this.conversations.get(n))){e.next=9;break}return tt.trace("upsertConversation: the conversation ".concat(i.sid," is known;")+"its status is known from the source ".concat(i._statusSource," ")+"and the update came from the source ".concat(t),i),e.next=6,this._updateConversation(t,i,r);case 6:return e.next=8,i._subscribe();case 8:return e.abrupt("return",i);case 9:if("rest"!==t||!this.tombstones.has(n)){e.next=12;break}return tt.trace("upsertChannel: the conversation is deleted but reappeared again from REST, ignoring",n),e.abrupt("return",null);case 12:return tt.trace("upsertConversation: creating a local conversation object with sid "+n,r),a="".concat(this.configuration.links.conversations,"/").concat(n),o={self:a,messages:"".concat(a,"/Messages"),participants:"".concat(a,"/Participants")},s=new Ke(r,n,o,this.configuration,this.services),this.conversations.set(n,s),e.prev=17,e.next=20,s._subscribe();case 20:if("joined"!==r.status){e.next=23;break}return e.next=23,s._fetchStreams();case 23:e.next=32;break;case 25:if(e.prev=25,e.t0=e.catch(17),"SyncError"===e.t0.name){e.next=29;break}throw e.t0;case 29:return tt.trace("upsertChannel: the conversation is missing some Sync entity(ies), ignoring",n,e.t0),this.conversations.delete(n),e.abrupt("return",null);case 32:return this._registerForEvents(s),this.emit("conversationAdded",s),"joined"===r.status&&(s._setStatus("joined",t),this.emit("conversationJoined",s)),e.abrupt("return",s);case 36:case"end":return e.stop()}}),e,this,[[17,25]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_fetchMyConversations",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r,i,a,o;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=null;case 2:return i=new ie(this.configuration.links.myConversations),n&&i.arg("PageToken",n),e.next=6,this.services.network.get(i.build());case 6:a=e.sent,o=null===(r=a.body)||void 0===r?void 0:r.conversations.map((function(e){return{descriptor:e,channel_sid:e.conversation_sid,status:e.status,channel:e.sync_objects.conversation,messages:e.sync_objects.messages,roster:"".concat(e.conversation_sid,".roster"),lastConsumedMessageIndex:e.last_read_message_index,notificationLevel:e.notification_level}})),n=a.body.meta.next_token,t=[].concat(V.default(t),V.default(o));case 10:if(n){e.next=2;break}case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_onConversationRemoved",value:function(e){var t=this.conversations.get(e);t&&(this.conversations.delete(e),this.emit("conversationRemoved",t))}},{key:"_registerForEvents",value:function(e){var t=this;e.on("removed",(function(){return t._onConversationRemoved(e.sid)})),e.on("updated",(function(e){return t.emit("conversationUpdated",e)})),e.on("participantJoined",(function(e){return t.emit("participantJoined",e)})),e.on("participantLeft",(function(e){return t.emit("participantLeft",e)})),e.on("participantUpdated",(function(e){return t.emit("participantUpdated",e)})),e.on("messageAdded",(function(e){return t.emit("messageAdded",e)})),e.on("messageUpdated",(function(e){return t.emit("messageUpdated",e)})),e.on("messageRemoved",(function(e){return t.emit("messageRemoved",e)})),e.on("typingStarted",(function(e){return t.emit("typingStarted",e)})),e.on("typingEnded",(function(e){return t.emit("typingEnded",e)}))}}]),n}(y.ReplayEventEmitter);function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}var it=function(e){P.default(n,e);var t=rt(n);function n(e,r,i){var a;return F.default(this,n),(a=t.call(this)).configuration=r,a.services=i,a.fifoStack=[],a.myself=e,a.myself.on("updated",(function(e){return a.emit("userUpdated",e)})),a.myself.on("userSubscribed",(function(){return a.emit("userSubscribed",a.myself)})),a.myself.on("userUnsubscribed",(function(){a.emit("userUnsubscribed",a.myself),a.myself._ensureFetched()})),a.subscribedUsers=new Map,a}return L.default(n,[{key:"handleUnsubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)&&this.subscribedUsers.delete(e.identity);var t=0;this.fifoStack.find((function(n,r){return n==e.identity&&(t=r,!0)}))&&this.fifoStack.splice(t,1),this.emit("userUnsubscribed",e)}},{key:"handleSubscribeUser",value:function(e){if(!this.subscribedUsers.has(e.identity)){if(this.fifoStack.length>=this.configuration.userInfosToSubscribe){var t,n,r=this.fifoStack.shift();null===(t=this.subscribedUsers)||void 0===t||null===(n=t.get(r))||void 0===n||n.unsubscribe()}this.fifoStack.push(e.identity),this.subscribedUsers.set(e.identity,e),this.emit("userSubscribed",e)}}},{key:"getUser",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i,a,o=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.myself._ensureFetched();case 2:if(t!=this.myself.identity){e.next=4;break}return e.abrupt("return",this.myself);case 4:if(!(i=this.subscribedUsers.get(t))){e.next=7;break}return e.abrupt("return",i);case 7:if(null===(r=n)||void 0===r){e.next=11;break}e.next=14;break;case 11:return e.next=13,this.getSyncUniqueName(t);case 13:n=e.sent;case 14:return(a=new le(t,n,this.configuration,this.services)).on("updated",(function(e){return o.emit("userUpdated",e)})),a.on("userSubscribed",(function(){return o.handleSubscribeUser(a)})),a.on("userUnsubscribed",(function(){return o.handleUnsubscribeUser(a)})),e.next=20,a._ensureFetched();case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSubscribedUsers",value:function(){var e=R.default(Z.default.mark((function e(){var t;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.myself._ensureFetched();case 2:return t=[this.myself],this.subscribedUsers.forEach((function(e){return t.push(e)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSyncUniqueName",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r,i,a;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new ie(this.configuration.links.users).path(t).build(),e.next=3,this.services.network.get(i);case 3:return a=e.sent,e.abrupt("return",null!==(n=null===(r=a.body)||void 0===r?void 0:r.sync_objects.user_info_map)&&void 0!==n?n:"");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(y.ReplayEventEmitter),at=X.scope("TypingIndicator"),ot=function(){function e(t,n,r){F.default(this,e),this.configuration=n,this.services=r,this.getConversation=t,this.serviceTypingTimeout=null,this.sentUpdates=new Map}return L.default(e,[{key:"typingTimeout",get:function(){return this.configuration.typingIndicatorTimeoutOverride||this.serviceTypingTimeout||this.configuration.typingIndicatorTimeoutDefault}},{key:"initialize",value:function(){var e=this;this.services.notificationClient.on("message",function(){var t=R.default(Z.default.mark((function t(n,r){return Z.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==he.TYPING_INDICATOR){t.next=3;break}return t.next=3,e._handleRemoteTyping(r);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"_handleRemoteTyping",value:function(){var e=R.default(Z.default.mark((function e(t){var n=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:at.trace("Got new typing indicator ",t),this.getConversation(t.channel_sid).then((function(e){e&&e._participants.forEach((function(e){if(e.identity===t.identity){var r=n.configuration.typingIndicatorTimeoutOverride?n.configuration.typingIndicatorTimeoutOverride+1e3:1e3*t.typing_timeout;e._startTyping(r)}}))})).catch((function(e){throw at.error(e),e}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e){var t=this.sentUpdates.get(e);return t&&t>Date.now()-this.typingTimeout?Promise.resolve():(this.sentUpdates.set(e,Date.now()),this._send(e))}},{key:"_send",value:function(e){var t=this;at.trace("Sending typing indicator");var n=this.configuration.links.typing,r="ChannelSid=".concat(e);return this.services.twilsockClient.post(n,{"Content-Type":"application/x-www-form-urlencoded"},r,this.configuration.productId).then((function(e){e.body.hasOwnProperty("typing_timeout")&&(t.serviceTypingTimeout=1e3*e.body.typing_timeout)})).catch((function(e){throw at.error("Failed to send typing indicator:",e),e}))}}]),e}(),st=L.default((function e(t){F.default(this,e),this.title=t.title||null,this.body=t.body||null,this.sound=t.sound||null,this.badge=t.badge||null,this.action=t.action||null,this.type=t.type||null,this.data=t.data||{}})),ut="2.4.0";function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){j.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}var dt=function(e){return e.replace(/(^\/+|\/+$)/g,"")},pt=function(e){P.default(n,e);var t=ft(n);function n(e){return F.default(this,n),t.call(this,e)}return L.default(n)}(H.default(Error)),ht=function(){function e(t,n,r){F.default(this,e),this._serviceUrl=t,this._services=n,this._productId=r}return L.default(e,[{key:"_preProcessUrl",value:function(e){var t=dt(e);return/^https?:\/\//.test(e)?t:"".concat(dt(this._serviceUrl),"/").concat(t)}},{key:"_makeRequest",value:function(){var e=R.default(Z.default.mark((function e(t,n,r,i){var a,o,s,u;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this._preProcessUrl(n),o=lt({"Content-Type":"application/json; charset=utf-8"},i||{}),e.t0=t,e.next="get"===e.t0?5:"post"===e.t0?11:"delete"===e.t0?15:19;break;case 5:return u=a,r&&(u+="?"+Object.entries(r).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")),e.next=9,this._services.transport.get(u,o,this._productId);case 9:case 13:case 17:return s=e.sent,e.abrupt("break",19);case 11:return e.next=13,this._services.transport.post(a,o,JSON.stringify(r),this._productId);case 15:return e.next=17,this._services.transport.delete(a,o,{},this._productId);case 19:if(!(s.status.code<200||s.status.code>=300)){e.next=21;break}throw new Error("Request responded with a non-success code ".concat(s.status.code));case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"fetchResource",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i,a=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6,r=new k.AsyncRetrier({min:50,max:1600,maxAttemptsCount:6}),e.prev=2,e.next=5,r.run(R.default(Z.default.mark((function e(){var r,i,o;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a._makeRequest("get",t,n);case 3:return r=e.sent,e.abrupt("return",{type:"success",data:r.body});case 7:if(e.prev=7,e.t0=e.catch(0),404!==(null===e.t0||void 0===e.t0||null===(i=e.t0.body)||void 0===i?void 0:i.status)||50530!==(null===e.t0||void 0===e.t0||null===(o=e.t0.body)||void 0===o?void 0:o.code)){e.next=11;break}return e.abrupt("return",{type:"noMetadata"});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 5:i=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new Error('Fetch resource from "'.concat(t,'" failed.'));case 11:if("noMetadata"!==i.type){e.next=13;break}throw new pt("No metadata found.");case 13:return e.abrupt("return",i.data);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutateResource",value:function(){var e=R.default(Z.default.mark((function e(t,n,r){var i;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._makeRequest(t,n,r,{"X-Twilio-Mutation-Id":O.v4()});case 2:if(i=e.sent,202!==i.status.code){e.next=7;break}return e.next=6,this.fetchResource(i.body.resource_url);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",i.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;F.default(this,e),j.default(this,"_cachedTemplates",null),this._services=t,this._pageSize=n,this._cacheTtlMs=r}return L.default(e,[{key:"getContentTemplates",value:function(){var e=R.default(Z.default.mark((function e(){var t,n,r,i,a,o,s,u=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._cachedTemplates){e.next=2;break}return e.abrupt("return",this._cachedTemplates);case 2:return e.next=4,this._fetchContentTemplates();case 4:t=e.sent,n=W.default(t,2),r=n[0],i=n[1],a=r;case 9:if(null===i){e.next=19;break}return e.next=12,this._fetchContentTemplates(i);case 12:o=e.sent,s=W.default(o,2),r=s[0],i=s[1],a=[].concat(V.default(a),V.default(r)),e.next=9;break;case 19:return this._cachedTemplates=Object.freeze(a),setTimeout((function(){u._cachedTemplates=null}),this._cacheTtlMs),e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_fetchContentTemplates",value:function(){var e=R.default(Z.default.mark((function e(t){var n,r;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Client/v2/ContentTemplates",(n=new ie("Client/v2/ContentTemplates")).arg("PageSize",this._pageSize),void 0!==t&&n.arg("PageToken",t),e.next=6,this._services.commandExecutor.fetchResource(n.build());case 6:return r=e.sent,e.abrupt("return",[r.templates.map((function(e){return new Oe(e)})),r.meta.next_token]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yt,bt,xt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(F.default(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}return L.default(t,[{key:"_set",value:function(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"===typeof this.onEviction){var n,r=mt(this.oldCache.entries());try{for(r.s();!(n=r.n()).done;){var i=W.default(n.value,2),a=i[0],o=i[1];this.onEviction(a,o)}}catch(s){r.e(s)}finally{r.f()}}this.oldCache=this.cache,this.cache=new Map}}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:Z.default.mark((function e(){var t,n,r,i;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=mt(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=W.default(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:Z.default.mark((function e(){var t,n,r,i;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=mt(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=W.default(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:Z.default.mark((function e(){var t,n,r,i,a,o,s,u;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=mt(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=mt(this.oldCache),e.prev=18,i.s();case 20:if((a=i.n()).done){e.next=28;break}if(o=a.value,s=W.default(o,1),u=s[0],this.cache.has(u)){e.next=26;break}return e.next=26,o;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=mt(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(i){n.e(i)}finally{n.f()}return Math.min(this._size+t,this.maxSize)}}]),t}(Symbol.iterator),kt=xt,wt=L.default((function e(t,n){F.default(this,e),this.type=t,this.data=n,Object.freeze(n)})),_t=function(){function e(t,n){F.default(this,e),this._services=t,this._configuration=n,this._cache=new kt({maxSize:n.channelMetadataCacheCapacity})}return L.default(e,[{key:"getChannelMetadata",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r,i,a,o,s;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(t,",").concat(n),!(i=this._cache.get(r))){e.next=4;break}return e.abrupt("return",i.item);case 4:return a="".concat(this._configuration.links.conversations,"/").concat(t,"/Messages/").concat(n,"/ChannelMetadata"),e.prev=5,e.next=8,this._services.commandExecutor.fetchResource(a);case 8:o=e.sent,e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(5),!(e.t0 instanceof pt)){e.next=16;break}return this._cache.set(r,{item:null}),e.abrupt("return",null);case 16:throw new Error(e.t0);case 17:return s=new wt(o.type,o.data),this._cache.set(r,{item:s}),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){j.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D.default(e);if(t){var i=D.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}}var Et=L.default((function e(){F.default(this,e)}));t.KU=(yt=function(e){P.default(n,e);var t=Ct(n);function n(e){var r,i,a,o,s,u,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F.default(this,n),u=t.call(this),j.default(N.default(u),"version",ut),j.default(N.default(u),"connectionState","unknown"),j.default(N.default(u),"parsePushNotification",bt.parsePushNotification),u._fpaToken=null!==e&&void 0!==e?e:"",u._options=null!==l&&void 0!==l?l:{},!u._options.disableDeepClone){var f=Tt(Tt({},u._options),{},{transport:void 0,twilsockClient:void 0});c=f,(f=JSON.parse(JSON.stringify(c))).transport=u._options.transport,f.twilsockClient=u._options.twilsockClient,u._options=f}u._options.logLevel=null!==(r=u._options.logLevel)&&void 0!==r?r:"silent",bt._logger.setLevel(u._options.logLevel);var d=u._options.productId="ip_messaging";if(u._options.clientMetadata=u._options.clientMetadata||{},u._options.clientMetadata.hasOwnProperty("type")||(u._options.clientMetadata.type="conversations"),u._options.clientMetadata.hasOwnProperty("sdk")||(u._options.clientMetadata.sdk="JS",u._options.clientMetadata.sdkv=ut),u._options.Sync=u._options.Sync||{},"undefined"===typeof u._options.Sync.enableSessionStorage&&(u._options.Sync.enableSessionStorage=!0),u._options.region&&(u._options.Sync.region=u._options.region),!e)throw new Error("A valid Twilio token should be provided");u._services=new Et,u._myself=new le("","",null,u._services);var p=!u._options.twilsockClient;if(!u._options.initRegistrations){var h=new w.InitRegistration(d);bt.populateInitRegistrations(h),u._options.initRegistrations=[h]}u._services.twilsockClient=u._options.twilsockClient=null!==(i=u._options.twilsockClient)&&void 0!==i?i:new w.TwilsockClient(e,d,u._options),u._services.twilsockClient.on("tokenAboutToExpire",(function(){return u.emit("tokenAboutToExpire")})),u._services.twilsockClient.on("tokenExpired",(function(){return u.emit("tokenExpired")})),u._services.twilsockClient.on("connectionError",(function(e){return u.emit("connectionError",e)})),u._services.twilsockClient.on("stateChanged",(function(e){bt._logger.debug("Handling stateChanged for ConversationsClient: new state ".concat(e)),e!==u.connectionState&&(u.connectionState=e,u.emit("connectionStateChanged",u.connectionState))})),u._services.transport=u._options.transport=null!==(a=u._options.transport)&&void 0!==a?a:u._options.twilsockClient,u._services.notificationClient=u._options.notificationsClient=null!==(o=u._options.notificationsClient)&&void 0!==o?o:new _.Notifications(e,u._options),u._services.syncClient=u._options.syncClient=null!==(s=u._options.syncClient)&&void 0!==s?s:new S.SyncClient(e,u._options);var v=(null===l||void 0===l?void 0:l.Chat)||(null===l||void 0===l?void 0:l.IPMessaging)||l||{},m=v.region||(null===l||void 0===l?void 0:l.region),g=v.apiUri||v.typingUri||"https://aim.".concat(m||"us1",".twilio.com");u._services.commandExecutor=new ht(g,{transport:u._options.transport},d),u._services.contentClient=new vt(u._services);var y=function(e){u._rejectEnsureReady(e),u.emit("stateChanged","failed"),u.emit("initFailed",{error:e})},b=function(){y({terminal:!0,message:"Twilsock has disconnected."})};return u._services.twilsockClient.once("connectionError",y),u._services.twilsockClient.once("disconnected",b),u._services.twilsockClient.once("connected",R.default(Z.default.mark((function e(){var t,n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bt._logger.debug("ConversationsClient started INITIALIZING"),u._services.twilsockClient.off("connectionError",y),u._services.twilsockClient.off("disconnected",b),e.prev=3,t="conversations.client.startup",u._services.twilsockClient.addPartialTelemetryEvent(new w.TelemetryEventDescription(t,"Conversations client startup",new Date),t,w.TelemetryPoint.Start),e.next=8,u._initialize();case 8:u._services.twilsockClient.addPartialTelemetryEvent(new w.TelemetryEventDescription("","",new Date),t,w.TelemetryPoint.End),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(3),n={terminal:!0,message:e.t0.message},u._rejectEnsureReady(n),u.emit("stateChanged","failed"),u.emit("initFailed",{error:n});case 17:case"end":return e.stop()}}),e,null,[[3,11]])})))),u._ensureReady=new Promise((function(e,t){u._resolveEnsureReady=e,u._rejectEnsureReady=t})).catch((function(){})),p&&u._services.twilsockClient.connect(),u}return L.default(n,[{key:"user",get:function(){return this._myself}},{key:"reachabilityEnabled",get:function(){if(!this._configuration)throw new Error("Reachability information could not yet be accessed as the client has not yet been initialized. Subscribe to the 'stateChanged' event to properly react to the client initialization.");return this._configuration.reachabilityEnabled}},{key:"token",get:function(){return this._fpaToken}},{key:"shutdown",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this._services.twilsockClient.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateToken",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:if(bt._logger.info("updateToken"),this._fpaToken!==t){e.next=5;break}return e.abrupt("return",this);case 5:return e.next=7,this._services.twilsockClient.updateToken(t);case 7:return e.next=9,this._services.notificationClient.updateToken(t);case 9:return e.next=11,this._services.mcsClient.updateToken(t);case 11:return this._fpaToken=t,e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationBySid",value:function(){var e=R.default(Z.default.mark((function e(t){var n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this._conversationsEntity.myConversationsRead.promise;case 4:return e.next=6,this._conversationsEntity.getConversation(t);case 6:if(n=e.sent){e.next=12;break}return e.next=10,this.peekConversationBySid(t);case 10:(n=e.sent)&&C.deprecationWarning("The method getConversationBySid is deprecated to retrieve conversations you're not part of. Use peekConversationBySid instead.");case 12:if(n){e.next=14;break}throw new Error("Conversation with SID ".concat(t," was not found."));case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"peekConversationBySid",value:function(){var e=R.default(Z.default.mark((function e(t){var n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this._conversationsEntity.peekConversation(t);case 4:if(n=e.sent){e.next=7;break}throw new Error("Conversation with SID ".concat(t," was not found."));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationByUniqueName",value:function(){var e=R.default(Z.default.mark((function e(t){var n;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this._conversationsEntity.myConversationsRead.promise;case 4:return e.next=6,this._conversationsEntity.getConversationByUniqueName(t);case 6:if(n=e.sent){e.next=9;break}throw new Error("Conversation with unique name ".concat(t," was not found."));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribedConversations",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this._conversationsPromise.then((function(e){return e.getConversations()})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createConversation",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return t=t||{},e.abrupt("return",this._conversationsPromise.then((function(e){return e.addConversation(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPushRegistrationId",value:function(){var e=R.default(Z.default.mark((function e(t,n){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return this._subscribeToPushNotifications(t),this._services.notificationClient.setPushRegistrationId(t,n),e.next=6,this._services.notificationClient.commitChanges();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unsetPushRegistrationId",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return this._unsubscribeFromPushNotifications(t),e.next=5,this._services.notificationClient.commitChanges();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removePushRegistrations",value:function(){var e=R.default(Z.default.mark((function e(t,n){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.notificationClient.removeRegistrations(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePushNotification",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:bt._logger.debug("handlePushNotification, notificationPayload=",t),this.emit("pushNotification",bt.parsePushNotification(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=R.default(Z.default.mark((function e(t){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this._services.users.getUser(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribedUsers",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this._services.users.getSubscribedUsers());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTemporaryContentUrlsForMediaSids",value:function(e){var t=this;return new T.CancellablePromise(function(){var n=R.default(Z.default.mark((function n(r,i,a){var o,s;return Z.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t._services.mcsClient&&e){n.next=3;break}return i(new Error("Media Content Service is unavailable")),n.abrupt("return");case 3:return o=t._services.mcsClient.mediaSetGetContentUrls(e),a((function(){o.cancel()})),n.prev=5,n.next=8,o;case 8:s=n.sent,r(s),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),i(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t,r){return n.apply(this,arguments)}}())}},{key:"getTemporaryContentUrlsForMedia",value:function(e){var t=e.map((function(e){return e.sid}));return this.getTemporaryContentUrlsForMediaSids(t)}},{key:"getContentTemplates",value:function(){var e=R.default(Z.default.mark((function e(){return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this._services.contentClient.getContentTemplates();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(){var e=R.default(Z.default.mark((function e(){var t,n=this;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._services.commandExecutor.fetchResource("Client/v2/Configuration");case 2:return t=e.sent,this._configuration=new ee(this._options,t,bt._logger),this._services.channelMetadataClient=new _t(this._services,this._configuration),this._myself._resolveInitialization(this._configuration,this._configuration.userIdentity,this._configuration.userInfo,!0),this._services.typingIndicator=new ot(this.getConversationBySid.bind(this),this._configuration,this._services),this._services.network=new pe(this._configuration,this._services),this._services.users=new it(this._myself,this._configuration,this._services),this._services.users.on("userSubscribed",(function(e){n.emit("userSubscribed",e)})),this._services.users.on("userUpdated",(function(e){return n.emit("userUpdated",e)})),this._services.users.on("userUnsubscribed",(function(e){n.emit("userUnsubscribed",e)})),this._conversationsEntity=new nt(this._configuration,this._services),this._conversationsEntity.on("conversationAdded",(function(e){n.emit("conversationAdded",e)})),this._conversationsEntity.on("conversationRemoved",(function(e){n.emit("conversationRemoved",e)})),this._conversationsEntity.on("conversationJoined",(function(e){n.emit("conversationJoined",e)})),this._conversationsEntity.on("conversationLeft",(function(e){n.emit("conversationLeft",e)})),this._conversationsEntity.on("conversationUpdated",(function(e){return n.emit("conversationUpdated",e)})),this._conversationsEntity.on("participantJoined",(function(e){n.emit("participantJoined",e)})),this._conversationsEntity.on("participantLeft",(function(e){n.emit("participantLeft",e)})),this._conversationsEntity.on("participantUpdated",(function(e){return n.emit("participantUpdated",e)})),this._conversationsEntity.on("messageAdded",(function(e){return n.emit("messageAdded",e)})),this._conversationsEntity.on("messageUpdated",(function(e){return n.emit("messageUpdated",e)})),this._conversationsEntity.on("messageRemoved",(function(e){return n.emit("messageRemoved",e)})),this._conversationsEntity.on("typingStarted",(function(e){return n.emit("typingStarted",e)})),this._conversationsEntity.on("typingEnded",(function(e){return n.emit("typingEnded",e)})),this._conversationsPromise=this._conversationsEntity.fetchConversations().then((function(){return n._conversationsEntity})).catch((function(e){throw e})),e.next=29,this._services.users.myself._ensureFetched();case 29:bt._supportedPushChannels.forEach((function(e){return n._subscribeToPushNotifications(e)})),this._services.typingIndicator.initialize(),this._services.mcsClient=new T.McsClient(this._fpaToken,this._configuration.links.mediaService,this._configuration.links.mediaSetService,Tt(Tt({},this._options),{},{transport:void 0})),this._resolveEnsureReady(),this.emit("stateChanged","initialized"),this.emit("initialized");case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_subscribeToPushNotifications",value:function(e){var t=this;[he.NEW_MESSAGE,he.ADDED_TO_CONVERSATION,he.REMOVED_FROM_CONVERSATION,he.TYPING_INDICATOR,he.CONSUMPTION_UPDATE].forEach((function(n){t._services.notificationClient.subscribe(e,n)}))}},{key:"_unsubscribeFromPushNotifications",value:function(e){var t=this;[he.NEW_MESSAGE,he.ADDED_TO_CONVERSATION,he.REMOVED_FROM_CONVERSATION,he.TYPING_INDICATOR,he.CONSUMPTION_UPDATE].forEach((function(n){t._services.notificationClient.unsubscribe(e,n)}))}}],[{key:"create",value:function(){var e=R.default(Z.default.mark((function e(t,n){var r;return Z.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.twilsockClient){e.next=2;break}throw new Error("Obsolete usage of ConversationsClient.create() factory method: if you pass twilsock from the outside then you must use ConversationsClient constructor and be prepared to work with uninitialized client.");case 2:return r=new bt(t,n),e.next=5,r._ensureReady;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parsePushNotification",value:function(e){if(bt._logger.debug("parsePushNotification, notificationPayload=",e),"undefined"!==typeof e.aps){if(!e.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var t,n,r,i=bt._parsePushNotificationChatData(e),a=e.aps,o=null;if("string"===typeof a.alert)t=a.alert||null;else t=(null===(n=a.alert)||void 0===n?void 0:n.body)||null,o=(null===(r=a.alert)||void 0===r?void 0:r.title)||null;return new st({title:o,body:t,sound:a.sound||null,badge:a.badge||null,action:a.category||null,type:e.twi_message_type,data:i})}if("undefined"!==typeof e.data){var s=e.data;if(!s.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var u=bt._parsePushNotificationChatData(e.data);return new st({title:s.twi_title||null,body:s.twi_body||null,sound:s.twi_sound||null,badge:null,action:s.twi_action||null,type:s.twi_message_type,data:u})}throw new Error("Provided push notification payload is not Programmable Chat notification")}},{key:"_parsePushNotificationChatData",value:function(e){var t={};for(var n in bt._supportedPushDataFields){var r=e[n];if("undefined"!==typeof r&&null!==r)if("message_index"!==n&&"media_count"!==n){if("media"!==n)t[bt._supportedPushDataFields[n]]=r;else if("string"===typeof r)try{t[bt._supportedPushDataFields[n]]=JSON.parse(r)}catch(a){bt._logger.debug("Media message notification parsing error")}}else{var i=te(r);null!==i&&(t[bt._supportedPushDataFields[n]]=i)}}return t}},{key:"populateInitRegistrations",value:function(e){e.populateInitRegistrations([he.TYPING_INDICATOR]),S.SyncClient.populateInitRegistrations(e)}}]),n}(y.ReplayEventEmitter),j.default(yt,"conversationAdded","conversationAdded"),j.default(yt,"conversationJoined","conversationJoined"),j.default(yt,"conversationLeft","conversationLeft"),j.default(yt,"conversationRemoved","conversationRemoved"),j.default(yt,"conversationUpdated","conversationUpdated"),j.default(yt,"participantJoined","participantJoined"),j.default(yt,"participantLeft","participantLeft"),j.default(yt,"participantUpdated","participantUpdated"),j.default(yt,"messageAdded","messageAdded"),j.default(yt,"messageRemoved","messageRemoved"),j.default(yt,"messageUpdated","messageUpdated"),j.default(yt,"tokenAboutToExpire","tokenAboutToExpire"),j.default(yt,"tokenExpired","tokenExpired"),j.default(yt,"typingEnded","typingEnded"),j.default(yt,"typingStarted","typingStarted"),j.default(yt,"pushNotification","pushNotification"),j.default(yt,"userSubscribed","userSubscribed"),j.default(yt,"userUnsubscribed","userUnsubscribed"),j.default(yt,"userUpdated","userUpdated"),j.default(yt,"stateChanged","stateChanged"),j.default(yt,"initialized","initialized"),j.default(yt,"initFailed","initFailed"),j.default(yt,"connectionStateChanged","connectionStateChanged"),j.default(yt,"connectionError","connectionError"),j.default(yt,"version",ut),j.default(yt,"_logger",X.scope("Client")),j.default(yt,"_supportedPushChannels",["fcm","apn"]),j.default(yt,"_supportedPushDataFields",{conversation_sid:"conversationSid",conversation_title:"conversationTitle",message_sid:"messageSid",message_index:"messageIndex",media_count:"mediaCount",media:"media"}),bt=yt),G([C.deprecated("token"),q("design:type",String),q("design:paramtypes",[])],t.KU.prototype,"token",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],t.KU.prototype,"updateToken",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],t.KU.prototype,"getConversationBySid",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],t.KU.prototype,"peekConversationBySid",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],t.KU.prototype,"getConversationByUniqueName",null),G([m.validateTypesAsync(["undefined",m.objectSchema("conversation options",{friendlyName:["string","undefined"],isPrivate:["boolean","undefined"],uniqueName:["string","undefined"]})]),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],t.KU.prototype,"createConversation",null),G([m.validateTypesAsync(m.literal("fcm","apn"),"string"),q("design:type",Function),q("design:paramtypes",[String,String]),q("design:returntype",Promise)],t.KU.prototype,"setPushRegistrationId",null),G([m.validateTypesAsync(m.literal("fcm","apn")),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],t.KU.prototype,"unsetPushRegistrationId",null),G([m.validateTypesAsync(m.literal("fcm","apn"),m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String,String]),q("design:returntype",Promise)],t.KU.prototype,"removePushRegistrations",null),G([m.validateTypesAsync(m.pureObject),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",Promise)],t.KU.prototype,"handlePushNotification",null),G([m.validateTypesAsync(m.nonEmptyString),q("design:type",Function),q("design:paramtypes",[String]),q("design:returntype",Promise)],t.KU.prototype,"getUser",null),G([m.validateTypesAsync(m.nonEmptyArray("strings","string")),q("design:type",Function),q("design:paramtypes",[Array]),q("design:returntype",T.CancellablePromise)],t.KU.prototype,"getTemporaryContentUrlsForMediaSids",null),G([m.validateTypesAsync(m.nonEmptyArray("media",ke)),q("design:type",Function),q("design:paramtypes",[Array]),q("design:returntype",T.CancellablePromise)],t.KU.prototype,"getTemporaryContentUrlsForMedia",null),G([C.deprecated("Client.create()","new Client()"),m.validateTypesAsync("string",["undefined",m.pureObject]),q("design:type",Function),q("design:paramtypes",[String,Object]),q("design:returntype",Promise)],t.KU,"create",null),G([m.validateTypes(m.pureObject),q("design:type",Function),q("design:paramtypes",[Object]),q("design:returntype",st)],t.KU,"parsePushNotification",null),t.KU=bt=G([m.validateConstructorTypes(m.nonEmptyString,[m.pureObject,"undefined"]),q("design:paramtypes",[String,Object])],t.KU)},45239:function(e,t,n){var r=n(33020),i=n(90149),a=i;a.v1=r,a.v4=i,e.exports=a},75709:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},14134:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},33020:function(e,t,n){var r,i,a=n(14134),o=n(75709),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=a();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||o(l)}},90149:function(e,t,n){var r=n(14134),i=n(75709);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(49258),n(65202),n(89104),n(59147),n(20447),n(18116),n(4772),n(85625),n(18887),n(81740);var r=n(18698),i=n(27424);n(4778),n(44584);var a=n(861),o=n(89728),s=n(56690),u=n(61655),c=n(94993),l=n(73808);function f(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(68225),n(67675),n(44105),n(30974),n(99238);var d=f(r),p=f(i),h=f(a),v=f(o),m=f(s),g=f(u),y=f(c),b=f(l),x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{checks:t}};function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x((function(e){var n,r=!1,i=[],a=k(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"!==typeof o?(r=r||e instanceof o,i.push("an instance of ".concat(o.name))):(r=r||d.default(e)===o,i.push("of type ".concat(o)))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))};function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b.default(e);if(t){var i=b.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y.default(this,n)}}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e,t){if(t.length>e.length)throw new Error("Expected at most ".concat(e.length," argument(s), but got ").concat(t.length));for(;t.length<e.length;)t.push(void 0);var n,r=E(t.entries());try{for(r.s();!(n=r.n()).done;){var i=p.default(n.value,2),a=i[0],o=i[1],s=P(e[a],o),u=p.default(s,4),c=u[0],l=u[1],f=u[2],d=u[3];if(!c)throw new Error("Argument ".concat(a+1," is expected to be ").concat(f).concat(d," but got ").concat(l))}}catch(h){r.e(h)}finally{r.f()}},I=function(e){var t,n,r;(["undefined","boolean","number","bigint","string"].includes(d.default(e))&&(n="string"===typeof e?'"'.concat(e,'"'):"".concat(e)),"object"===d.default(e)&&"Object"!==(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name))&&(n=null===e?"null":"instance of ".concat(null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name));return n||(n=d.default(e)),n},R=function(e){var t,n=[],r=E(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(N(i))}}catch(a){r.e(a)}finally{r.f()}return n},N=function(e){var t,n=[],r=E(Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;"string"!==typeof i&&"function"!==typeof i?n.push(i):n.push(_(i))}}catch(a){r.e(a)}finally{r.f()}return n},P=function(e,t){var n,r,i=[],a=!1,o=E(e);try{for(o.s();!(r=o.n()).done;){var s,u=E(r.value.checks);try{for(u.s();!(s=u.n()).done;){var c=(0,s.value)(t),l=p.default(c,3),f=l[0],d=l[1],v=l[2];a=a||f,!n&&v&&(n=v),d&&(i=[].concat(h.default(i),"string"===typeof d?[d]:h.default(d)))}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}if(a)return[!0];var m=n||I(t),g=i.length-1;return[!1,m,g>0?"".concat(i.slice(0,g).join(", ")," or ").concat(i[g]):i.join(", "),g>1?";":","]};function M(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=x((function(e){return["string"===typeof e&&e.length>0,"a non-empty string"]})),L=x((function(e){return["number"===typeof e&&Number.isInteger(e)&&e>=0,"a non-negative integer"]})),F=x((function(e){return["object"===d.default(e)&&null!==e&&!Array.isArray(e),"a pure object (non-null and non-array)"]}));function Z(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.array=function(e,t){return x((function(n){if(!Array.isArray(n))return[!1,"an array of ".concat(e)];var r,i=Z(n.entries());try{for(i.s();!(r=i.n()).done;){var a=p.default(r.value,2),o=a[0],s=a[1],u=P(N(t),s),c=p.default(u,3),l=c[0],f=c[1],d=c[2];if(!l)return[!1,"a valid array of ".concat(e," (index ").concat(o," should be ").concat(d,")"),"malformed array of ".concat(e," (index ").concat(o," is ").concat(f,")")]}}catch(h){i.e(h)}finally{i.f()}return[!0]}))},t.custom=x,t.literal=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x((function(e){var n,r=!1,i=[],a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=r||e===o,i.push("string"===typeof o?'"'.concat(o,'"'):"".concat(o))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))},t.nonEmptyArray=function(e,t){return x((function(n){if(!Array.isArray(n)||n.length<1)return[!1,"a non-empty array of ".concat(e)];var r,i=M(n.entries());try{for(i.s();!(r=i.n()).done;){var a=p.default(r.value,2),o=a[0],s=a[1],u=P(N(t),s),c=p.default(u,3),l=c[0],f=c[1],d=c[2];if(!l)return[!1,"a valid non-empty array of ".concat(e," (index ").concat(o," should be ").concat(d,")"),"malformed array of ".concat(e," (index ").concat(o," is ").concat(f,")")]}}catch(h){i.e(h)}finally{i.f()}return[!0]}))},t.nonEmptyString=j,t.nonNegativeInteger=L,t.objectSchema=function(e,t){return x((function(n){if("object"!==d.default(n)||null===n||Array.isArray(n))return[!1,"valid ".concat(e," (should be a pure object)")];for(var r=0,i=Object.entries(t);r<i.length;r++){var a=p.default(i[r],2),o=a[0],s=a[1],u=P(N(s),n[o]),c=p.default(u,3),l=c[0],f=c[1],h=c[2];if(!l)return[!1,"valid ".concat(e,' (key "').concat(o,'" should be ').concat(h,")"),"malformed ".concat(e,' (key "').concat(o,'" is ').concat(f,")")]}return[!0]}))},t.pureObject=F,t.runtimeTypeValidation=A,t.stringifyReceivedType=I,t.type=_,t.validateConstructorTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=R(t);return function(e){return function(e){g.default(n,e);var t=C(n);function n(){m.default(this,n);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return A(r,i),t.call.apply(t,[this].concat(i))}return v.default(n)}(e)}},t.validateTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=R(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypes decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A(r,t),i.apply(this,t)}}},t.validateTypesAsync=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=R(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypesAsync decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{A(r,t)}catch(a){return Promise.reject(a)}return i.apply(this,t)}}}},50574:function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(4778);var i=r(n(9966)),a=function(e){var t=i.default.getLevel();i.default.setLevel("warn"),i.default.warn(e),i.default.setLevel(t)};t.deprecated=function(e,t,n){return function(r,i,o){if("function"!==typeof o.value&&void 0===(null===o||void 0===o?void 0:o.get))throw new Error("The deprecated decorator can only be applied to methods or getters");if("function"!==typeof o.value){var s=o.get;o.get=function(){return a("The getter ".concat(e," is deprecated").concat(t?", use "+t+" instead":"").concat(n?", "+n:".")),null===s||void 0===s?void 0:s.apply(this)}}else{var u=o.value;o.value=function(){a("The method ".concat(e," is deprecated").concat(t?", use "+t+" instead":"").concat(n?", "+n:"."));for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return u.apply(this,i)}}}},t.deprecationWarning=a},9966:function(e,t,n){var r,i;!function(a,o){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function u(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||u.apply(this,arguments)}function l(e,n,i){var a,o=this;n=null==n?"WARN":n;var u="loglevel";function l(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(i){}}}function f(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}function d(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?u+=":"+e:"symbol"===typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return a},o.setLevel=function(n,r){if("string"===typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&l(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,f()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),d()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var p=f();null==p&&(p=n),o.setLevel(p,!1)}var f=new l,d={};f.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new l(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return f.noConflict=function(){return typeof window!==t&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f.default=f,f},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},56491:function(e,t,n){"use strict";var r="undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var i=n(56690),a=n(89728),o=n(61655),s=n(94993),u=n(73808),c=n(33496),l=n(38416);n(65202),n(67675),n(18887),n(45742),n(59147),n(81740);var f=n(17156),d=n(64687);n(4778),n(32463),n(22583);var p=n(18698);n(89104);var h=n(62895);n(50288),n(33858),n(20447),n(52872),n(54178),n(49258),n(83265),n(49798),n(58526);var v=n(8645),m=n(1263);function g(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var b=g(i),x=g(a),k=g(o),w=g(s),_=g(u),S=g(c),T=g(l),C=g(f),E=g(d),O=g(p),A=y(h),I={exports:{}},R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(R){var N=new Uint8Array(16);I.exports=function(){return R(N),N}}else{var P=new Array(16);I.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),P[t]=e>>>((3&t)<<3)&255;return P}}for(var M=[],D=0;D<256;++D)M[D]=(D+256).toString(16).substr(1);var j,L,F=function(e,t){var n=t||0,r=M;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Z=I.exports,B=F,U=0,V=0;var z=function(e,t,n){var r=t&&n||0,i=t||[],a=(e=e||{}).node||j,o=void 0!==e.clockseq?e.clockseq:L;if(null==a||null==o){var s=Z();null==a&&(a=j=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==o&&(o=L=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:V+1,l=u-U+(c-V)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||u>U)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=u,V=c,L=o;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var p=0;p<6;++p)i[r+p]=a[p];return t||B(i)},W=I.exports,H=F;var G=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||W)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||H(i)},q=z,K=G,Y=K;Y.v1=q,Y.v4=K;var X=Y;function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_.default(e);if(t){var i=_.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w.default(this,n)}}var J=function(e){k.default(n,e);var t=Q(n);function n(e){var r;b.default(this,n);var i,a=X.v4();return(r=t.call(this,(function(t,r){return i=r,e((function(e){n.cancellationMap.delete(a),t(e)}),(function(e){n.cancellationMap.delete(a),r(e)}),(function(e){n.cancellationMap.set(a,e)}))}))).id=a,r.rejectPromise=i,r}return x.default(n,[{key:"cancel",value:function(){var e=n.cancellationMap.get(this.id);return null===e||void 0===e||e(),this.rejectPromise&&(this.catch((function(){})),this.rejectPromise(new Error("Promise was cancelled"))),this}}]),n}(S.default(Promise));function $(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":O.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function ee(e,t){if("object"===("undefined"===typeof Reflect?"undefined":O.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function te(e,t){return["".concat((new Date).toISOString()," MCS Client ").concat(e,":")].concat(Array.from(t))}T.default(J,"cancellationMap",new Map);var ne=function(){function e(t){b.default(this,e),T.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return x.default(e,[{key:"setLevel",value:function(e){A.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.trace.apply(null,te(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.debug.apply(null,te(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.info.apply(null,te(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.warn.apply(null,te(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.error.apply(null,te(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){A.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.trace.apply(null,te("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.debug.apply(null,te("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.info.apply(null,te("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.warn.apply(null,te("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.error.apply(null,te("E",t))}}]),e}(),re=function(e,t){return"".concat((n=e,n.startsWith("http")?"":function(e){return"https://mcs.".concat(null!==e&&void 0!==e?e:"us1",".twilio.com")}(t))).concat(e);var n},ie=function(){function e(t,n,r,i){var a,o,s,u,c,l;b.default(this,e);var f=null!==(a=null!==(o=i.MCS)&&void 0!==o?o:i)&&void 0!==a?a:{};this.region=null!==(s=null!==(u=f.region)&&void 0!==u?u:i.region)&&void 0!==s?s:"us1",this.mediaUrl=re(n,this.region),this.mediaSetUrl=r?re(r):"".concat(this.mediaUrl,"Set"),this.token=t,this.retryWhenThrottledOverride=null===(c=f.retryWhenThrottledOverride)||void 0===c||c,this.backoffConfigOverride=null!==(l=f.backoffConfigOverride)&&void 0!==l?l:e.backoffConfigDefault}return x.default(e,[{key:"updateToken",value:function(e){this.token=e}}],[{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"retryWhenThrottledDefault",get:function(){return true}}]),e}(),ae=function(){function e(t,n,r){b.default(this,e),this.config=t,this.network=n,this._update(r)}return x.default(e,[{key:"sid",get:function(){return this.state.sid}},{key:"serviceSid",get:function(){return this.state.serviceSid}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"fileName",get:function(){return this.state.filename}},{key:"filename",get:function(){return this.state.filename}},{key:"category",get:function(){return this.state.category}},{key:"getContentUrl",value:function(){var e=this;return new J(function(){var t=C.default(E.default.mark((function t(n,r,i){var a,o;return E.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.network.get("".concat(e.config.mediaUrl,"/").concat(e.sid)),i((function(){return a.cancel()})),t.prev=2,t.next=5,a;case 5:o=t.sent,e._update(o.body),n(e.state.contentDirectUrl),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,r){return t.apply(this,arguments)}}())}},{key:"_update",value:function(e){var t,n,r,i;this.state={sid:e.sid,serviceSid:e.service_sid,channelSid:e.channel_sid,messageSid:e.message_sid,dateCreated:e.date_created?new Date(e.date_created):null,dateUploadUpdated:e.date_upload_updated?new Date(e.date_upload_updated):null,dateUpdated:e.date_updated?new Date(e.date_updated):null,size:e.size,contentType:e.content_type,author:e.author,url:e.url,contentUrl:e.links.content,contentDirectUrl:null!==(t=e.links.content_direct_temporary)&&void 0!==t?t:null,filename:null!==(n=e.filename)&&void 0!==n?n:null,category:null!==(r=e.category)&&void 0!==r?r:"media",isMultipartUpstream:null!==(i=e.is_multipart_upstream)&&void 0!==i&&i}}}]),e}();function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_.default(e);if(t){var i=_.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w.default(this,n)}}var se=function(e){k.default(n,e);var t=oe(n);function n(e,r,i,a,o){var s;return b.default(this,n),(s=t.call(this,e)).code=r,s.body=i,s.status=a,s.headers=o,s}return x.default(n)}(S.default(Error)),ue=r.XMLHttpRequest||{};var ce,le=function(){function e(){b.default(this,e)}return x.default(e,[{key:"get",value:function(t,n){return e.request("GET",t,n)}},{key:"post",value:function(t,n,r){return e.request("POST",t,n,r)}}],[{key:"request",value:function(e,t,n,r){return new J((function(i,a,o){var s=new ue,u=!1;for(var c in o((function(){s.abort(),u=!0})),s.open(e,t,!0),s.onreadystatechange=function(){if(4===s.readyState&&!u){var e,t=(e=s.getAllResponseHeaders())?e.split("\r\n").map((function(e){return e.split(": ")})).filter((function(e){return 2===e.length&&e[1].length>0})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}):{},n=function(e){var t=e.getResponseHeader("Content-Type");if(!t||0!==t.indexOf("application/json")||0===e.responseText.length)return e.responseText;try{return JSON.parse(e.responseText)}catch(n){return e.responseText}}(s);if(200<=s.status&&s.status<300)i({status:s.status,headers:t,body:n});else{var r,o,c=null!==(r=s.statusText)&&void 0!==r?r:"NONE";if("string"===typeof n)if(n&&1===n.split("\n",2).length)o=n;else{var l,f=null===(l=n.replace(/<.*?>/g,"").split(/\r\n/g).filter((function(e){return e.length}))[0])||void 0===l?void 0:l.split(" ");o=(null===f||void 0===f?void 0:f.length)>2?null===f||void 0===f?void 0:f.slice(1).join(" "):""}else o=JSON.stringify(n);var d="".concat(s.status,": [").concat(c,"] ").concat(o);a(new se(d,s.status,n,c,t))}}},n)s.setRequestHeader(c,n[c]),"Content-Type"===c&&"application/json"===n[c]&&(r=JSON.stringify(r));s.send(r)}))}}]),e}(),fe=ne.scope("Network"),de=function(){function e(t,n){b.default(this,e),this.config=t,this.transport=n}return x.default(e,[{key:"backoffConfig",value:function(){return Object.assign(ie.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){var e,t;return null!==(e=null!==(t=this.config.retryWhenThrottledOverride)&&void 0!==t?t:ie.retryWhenThrottledDefault)&&void 0!==e&&e}},{key:"executeWithRetry",value:function(e,t){var n=this;return new J(function(){var r=C.default(E.default.mark((function r(i,a,o){var s,u;return E.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=new v.Retrier(n.backoffConfig()),u=[502,503,504],t&&u.push(429),o((function(){s.cancel(),s.removeAllListeners()})),s.on("attempt",C.default(E.default.mark((function t(){var n,r;return E.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e(),o((function(){n.cancel(),s.cancel(),s.removeAllListeners()})),t.next=5,n;case 5:r=t.sent,s.succeeded(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),u.indexOf(t.t0.status)>-1||"Twilsock disconnected"===t.t0.message?s.failed(t.t0):(s.removeAllListeners(),s.cancel(),a(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),s.on("succeeded",(function(e){i(e)})),s.on("cancelled",(function(e){return a(e)})),s.on("failed",(function(e){return a(e)})),s.start();case 9:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}())}},{key:"get",value:function(e){var t=this;return new J(function(){var n=C.default(E.default.mark((function n(r,i,a){var o,s,u;return E.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={"X-Twilio-Token":t.config.token},s=t.executeWithRetry((function(){return t.transport.get(e,o)}),t.retryWhenThrottled()),fe.trace("sending GET request to ",e," headers ",o),a((function(){return s.cancel()})),n.prev=4,n.next=7,s;case 7:u=n.sent,fe.trace("response",u),r(u),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(4),fe.debug("get() error ".concat(n.t0)),i(n.t0);case 16:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e,t,r){return n.apply(this,arguments)}}())}},{key:"post",value:function(e,t,n,i,a){var o=this,s={"X-Twilio-Token":this.config.token};"undefined"!==typeof FormData&&n instanceof FormData||!i||Object.assign(s,{"Content-Type":i});var u=new URL(e);return t&&u.searchParams.append("Category",t),a&&u.searchParams.append("Filename",a),new J(function(){var t=C.default(E.default.mark((function t(i,a,c){var l,f;return E.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=o.transport.post(u.href,s,n),c((function(){return l.cancel()})),fe.trace("sending POST request to ".concat(e," with headers ").concat(s)),t.prev=3,t.next=6,l;case 6:f=t.sent,t.next=17;break;case 9:if(t.prev=9,t.t0=t.catch(3),!(void 0===r.XMLHttpRequest&&n instanceof FormData)){t.next=14;break}return a(new TypeError("Posting FormData supported only with browser engine's FormData")),t.abrupt("return");case 14:return fe.debug("post() error ".concat(t.t0)),a(t.t0),t.abrupt("return");case 17:fe.trace("response",f),i(f);case 19:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n,r){return t.apply(this,arguments)}}())}}]),e}(),pe=ne.scope("");t.default=(ce=function(){function e(t,n,r){var i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};b.default(this,e),this.options=o,this.options.logLevel=null!==(i=this.options.logLevel)&&void 0!==i?i:"silent",this.config=new ie(t,n,r,this.options),pe.setLevel(this.options.logLevel),this.options.transport=null!==(a=this.options.transport)&&void 0!==a?a:new le,this.transport=this.options.transport,this.network=new de(this.config,this.transport)}return x.default(e,[{key:"updateToken",value:function(e){pe.info("updateToken"),this.config.updateToken(e)}},{key:"get",value:function(e){var t=this;return new J(function(){var n=C.default(E.default.mark((function n(r,i,a){var o,s;return E.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.network.get("".concat(t.config.mediaUrl,"/").concat(e)),a((function(){return o.cancel()})),n.prev=2,n.next=5,o;case 5:s=n.sent,r(new ae(t.config,t.network,s.body)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),i(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t,r){return n.apply(this,arguments)}}())}},{key:"post",value:function(e,t,n,r){var i=this;return new J(function(){var a=C.default(E.default.mark((function a(o,s,u){var c,l;return E.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=i.network.post(i.config.mediaUrl,null!==n&&void 0!==n?n:"media",t,e,r),u((function(){return c.cancel()})),a.prev=2,a.next=5,c;case 5:l=a.sent,o(new ae(i.config,i.network,l.body)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),s(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e,t,n){return a.apply(this,arguments)}}())}},{key:"postFormData",value:function(e,t){var n=this;return new J(function(){var r=C.default(E.default.mark((function r(i,a,o){var s,u;return E.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.network.post(n.config.mediaUrl,null!==t&&void 0!==t?t:"media",e),o((function(){return s.cancel()})),r.prev=2,r.next=5,s;case 5:u=r.sent,i(new ae(n.config,n.network,u.body)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),a(r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e,t,n){return r.apply(this,arguments)}}())}},{key:"mediaSetGet",value:function(e){var t=this;return new J(function(){var n=C.default(E.default.mark((function n(r,i,a){var o,s,u,c;return E.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={command:"get",list:e.map((function(e){return{media_sid:e}}))},s=t.network.post("".concat(t.config.mediaSetUrl),null,o,"application/json"),a((function(){return s.cancel()})),n.prev=3,n.next=6,s;case 6:u=n.sent,c=u.body.map((function(e){if(200===e.code)return new ae(t.config,t.network,e.media_record);i("Failed to obtain detailed information about Media items (failed SID ".concat(e.media_record.sid,")"))})),r(c),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),i(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t,r){return n.apply(this,arguments)}}())}},{key:"mediaSetGetContentUrls",value:function(e){var t=this;return new J(function(){var n=C.default(E.default.mark((function n(r,i,a){var o,s,u,c;return E.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={command:"get",list:e.map((function(e){return{media_sid:e}}))},s=t.network.post("".concat(t.config.mediaSetUrl),null,o,"application/json"),a((function(){return s.cancel()})),n.prev=3,n.next=6,s;case 6:u=n.sent,c=new Map,u.body.forEach((function(e){200===e.code?c.set(e.media_record.sid,e.media_record.links.content_direct_temporary):i("Failed to obtain detailed information about Media items (failed SID ".concat(e.media_record.sid,")"))})),r(c),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),i(n.t0);case 15:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e,t,r){return n.apply(this,arguments)}}())}}]),e}(),T.default(ce,"version","0.6.5"),ce),$([m.validateTypes(m.nonEmptyString),ee("design:type",Function),ee("design:paramtypes",[String]),ee("design:returntype",void 0)],t.default.prototype,"updateToken",null),$([m.validateTypesAsync(m.nonEmptyString),ee("design:type",Function),ee("design:paramtypes",[String]),ee("design:returntype",J)],t.default.prototype,"get",null),t.default=$([m.validateConstructorTypes(m.nonEmptyString,m.nonEmptyString,[m.nonEmptyString,m.literal(null)],[m.pureObject,"undefined"]),ee("design:paramtypes",[String,String,Object,Object])],t.default),t.CancellablePromise=J,t.Client=t.default,t.McsClient=t.default,t.McsMedia=ae,t.Media=ae},46390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var r=n(17156),i=n(56690),a=n(89728),o=n(61655),s=n(94993),u=n(73808),c=n(64687);n(18887),n(45742),n(65202),n(59147),n(81740),n(4778),n(22583),n(67675);var l=n(18698),f=n(58868),d=n(66115),p=n(38416);n(84208),n(89104),n(83265);var h=n(8645),v=n(27424),m=n(861);n(36669),n(33858);var g=n(62895),y=n(79055),b=n(1263);function x(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var w=x(r),_=x(i),S=x(a),T=x(o),C=x(s),E=x(u),O=x(c),A=x(l),I=x(d),R=x(p),N=x(v),P=x(m),M=k(g),D=k(y);function j(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":A.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function L(e,t){if("object"===("undefined"===typeof Reflect?"undefined":A.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function F(){}function Z(){Z.init.call(this)}function B(e){return void 0===e._maxListeners?Z.defaultMaxListeners:e._maxListeners}function U(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new F,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=B(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function V(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function z(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function W(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}F.prototype=Object.create(null),Z.EventEmitter=Z,Z.usingDomains=!1,Z.prototype.domain=void 0,Z.prototype._events=void 0,Z.prototype._maxListeners=void 0,Z.defaultMaxListeners=10,Z.init=function(){this.domain=null,Z.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new F,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Z.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Z.prototype.getMaxListeners=function(){return B(this)},Z.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=W(e,r),a=0;a<r;++a)i[a].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=W(e,i),o=0;o<i;++o)a[o].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=W(e,a),s=0;s<a;++s)o[s].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=W(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=W(e,i),o=0;o<i;++o)a[o].apply(n,r)}(n,l,this,i)}return!0},Z.prototype.addListener=function(e,t){return U(this,e,t,!1)},Z.prototype.on=Z.prototype.addListener,Z.prototype.prependListener=function(e,t){return U(this,e,t,!0)},Z.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,V(this,e,t)),this},Z.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,V(this,e,t)),this},Z.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new F:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new F,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},Z.prototype.off=function(e,t){return this.removeListener(e,t)},Z.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new F,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new F:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new F,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Z.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},Z.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):z.call(e,t)},Z.prototype.listenerCount=z,Z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var H=M.getLogger("twilio-notificatiions");function G(e,t){return["".concat((new Date).toISOString()," Twilio.Notifications ").concat(e,":")].concat(Array.from(t))}var q=function(){function e(){_.default(this,e)}return S.default(e,[{key:"setLevel",value:function(e){H.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.trace.apply(null,G("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.debug.apply(null,G("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.info.apply(null,G("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.warn.apply(null,G("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.error.apply(null,G("E",t))}}]),e}(),K=new q;function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E.default(e);if(t){var i=E.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var X=S.default((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;_.default(this,e),this.token=t,this.notificationId=n,this.messageTypes=r}));function Q(e,t){var n=new Set;return e.notificationId!==t.notificationId&&n.add("notificationId"),e.token!==t.token&&n.add("token"),function(e,t){return[].concat(P.default(P.default(e).filter((function(e){return!t.has(e)}))),P.default(P.default(t).filter((function(t){return!e.has(t)}))))}(e.messageTypes,t.messageTypes).length>0&&n.add("messageType"),[n.size>0,n]}var J=function(e){T.default(n,e);var t=Y(n);function n(e){var r;return _.default(this,n),r=t.call(this),R.default(I.default(r),"desiredState",new X),R.default(I.default(r),"currentState",new X),R.default(I.default(r),"_hasActiveAttempt",!1),r.channelType=e,r}return S.default(n,[{key:"setNotificationId",value:function(e){this.desiredState.notificationId=e}},{key:"isActive",value:function(){return""!==this.desiredState.notificationId}},{key:"subscribe",value:function(e){this.desiredState.messageTypes.has(e)?K.debug("message type '".concat(e,"' for channel ").concat(this.channelType," is already registered")):this.desiredState.messageTypes.add(e)}},{key:"unsubscribe",value:function(e){this.desiredState.messageTypes.has(e)&&this.desiredState.messageTypes.delete(e)}},{key:"updateToken",value:function(e){this.desiredState.token=e}},{key:"commitChanges",value:function(){var e=w.default(O.default.mark((function e(){var t,n,r,i,a,o;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._hasActiveAttempt){e.next=3;break}throw K.error("One registration attempt is already in progress"),new Error("One registration attempt is already in progress");case 3:if(t=Q(this.desiredState,this.currentState),n=N.default(t,2),r=n[0],i=n[1],r){e.next=6;break}return e.abrupt("return");case 6:if(this.currentState.notificationId||i.delete("notificationId"),K.trace("Persisting ".concat(this.channelType," registration"),i,this.desiredState),e.prev=8,this._hasActiveAttempt=!0,(a=new X).token=this.desiredState.token,a.notificationId=this.desiredState.notificationId,a.messageTypes=new Set(this.desiredState.messageTypes),!(a.messageTypes.size>0)){e.next=24;break}return e.next=17,this.updateRegistration(a,i);case 17:o=e.sent,this.currentState.token=o.token,this.currentState.notificationId=o.notificationId,this.currentState.messageTypes=new Set(o.messageTypes),this.emit("stateChanged",this.channelType,"registered",this.currentState),e.next=30;break;case 24:return e.next=26,this.removeRegistration();case 26:this.currentState.token=a.token,this.currentState.notificationId=a.notificationId,this.currentState.messageTypes.clear(),this.emit("stateChanged",this.channelType,"unregistered",this.currentState);case 30:e.next=35;break;case 32:throw e.prev=32,e.t0=e.catch(8),e.t0;case 35:return e.prev=35,this._hasActiveAttempt=!1,e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[8,32,35,38]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Z);function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E.default(e);if(t){var i=E.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var ee={min:2e3,max:12e4,randomness:.2},te=function(e){T.default(n,e);var t=$(n);function n(e,r,i,a){var o;return _.default(this,n),o=t.call(this,e),R.default(I.default(o),"registrationId",null),o.context=r,o.twilsock=i,o.registrarUrl=a,o}return S.default(n,[{key:"updateRegistration",value:function(){var e=w.default(O.default.mark((function e(t,n){var r,i,a,o,s,u=this;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.has("notificationId")){e.next=3;break}return e.next=3,this.removeRegistration();case 3:if(t.notificationId&&t.notificationId.length){e.next=6;break}throw K.error("No push notification ID for registration"),new Error("No push notification ID for registration");case 6:return K.trace("Registering",this.channelType,t),r={endpoint_platform:this.context.platform,channel_type:this.channelType,version:this.context.protocolVersion.toString(),message_types:Array.from(t.messageTypes),data:{registration_id:t.notificationId}},i=this.context.productId,a="".concat(this.registrarUrl,"?productId=").concat(i),o={"Content-Type":"application/json"},K.trace("Creating registration for channel ".concat(this.channelType)),e.prev=12,e.next=15,new h.AsyncRetrier(ee).run((function(){return u.twilsock.post(a,o,r,i)}));case 15:s=e.sent,this.registrationId=s.body.id,K.debug("Registration created: ",s),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(12),K.error("Registration failed: ",e.t0),e.t0;case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,this,[[12,20]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeRegistration",value:function(){var e=w.default(O.default.mark((function e(){var t,n,r,i=this;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrationId){e.next=2;break}return e.abrupt("return");case 2:return t=this.context.productId,n="".concat(this.registrarUrl,"/").concat(this.registrationId,"?productId=").concat(t),r={"Content-Type":"application/json"},K.trace("Removing registration for ".concat(this.channelType)),e.prev=6,e.next=9,new h.AsyncRetrier(Object.assign(ee,{maxAttemptsCount:3})).run((function(){return i.twilsock.delete(n,r,{},t)}));case 9:this.registrationId=null,this.currentState.notificationId="",K.debug("Registration removed for ".concat(this.channelType)),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(6),K.error("Failed to remove registration ",this.channelType,e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDeviceRemoveRequest",value:function(){var e=w.default(O.default.mark((function e(t){var n,r,i,a,o=this;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}throw new Error("Empty registration ID");case 2:return n=this.context.productId,r="".concat(this.registrarUrl,"?productId=").concat(n),i={"Content-Type":"application/json"},a={binding_type:this.channelType,address:t},e.prev=6,K.trace("Removing old registrations for ".concat(this.channelType)),e.next=10,new h.AsyncRetrier(Object.assign(ee,{maxAttemptsCount:3})).run((function(){return o.twilsock.delete(r,i,a,n)}));case 10:this.registrationId=null,this.currentState.notificationId="",K.debug("Registration removed for ".concat(this.channelType)),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(6),K.error("Failed to remove registration ",this.channelType,e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(J);function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E.default(e);if(t){var i=E.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var re,ie=function(e){T.default(n,e);var t=ne(n);function n(e,r,i){var a;return _.default(this,n),a=t.call(this,"twilsock"),R.default(I.default(a),"contextId",D.v4()),a.productId=e,a.platform=r,a.twilsock=i,a}return S.default(n,[{key:"updateRegistration",value:function(){var e=w.default(O.default.mark((function e(t,n){var r,i;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.has("messageType")){e.next=2;break}return e.abrupt("return",t);case 2:return r=Array.from(t.messageTypes),i={product_id:this.productId,notification_protocol_version:4,endpoint_platform:this.platform,message_types:r},e.prev=4,e.next=7,this.twilsock.setNotificationsContext(this.contextId,i);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(4),K.error("Failed to update twilsock notification context: ".concat(e.t0)),e.t0;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeRegistration",value:function(){var e=w.default(O.default.mark((function e(){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.twilsock.removeNotificationsContext(this.contextId);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),K.error("Failed to remove twilsock notification context: ".concat(e.t0)),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDeviceRemoveRequest",value:function(){var e=w.default(O.default.mark((function e(t){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J);function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E.default(e);if(t){var i=E.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C.default(this,n)}}var oe=b.literal("apn","fcm","twilsock");t.Notifications=re=function(e){T.default(n,e);var t=ae(n);function n(e){var r,i,a,o,s,u,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.default(this,n),c=t.call(this),l.logLevel=null!==(r=l.logLevel)&&void 0!==r?r:"error",K.setLevel(l.logLevel);var d=null!==(i=l.productId)&&void 0!==i?i:"notifications",p=!l.twilsockClient,h=l.twilsockClient=null!==(a=l.twilsockClient)&&void 0!==a?a:new f.TwilsockClient(e,d,l),v=null!==(o=l.notifications)&&void 0!==o?o:{},m=null!==(s=null!==(u=v.region)&&void 0!==u?u:l.region)&&void 0!==s?s:"us1",g="https://ers.".concat(m,".twilio.com/v1/registrations"),y=v.ersUrl||g;c.connectors=new Map;var b=re._detectPlatform();return c.connectors.set("apn",new te("apn",{protocolVersion:4,productId:d,platform:b},h,y)),c.connectors.set("fcm",new te("fcm",{protocolVersion:3,productId:d,platform:b},h,y)),c.connectors.set("twilsock",new ie(d,b,h)),h.on("stateChanged",(function(e){return c.emit("transportState",e)})),c._connector("twilsock").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),c._connector("apn").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),c._connector("fcm").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),h.on("message",(function(e,t){return c._routeMessage(e,t)})),c.updateToken(e),p&&(h.connect(),c.twilsock=h),c}return S.default(n,[{key:"shutdown",value:function(){var e=w.default(O.default.mark((function e(){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectors.clear(),!this.twilsock){e.next=4;break}return e.next=4,this.twilsock.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPushRegistrationId",value:function(e,t){K.debug("Set ".concat(e," push registration id '").concat(t,"'")),this._connector(e).setNotificationId(t)}},{key:"subscribe",value:function(e,t){K.debug("Add ".concat(e," subscriptions for message type ").concat(t)),this._connector(e).subscribe(t)}},{key:"unsubscribe",value:function(e,t){K.debug("Remove ".concat(e," subscriptions for message type ").concat(t)),this._connector(e).unsubscribe(t)}},{key:"updateToken",value:function(e){this.connectors.forEach((function(t){return t.updateToken(e)}))}},{key:"commitChanges",value:function(){var e=w.default(O.default.mark((function e(){var t;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.connectors.forEach((function(e){e.isActive()&&t.push(e.commitChanges())})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeRegistrations",value:function(){var e=w.default(O.default.mark((function e(t,n){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connector(t).sendDeviceRemoveRequest(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePushNotification",value:function(e){return{messageType:e.twi_message_type,payload:e.payload}}},{key:"_routeMessage",value:function(e,t){K.debug("Notification message arrived: ",e,t),this.emit("message",e,t)}},{key:"_connector",value:function(e){var t=this.connectors.get(e);if(!t)throw new Error("Unknown channel type: ".concat(e));return t}}],[{key:"_detectPlatform",value:function(){var e="";return"undefined"!==typeof navigator?(e="unknown","undefined"!==typeof navigator.product&&(e=navigator.product),"undefined"!==typeof navigator.userAgent&&(e=navigator.userAgent)):e="web",e.substring(0,128)}}]),n}(Z),j([b.validateTypes(oe,b.nonEmptyString),L("design:type",Function),L("design:paramtypes",[String,String]),L("design:returntype",void 0)],t.Notifications.prototype,"setPushRegistrationId",null),j([b.validateTypes(oe,b.nonEmptyString),L("design:type",Function),L("design:paramtypes",[String,String]),L("design:returntype",void 0)],t.Notifications.prototype,"subscribe",null),j([b.validateTypes(oe,b.nonEmptyString),L("design:type",Function),L("design:paramtypes",[String,String]),L("design:returntype",void 0)],t.Notifications.prototype,"unsubscribe",null),j([b.validateTypes(b.nonEmptyString),L("design:type",Function),L("design:paramtypes",[String]),L("design:returntype",void 0)],t.Notifications.prototype,"updateToken",null),j([b.validateTypesAsync(oe,b.nonEmptyString),L("design:type",Function),L("design:paramtypes",[String,String]),L("design:returntype",Promise)],t.Notifications.prototype,"removeRegistrations",null),t.Notifications=re=j([b.validateConstructorTypes(b.nonEmptyString,[b.pureObject,"undefined",b.literal(null)]),L("design:paramtypes",[String,Object])],t.Notifications)},79055:function(e,t,n){var r=n(81761),i=n(41574),a=i;a.v1=r,a.v4=i,e.exports=a},8522:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},36869:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},81761:function(e,t,n){var r,i,a=n(36869),o=n(8522),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=a();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||o(l)}},41574:function(e,t,n){var r=n(36869),i=n(8522);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},8645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var r=n(56690),i=n(89728),a=n(66115),o=n(61655),s=n(94993),u=n(73808),c=n(38416);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(65202),n(67675);var f=l(r),d=l(i),p=l(a),h=l(o),v=l(s),m=l(u),g=l(c);function y(){}function b(){b.init.call(this)}function x(e){return void 0===e._maxListeners?b.defaultMaxListeners:e._maxListeners}function k(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new y,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=x(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function w(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function _(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function S(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m.default(e);if(t){var i=m.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v.default(this,n)}}y.prototype=Object.create(null),b.EventEmitter=b,b.usingDomains=!1,b.prototype.domain=void 0,b.prototype._events=void 0,b.prototype._maxListeners=void 0,b.defaultMaxListeners=10,b.init=function(){this.domain=null,b.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new y,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},b.prototype.getMaxListeners=function(){return x(this)},b.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=S(e,r),a=0;a<r;++a)i[a].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=S(e,i),o=0;o<i;++o)a[o].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=S(e,a),s=0;s<a;++s)o[s].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=S(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=S(e,i),o=0;o<i;++o)a[o].apply(n,r)}(n,l,this,i)}return!0},b.prototype.addListener=function(e,t){return k(this,e,t,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(e,t){return k(this,e,t,!0)},b.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,w(this,e,t)),this},b.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,w(this,e,t)),this},b.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new y:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new y,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},b.prototype.off=function(e,t){return this.removeListener(e,t)},b.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new y,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new y:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new y,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},b.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},b.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},b.prototype.listenerCount=_,b.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var C=function(e){h.default(n,e);var t=T(n);function n(e){var r;return f.default(this,n),r=t.call(this),g.default(p.default(r),"timeout",null),g.default(p.default(r),"startTimestamp",-1),r.minDelay=e.min,r.maxDelay=e.max,r.initialDelay=e.initial||0,r.maxAttemptsCount=e.maxAttemptsCount||0,r.maxAttemptsTime=e.maxAttemptsTime||0,r.randomness=e.randomness||0,r.inProgress=!1,r.attemptNum=0,r.prevDelay=0,r.currDelay=0,r}return d.default(n,[{key:"attempt",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.attemptNum++,this.emit("attempt",this)}},{key:"nextDelay",value:function(e){if("number"===typeof e)return this.prevDelay=0,this.currDelay=e,e;if(0==this.attemptNum)return this.initialDelay;if(1==this.attemptNum)return this.currDelay=this.minDelay,this.currDelay;this.prevDelay=this.currDelay;var t=this.currDelay+this.prevDelay;return this.maxDelay&&t>this.maxDelay&&(this.currDelay=this.maxDelay,t=this.maxDelay),this.currDelay=t,t}},{key:"randomize",value:function(e){var t=e*this.randomness,n=Math.round(Math.random()*t*2-t);return Math.max(0,e+n)}},{key:"scheduleAttempt",value:function(e){var t=this;if(this.maxAttemptsCount&&this.attemptNum>=this.maxAttemptsCount)return this.cleanup(),void this.emit("failed",new Error("Maximum attempt count limit reached"));var n=this.nextDelay(e);if(n=this.randomize(n),this.maxAttemptsTime&&this.startTimestamp+this.maxAttemptsTime<Date.now()+n)return this.cleanup(),void this.emit("failed",new Error("Maximum attempt time limit reached"));this.timeout=setTimeout((function(){return t.attempt()}),n)}},{key:"cleanup",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.inProgress=!1,this.attemptNum=0,this.prevDelay=0,this.currDelay=0}},{key:"start",value:function(){if(this.inProgress)throw new Error("Retrier is already in progress");this.inProgress=!0,this.startTimestamp=Date.now(),this.scheduleAttempt(this.initialDelay)}},{key:"cancel",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.emit("cancelled"))}},{key:"succeeded",value:function(e){this.emit("succeeded",e)}},{key:"failed",value:function(e,t){if(this.timeout)throw new Error("Retrier attempt is already in progress");this.scheduleAttempt(t)}}]),n}(b),E=function(e){h.default(n,e);var t=T(n);function n(e){var r;return f.default(this,n),r=t.call(this),g.default(p.default(r),"resolve",(function(){})),g.default(p.default(r),"reject",(function(){})),r.retrier=new C(e),r}return d.default(n,[{key:"run",value:function(e){var t=this;return this.retrier.on("attempt",(function(){e().then((function(e){return t.retrier.succeeded(e)})).catch((function(e){return t.retrier.failed(e)}))})),this.retrier.on("succeeded",(function(e){return t.resolve(e)})),this.retrier.on("cancelled",(function(){return t.reject(new Error("Cancelled"))})),this.retrier.on("failed",(function(e){return t.reject(e)})),new Promise((function(e,n){t.resolve=e,t.reject=n,t.retrier.start()}))}},{key:"cancel",value:function(){this.retrier.cancel()}}]),n}(b);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m.default(e);if(t){var i=m.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v.default(this,n)}}function A(e){return void 0!==e&&null!==e}var I=function(e){h.default(n,e);var t=O(n);function n(e){var r;f.default(this,n),r=t.call(this),g.default(p.default(r),"backoffDelay",0),g.default(p.default(r),"nextBackoffDelay",0),g.default(p.default(r),"backoffNumber",0),g.default(p.default(r),"timeoutID",null),g.default(p.default(r),"maxNumberOfRetry",-1);var i=e=e||{},a=i.initialDelay,o=i.maxDelay,s=i.randomisationFactor,u=i.factor;if(A(a)&&a<1)throw new Error("The initial timeout must be equal to or greater than 1.");if(A(o)&&o<=1)throw new Error("The maximal timeout must be greater than 1.");if(A(s)&&(s<0||s>1))throw new Error("The randomisation factor must be between 0 and 1.");if(A(u)&&u<=1)throw new Error("Exponential factor should be greater than 1.");if(r.initialDelay=a||100,r.maxDelay=o||1e4,r.maxDelay<=r.initialDelay)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");return r.randomisationFactor=s||0,r.factor=u||2,r.reset(),r}return d.default(n,[{key:"backoff",value:function(e){null==this.timeoutID&&(this.backoffNumber===this.maxNumberOfRetry?(this.emit("fail",e),this.reset()):(this.backoffDelay=this.next(),this.timeoutID=setTimeout(this.onBackoff.bind(this),this.backoffDelay),this.emit("backoff",this.backoffNumber,this.backoffDelay,e)))}},{key:"reset",value:function(){this.backoffDelay=0,this.nextBackoffDelay=this.initialDelay,this.backoffNumber=0,this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=null}},{key:"failAfter",value:function(e){if(e<=0)throw new Error("Expected a maximum number of retry greater than 0 but got ".concat(e));this.maxNumberOfRetry=e}},{key:"next",value:function(){this.backoffDelay=Math.min(this.nextBackoffDelay,this.maxDelay),this.nextBackoffDelay=this.backoffDelay*this.factor;var e=1+Math.random()*this.randomisationFactor;return Math.min(this.maxDelay,Math.round(this.backoffDelay*e))}},{key:"onBackoff",value:function(){this.timeoutID=null,this.emit("ready",this.backoffNumber,this.backoffDelay),this.backoffNumber++}}],[{key:"exponential",value:function(e){return new n(e)}}]),n}(b);t.AsyncRetrier=E,t.Backoff=I,t.Retrier=C},62839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(861),i=n(56690),a=n(89728),o=n(66115),s=n(41588),u=n(61655),c=n(94993),l=n(73808),f=n(38416);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var p=d(r),h=d(i),v=d(a),m=d(o),g=d(s),y=d(u),b=d(c),x=d(l),k=d(f);function w(){}function _(){_.init.call(this)}function S(e){return void 0===e._maxListeners?_.defaultMaxListeners:e._maxListeners}function T(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new w,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=S(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function C(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function E(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function O(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x.default(e);if(t){var i=x.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b.default(this,n)}}w.prototype=Object.create(null),_.EventEmitter=_,_.usingDomains=!1,_.prototype.domain=void 0,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.init=function(){this.domain=null,_.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new w,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},_.prototype.getMaxListeners=function(){return S(this)},_.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=O(e,r),a=0;a<r;++a)i[a].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=O(e,i),o=0;o<i;++o)a[o].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=O(e,a),s=0;s<a;++s)o[s].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=O(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=O(e,i),o=0;o<i;++o)a[o].apply(n,r)}(n,l,this,i)}return!0},_.prototype.addListener=function(e,t){return T(this,e,t,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(e,t){return T(this,e,t,!0)},_.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,C(this,e,t)),this},_.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,C(this,e,t)),this},_.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new w:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new w,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},_.prototype.off=function(e,t){return this.removeListener(e,t)},_.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new w,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new w:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new w,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},_.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},_.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},_.prototype.listenerCount=E,_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var I=function(e){y.default(n,e);var t=A(n);function n(){var e;return h.default(this,n),e=t.call(this),k.default(m.default(e),"eventHistory",new Map),e}return v.default(n,[{key:"on",value:function(e,t){return g.default(x.default(n.prototype),"on",this).call(this,e,t)}},{key:"once",value:function(e,t){return g.default(x.default(n.prototype),"once",this).call(this,e,t)}},{key:"off",value:function(e,t){return g.default(x.default(n.prototype),"off",this).call(this,e,t)}},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return this.eventHistory.set(e,i),(t=g.default(x.default(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"addListener",value:function(e,t){return g.default(x.default(n.prototype),"addListener",this).call(this,e,t)}},{key:"removeListener",value:function(e,t){return g.default(x.default(n.prototype),"removeListener",this).call(this,e,t)}},{key:"addListenerWithReplay",value:function(e,t){var n=this.eventHistory.get(e);return void 0!==n&&t.apply(void 0,p.default(n)),this.addListener(e,t)}},{key:"onWithReplay",value:function(e,t){return this.addListenerWithReplay(e,t)}},{key:"onceWithReplay",value:function(e,t){var r=this.eventHistory.get(e);return void 0!==r?(t.apply(void 0,p.default(r)),this):g.default(x.default(n.prototype),"once",this).call(this,e,t)}}]),n}(_);t.ReplayEventEmitter=I},1410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WASM_INFERENCE_DIMENSIONS=t.BODYPIX_INFERENCE_DIMENSIONS=t.INFERENCE_CONFIG=t.MODEL_CONFIG=t.TFLITE_SIMD_LOADER_NAME=t.TFLITE_LOADER_NAME=t.MODEL_NAME=t.PERSON_PROBABILITY_THRESHOLD=t.HISTORY_COUNT=t.MASK_BLUR_RADIUS=t.DEBOUNCE=t.BLUR_FILTER_RADIUS=void 0,t.BLUR_FILTER_RADIUS=15,t.DEBOUNCE=2,t.MASK_BLUR_RADIUS=5,t.HISTORY_COUNT=5,t.PERSON_PROBABILITY_THRESHOLD=.4,t.MODEL_NAME="selfie_segmentation_landscape.tflite",t.TFLITE_LOADER_NAME="tflite-1-0-0.js",t.TFLITE_SIMD_LOADER_NAME="tflite-simd-1-0-0.js",t.MODEL_CONFIG={architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:4},t.INFERENCE_CONFIG={internalResolution:1,maxDetections:1,segmentationThreshold:.75},t.BODYPIX_INFERENCE_DIMENSIONS={width:224,height:224},t.WASM_INFERENCE_DIMENSIONS={width:256,height:144}},29660:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualBackgroundProcessor=t.version=t.isSupported=t.ImageFit=t.GaussianBlurBackgroundProcessor=void 0;var i=n(17075);Object.defineProperty(t,"GaussianBlurBackgroundProcessor",{enumerable:!0,get:function(){return i.GaussianBlurBackgroundProcessor}});var a=n(31592);Object.defineProperty(t,"VirtualBackgroundProcessor",{enumerable:!0,get:function(){return a.VirtualBackgroundProcessor}});var o=n(2391);Object.defineProperty(t,"ImageFit",{enumerable:!0,get:function(){return o.ImageFit}});var s=n(13821);Object.defineProperty(t,"isSupported",{enumerable:!0,get:function(){return s.isSupported}});var u=n(22510);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.version}}),"undefined"!==typeof window&&(window.Twilio=window.Twilio||{},window.Twilio.VideoProcessors=r(r({},window.Twilio.VideoProcessors),{GaussianBlurBackgroundProcessor:i.GaussianBlurBackgroundProcessor,ImageFit:o.ImageFit,isSupported:s.isSupported,version:u.version,VirtualBackgroundProcessor:a.VirtualBackgroundProcessor}))},75716:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=void 0;var n=function(){};t.Processor=n},75277:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundProcessor=void 0,n(12311),n(47135);var o=n(71059),s=n(75716),u=n(69611),c=n(22510),l=n(1410),f=function(e){function t(t){var n=e.call(this)||this;if(n._currentMask=new Uint8ClampedArray,n._debounce=l.DEBOUNCE,n._dummyImageData=new ImageData(1,1),n._historyCount=l.HISTORY_COUNT,n._inferenceConfig=l.INFERENCE_CONFIG,n._inferenceDimensions=l.WASM_INFERENCE_DIMENSIONS,n._inputMemoryOffset=0,n._isSimdEnabled=null,n._maskBlurRadius=l.MASK_BLUR_RADIUS,n._maskUsageCounter=0,n._outputMemoryOffset=0,n._personProbabilityThreshold=l.PERSON_PROBABILITY_THRESHOLD,n._version=c.version,"string"!==typeof t.assetsPath)throw new Error("assetsPath parameter is missing");var r=t.assetsPath;return r&&"/"!==r[r.length-1]&&(r+="/"),n.maskBlurRadius=t.maskBlurRadius,n._assetsPath=r,n._debounce=t.debounce||l.DEBOUNCE,n._historyCount=t.historyCount||l.HISTORY_COUNT,n._inferenceConfig=t.inferenceConfig||l.INFERENCE_CONFIG,n._personProbabilityThreshold=t.personProbabilityThreshold||l.PERSON_PROBABILITY_THRESHOLD,n._useWasm="boolean"!==typeof t.useWasm||t.useWasm,n._inferenceDimensions=t.inferenceDimensions||(n._useWasm?l.WASM_INFERENCE_DIMENSIONS:l.BODYPIX_INFERENCE_DIMENSIONS),n._benchmark=new u.Benchmark,n._inputCanvas=document.createElement("canvas"),n._inputContext=n._inputCanvas.getContext("2d"),n._maskCanvas=new OffscreenCanvas(1,1),n._maskContext=n._maskCanvas.getContext("2d"),n._outputCanvas=document.createElement("canvas"),n._outputContext=n._outputCanvas.getContext("2d"),n._masks=[],n}return r(t,e),t._loadModel=function(e){return void 0===e&&(e=l.MODEL_CONFIG),i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=t,[4,o.load(e).catch((function(e){return console.error("Unable to load model.",e)}))];case 1:return n._model=r.sent()||null,[2]}}))}))},Object.defineProperty(t.prototype,"maskBlurRadius",{get:function(){return this._maskBlurRadius},set:function(e){("number"!==typeof e||e<0)&&(console.warn("Valid mask blur radius not found. Using "+l.MASK_BLUR_RADIUS+" as default."),e=l.MASK_BLUR_RADIUS),this._maskBlurRadius=e},enumerable:!1,configurable:!0}),t.prototype.loadModel=function(){return i(this,void 0,void 0,(function(){var e,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,Promise.all([t._loadModel(),this._loadTwilioTfLite(),fetch(this._assetsPath+l.MODEL_NAME)])];case 1:return e=a.sent(),n=e[1],[4,e[2].arrayBuffer()];case 2:return r=a.sent(),i=n._getModelBufferMemoryOffset(),n.HEAPU8.set(new Uint8Array(r),i),n._loadModel(r.byteLength),this._inputMemoryOffset=n._getInputMemoryOffset()/4,this._outputMemoryOffset=n._getOutputMemoryOffset()/4,this._tflite=n,[2]}}))}))},t.prototype.processFrame=function(e,n){return i(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,f;return a(this,(function(a){switch(a.label){case 0:if(!t._model||!this._tflite)return[2];if(!e||!n)throw new Error("Missing input or output frame buffer");return this._benchmark.end("captureFrameDelay"),this._benchmark.start("processFrameDelay"),i=(r=e).width,o=r.height,s=this._inferenceDimensions,u=s.width,c=s.height,this._outputCanvas!==n&&(this._outputCanvas=n,this._outputContext=n.getContext("2d")),l=!1,this._inputCanvas.width!==u&&(this._inputCanvas.width=u,this._maskCanvas.width=u,l=!0),this._inputCanvas.height!==c&&(this._inputCanvas.height=c,this._maskCanvas.height=c,l=!0),l&&(this._dummyImageData=new ImageData(new Uint8ClampedArray(u*c*4),u,c)),[4,this._createPersonMask(r)];case 1:return f=a.sent(),this._benchmark.start("imageCompositionDelay"),this._maskContext.putImageData(f,0,0),this._outputContext.save(),this._outputContext.filter="blur("+this._maskBlurRadius+"px)",this._outputContext.globalCompositeOperation="copy",this._outputContext.drawImage(this._maskCanvas,0,0,i,o),this._outputContext.filter="none",this._outputContext.globalCompositeOperation="source-in",this._outputContext.drawImage(r,0,0,i,o),this._outputContext.globalCompositeOperation="destination-over",this._setBackground(r),this._outputContext.restore(),this._benchmark.end("imageCompositionDelay"),this._benchmark.end("processFrameDelay"),this._benchmark.end("totalProcessingDelay"),this._benchmark.start("totalProcessingDelay"),this._benchmark.start("captureFrameDelay"),[2]}}))}))},t.prototype._addMask=function(e){this._masks.length>=this._historyCount&&this._masks.splice(0,this._masks.length-this._historyCount+1),this._masks.push(e)},t.prototype._applyAlpha=function(e){for(var t=this._masks.reduce((function(e,t,n){return e+(n+1)*(n+1)}),0),n=e.height*e.width,r=function(n){var r=i._masks.reduce((function(e,t,r){return e+t[n]*(r+1)*(r+1)}),0)/t;e.data[4*n+3]=Math.round(255*r)},i=this,a=0;a<n;a++)r(a)},t.prototype._createPersonMask=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return t=this._dummyImageData,n=this._maskUsageCounter<1,this._benchmark.start("inputImageResizeDelay"),n&&(t=this._getResizedInputImageData(e)),this._benchmark.end("inputImageResizeDelay"),this._benchmark.start("segmentationDelay"),n?(r=this,this._useWasm?(i=this._runTwilioTfLiteInference(t),[3,3]):[3,1]):[3,4];case 1:return[4,this._runBodyPixInference(t)];case 2:i=a.sent(),a.label=3;case 3:r._currentMask=i,this._maskUsageCounter=this._debounce,a.label=4;case 4:return this._addMask(this._currentMask),this._applyAlpha(t),this._maskUsageCounter--,this._benchmark.end("segmentationDelay"),[2,t]}}))}))},t.prototype._getResizedInputImageData=function(e){var t=this._inputCanvas,n=t.width,r=t.height;return this._inputContext.drawImage(e,0,0,n,r),this._inputContext.getImageData(0,0,n,r)},t.prototype._loadJs=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.onload=function(){return t()},r.onerror=n,document.head.append(r),r.src=e}))},t.prototype._loadTwilioTfLite=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._loadJs(this._assetsPath+l.TFLITE_SIMD_LOADER_NAME)];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,7]),[4,window.createTwilioTFLiteSIMDModule()];case 3:return e=t.sent(),this._isSimdEnabled=!0,[3,7];case 4:return t.sent(),console.warn("SIMD not supported. You may experience poor quality of background replacement."),[4,this._loadJs(this._assetsPath+l.TFLITE_LOADER_NAME)];case 5:return t.sent(),[4,window.createTwilioTFLiteModule()];case 6:return e=t.sent(),this._isSimdEnabled=!1,[3,7];case 7:return[2,e]}}))}))},t.prototype._runBodyPixInference=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,t._model.segmentPerson(e,this._inferenceConfig)];case 1:return[2,n.sent().data]}}))}))},t.prototype._runTwilioTfLiteInference=function(e){for(var t=this,n=t._inferenceDimensions,r=n.width,i=n.height,a=t._inputMemoryOffset,o=t._tflite,s=r*i,u=0;u<s;u++)o.HEAPF32[a+3*u]=e.data[4*u]/255,o.HEAPF32[a+3*u+1]=e.data[4*u+1]/255,o.HEAPF32[a+3*u+2]=e.data[4*u+2]/255;o._runInference();var c=new Uint8ClampedArray(4*s);for(u=0;u<s;u++){var l=o.HEAPF32[this._outputMemoryOffset+u];c[u]=Number(l>=this._personProbabilityThreshold)*l}return c},t._model=null,t}(s.Processor);t.BackgroundProcessor=f},17075:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GaussianBlurBackgroundProcessor=void 0;var i=n(75277),a=n(1410),o=function(e){function t(t){var n=e.call(this,t)||this;return n._blurFilterRadius=a.BLUR_FILTER_RADIUS,n._name="GaussianBlurBackgroundProcessor",n.blurFilterRadius=t.blurFilterRadius,n}return r(t,e),Object.defineProperty(t.prototype,"blurFilterRadius",{get:function(){return this._blurFilterRadius},set:function(e){e||(console.warn("Valid blur filter radius not found. Using "+a.BLUR_FILTER_RADIUS+" as default."),e=a.BLUR_FILTER_RADIUS),this._blurFilterRadius=e},enumerable:!1,configurable:!0}),t.prototype._setBackground=function(e){this._outputContext.filter="blur("+this._blurFilterRadius+"px)",this._outputContext.drawImage(e,0,0)},t}(i.BackgroundProcessor);t.GaussianBlurBackgroundProcessor=o},31592:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualBackgroundProcessor=void 0;var i=n(75277),a=n(2391),o=function(e){function t(t){var n=e.call(this,t)||this;return n._name="VirtualBackgroundProcessor",n.backgroundImage=t.backgroundImage,n.fitType=t.fitType,n}return r(t,e),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._backgroundImage},set:function(e){if(!e||!e.complete||!e.naturalHeight)throw new Error("Invalid image. Make sure that the image is an HTMLImageElement and has been successfully loaded");this._backgroundImage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitType",{get:function(){return this._fitType},set:function(e){Object.keys(a.ImageFit).includes(e)||(console.warn("Valid fitType not found. Using '"+a.ImageFit.Fill+"' as default."),e=a.ImageFit.Fill),this._fitType=e},enumerable:!1,configurable:!0}),t.prototype._setBackground=function(){var e=this._backgroundImage,t=e.naturalWidth,n=e.naturalHeight,r=this._outputCanvas.width,i=this._outputCanvas.height;if(this._fitType===a.ImageFit.Fill)this._outputContext.drawImage(e,0,0,t,n,0,0,r,i);else if(this._fitType===a.ImageFit.None)this._outputContext.drawImage(e,0,0,t,n);else if(this._fitType===a.ImageFit.Contain){var o=this._getFitPosition(t,n,r,i,a.ImageFit.Contain),s=o.x,u=o.y,c=o.w,l=o.h;this._outputContext.drawImage(e,0,0,t,n,s,u,c,l)}else if(this._fitType===a.ImageFit.Cover){var f=this._getFitPosition(t,n,r,i,a.ImageFit.Cover);s=f.x,u=f.y,c=f.w,l=f.h;this._outputContext.drawImage(e,0,0,t,n,s,u,c,l)}},t.prototype._getFitPosition=function(e,t,n,r,i){var o=n/e,s=n,u=o*t;return(i===a.ImageFit.Contain&&u>r||i===a.ImageFit.Cover&&r>u)&&(s*=o=r/u,u=r),{x:(n-s)/2,y:(r-u)/2,w:s,h:u}},t}(i.BackgroundProcessor);t.VirtualBackgroundProcessor=o},2391:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFit=void 0,function(e){e.Contain="Contain",e.Cover="Cover",e.Fill="Fill",e.None="None"}(t.ImageFit||(t.ImageFit={}))},69611:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Benchmark=void 0;var r=function(){function e(){this._timingCache=new Map,this._timings=new Map}return e.prototype.end=function(e){var t=this._timings.get(e);t&&(t.end=Date.now(),t.delay=t.end-t.start,this._save(e,n({},t)))},e.prototype.getAverageDelay=function(e){var t=this._timingCache.get(e);if(t&&t.length)return t.map((function(e){return e.delay})).reduce((function(e,t){return e+t}),0)/t.length},e.prototype.getNames=function(){return Array.from(this._timingCache.keys())},e.prototype.getRate=function(e){var t=this._timingCache.get(e);if(t&&!(t.length<2)){var n=t[t.length-1].end-t[0].start;return t.length/n*1e3}},e.prototype.start=function(e){var t=this._timings.get(e);t||(t={},this._timings.set(e,t)),t.start=Date.now(),delete t.end,delete t.delay},e.prototype._save=function(t,n){var r=this._timingCache.get(t);r||(r=[],this._timingCache.set(t,r)),r.push(n),r.length>e.cacheSize&&r.splice(0,r.length-e.cacheSize)},e.cacheSize=41,e}();t.Benchmark=r},13821:function(e,t){"use strict";function n(){return"undefined"!==typeof window&&(!!window.OffscreenCanvas&&!/Mobi/i.test(window.navigator.userAgent)&&!!window.chrome)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSupported=t.isBrowserSupported=void 0,t.isBrowserSupported=n,t.isSupported=n()},22510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.0.2"},5937:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(20413)),o=r(n(29150)),s=r(n(27257)),u=r(n(88307)),c=r(n(37114)),l=r(n(98209)),f=r(n(64304));t.default=function(){return i.default.createElement(u.default,null,i.default.createElement(c.default,null,i.default.createElement(a.default,null,(function(e){return i.default.createElement(i.default.Fragment,null,"info"===e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,null),i.default.createElement(o.default,null)),"stats"===e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(l.default,null),i.default.createElement(f.default,null)))}))))}},20413:function(e,t,n){"use strict";var r,i=n(27424).default,a=n(59400).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(72791)),f=n(16444),d=c(n(91503)),p=c(n(48872)),h=c(n(60763)),v=n(6492),m=n(61386),g=n(68022),y=n(37875);(0,f.createGlobalStyle)(r||(r=a(["\n@import url('https://fonts.googleapis.com/css2?family=Inter&display=swap');\n"]))),t.default=function(e){var t=e.children,n=(0,d.default)(),r=n.draggableRef,a=n.dragContainerRef,o=(0,l.useState)("info"),s=i(o,2),u=s[0],c=s[1],f=(0,p.default)(),b=(0,h.default)(),x=b.width,k=b.height,w={};if(x<y.theme.monitorWidth){var _=x/y.theme.monitorWidth;w={transform:"scale(".concat(_,")"),height:k*(1/_)+"px"}}return l.default.createElement(m.Container,{ref:a,style:w},l.default.createElement(m.Bar,{ref:r},l.default.createElement("span",{style:{padding:"0.57em"}},"Twilio Video Room Monitor"),l.default.createElement(m.RightBarContainer,null,l.default.createElement(m.TabSelector,{isActive:"info"===u,onClick:function(){return c("info")}},"Info"),l.default.createElement(m.TabSelector,{isActive:"stats"===u,onClick:function(){return c("stats")}},"Stats"),l.default.createElement(v.CopyButton,null),l.default.createElement(m.CloseIconContainer,{onClick:function(){return g.VideoRoomMonitor.closeMonitor()}},l.default.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.768 1.768a.347.347 0 01.491 0l15.973 15.973a.347.347 0 01-.492.49L1.768 2.26a.347.347 0 010-.49z",fill:"#DDD"}),l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.232 1.768a.347.347 0 010 .491L2.258 18.232a.347.347 0 11-.49-.491L17.74 1.768a.347.347 0 01.492",fill:"#DDD"}))))),l.default.createElement(m.OverflowContainer,null,l.default.createElement(m.ChildrenContainer,null,f?t(u):l.default.createElement("span",null,"No Twilio Room detected."))))}},6492:function(e,t,n){"use strict";var r,i,a=n(27424).default,o=n(59400).default,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CopyButton=t.Tooltip=t.CopyButtonContainer=void 0;var f=l(n(30093)),d=c(n(72791)),p=l(n(16444)),h=l(n(48872)),v=n(37875);t.CopyButtonContainer=p.default.div(r||(r=o(["\n  display: flex;\n  position: relative;\n  margin: 0 1em;\n  cursor: ",";\n\n  & svg {\n    stroke: ",";\n  }\n"])),(function(e){return e.hasRoom?"pointer":"initial"}),(function(e){return e.hasRoom?v.theme.borderColor:"#333"})),t.Tooltip=p.default.div(i||(i=o(["\n  position: absolute;\n  background: #4f4f4f;\n  font-size: 0.75rem;\n  white-space: nowrap;\n  padding: 0.2em 0.6em;\n  top: 2.7em;\n  left: 0%;\n  visibility: hidden;\n\n  &:before {\n    content: '';\n    width: 0;\n    height: 0;\n    left: 5px;\n    top: -5px;\n    position: absolute;\n    border: 5px solid #4f4f4f;\n    transform: rotate(135deg);\n  }\n\n  ",": hover & {\n    visibility: visible;\n  }\n\n  @media (max-width: ","px) {\n    left: auto;\n    right: 0;\n\n    &:before {\n      content: '';\n      right: 5px;\n      left: auto;\n    }\n  }\n"])),t.CopyButtonContainer,v.theme.monitorWidth);var m=function(e,t){if("processor"===t)return Boolean(e)};t.CopyButton=function(){var e=(0,h.default)(),n=(0,d.useState)(!1),r=a(n,2),i=r[0],o=r[1];return d.default.createElement(t.CopyButtonContainer,{onClick:function(){if(e){var t=(0,f.default)(e,m),n=(0,f.default)(e._options,m),r=JSON.stringify(Object.assign(Object.assign({},t),{connectionOptions:n}),null,2);navigator.clipboard.writeText(r).then((function(){o(!0)}))}},onMouseLeave:function(){return o(!1)},hasRoom:!!e},d.default.createElement(t.Tooltip,null,i?"Room information copied to clipboard":"Copy Room Information"),d.default.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.917.413c0-.274.223-.496.5-.496h6.666c.133 0 .26.052.354.145l5 4.959c.093.093.146.219.146.35v11.57a.498.498 0 01-.5.496H5.417a.498.498 0 01-.5-.495V.412zm1 .495v15.538h10.666V5.576L11.876.909h-5.96z",fill:"#DDD"}),d.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.083-.083c.276 0 .5.222.5.496v4.462h4.5c.276 0 .5.222.5.496a.498.498 0 01-.5.496h-5a.498.498 0 01-.5-.496V.413c0-.274.224-.496.5-.496zM2.417 2.892c0-.274.223-.496.5-.496h2.5c.276 0 .5.222.5.496a.498.498 0 01-.5.496h-2v15.537h10.666v-1.983c0-.274.224-.496.5-.496s.5.222.5.495v2.48a.498.498 0 01-.5.496H2.917a.498.498 0 01-.5-.496V2.89z",fill:"#DDD"})))}},61386:function(e,t,n){"use strict";var r,i,a,o,s,u,c,l=n(59400).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabSelector=t.RightBarContainer=t.CloseIconContainer=t.ChildrenContainer=t.OverflowContainer=t.Bar=t.BAR_HEIGHT=t.Container=void 0;var d=f(n(16444)),p=n(37875);t.Container=d.default.div(r||(r=l(["\n  width: ","px;\n  height: 85vh;\n  position: fixed;\n  top: 0;\n  transform-origin: 0 0;\n  z-index: 10000;\n  border: 1px solid ",";\n  color: ",";\n  & h1,\n  & h2,\n  & h3,\n  & h4,\n  & h5,\n  & h6,\n  & span,\n  & p,\n  & text {\n    font-family: 'Inter', sans-serif;\n  }\n\n  @media (max-width: ","px) {\n    /* !important is used here to override the style attributes used for dragging */\n    top: 0 !important;\n    left: 0 !important;\n  }\n"])),p.theme.monitorWidth,p.theme.borderColor,p.theme.borderColor,p.theme.monitorWidth),t.BAR_HEIGHT="2.8em",t.Bar=d.default.div(i||(i=l(["\n  height: ",";\n  cursor: move;\n  background: black;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 20000;\n"])),t.BAR_HEIGHT,p.theme.borderColor),t.OverflowContainer=d.default.div(a||(a=l(["\n  overflow: hidden;\n  height: 100%;\n  padding-top: ",";\n"])),t.BAR_HEIGHT),t.ChildrenContainer=d.default.div(o||(o=l(["\n  height: 100%;\n  overflow-y: auto;\n  padding: 0.4em 0.8em 0.4em;\n  background: black;\n  opacity: 0.8;\n"]))),t.CloseIconContainer=d.default.div(s||(s=l(["\n  border-left: 1px solid ",";\n  height: 2.7em;\n  width: 2.7em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  & svg {\n    stroke: ",";\n  }\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),p.theme.borderColor,p.theme.borderColor),t.RightBarContainer=d.default.div(u||(u=l(["\n  display: flex;\n  align-items: center;\n"]))),t.TabSelector=d.default.span(c||(c=l(["\n  position: relative;\n  margin: 0px 6px;\n  color: ",";\n  cursor: pointer;\n  padding: 8px;\n  border-bottom: ",";\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),(function(e){return e.isActive?p.theme.textColor:"#555"}),(function(e){return e.isActive?"2px solid white":""}))},825:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioTrackPublicationInfo=t.AudioTrackInfo=void 0;var i=r(n(72791)),a=r(n(41280)),o=r(n(76816)),s=n(92002),u=r(n(333)),c=r(n(39458)),l=r(n(16629)),f=r(n(11159));t.AudioTrackInfo=function(e){var t=e.track,n=e.trackSid,r=(0,a.default)(t),u=(0,s.useTrackBandwidth)(n),f=(0,s.useTrackData)(n),d=(0,o.default)(t),p="";if(f){var h=f.packetsReceived,v=f.packetsSent,m=f.packetsLost,g=null!==h&&void 0!==h?h:v;p=g&&null!==m?"".concat((m/g*100).toLocaleString(),"%"):null}return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"isEnabled",value:r}),i.default.createElement(c.default,{label:"Bandwidth",value:(null===u||void 0===u?void 0:u.toLocaleString())+"kbps"}),f&&i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"Codec",value:f.codec}),i.default.createElement(c.default,{label:"Jitter",value:f.jitter}),i.default.createElement(c.default,{label:"Packets Lost",value:f.packetsLost}),i.default.createElement(c.default,{label:"Packet Loss Percentage",value:p})),i.default.createElement(l.default,{track:d}))};t.AudioTrackPublicationInfo=function(e){var n=e.publication,r=(0,u.default)(n);return i.default.createElement(f.default,null,i.default.createElement(c.default,{label:"Name",value:n.trackName}),i.default.createElement(c.default,{label:"SID",value:n.trackSid}),i.default.createElement(c.default,{label:"isSubscribed",value:!!r}),r&&i.default.createElement(t.AudioTrackInfo,{track:r,trackSid:n.trackSid}))}},82978:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataTrackPublicationInfo=t.DataTrackInfo=void 0;var i=r(n(72791)),a=r(n(41280)),o=r(n(44003)),s=r(n(333)),u=r(n(64821)),c=r(n(39458)),l=r(n(11159));t.DataTrackInfo=function(e){var t=e.track,n=(0,a.default)(t),r=(0,o.default)(t);return void 0===t.isEnabled||void 0===t.isSwitchedOff?i.default.createElement(u.default,{track:t}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"isEnabled",value:n}),i.default.createElement(c.default,{label:"isSwitchedOff",value:r}),i.default.createElement(c.default,{label:"Priority",value:t.priority}),i.default.createElement(u.default,{track:t}))};t.DataTrackPublicationInfo=function(e){var n=e.publication,r=(0,s.default)(n);return i.default.createElement(l.default,null,i.default.createElement(c.default,{label:"Kind",value:n.kind}),i.default.createElement(c.default,{label:"isSubscribed",value:!!r}),r&&i.default.createElement(t.DataTrackInfo,{track:r}))}},92992:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Participant=void 0;var i=r(n(72791)),a=n(44261),o=r(n(39458)),s=r(n(20535)),u=r(n(13784)),c=r(n(89973)),l=n(32690),f=n(825),d=n(82978);t.Participant=function(e){var t=e.participant,n=e.isLocal,r=(0,s.default)(t),p=(0,u.default)(t),h=(0,c.default)(t,n),v=h.filter((function(e){return"data"===e.kind})),m=h.filter((function(e){return"audio"===e.kind})),g=h.filter((function(e){return"video"===e.kind}));return i.default.createElement(a.Accordion,{label:t.identity},i.default.createElement(o.default,{label:"SID",value:t.sid}),i.default.createElement(o.default,{label:"isReconnecting",value:p}),i.default.createElement(o.default,{label:"networkQualityLevel",value:r}),i.default.createElement(a.Accordion,{label:"Data Tracks (".concat(v.length,")")},v.map((function(e){return i.default.createElement(d.DataTrackPublicationInfo,{key:e.trackSid,publication:e})}))),i.default.createElement(a.Accordion,{label:"Audio Tracks (".concat(m.length,")")},m.map((function(e){return i.default.createElement(f.AudioTrackPublicationInfo,{key:e.trackSid,publication:e})}))),i.default.createElement(a.Accordion,{label:"Video Tracks (".concat(g.length,")")},g.map((function(e){return i.default.createElement(l.VideoTrackPublicationInfo,{key:e.trackSid,publication:e})}))))}},29150:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(23853)),o=r(n(48872)),s=r(n(70907)),u=r(n(89699)),c=n(92992);t.default=function(){var e=(0,a.default)(),t=(0,o.default)(),n=(0,s.default)();return t&&"disconnected"!==n?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,null,"Participant Information (",e.length+1,"):"),i.default.createElement(c.Participant,{participant:t.localParticipant,isLocal:!0}),e.map((function(e){return i.default.createElement(c.Participant,{key:e.sid,participant:e})}))):null}},32690:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoTrackPublicationInfo=t.VideoTrackInfo=void 0;var i=r(n(72791)),a=r(n(39458)),o=r(n(16629)),s=r(n(11159)),u=r(n(41280)),c=r(n(44003)),l=r(n(76816)),f=r(n(83749)),d=n(92002),p=r(n(333)),h=r(n(85877)),v=n(18681),m=function(e){return e?"".concat(e.width," x ").concat(e.height):"undefined"},g=(0,v.withIntervalUpdate)(a.default);t.VideoTrackInfo=function(e){var t=e.track,n=e.trackSid,r=(0,h.default)(t),s=(0,c.default)(t),f=(0,u.default)(t),p=(0,d.useTrackBandwidth)(n),v=(0,d.useTrackData)(n),y=(0,l.default)(t),b="";if(v){var x=v.packetsReceived,k=v.packetsSent,w=v.packetsLost,_=null!==x&&void 0!==x?x:k;b=_&&null!==w?"".concat((w/_*100).toLocaleString(),"%"):null}return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Dimensions",value:m(r)}),void 0!==s&&i.default.createElement(a.default,{label:"isSwitchedOff",value:s}),i.default.createElement(a.default,{label:"isEnabled",value:f}),i.default.createElement(a.default,{label:"Bandwidth",value:(null===p||void 0===p?void 0:p.toLocaleString())+"kbps"}),void 0!==t.priority&&i.default.createElement(g,{label:"subscribePriority",value:t.priority}),v&&i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Codec",value:v.codec}),i.default.createElement(a.default,{label:"Framerate",value:null===v||void 0===v?void 0:v.frameRate}),i.default.createElement(a.default,{label:"Packets Lost",value:null===v||void 0===v?void 0:v.packetsLost}),i.default.createElement(a.default,{label:"Packet Loss Percentage",value:b})),i.default.createElement(o.default,{track:y}))};t.VideoTrackPublicationInfo=function(e){var n=e.publication,r=(0,f.default)(n),o=(0,p.default)(n);return i.default.createElement(s.default,null,i.default.createElement(a.default,{label:"Name",value:n.trackName}),i.default.createElement(a.default,{label:"SID",value:n.trackSid}),i.default.createElement(a.default,{label:"isSubscribed",value:!!o}),void 0!==r&&i.default.createElement(a.default,{label:"publishPriority",value:r}),o&&i.default.createElement(t.VideoTrackInfo,{track:o,trackSid:n.trackSid}))}},27257:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(39458)),o=r(n(89699)),s=r(n(71522)),u=r(n(13990)),c=r(n(48872)),l=r(n(70907)),f=r(n(71263)),d=n(44261),p=r(n(61776)),h=r(n(85674)),v=r(n(10365));t.default=function(){var e=(0,c.default)(),t=(0,s.default)(),n=(0,l.default)(),r=(0,u.default)(),m=(0,f.default)(),g=m.currentReceivedBitrate,y=m.currentSentBitrate;if(!e)return null;var b=e._options,x=b.audio,k=b.automaticSubscription,w=b.bandwidthProfile,_=b.dscpTagging,S=b.enableDscp,T=b.iceServers,C=b.iceTransportPolicy,E=b.insights,O=b.maxAudioBitrate,A=b.maxVideoBitrate,I=b.name,R=b.networkQuality,N=b.region,P=b.preferredAudioCodecs,M=b.preferredVideoCodecs,D=b.loggerName,j=b.tracks,L=b.video;return i.default.createElement("div",{style:{marginBottom:"1em"}},i.default.createElement(o.default,null,"Room information:"),"disconnected"===n?i.default.createElement("span",null,"Not connected to a Twilio Video room."):i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Room Name",value:e.name}),i.default.createElement(a.default,{label:"SID",value:e.sid}),i.default.createElement(a.default,{label:"State",value:n}),i.default.createElement(a.default,{label:"Dominant Speaker",value:(null===t||void 0===t?void 0:t.identity)||null}),i.default.createElement(a.default,{label:"Media Region",value:e.mediaRegion}),i.default.createElement(a.default,{label:"Is Recording",value:r}),i.default.createElement(a.default,{label:"Total Sent Bandwidth",value:(null===y||void 0===y?void 0:y.toLocaleString())+"kbps"}),i.default.createElement(a.default,{label:"Total Received Bandwidth",value:(null===g||void 0===g?void 0:g.toLocaleString())+"kbps"}),i.default.createElement(d.Accordion,{label:"Connection Options"},i.default.createElement(p.default,{label:"Audio",obj:x}),i.default.createElement(a.default,{label:"Automatic Subscription",value:k}),i.default.createElement(p.default,{label:"Bandwidth Profile",obj:w}),i.default.createElement(a.default,{label:"Dominant Speaker",value:e._options.dominantSpeaker}),i.default.createElement(a.default,{label:"DSCP Tagging",value:_}),i.default.createElement(a.default,{label:"Enable DSCP",value:S}),i.default.createElement(h.default,{label:"Ice Servers",arr:T}),i.default.createElement(p.default,{label:"Ice Transport Policy",obj:C}),i.default.createElement(a.default,{label:"Insights",value:E}),i.default.createElement(a.default,{label:"Max Audio Bitrate",value:O}),i.default.createElement(a.default,{label:"Max Video Bitrate",value:A}),i.default.createElement(a.default,{label:"Name",value:I}),i.default.createElement(p.default,{label:"Network Quality",obj:R}),i.default.createElement(a.default,{label:"Region",value:N}),i.default.createElement(h.default,{label:"Preferred Audio Codecs",arr:P}),i.default.createElement(h.default,{label:"Preferred Video Codecs",arr:M}),i.default.createElement(a.default,{label:"Logger Name",value:D}),i.default.createElement(v.default,{tracks:j}),i.default.createElement(p.default,{label:"Video",obj:L}))))}},88307:function(e,t,n){"use strict";var r=n(27424).default,i=n(56690).default,a=n(89728).default,o=n(61655).default,s=n(26389).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomContext=t.roomRegistry=void 0;var d=l(n(72791)),p=function(e){o(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"registerVideoRoom",value:function(e){this.room=e,this.emit("roomRegistered",e)}}]),n}(f(n(97143)).default);t.roomRegistry=new p,t.RoomContext=d.default.createContext(void 0),t.default=function(e){var n=e.children,i=(0,d.useState)(),a=r(i,2),o=a[0],s=a[1];return(0,d.useEffect)((function(){t.roomRegistry.room&&s(t.roomRegistry.room);var e=function(e){return s(e)};return t.roomRegistry.on("roomRegistered",e),function(){t.roomRegistry.off("roomRegistered",e)}}),[]),d.default.createElement(t.RoomContext.Provider,{value:o},n)}},37114:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatsProvider=t.RoomStatsContext=t.truncateFront=void 0;var s=a(n(72791)),u=n(92002),c=n(31928),l=o(n(56365)),f=o(n(48872));t.truncateFront=function(e,t){return e.slice(Math.max(0,e.length-t),e.length)},t.RoomStatsContext=s.default.createContext(null);t.RoomStatsProvider=function(e){var n,r,i=e.children,a=(0,s.useRef)(),o=(0,s.useRef)([]),d=(0,s.useRef)([]),p=(0,f.default)(),h=(0,l.default)(p),v=a.current;a.current=h;var m=(0,u.getTotalBandwidth)("bytesReceived",h,v),g=o.current.concat({x:Date.now(),y:m});o.current=(0,t.truncateFront)(g,c.MAX_STAT_HISTORY_LENGTH);var y=(0,u.getTotalBandwidth)("bytesSent",h,v),b=d.current.concat({x:Date.now(),y:y});return d.current=(0,t.truncateFront)(b,c.MAX_STAT_HISTORY_LENGTH),s.default.createElement(t.RoomStatsContext.Provider,{value:{stats:h,previousStats:v,receivedBitrateHistory:o.current,sentBitrateHistory:d.current,currentReceivedBitrate:null===(n=o.current.slice(-1)[0])||void 0===n?void 0:n.y,currentSentBitrate:null===(r=d.current.slice(-1)[0])||void 0===r?void 0:r.y}},i)},t.default=t.RoomStatsProvider},99460:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBitrate=void 0;var i=r(n(72791)),a=n(49944),o=r(n(89699)),s=n(31928),u=n(80617),c=n(31396);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<1e3?+e.toFixed(t)+" "+["K","M","G"][t]:l(e/1e3,t+1)}t.formatBitrate=l;var f=(0,c.buildChartTheme)({backgroundColor:"transparent",colors:["#E22525"],tickLength:2,gridColor:"#333",gridColorDark:"#333",svgLabelSmall:{strokeWidth:.2,stroke:"#ddd",fill:"#ddd"},svgLabelBig:{strokeWidth:0,fill:"#ddd"}});t.default=function(e){var t,n,r=e.data,d=e.title,p=e.yAxisLabel,h=Date.now()-s.UPDATE_INTERVAL*s.MAX_STAT_HISTORY_LENGTH+1e3,v=Math.min(null!==(t=(0,u.min)(r,(function(e){return e.x})))&&void 0!==t?t:0,h);return i.default.createElement(i.default.Fragment,null,i.default.createElement(o.default,null,d),i.default.createElement(c.XYChart,{height:275,width:465,xScale:{type:"time",domain:[v,null!==(n=(0,u.max)(r,(function(e){return e.x})))&&void 0!==n?n:0]},yScale:{type:"linear",domain:[0,Math.max(50,(0,u.max)(r,(function(e){return e.y})))]},margin:{top:10,left:65,right:0,bottom:50},theme:f},i.default.createElement(c.Grid,{columns:!1,numTicks:5,strokeDasharray:"2"}),i.default.createElement(c.Grid,{rows:!1,strokeDasharray:"2",numTicks:5}),i.default.createElement(c.Axis,{orientation:"bottom",label:"Time",numTicks:5}),i.default.createElement(c.Axis,{orientation:"left",label:p,numTicks:5,tickFormat:function(e){return l(e)},labelOffset:36}),i.default.createElement(c.LineSeries,{dataKey:"x",data:r,xAccessor:function(e){return e.x},yAccessor:function(e){return e.y},curve:a.curveMonotoneX})))}},98209:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(99460)),o=r(n(71263));t.default=function(){var e=(0,o.default)(),t=e.receivedBitrateHistory,n=e.currentReceivedBitrate;return i.default.createElement(a.default,{data:t,yAxisLabel:"Bits per second",title:"Total Bandwidth Received: ".concat(null===n||void 0===n?void 0:n.toLocaleString(),"kbps")})}},64304:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(99460)),o=r(n(71263));t.default=function(){var e=(0,o.default)(),t=e.sentBitrateHistory,n=e.currentSentBitrate;return i.default.createElement(a.default,{data:t,yAxisLabel:"Bits per second",title:"Total Bandwidth Sent: ".concat(null===n||void 0===n?void 0:n.toLocaleString(),"kbps")})}},37875:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.theme=void 0,t.theme={monitorWidth:500,textColor:"#ddd",borderColor:"#ddd",fontSizes:{small:"0.8rem"}}},44261:function(e,t,n){"use strict";var r,i,a,o=n(27424).default,s=n(59400).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=t.LabelContainer=void 0;var d=l(n(72791)),p=f(n(16444)),h=n(37875),v=p.default.div(r||(r=s(["\n  width: 0;\n  height: 0;\n  border-top: 5px solid ",";\n  border-left: 5px solid transparent;\n  transform: ",";\n"])),(function(e){return e.isClickable?h.theme.textColor:"#555"}),(function(e){return e.isOpen?"rotate(135deg) translateX(-2px)":"rotate(45deg)"})),m=p.default.div(i||(i=s(["\n  padding-left: 17px;\n  margin-left: 4px;\n  border-left: 1px solid ",";\n"])),h.theme.borderColor);t.LabelContainer=p.default.div(a||(a=s(["\n  display: flex;\n  align-items: center;\n  ","\n\n  & > span {\n    margin-left: 10px;\n    font-size: ",";\n    padding: 8px 0;\n  }\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),(function(e){return e.isClickable&&"cursor: pointer;"}),h.theme.fontSizes.small);t.Accordion=function(e){var n=e.children,r=e.label,i=(0,d.useState)(!1),a=o(i,2),s=a[0],u=a[1],c=d.default.Children.count(n)>0;return d.default.createElement("div",null,d.default.createElement(t.LabelContainer,{onClick:function(){return c&&u((function(e){return!e}))},isClickable:c},d.default.createElement(v,{isOpen:s,isClickable:c}),d.default.createElement("span",null,r)),s&&d.default.createElement(m,null,n))}},85674:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(61776)),o=r(n(39458)),s=n(44261),u=r(n(11159));t.default=i.default.memo((function(e){var t=e.label,n=e.arr;return"undefined"===typeof n||null===n?i.default.createElement(o.default,{label:t,value:n}):0===n.length?i.default.createElement(o.default,{label:t,value:"undefined"}):i.default.createElement(s.Accordion,{label:t},n.map((function(e,t){return i.default.createElement(u.default,{key:t},i.default.createElement(a.default,{obj:e}))})))}))},39458:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(16444)),u=n(37875),c=s.default.span(r||(r=i(["\n  font-size: ",";\n"])),u.theme.fontSizes.small);t.default=o.default.memo((function(e){var t=e.label,n=e.value;return o.default.createElement("div",null,o.default.createElement(c,null,t,": ",String(n)))}))},89699:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(16444));t.default=o.default.memo(s.default.h3(r||(r=i(["\n  margin: 0.2em 0 0.5em;\n"]))))},61776:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(72791)),o=n(44261),s=i(n(39458)),u=i(n(11159));t.default=a.default.memo((function e(t){var n=t.label,i=t.obj;if("object"!==typeof i||"undefined"===typeof i||null===i)return a.default.createElement(s.default,{label:String(n),value:i});var c=n?o.Accordion:u.default;return a.default.createElement(c,{label:n},Object.entries(i).map((function(t,n){var i=r(t,2),o=i[0],u=i[1];return"object"!==typeof u||Array.isArray(u)?a.default.createElement(s.default,{key:n,label:o,value:u}):a.default.createElement(e,{key:n,label:o,obj:u})})))}))},11159:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(16444)),u=n(37875);t.default=o.default.memo(s.default.div(r||(r=i(["\n  &:not(:last-child) {\n    border-bottom: 1px solid ",";\n    margin-bottom: 3px;\n  }\n  padding-bottom: 3px;\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),u.theme.borderColor))},10365:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=n(44261),o=r(n(39458)),s=r(n(16629)),u=r(n(11159)),c=r(n(64821));t.default=i.default.memo((function(e){var t=e.tracks;return"undefined"===typeof t||null===t?i.default.createElement(o.default,{label:"Tracks",value:t}):i.default.createElement(a.Accordion,{label:"Tracks"},t.map((function(e,t){if(e instanceof MediaStreamTrack)return i.default.createElement(u.default,{key:t},i.default.createElement(s.default,{track:e}));if("audio"===e.kind||"video"===e.kind){var n=e.kind,r=e.name,a=e.id,l=e.mediaStreamTrack;return i.default.createElement(u.default,{key:t},i.default.createElement(o.default,{label:"Kind",value:n}),i.default.createElement(o.default,{label:"Name",value:r}),i.default.createElement(o.default,{label:"ID",value:a}),i.default.createElement(s.default,{track:l}))}return i.default.createElement(u.default,{key:t},i.default.createElement(c.default,{track:e}))})))}))},64821:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(39458));t.default=i.default.memo((function(e){var t=e.track,n=t.kind,r=t.maxPacketLifeTime,o=t.maxRetransmits,s=t.ordered,u=t.reliable,c=void 0===t.isEnabled?{label:"ID",value:t.id}:{label:"SID",value:t.sid};return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Kind",value:n}),i.default.createElement(a.default,{label:c.label,value:c.value}),i.default.createElement(a.default,{label:"maxPacketLifeTime",value:r}),i.default.createElement(a.default,{label:"maxRetransmits",value:o}),i.default.createElement(a.default,{label:"Ordered",value:s}),i.default.createElement(a.default,{label:"Reliable",value:u}))}))},16629:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(60377)),o=r(n(61776));t.default=i.default.memo((function(e){var t=e.track,n=(0,a.default)(t);return i.default.createElement(o.default,{label:"Media Stream Track",obj:n})}))},31928:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_INTERVAL=t.MAX_STAT_HISTORY_LENGTH=void 0,t.MAX_STAT_HISTORY_LENGTH=240,t.UPDATE_INTERVAL=1e3},71522:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)((null===e||void 0===e?void 0:e.dominantSpeaker)||null),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){var t=function(e){return s(e)};return e.on("dominantSpeakerChanged",t),function(){e.off("dominantSpeakerChanged",t)}}s(null)}),[e]),i}},91503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72791),i=n(37875);t.default=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)({x:0,y:0});return(0,r.useEffect)((function(){var r=e.current,a=t.current;if(r&&a){var o=function(e){if(!(window.innerWidth<i.theme.monitorWidth)){var t=n.current,r=t.x,o=t.y;a.style.left="".concat(e.clientX-r,"px"),a.style.top="".concat(e.clientY-o,"px")}},s=function(e){n.current.x=e.clientX-a.offsetLeft,n.current.y=e.clientY-a.offsetTop,document.body.addEventListener("mousemove",o)},u=function(){document.body.removeEventListener("mousemove",o),n.current={x:0,y:0}};return r.addEventListener("mousedown",s),document.body.addEventListener("mouseup",u),function(){r.removeEventListener("mousedown",s),document.body.removeEventListener("mouseup",u)}}}),[]),{draggableRef:e,dragContainerRef:t}}},56365:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791),a=n(31928);t.default=function(e){var t=(0,i.useState)(),n=r(t,2),o=n[0],s=n[1];return(0,i.useEffect)((function(){var t;if(e){var n=function(){return e.getStats().then((function(e){return s(e)}))};return n(),t=window.setInterval(n,a.UPDATE_INTERVAL),function(){window.clearInterval(t)}}}),[e]),o}},18681:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withIntervalUpdate=t.useIntervalUpdate=void 0;var s=o(n(72791)),u=n(31928);function c(){var e=(0,s.useState)(0),t=r(e,2)[1],n=(0,s.useRef)();(0,s.useEffect)((function(){return n.current=window.setInterval((function(){return t((function(e){return e+1}))}),u.UPDATE_INTERVAL),function(){window.clearInterval(n.current)}}),[])}t.useIntervalUpdate=c,t.withIntervalUpdate=function(e){return function(t){return c(),s.default.createElement(e,Object.assign({},t))}}},13990:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)((null===e||void 0===e?void 0:e.isRecording)||!1),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){s(e.isRecording);var t=function(){return s(!0)},n=function(){return s(!1)};return e.on("recordingStarted",t),e.on("recordingStopped",n),function(){e.off("recordingStarted",t),e.off("recordingStopped",n)}}s(!1)}),[e]),i}},41280:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(!!e&&e.isEnabled),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(!!e&&e.isEnabled),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),a}},44003:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e&&e.isSwitchedOff),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(e&&e.isSwitchedOff),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("switchedOff",t),e.on("switchedOn",n),function(){e.off("switchedOff",t),e.off("switchedOn",n)}}}),[e]),!!a}},76816:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var t=function(){return o(e.mediaStreamTrack)};return e.on("started",t),function(){e.off("started",t)}}}),[e]),a}},60377:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.muted),n=r(t,2),a=n[0],o=n[1],s=(0,i.useState)(null===e||void 0===e?void 0:e.readyState),u=r(s,2),c=u[0],l=u[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.muted),l(null===e||void 0===e?void 0:e.readyState),e){var t=function(){return o(null===e||void 0===e?void 0:e.muted)},n=function(){return l(null===e||void 0===e?void 0:e.readyState)};return e.addEventListener("mute",t),e.addEventListener("unmute",t),e.addEventListener("ended",n),function(){e.removeEventListener("mute",t),e.removeEventListener("unmute",t),e.removeEventListener("ended",n)}}}),[e]),{muted:a,readyState:c,id:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.label,kind:null===e||void 0===e?void 0:e.kind}}},13784:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(!1),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){var t=function(){return o(!0)},n=function(){return o(!1)};return n(),e.on("reconnecting",t),e.on("reconnected",n),function(){e.off("reconnecting",t),e.off("reconnected",n)}}),[e]),a}},20535:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e.networkQualityLevel),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){var t=function(e){return o(e)};return o(e.networkQualityLevel),e.on("networkQualityLevelChanged",t),function(){e.off("networkQualityLevelChanged",t)}}),[e]),a}},23853:function(e,t,n){"use strict";var r=n(861).default,i=n(27424).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72791),s=a(n(48872));t.default=function(){var e=(0,s.default)(),t=(0,o.useState)(e?Array.from(e.participants.values()):[]),n=i(t,2),a=n[0],u=n[1];return(0,o.useEffect)((function(){if(e){u(Array.from(e.participants.values()));var t=function(e){return u((function(t){return[].concat(r(t),[e])}))},n=function(e){return u((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("participantConnected",t),e.on("participantDisconnected",n),function(){e.off("participantConnected",t),e.off("participantDisconnected",n)}}}),[e]),a}},89973:function(e,t,n){"use strict";var r=n(861).default,i=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=n(31928);t.default=function(e,t){var n=(0,a.useState)([]),s=i(n,2),u=s[0],c=s[1],l=(0,a.useRef)();return(0,a.useEffect)((function(){if(t)return l.current=window.setInterval((function(){var t=Array.from(e.tracks.values());c((function(e){return n=t,e.map((function(e){return e.trackSid})).sort().join("")===n.map((function(e){return e.trackSid})).sort().join("")?e:t;var n}))}),o.UPDATE_INTERVAL),function(){window.clearInterval(l.current)}}),[e,t]),(0,a.useEffect)((function(){c(Array.from(e.tracks.values()));var t=function(e){return c((function(t){return[].concat(r(t),[e])}))},n=function(e){return c((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("trackPublished",t),e.on("trackUnpublished",n),function(){e.off("trackPublished",t),e.off("trackUnpublished",n)}}),[e]),u}},83749:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e.publishPriority),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){o(e.publishPriority);var t=function(e){return o(e)};return e.on("publishPriorityChanged",t),function(){e.off("publishPriorityChanged",t)}}),[e]),a}},48872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72791),i=n(88307);t.default=function(){return(0,r.useContext)(i.RoomContext)}},70907:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)("disconnected"),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){var t=function(){return s(e.state||"disconnected")};return t(),e.on("disconnected",t).on("reconnected",t).on("reconnecting",t),function(){e.off("disconnected",t).off("reconnected",t).off("reconnecting",t)}}s("disconnected")}),[e]),i}},71263:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=n(37114);t.default=function(){return i.default.useContext(a.RoomStatsContext)}},92002:function(e,t,n){"use strict";var r=n(861).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTrackData=t.getTotalBandwidth=t.useTrackBandwidth=t.round=t.getActiveTrackData=t.getTrackData=t.getAllTracks=t.getAllStats=void 0;var a=n(80617),o=i(n(71263));function s(e){return e.reduce((function(e,t){return{localAudioTrackStats:[].concat(r(e.localAudioTrackStats),r(t.localAudioTrackStats)),localVideoTrackStats:[].concat(r(e.localVideoTrackStats),r(t.localVideoTrackStats)),remoteAudioTrackStats:[].concat(r(e.remoteAudioTrackStats),r(t.remoteAudioTrackStats)),remoteVideoTrackStats:[].concat(r(e.remoteVideoTrackStats),r(t.remoteVideoTrackStats)),peerConnectionId:""}}),{localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[],peerConnectionId:""})}function u(e){var t=s(e),n=t.localAudioTrackStats,i=t.localVideoTrackStats,a=t.remoteAudioTrackStats,o=t.remoteVideoTrackStats;return[].concat(r(n),r(i),r(a),r(o))}function c(e,t){return u(t).filter((function(t){return t.trackSid===e}))}function l(e,t,n){var r=c(n,e);return c(n,t).filter((function(e){var t=r.find((function(t){return t.ssrc===e.ssrc}));return e.bytesSent!==(null===t||void 0===t?void 0:t.bytesSent)}))}t.getAllStats=s,t.getAllTracks=u,t.getTrackData=c,t.getActiveTrackData=l;t.round=function(e){return Math.round(10*(e+Number.EPSILON))/10},t.useTrackBandwidth=function(e){var n,r,i=(0,o.default)(),s=i.stats,u=i.previousStats;if(!s||!u)return null;var l=c(e,s),f=c(e,u);if(0===l.length||0===f.length)return null;var d=(0,a.sum)(l.map((function(e){var t,n;return null!==(n=null!==(t=e.bytesReceived)&&void 0!==t?t:e.bytesSent)&&void 0!==n?n:0}))),p=(0,a.sum)(f.map((function(e){var t,n;return null!==(n=null!==(t=e.bytesReceived)&&void 0!==t?t:e.bytesSent)&&void 0!==n?n:0}))),h=null===(n=l[0])||void 0===n?void 0:n.timestamp,v=null===(r=f[0])||void 0===r?void 0:r.timestamp;return 8*(0,t.round)((d-p)/(h-v))},t.getTotalBandwidth=function(e,n,r){if(!n||!r)return null;var i=u(n).filter((function(t){return"undefined"!==typeof t[e]})),o=u(r).filter((function(t){return"undefined"!==typeof t[e]})),s=i.map((function(t){var n,r,i=o.find((function(e){return e.ssrc===t.ssrc}));if(!i)return null;var a=null!==(n=t[e])&&void 0!==n?n:null,s=null!==(r=i[e])&&void 0!==r?r:null;return null!==a&&null!==s?(a-s)/(t.timestamp-i.timestamp)*8:null})).filter((function(e){return null!==e})).filter((function(e){return e>=0}));return(0,t.round)((0,a.sum)(s))},t.useTrackData=function(e){var t=(0,o.default)(),n=t.stats,r=t.previousStats;return n&&r?l(r,n,e)[0]:null}},333:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e&&e.track),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(e&&e.track),e){var t=function(){return o(null)};return e.on("subscribed",o),e.on("unsubscribed",t),function(){e.off("subscribed",o),e.off("unsubscribed",t)}}}),[e]),a}},85877:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.dimensions),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.dimensions),e){var t=function(e){return o({width:e.dimensions.width,height:e.dimensions.height})};return e.on("dimensionsChanged",t),function(){e.off("dimensionsChanged",t)}}}),[e]),a}},60763:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(){var e,t,n=(0,i.useState)({height:window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),width:window.innerWidth*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)}),a=r(n,2),o=a[0],s=a[1];return(0,i.useEffect)((function(){var e=function(){var e,t;s({height:window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),width:window.innerWidth*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),o}},68022:function(e,t,n){"use strict";var r=n(56690).default,i=n(89728).default,a=n(61655).default,o=n(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoRoomMonitor=void 0;var u=s(n(72791)),c=s(n(54164)),l=s(n(5937)),f=s(n(97143)),d=n(88307),p=function(e){a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"isOpen",get:function(){return Boolean(this.container)}},{key:"openMonitor",value:function(){if(!this.container){var e=document.createElement("div");document.body.appendChild(e),e.id="TwilioVideoRoomMonitorContainer",c.default.render(u.default.createElement(l.default,null),e),this.container=e,this.emit("opened")}}},{key:"closeMonitor",value:function(){this.container&&(c.default.unmountComponentAtNode(this.container),this.container.remove(),this.container=void 0,this.emit("closed"))}},{key:"toggleMonitor",value:function(){this.isOpen?this.closeMonitor():this.openMonitor()}},{key:"registerVideoRoom",value:function(e){d.roomRegistry.registerVideoRoom(e)}}]),n}(f.default);t.VideoRoomMonitor=new p,"browser"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.PARCEL_TARGET&&(window.Twilio=window.Twilio||{},window.Twilio.VideoRoomMonitor=t.VideoRoomMonitor)},99069:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.children,n=void 0===t?s.default:t,h=e.axisClassName,m=e.hideAxisLine,g=void 0!==m&&m,y=e.hideTicks,b=void 0!==y&&y,x=e.hideZero,k=void 0!==x&&x,w=e.left,_=void 0===w?0:w,S=e.numTicks,T=void 0===S?10:S,C=e.orientation,E=void 0===C?f.default.bottom:C,O=e.rangePadding,A=void 0===O?0:O,I=e.scale,R=e.tickFormat,N=e.tickLength,P=void 0===N?8:N,M=e.tickValues,D=e.top,j=void 0===D?0:D,L=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,p),F=null!=R?R:(0,c.default)(I),Z=E===f.default.left,B=E===f.default.top,U=B||E===f.default.bottom,V=(0,u.default)(I),z=Z||B?-1:1,W=I.range(),H=(0,d.default)(A),G=(0,l.default)({x:Number(W[0])+.5-H.start,y:0},U),q=(0,l.default)({x:Number(W[W.length-1])+.5+H.end,y:0},U),K=(null!=M?M:(0,o.getTicks)(I,T)).filter((function(e){return!k||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),Y=K.map((function(e){var t=e.value,n=e.index,r=(0,o.coerceNumber)(V(t));return{value:t,index:n,from:(0,l.default)({x:r,y:0},U),to:(0,l.default)({x:r,y:P*z},U),formattedValue:F(t,n,K)}}));return r.default.createElement(a.Group,{className:(0,i.default)("visx-axis",h),top:j,left:_},n(v({},L,{axisFromPoint:G,axisToPoint:q,hideAxisLine:g,hideTicks:b,hideZero:k,horizontal:U,numTicks:T,orientation:E,rangePadding:A,scale:I,tickFormat:F,tickLength:P,tickPosition:V,tickSign:z,ticks:Y})))};h(n(52007));var r=h(n(72791)),i=h(n(81694)),a=n(4791),o=n(10759),s=h(n(8337)),u=h(n(11622)),c=h(n(14765)),l=h(n(12823)),f=h(n(43054)),d=h(n(94267)),p=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function h(e){return e&&e.__esModule?e:{default:e}}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}},51035:function(e,t,n){"use strict";t.__esModule=!0,t.bottomTickLabelProps=void 0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?8:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-bottom",t),labelOffset:u,orientation:o.default.bottom,tickLabelProps:d,tickLength:h},v))};var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};t.bottomTickLabelProps=l},48461:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?36:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-left",t),labelOffset:u,orientation:o.default.left,tickLabelProps:d,tickLength:h},v))},t.leftTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};t.leftTickLabelProps=l},8337:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisFromPoint,n=e.axisLineClassName,l=e.axisToPoint,p=e.hideAxisLine,h=e.hideTicks,v=e.horizontal,m=e.label,g=void 0===m?"":m,y=e.labelClassName,b=e.labelOffset,x=void 0===b?14:b,k=e.labelProps,w=void 0===k?d:k,_=e.orientation,S=void 0===_?c.Orientation.bottom:_,T=e.scale,C=e.stroke,E=void 0===C?"#222":C,O=e.strokeDasharray,A=e.strokeWidth,I=void 0===A?1:A,R=e.tickClassName,N=e.tickComponent,P=e.tickLineProps,M=e.tickLabelProps,D=void 0===M?function(){return d}:M,j=e.tickLength,L=void 0===j?8:j,F=e.tickStroke,Z=void 0===F?"#222":F,B=e.tickTransform,U=e.ticks,V=e.ticksComponent,z=void 0===V?u.default:V,W=U.map((function(e){var t=e.value,n=e.index;return D(t,n,U)})),H=Math.max.apply(Math,[10].concat(W.map((function(e){return"number"===typeof e.fontSize?e.fontSize:0}))));return r.default.createElement(r.default.Fragment,null,z({hideTicks:h,horizontal:v,orientation:S,scale:T,tickClassName:R,tickComponent:N,tickLabelProps:W,tickStroke:Z,tickTransform:B,ticks:U,strokeWidth:I,tickLineProps:P}),!p&&r.default.createElement(a.Line,{className:(0,i.default)("visx-axis-line",n),from:t,to:l,stroke:E,strokeWidth:I,strokeDasharray:O}),g&&r.default.createElement(o.Text,f({className:(0,i.default)("visx-axis-label",y)},(0,s.default)({labelOffset:x,labelProps:w,orientation:S,range:T.range(),tickLabelFontSize:H,tickLength:L}),w),g))};var r=l(n(72791)),i=l(n(81694)),a=n(54471),o=n(12755),s=l(n(14438)),u=l(n(68040)),c=n(6517);function l(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var d={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"}},10178:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?36:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-right",t),labelOffset:u,orientation:o.default.right,tickLabelProps:d,tickLength:h},v))},t.rightTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dx:"0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"start"}};t.rightTickLabelProps=l},58184:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?8:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-top",t),labelOffset:u,orientation:o.default.top,tickLabelProps:d,tickLength:h},v))},t.topTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dy:"-0.75em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};t.topTickLabelProps=l},68040:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hideTicks,n=e.horizontal,c=e.orientation,f=e.tickClassName,d=e.tickComponent,p=e.tickLabelProps,h=e.tickStroke,v=void 0===h?"#222":h,m=e.tickTransform,g=e.ticks,y=e.strokeWidth,b=e.tickLineProps;return g.map((function(e){var h,g=e.value,x=e.index,k=e.from,w=e.to,_=e.formattedValue,S=null!=(h=p[x])?h:{},T=Math.max(10,"number"===typeof S.fontSize&&S.fontSize||0),C=w.y+(n&&c!==u.default.top?T:0);return r.default.createElement(o.Group,{key:"visx-tick-"+g+"-"+x,className:(0,i.default)("visx-axis-tick",f),transform:m},!t&&r.default.createElement(a.Line,l({from:k,to:w,stroke:v,strokeWidth:y,strokeLinecap:"square"},b)),d?d(l({},S,{x:w.x,y:C,formattedValue:_})):r.default.createElement(s.Text,l({x:w.x,y:C},S),_))}))};var r=c(n(72791)),i=c(n(81694)),a=n(54471),o=n(4791),s=n(12755),u=c(n(43054));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},43054:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n={top:"top",left:"left",right:"right",bottom:"bottom"};t.default=n},6517:function(e,t,n){"use strict";t.__esModule=!0;var r={Axis:!0,AxisLeft:!0,AxisRight:!0,AxisTop:!0,AxisBottom:!0,Orientation:!0};t.Orientation=t.AxisTop=t.AxisRight=t.AxisLeft=t.AxisBottom=t.Axis=void 0;var i=f(n(99069));t.Axis=i.default;var a=f(n(48461));t.AxisLeft=a.default;var o=f(n(10178));t.AxisRight=o.default;var s=f(n(58184));t.AxisTop=s.default;var u=f(n(51035));t.AxisBottom=u.default;var c=f(n(43054));t.Orientation=c.default;var l=n(57653);function f(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||(t[e]=l[e]))}))},57653:function(e,t){"use strict";t.__esModule=!0},12823:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.x,i=e.y;return new r.Point(t?{x:n,y:i}:{x:i,y:n})};var r=n(8274)},94267:function(e,t){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}t.__esModule=!0,t.default=function(e){void 0===e&&(e=r);return"number"===typeof e?{start:e,end:e}:n({start:r,end:r},e)},t.defaultAxisRangePadding=void 0;var r=0;t.defaultAxisRangePadding=r},14438:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n,r,a=e.labelOffset,o=e.labelProps,s=e.orientation,u=e.range,c=e.tickLabelFontSize,l=e.tickLength,f=s===i.default.left||s===i.default.top?-1:1;if(s===i.default.top||s===i.default.bottom){var d=s===i.default.bottom&&"number"===typeof o.fontSize?o.fontSize:0;t=(Number(u[0])+Number(u[u.length-1]))/2,n=f*(l+a+c+d)}else t=f*((Number(u[0])+Number(u[u.length-1]))/2),n=-(l+a),r="rotate("+90*f+")";return{x:t,y:n,transform:r}};var r,i=(r=n(43054))&&r.__esModule?r:{default:r}},14765:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e;if("tickFormat"in t)return t.tickFormat();return r.toString};var r=n(10759)},11622:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var r=n.bandwidth();return"center"===t&&(r/=2),n.round()&&(r=Math.round(r)),function(e){var t=n(e);return"number"===typeof t?t+r:t}}return e}},49944:function(e,t,n){"use strict";n.r(t),n.d(t,{curveBasis:function(){return r.ZP},curveBasisClosed:function(){return i.Z},curveBasisOpen:function(){return a.Z},curveBundle:function(){return s.Z},curveCardinal:function(){return l.ZP},curveCardinalClosed:function(){return f.Z},curveCardinalOpen:function(){return d.Z},curveCatmullRom:function(){return p.Z},curveCatmullRomClosed:function(){return h.Z},curveCatmullRomOpen:function(){return v.Z},curveLinear:function(){return u.Z},curveLinearClosed:function(){return c.Z},curveMonotoneX:function(){return m.Z},curveMonotoneY:function(){return m.s},curveNatural:function(){return g.Z},curveStep:function(){return o.ZP},curveStepAfter:function(){return o.cD},curveStepBefore:function(){return o.RN}});var r=n(76314),i=n(6066),a=n(54404),o=n(19943),s=n(4493),u=n(38146),c=n(19199),l=n(21804),f=n(43328),d=n(27273),p=n(8147),h=n(6449),v=n(92314),m=n(55856),g=n(41828)},1803:function(e,t,n){"use strict";t.Z=function(e){var t=void 0===e?{}:e,n=t.resetOnStart,c=void 0!==n&&n,f=t.snapToPointer,d=void 0===f||f,p=t.onDragEnd,h=t.onDragMove,v=t.onDragStart,m=t.x,g=t.y,y=t.dx,b=t.dy,x=t.isDragging,k=t.restrict,w=void 0===k?{}:k,_=t.restrictToPath,S=(0,r.useRef)({x:m,y:g,dx:y,dy:b}),T=(0,o.default)({x:m,y:g,dx:null!=y?y:0,dy:null!=b?b:0,isDragging:!1}),C=T[0],E=T[1],O=(0,r.useState)(new i.Point({x:0,y:0})),A=O[0],I=O[1];(0,r.useEffect)((function(){S.current.x===m&&S.current.y===g&&S.current.dx===y&&S.current.dy===b||(S.current={x:m,y:g,dx:y,dy:b},E((function(e){return l({},e,{x:m,y:g,dx:null!=y?y:0,dy:null!=b?b:0})})))})),(0,r.useEffect)((function(){void 0!==x&&C.isDragging!==x&&E((function(e){return l({},e,{isDragging:x})}))}),[C.isDragging,x,E]);var R=(0,u.default)(_),N=(0,r.useCallback)((function(e){e.persist(),E((function(t){var n=t.x,r=void 0===n?0:n,o=t.y,u=void 0===o?0:o,l=t.dx,f=t.dy,p=new i.Point({x:(r||0)+l,y:(u||0)+f}),h=(0,a.localPoint)(e)||new i.Point({x:0,y:0}),v=d?h:p,m=(0,s.default)(v,R,w);return I((0,i.subtractPoints)(p,h)),{isDragging:!0,dx:c?0:t.dx,dy:c?0:t.dy,x:c?m.x:m.x-t.dx,y:c?m.y:m.y-t.dy}}),v&&function(t){v(l({},t,{event:e}))})}),[v,c,w,R,E,d]),P=(0,r.useCallback)((function(e){e.persist(),E((function(t){if(!t.isDragging)return t;var n=t.x,r=void 0===n?0:n,o=t.y,u=void 0===o?0:o,c=(0,a.localPoint)(e)||new i.Point({x:0,y:0}),f=d?c:(0,i.sumPoints)(c,A),p=(0,s.default)(f,R,w);return l({},t,{dx:p.x-r,dy:p.y-u})}),h&&function(t){t.isDragging&&h(l({},t,{event:e}))})}),[E,h,d,A,R,w]),M=(0,r.useCallback)((function(e){e.persist(),E((function(e){return l({},e,{isDragging:!1})}),p&&function(t){p(l({},t,{event:e}))})}),[p,E]);return l({},C,{dragEnd:M,dragMove:P,dragStart:N})};var r=n(72791),i=n(8274),a=n(84042),o=c(n(71175)),s=c(n(49117)),u=c(n(88432));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},50314:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){return Math.min(Math.max(e,t),n)}},17589:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.default=function(e,t){for(var r,i=e,a=1/0,o=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=o()).done;){var s=r.value,u=Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2));u<a&&(a=u,i={x:s.x,y:s.y})}return i}},49117:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var a,o,s,u;void 0===n&&(n={});if(t.length>0)return(0,i.default)(e,t);return{x:(0,r.default)(e.x,null!=(a=n.xMin)?a:-1/0,null!=(o=n.xMax)?o:1/0),y:(0,r.default)(e.y,null!=(s=n.yMin)?s:-1/0,null!=(u=n.yMax)?u:1/0)}};var r=a(n(50314)),i=a(n(17589));function a(e){return e&&e.__esModule?e:{default:e}}},88432:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.useMemo)((function(){if(!e)return[];var t=e.getCTM()||new DOMMatrix;return function(e,t,n){void 0===n&&(n=1);if(!e)return[];for(var r=[],i=e.getTotalLength(),a=0;a<=i;a+=n){var o=e.getPointAtLength(a).matrixTransform(t);r.push(o)}return r}(e,t)}),[null==e?void 0:e.getTotalLength()])};var r=n(72791)},71175:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,r.useState)(e),n=t[0],i=t[1],a=(0,r.useRef)(null),o=(0,r.useCallback)((function(e,t){a.current=t||null,i(e)}),[i]);return(0,r.useLayoutEffect)((function(){a.current&&(a.current(n),a.current=null)}),[n]),[n,o]};var r=n(72791)},84042:function(e,t,n){"use strict";n.r(t),n.d(t,{localPoint:function(){return r.Z},touchPoint:function(){return i.Z}});var r=n(21829),i=n(4414)},21829:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4414),i=n(10451);function a(e,t){if((0,i.kK)(e)&&t)return(0,r.Z)(e,t);if((0,i.cO)(e)){var n=e,a=n.target;if(a)return(0,r.Z)(a,n)}return null}},4414:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(59409),i=n(10451);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var o={x:0,y:0};function s(e,t){if(!e||!t)return null;var n=function(e){if(!e)return a({},o);if((0,i.z6)(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:a({},o);if((0,i.N5)(e))return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:a({},o)}(t),s=(0,i.vZ)(e)?e.ownerSVGElement:e,u=(0,i.DY)(s)?s.getScreenCTM():null;if((0,i.r4)(s)&&u){var c=s.createSVGPoint();return c.x=n.x,c.y=n.y,c=c.matrixTransform(u.inverse()),new r.Z({x:c.x,y:c.y})}var l=e.getBoundingClientRect();return new r.Z({x:n.x-l.left-e.clientLeft,y:n.y-l.top-e.clientTop})}},10451:function(e,t,n){"use strict";function r(e){return!!e&&e instanceof Element}function i(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function a(e){return!!e&&"createSVGPoint"in e}function o(e){return!!e&&"getScreenCTM"in e}function s(e){return!!e&&"changedTouches"in e}function u(e){return!!e&&"clientX"in e}function c(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}n.d(t,{DY:function(){return o},N5:function(){return u},cO:function(){return c},kK:function(){return r},r4:function(){return a},vZ:function(){return i},z6:function(){return s}})},71172:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;var r=d(n(52007)),i=d(n(72791)),a=d(n(81694)),o=d(n(89770)),s=n(4791),u=n(8274),c=n(10759),l=d(n(50655)),f=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.top,n=void 0===t?0:t,r=e.left,d=void 0===r?0:r,h=e.scale,v=e.height,m=e.stroke,g=void 0===m?"#eaf0f6":m,y=e.strokeWidth,b=void 0===y?1:y,x=e.strokeDasharray,k=e.className,w=e.numTicks,_=void 0===w?10:w,S=e.lineStyle,T=e.offset,C=e.tickValues,E=e.children,O=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),A=null!=C?C:(0,c.getTicks)(h,_),I=(null!=T?T:0)+(0,l.default)(h)/2,R=A.map((function(e,t){var n,r=(null!=(n=(0,c.coerceNumber)(h(e)))?n:0)+I;return{index:t,from:new u.Point({x:r,y:0}),to:new u.Point({x:r,y:v})}}));return i.default.createElement(s.Group,{className:(0,a.default)("visx-columns",k),top:n,left:d},E?E({lines:R}):R.map((function(e){var t=e.from,n=e.to,r=e.index;return i.default.createElement(o.default,p({key:"column-line-"+r,from:t,to:n,stroke:g,strokeWidth:b,strokeDasharray:x,style:S},O))})))}h.propTypes={tickValues:r.default.array,height:r.default.number.isRequired}},87459:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;var r=d(n(52007)),i=d(n(72791)),a=d(n(81694)),o=d(n(89770)),s=n(4791),u=n(8274),c=n(10759),l=d(n(50655)),f=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.top,n=void 0===t?0:t,r=e.left,d=void 0===r?0:r,h=e.scale,v=e.width,m=e.stroke,g=void 0===m?"#eaf0f6":m,y=e.strokeWidth,b=void 0===y?1:y,x=e.strokeDasharray,k=e.className,w=e.children,_=e.numTicks,S=void 0===_?10:_,T=e.lineStyle,C=e.offset,E=e.tickValues,O=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),A=null!=E?E:(0,c.getTicks)(h,S),I=(null!=C?C:0)+(0,l.default)(h)/2,R=A.map((function(e,t){var n,r=(null!=(n=(0,c.coerceNumber)(h(e)))?n:0)+I;return{index:t,from:new u.Point({x:0,y:r}),to:new u.Point({x:v,y:r})}}));return i.default.createElement(s.Group,{className:(0,a.default)("visx-rows",k),top:n,left:d},w?w({lines:R}):R.map((function(e){var t=e.from,n=e.to,r=e.index;return i.default.createElement(o.default,p({key:"row-line-"+r,from:t,to:n,stroke:g,strokeWidth:b,strokeDasharray:x,style:T},O))})))}h.propTypes={tickValues:r.default.array,width:r.default.number.isRequired}},50655:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return"bandwidth"in e?e.bandwidth():0}},67743:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52007),i=n.n(r),a=n(72791),o=n(81694),s=n.n(o),u=["top","left","transform","className","children","innerRef"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.top,n=void 0===t?0:t,r=e.left,i=void 0===r?0:r,o=e.transform,l=e.className,f=e.children,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u);return a.createElement("g",c({ref:d,className:s()("visx-group",l),transform:o||"translate("+i+", "+n+")"},p),f)}l.propTypes={top:i().number,left:i().number,transform:i().string,className:i().string,children:i().node,innerRef:i().oneOfType([i().string,i().func,i().object])}},4791:function(e,t,n){"use strict";n.r(t),n.d(t,{Group:function(){return r.Z}});var r=n(67743)},2086:function(e,t,n){"use strict";t.Z=c;var r=s(n(52007)),i=s(n(72791)),a=s(n(81694)),o=["top","left","transform","className","children","innerRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.top,n=void 0===t?0:t,r=e.left,s=void 0===r?0:r,c=e.transform,l=e.className,f=e.children,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return i.default.createElement("g",u({ref:d,className:(0,a.default)("visx-group",l),transform:c||"translate("+s+", "+n+")"},p),f)}c.propTypes={top:r.default.number,left:r.default.number,transform:r.default.string,className:r.default.string,children:r.default.node,innerRef:r.default.oneOfType([r.default.string,r.default.func,r.default.object])}},59409:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r;this.x=0,this.y=0,this.x=n,this.y=i}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}()},8274:function(e,t,n){"use strict";n.r(t),n.d(t,{Point:function(){return r.Z},subtractPoints:function(){return a},sumPoints:function(){return i}});var r=n(59409);function i(e,t){return new r.Z({x:e.x+t.x,y:e.y+t.y})}function a(e,t){return new r.Z({x:e.x-t.x,y:e.y-t.y})}},89448:function(e,t,n){"use strict";t.Z=function(e){var t=e.animationTrajectory,n=e.tickComponent,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),u=(0,r.useMemo)((function(){return function(e){return r.default.createElement(a.default,c({},e,{tickComponent:n,animationTrajectory:t}))}}),[t,n]);return r.default.createElement(i.default,c({},s,{ticksComponent:u}))};u(n(52007));var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=u(n(99069)),a=u(n(73973)),o=["animationTrajectory","tickComponent"];function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}},73973:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hideTicks,n=e.horizontal,c=e.orientation,f=e.scale,d=e.tickClassName,p=e.tickComponent,h=e.tickLabelProps,v=e.tickStroke,m=void 0===v?"#222":v,g=e.tickTransform,y=e.ticks,b=e.tickLineProps,x=e.animationTrajectory,k=(0,i.useTransition)(y,l({},(0,u.default)({scale:f,animateXOrY:n?"x":"y",animationTrajectory:x}),{keys:function(e){return"tick-"+e.value+"-"+e.index}}));return r.default.createElement(r.default.Fragment,null,k((function(e,n,u,f){var v,y,x=e.fromX,k=e.toX,w=e.fromY,_=e.toY,S=e.opacity,T=u.key,C=null!=(v=null!=(y=h[f])?y:h[0])?v:{};return null==n||null==T?null:r.default.createElement(i.animated.g,{key:T,className:(0,a.default)("visx-axis-tick",d),transform:g},!t&&r.default.createElement(i.animated.line,l({x1:x,x2:k,y1:w,y2:_,stroke:m,strokeLinecap:"square",strokeOpacity:S},b)),r.default.createElement(i.animated.g,{key:f,transform:(0,i.to)([k,_],(function(e,t){var n;return"translate("+e+","+(t+(c===o.default.bottom&&"number"===typeof C.fontSize?null!=(n=C.fontSize)?n:10:0))+")"})),opacity:S},p?p(l({},C,{x:k,y:_,formattedValue:null==n?void 0:n.formattedValue})):r.default.createElement(s.Text,C,null==n?void 0:n.formattedValue)))})))};var r=c(n(72791)),i=n(64103),a=c(n(81694)),o=c(n(43054)),s=n(12755),u=c(n(86744));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},80489:function(e,t,n){"use strict";t.Z=function(e){var t=e.scale,n=e.height,s=e.numTicks,c=e.tickValues,l=(e.offset,e.className),f=e.animationTrajectory,d=e.top,p=e.left,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.default.createElement(i.default,{scale:t,height:n,numTicks:s,tickValues:c,className:l,top:d,left:p},(function(e){var n=e.lines;return r.default.createElement(a.default,u({scale:t,lines:n,animationTrajectory:f,animateXOrY:"x",lineKey:function(e){var t,n;return"column-"+(null!=(t=null==e||null==(n=e.from)?void 0:n.x)?t:"")+"-"+e.index}},h))}))};var r=s(n(72791)),i=s(n(71172)),a=s(n(18255)),o=["scale","height","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},18255:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;var r=u(n(52007)),i=u(n(72791)),a=n(64103),o=u(n(86744)),s=["scale","lines","animationTrajectory","animateXOrY","lineKey","lineStyle"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.scale,n=e.lines,r=e.animationTrajectory,u=e.animateXOrY,l=e.lineKey,f=e.lineStyle,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),p=(0,a.useTransition)(n,c({},(0,o.default)({scale:t,animateXOrY:u,animationTrajectory:r}),{key:l}));return i.default.createElement(i.default.Fragment,null,p((function(e,t,n){var r=e.fromX,o=e.toX,s=e.fromY,u=e.toY,l=e.opacity,p=n.key;return i.default.createElement(a.animated.line,c({key:p,x1:r,x2:o,y1:s,y2:u,strokeOpacity:l,style:f},d))})))}l.propTypes={lineKey:r.default.func.isRequired}},23245:function(e,t,n){"use strict";t.Z=function(e){var t=e.scale,n=e.width,s=e.numTicks,c=e.tickValues,l=(e.offset,e.className),f=e.animationTrajectory,d=e.top,p=e.left,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.default.createElement(i.default,{scale:t,width:n,numTicks:s,tickValues:c,className:l,top:d,left:p},(function(e){var n=e.lines;return r.default.createElement(a.default,u({scale:t,lines:n,animationTrajectory:f,animateXOrY:"y",lineKey:function(e){var t,n;return"row-"+(null!=(t=null==e||null==(n=e.from)?void 0:n.y)?t:"")+"-"+e.index}},h))}))};var r=s(n(72791)),i=s(n(87459)),a=s(n(18255)),o=["scale","width","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},86744:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.scale,n=e.animateXOrY,s=e.animationTrajectory,u=void 0===s?"outside":s,c="x"===n;return(0,r.useMemo)((function(){var e=t.range().map(i.coerceNumber),n=e[0],r=e[1],s=null!=r&&null!=n&&r<n?[r,n]:[n,r],l=s[0],f=s[1],d=null!=r&&null!=n?Math.abs(r-n):0,p=(null!=l?l:0)+d/2,h=u;c||"min"!==u||(h="max"),c||"max"!==u||(h="min");var v=function(e){var t=e.from,n=e.to;return{fromX:c?a(h,t.x,l,f,p):t.x,toX:c?a(h,t.x,l,f,p):n.x,fromY:c?t.y:a(h,t.y,l,f,p),toY:c?n.y:a(h,t.y,l,f,p),opacity:0}};return{from:v,leave:v,enter:o,update:o}}),[t,c,u])};var r=n(72791),i=n(10759);function a(e,t,n,r,i){var a;switch(e){case"center":return i;case"min":return null!=n?n:0;case"max":return null!=r?r:0;default:return null!=(a=(null!=t?t:0)<i?n:r)?a:0}}function o(e){var t=e.from,n=e.to;return{fromX:t.x,toX:n.x,fromY:t.y,toY:n.y,opacity:1}}},87700:function(e,t,n){"use strict";t.Z=d;var r=c(n(52007)),i=c(n(48573)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),o=n(53575),s=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall"];function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var f=[];function d(e){var t=e.className,n=e.children,r=e.debounceTime,u=void 0===r?300:r,c=e.ignoreDimensions,d=void 0===c?f:c,p=e.parentSizeStyles,h=void 0===p?{width:"100%",height:"100%"}:p,v=e.enableDebounceLeadingCall,m=void 0===v||v,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),y=(0,a.useRef)(null),b=(0,a.useRef)(0),x=(0,a.useState)({width:0,height:0,top:0,left:0}),k=x[0],w=x[1],_=(0,a.useMemo)((function(){var e=Array.isArray(d)?d:[d];return(0,i.default)((function(t){w((function(n){return Object.keys(n).filter((function(e){return n[e]!==t[e]})).every((function(t){return e.includes(t)}))?n:t}))}),u,{leading:m})}),[u,m,d]);return(0,a.useEffect)((function(){var e=new o.ResizeObserver((function(e){void 0===e&&(e=[]),e.forEach((function(e){var t=e.contentRect,n=t.left,r=t.top,i=t.width,a=t.height;b.current=window.requestAnimationFrame((function(){_({width:i,height:a,top:r,left:n})}))}))}));return y.current&&e.observe(y.current),function(){window.cancelAnimationFrame(b.current),e.disconnect(),null!=_&&_.cancel&&_.cancel()}}),[_]),a.default.createElement("div",l({style:h,ref:y,className:t},g),n(l({},k,{ref:y.current,resize:_})))}d.propTypes={className:r.default.string,debounceTime:r.default.number,enableDebounceLeadingCall:r.default.bool,ignoreDimensions:r.default.oneOfType([r.default.any,r.default.arrayOf(r.default.any)]),children:r.default.func.isRequired}},31434:function(e,t,n){"use strict";var r=n(76620),i=n(24806),a=n(73728),o=n(41773),s=n(90190),u=n(86572),c=n(3247),l=n(68656),f=n(70517),d=n(68544),p=n(41755),h=n(85788),v=n(52800);t.Z=function(e){if("undefined"!==typeof e&&"type"in e)switch(e.type){case"linear":return(0,r.Z)(e);case"log":return(0,i.Z)(e);case"pow":return(0,a.Z)(e);case"sqrt":return(0,o.Z)(e);case"symlog":return(0,s.Z)(e);case"time":return(0,u.Z)(e);case"utc":return(0,c.Z)(e);case"quantile":return(0,l.Z)(e);case"quantize":return(0,f.Z)(e);case"threshold":return(0,d.Z)(e);case"ordinal":return(0,p.Z)(e);case"point":return(0,h.Z)(e);case"band":return(0,v.Z)(e)}return(0,r.Z)(e)}},10759:function(e,t,n){"use strict";n.r(t),n.d(t,{coerceNumber:function(){return T.Z},createScale:function(){return x.Z},getTicks:function(){return C.Z},inferScaleType:function(){return S},scaleBand:function(){return r.Z},scaleCanBeZeroed:function(){return O.Z},scaleLinear:function(){return a.Z},scaleLog:function(){return d.Z},scaleOrdinal:function(){return h.Z},scalePoint:function(){return i.Z},scalePower:function(){return p.Z},scaleQuantile:function(){return m.Z},scaleQuantize:function(){return v.Z},scaleRadial:function(){return c},scaleSqrt:function(){return b.Z},scaleSymlog:function(){return g.Z},scaleThreshold:function(){return y.Z},scaleTime:function(){return l.Z},scaleUtc:function(){return f.Z},toString:function(){return E.Z},updateScale:function(){return w}});var r=n(52800),i=n(85788),a=n(76620),o=n(78179),s=n(18989),u=(0,s.Z)("domain","range","clamp","nice","round","unknown");function c(e){return u((0,o.Z)(),e)}var l=n(86572),f=n(3247),d=n(24806),p=n(73728),h=n(41755),v=n(70517),m=n(68656),g=n(90190),y=n(68544),b=n(41773),x=n(31434),k=s.Z.apply(void 0,s.a);var w=function(e,t){return k(e.copy(),t)},_=n(59228);function S(e){return"paddingInner"in e?"band":"padding"in e?"point":"quantiles"in e?"quantile":"base"in e?"log":"exponent"in e?.5===e.exponent()?"sqrt":"pow":"constant"in e?"symlog":"clamp"in e?e.ticks()[0]instanceof Date?(0,_.Z)(e)?"utc":"time":"linear":"nice"in e?"quantize":"invertExtent"in e?"threshold":"ordinal"}var T=n(64644),C=n(32737),E=n(38066),O=n(59632)},18989:function(e,t,n){"use strict";n.d(t,{a:function(){return C},Z:function(){return O}});var r=n(26074),i=n(10035),a=n(12061),o=n(92716),s=n(86211),u={lab:r.Z,hcl:i.Z,"hcl-long":i.b,hsl:a.Z,"hsl-long":a.q,cubehelix:o.Z,"cubehelix-long":o.B,rgb:s.ZP};var c=n(24527),l=n(37568),f=n(40020),d=n(44870),p=n(4495),h=n(6817),v=n(36243),m=n(7171),g=n(63854),y=n(632),b=n(86570),x=n(80438),k=n(13608),w=n(59228),_={day:c.Z,hour:l.Z,minute:f.Z,month:d.Z,second:p.Z,week:h.OM,year:v.Z},S={day:m.Z,hour:g.Z,minute:y.Z,month:b.Z,second:p.Z,week:x.Ox,year:k.Z};var T=n(66058);var C=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],E={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&"undefined"!==typeof t.nice&&"nice"in e){var n=t.nice;if("boolean"===typeof n)n&&e.nice();else if("number"===typeof n)e.nice(n);else{var r=e,i=(0,w.Z)(r);if("string"===typeof n)r.nice(i?S[n]:_[n]);else{var a=n.interval,o=n.step,s=(i?S[a]:_[a]).every(o);null!=s&&r.nice(s)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],i=n[1],a=i<r,o=a?[i,r]:[r,i],s=o[0],u=o[1],c=[Math.min(0,s),Math.max(0,u)];e.domain(a?c.reverse():c)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&"undefined"!==typeof t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return u[e]}var t=e.type,n=e.gamma,r=u[t];return"undefined"===typeof n?r:r.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&"undefined"!==typeof t.round&&(t.round&&"interpolate"in t&&"undefined"!==typeof t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(T.Z))},align:function(e,t){"align"in e&&"align"in t&&"undefined"!==typeof t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&"undefined"!==typeof t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&"undefined"!==typeof t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&"undefined"!==typeof t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&"undefined"!==typeof t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&"undefined"!==typeof t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&"undefined"!==typeof t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&"undefined"!==typeof t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&"undefined"!==typeof t.unknown&&e.unknown(t.unknown)}};function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=C.filter((function(e){return r.has(e)}));return function(e,t){return"undefined"!==typeof t&&i.forEach((function(n){E[n](e,t)})),e}}},52800:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87570),i=(0,n(18989).Z)("domain","range","reverse","align","padding","round");function a(e){return i((0,r.Z)(),e)}},76620:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(89737),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(e){return i((0,r.Z)(),e)}},24806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(47659),i=(0,n(18989).Z)("domain","range","reverse","base","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},41755:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(51354),i=(0,n(18989).Z)("domain","range","reverse","unknown");function a(e){return i((0,r.Z)(),e)}},85788:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87570),i=(0,n(18989).Z)("domain","range","reverse","align","padding","round");function a(e){return i((0,r.x)(),e)}},73728:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(23147),i=(0,n(18989).Z)("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function a(e){return i((0,r.ZP)(),e)}},68656:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(63688),i=(0,n(18989).Z)("domain","range","reverse");function a(e){return i((0,r.Z)(),e)}},70517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1267),i=(0,n(18989).Z)("domain","range","reverse","nice","zero");function a(e){return i((0,r.Z)(),e)}},41773:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(23147),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(e){return i((0,r._b)(),e)}},90190:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4310),i=(0,n(18989).Z)("domain","range","reverse","clamp","constant","nice","zero","round");function a(e){return i((0,r.Z)(),e)}},68544:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(77419),i=(0,n(18989).Z)("domain","range","reverse");function a(e){return i((0,r.Z)(),e)}},86572:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(96722),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},3247:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(17322),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},64644:function(e,t,n){"use strict";function r(e){if(("function"===typeof e||"object"===typeof e&&e)&&"valueOf"in e){var t=e.valueOf();if("number"===typeof t)return t}return e}n.d(t,{Z:function(){return r}})},32737:function(e,t,n){"use strict";function r(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter((function(e,n,r){return null==t||r.length<=t||n%Math.round((r.length-1)/t)===0}))}n.d(t,{Z:function(){return r}})},59228:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=new Date(Date.UTC(2020,1,2,3,4,5)),i="%Y-%m-%d %H:%M";function a(e){return"2020-02-02 03:04"===e.tickFormat(1,i)(r)}},59632:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=new Set(["linear","pow","quantize","sqrt","symlog"]);function i(e){return r.has(e.type)}},38066:function(e,t,n){"use strict";function r(e){return null==e?void 0:e.toString()}n.d(t,{Z:function(){return r}})},31267:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"align"in e&&"align"in t&&"undefined"!==typeof t.align&&e.align(t.align)}},28181:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"base"in e&&"base"in t&&"undefined"!==typeof t.base&&e.base(t.base)}},99616:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"clamp"in e&&"clamp"in t&&"undefined"!==typeof t.clamp&&e.clamp(t.clamp)}},28065:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"constant"in e&&"constant"in t&&"undefined"!==typeof t.constant&&e.constant(t.constant)}},69750:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){t.domain&&e.domain(t.domain)}},39168:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"exponent"in e&&"exponent"in t&&"undefined"!==typeof t.exponent&&e.exponent(t.exponent)}},35809:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if("interpolate"in t&&"interpolate"in e&&"undefined"!==typeof t.interpolate){var n=(0,i.default)(t.interpolate);e.interpolate(n)}};var r,i=(r=n(79914))&&r.__esModule?r:{default:r}},9941:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if("nice"in t&&"undefined"!==typeof t.nice&&"nice"in e){var n=t.nice;if("boolean"===typeof n)n&&e.nice();else if("number"===typeof n)e.nice(n);else{var r=e,i=(0,a.default)(r);if("string"===typeof n)r.nice(i?s[n]:o[n]);else{var u=n.interval,c=n.step,l=(i?s[u]:o[u]).every(c);null!=l&&r.nice(l)}}}};var r,i=n(14957),a=(r=n(96135))&&r.__esModule?r:{default:r};var o={day:i.timeDay,hour:i.timeHour,minute:i.timeMinute,month:i.timeMonth,second:i.timeSecond,week:i.timeWeek,year:i.timeYear},s={day:i.utcDay,hour:i.utcHour,minute:i.utcMinute,month:i.utcMonth,second:i.utcSecond,week:i.utcWeek,year:i.utcYear}},77558:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"padding"in e&&"padding"in t&&"undefined"!==typeof t.padding&&e.padding(t.padding);"paddingInner"in e&&"paddingInner"in t&&"undefined"!==typeof t.paddingInner&&e.paddingInner(t.paddingInner);"paddingOuter"in e&&"paddingOuter"in t&&"undefined"!==typeof t.paddingOuter&&e.paddingOuter(t.paddingOuter)}},69259:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){t.range&&e.range(t.range)}},99640:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}}},87522:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){"round"in t&&"undefined"!==typeof t.round&&(t.round&&"interpolate"in t&&"undefined"!==typeof t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(r.interpolateRound))};var r=n(57670)},94890:function(e,t,n){"use strict";t.__esModule=!0,t.ALL_OPERATORS=void 0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=y.filter((function(e){return r.has(e)}));return function(e,t){return"undefined"!==typeof t&&i.forEach((function(n){b[n](e,t)})),e}};var r=g(n(69750)),i=g(n(69259)),a=g(n(31267)),o=g(n(28181)),s=g(n(99616)),u=g(n(28065)),c=g(n(39168)),l=g(n(35809)),f=g(n(9941)),d=g(n(77558)),p=g(n(99640)),h=g(n(87522)),v=g(n(26120)),m=g(n(54052));function g(e){return e&&e.__esModule?e:{default:e}}var y=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"];t.ALL_OPERATORS=y;var b={domain:r.default,nice:f.default,zero:m.default,interpolate:l.default,round:h.default,align:a.default,base:o.default,clamp:s.default,constant:u.default,exponent:c.default,padding:d.default,range:i.default,reverse:p.default,unknown:v.default}},26120:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"unknown"in e&&"unknown"in t&&"undefined"!==typeof t.unknown&&e.unknown(t.unknown)}},54052:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],i=n[1],a=i<r,o=a?[i,r]:[r,i],s=o[0],u=o[1],c=[Math.min(0,s),Math.max(0,u)];e.domain(a?c.reverse():c)}}},39175:function(e,t,n){"use strict";t.ZP=function(e){return a((0,i.scaleOrdinal)(),e)};var r,i=n(44384);var a=(0,((r=n(94890))&&r.__esModule?r:{default:r}).default)("domain","range","reverse","unknown")},79914:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return i[e]}var t=e.type,n=e.gamma,r=i[t];return"undefined"===typeof n?r:r.gamma(n)};var r=n(57670),i={lab:r.interpolateLab,hcl:r.interpolateHcl,"hcl-long":r.interpolateHclLong,hsl:r.interpolateHsl,"hsl-long":r.interpolateHslLong,cubehelix:r.interpolateCubehelix,"cubehelix-long":r.interpolateCubehelixLong,rgb:r.interpolateRgb}},96135:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return"2020-02-02 03:04"===e.tickFormat(1,r)(n)};var n=new Date(Date.UTC(2020,1,2,3,4,5)),r="%Y-%m-%d %H:%M"},54471:function(e,t,n){"use strict";n.r(t),n.d(t,{Arc:function(){return c},Area:function(){return k},AreaClosed:function(){return T},AreaStack:function(){return R},Bar:function(){return M},BarGroup:function(){return Z},BarGroupHorizontal:function(){return V},BarRounded:function(){return D.Z},BarStack:function(){return ee},BarStackHorizontal:function(){return re},Circle:function(){return ct},Line:function(){return h.Z},LinePath:function(){return v.Z},LineRadial:function(){return y},LinkHorizontal:function(){return ce},LinkHorizontalCurve:function(){return we},LinkHorizontalLine:function(){return Me},LinkHorizontalStep:function(){return Ge},LinkRadial:function(){return ge},LinkRadialCurve:function(){return Ie},LinkRadialLine:function(){return Ve},LinkRadialStep:function(){return et},LinkVertical:function(){return pe},LinkVerticalCurve:function(){return Ce},LinkVerticalLine:function(){return Fe},LinkVerticalStep:function(){return Xe},Pie:function(){return p},Polygon:function(){return ot},STACK_OFFSETS:function(){return Q.nW},STACK_OFFSET_NAMES:function(){return Q.ed},STACK_ORDERS:function(){return X.un},STACK_ORDER_NAMES:function(){return X.s2},SplitLinePath:function(){return bt},Stack:function(){return O},arc:function(){return o.Nb},area:function(){return o.SO},degreesToRadians:function(){return ie},getPoint:function(){return it},getPoints:function(){return at},line:function(){return o.jv},pathHorizontalCurve:function(){return ke},pathHorizontalDiagonal:function(){return ue},pathHorizontalLine:function(){return Pe},pathHorizontalStep:function(){return He},pathRadialCurve:function(){return Ae},pathRadialDiagonal:function(){return me},pathRadialLine:function(){return Ue},pathRadialStep:function(){return $e},pathVerticalCurve:function(){return Te},pathVerticalDiagonal:function(){return de},pathVerticalLine:function(){return Le},pathVerticalStep:function(){return Ye},pie:function(){return o.ve},radialLine:function(){return o.aJ},stack:function(){return o.kn},stackOffset:function(){return Q.ZP},stackOrder:function(){return X.ZP}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67716),s=["className","data","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","children","innerRef"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.className,n=e.data,i=e.innerRadius,c=e.outerRadius,l=e.cornerRadius,f=e.startAngle,d=e.endAngle,p=e.padAngle,h=e.padRadius,v=e.children,m=e.innerRef,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),y=(0,o.Nb)({innerRadius:i,outerRadius:c,cornerRadius:l,startAngle:f,endAngle:d,padAngle:p,padRadius:h});return v?r.createElement(r.Fragment,null,v({path:y})):n||null!=f&&null!=d&&null!=i&&null!=c?r.createElement("path",u({ref:m,className:a()("visx-arc",t),d:y(n)||""},g)):(console.warn("[@visx/shape/Arc]: expected data because one of startAngle, endAngle, innerRadius, outerRadius is undefined. Bailing."),null)}var l=n(67743),f=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t=e.className,n=e.top,i=e.left,s=e.data,u=void 0===s?[]:s,c=e.centroid,p=e.innerRadius,h=void 0===p?0:p,v=e.outerRadius,m=e.cornerRadius,g=e.startAngle,y=e.endAngle,b=e.padAngle,x=e.padRadius,k=e.pieSort,w=e.pieSortValues,_=e.pieValue,S=e.children,T=e.fill,C=void 0===T?"":T,E=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),O=(0,o.Nb)({innerRadius:h,outerRadius:v,cornerRadius:m,padRadius:x}),A=(0,o.ve)({startAngle:g,endAngle:y,padAngle:b,value:_,sort:k,sortValues:w}),I=A(u);return S?r.createElement(r.Fragment,null,S({arcs:I,path:O,pie:A})):r.createElement(l.Z,{className:"visx-pie-arcs-group",top:n,left:i},I.map((function(e,n){return r.createElement("g",{key:"pie-arc-"+n},r.createElement("path",d({className:a()("visx-pie-arc",t),d:O(e)||"",fill:null==C||"string"===typeof C?C:C(e)},E)),null==c?void 0:c(O.centroid(e),e))})))}var h=n(69776),v=n(86407),m=["className","angle","radius","defined","curve","data","innerRef","children","fill"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e){var t=e.className,n=e.angle,i=e.radius,s=e.defined,u=e.curve,c=e.data,l=void 0===c?[]:c,f=e.innerRef,d=e.children,p=e.fill,h=void 0===p?"transparent":p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,m),y=(0,o.aJ)({angle:n,radius:i,defined:s,curve:u});return d?r.createElement(r.Fragment,null,d({path:y})):r.createElement("path",g({ref:f,className:a()("visx-line-radial",t),d:y(l)||"",fill:h},v))}var b=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function k(e){var t=e.children,n=e.x,i=e.x0,s=e.x1,u=e.y,c=e.y0,l=e.y1,f=e.data,d=void 0===f?[]:f,p=e.defined,h=void 0===p?function(){return!0}:p,v=e.className,m=e.curve,g=e.innerRef,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,b),k=(0,o.SO)({x:n,x0:i,x1:s,y:u,y0:c,y1:l,defined:h,curve:m});return t?r.createElement(r.Fragment,null,t({path:k})):r.createElement("path",x({ref:g,className:a()("visx-area",v),d:k(d)||""},y))}var w=n(73819),_=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function T(e){var t=e.x,n=e.x0,i=e.x1,s=e.y,u=e.y1,c=e.y0,l=e.yScale,f=e.data,d=void 0===f?[]:f,p=e.defined,h=void 0===p?function(){return!0}:p,v=e.className,m=e.curve,g=e.innerRef,y=e.children,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_),x=(0,o.SO)({x:t,x0:n,x1:i,defined:h,curve:m});return null==c?x.y0(l.range()[0]):(0,w.Z)(x.y0,c),s&&!u&&(0,w.Z)(x.y1,s),u&&!s&&(0,w.Z)(x.y1,u),y?r.createElement(r.Fragment,null,y({path:x})):r.createElement("path",S({ref:g,className:a()("visx-area-closed",v),d:x(d)||""},b))}var C=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function O(e){var t=e.className,n=e.top,i=e.left,s=e.keys,u=e.data,c=e.curve,f=e.defined,d=e.x,p=e.x0,h=e.x1,v=e.y0,m=e.y1,g=e.value,y=e.order,b=e.offset,x=e.color,k=e.children,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,C),_=(0,o.kn)({keys:s,value:g,order:y,offset:b}),S=(0,o.SO)({x:d,x0:p,x1:h,y0:v,y1:m,curve:c,defined:f}),T=_(u);return k?r.createElement(r.Fragment,null,k({stacks:T,path:S,stack:_})):r.createElement(l.Z,{top:n,left:i},T.map((function(e,n){return r.createElement("path",E({className:a()("visx-stack",t),key:"stack-"+n+"-"+(e.key||""),d:S(e)||"",fill:null==x?void 0:x(e.key,n)},w))})))}var A=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function R(e){var t=e.className,n=e.top,i=e.left,o=e.keys,s=e.data,u=e.curve,c=e.defined,l=e.x,f=e.x0,d=e.x1,p=e.y0,h=e.y1,v=e.value,m=e.order,g=e.offset,y=e.color,b=e.children,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,A);return r.createElement(O,I({className:t,top:n,left:i,keys:o,data:s,curve:u,defined:c,x:l,x0:f,x1:d,y0:p,y1:h,value:v,order:m,offset:g,color:y},x),b||function(e){var n=e.stacks,i=e.path;return n.map((function(e,n){return r.createElement("path",I({className:a()("visx-area-stack",t),key:"area-stack-"+n+"-"+(e.key||""),d:i(e)||"",fill:null==y?void 0:y(e.key,n)},x))}))})}var N=["className","innerRef"];function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function M(e){var t=e.className,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,N);return r.createElement("rect",P({ref:n,className:a()("visx-bar",t)},i))}var D=n(80207);function j(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}var L=["data","className","top","left","x0","x0Scale","x1Scale","yScale","color","keys","height","children"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}function Z(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x0,u=e.x0Scale,c=e.x1Scale,f=e.yScale,d=e.color,p=e.keys,h=e.height,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,L),g=j(c),y=t.map((function(e,t){return{index:t,x0:u(s(e)),bars:p.map((function(t,n){var r=e[t];return{index:n,key:t,value:r,width:g,x:c(t)||0,y:f(r)||0,color:d(t,n),height:h-(f(r)||0)}}))}}));return v?r.createElement(r.Fragment,null,v(y)):r.createElement(l.Z,{className:a()("visx-bar-group",n),top:i,left:o},y.map((function(e){return r.createElement(l.Z,{key:"bar-group-"+e.index+"-"+e.x0,left:e.x0},e.bars.map((function(t){return r.createElement(M,F({key:"bar-group-bar-"+e.index+"-"+t.index+"-"+t.value+"-"+t.key,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color},m))})))})))}var B=["data","className","top","left","x","y0","y0Scale","y1Scale","xScale","color","keys","width","children"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function V(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x,u=void 0===s?function(){return 0}:s,c=e.y0,f=e.y0Scale,d=e.y1Scale,p=e.xScale,h=e.color,v=e.keys,m=(e.width,e.children),g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,B),y=j(d),b=t.map((function(e,t){return{index:t,y0:f(c(e))||0,bars:v.map((function(t,n){var r=e[t];return{index:n,key:t,value:r,height:y,x:u(r)||0,y:d(t)||0,color:h(t,n),width:p(r)||0}}))}}));return m?r.createElement(r.Fragment,null,m(b)):r.createElement(l.Z,{className:a()("visx-bar-group-horizontal",n),top:i,left:o},b.map((function(e){return r.createElement(l.Z,{key:"bar-group-"+e.index+"-"+e.y0,top:e.y0},e.bars.map((function(t){return r.createElement(M,U({key:"bar-group-bar-"+e.index+"-"+t.index+"-"+t.value+"-"+t.key,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color},g))})))})))}var z=n(3650);function W(e){return"number"===typeof(null==e?void 0:e.x)?null==e?void 0:e.x:0}function H(e){return"number"===typeof(null==e?void 0:e.y)?null==e?void 0:e.y:0}function G(e){return null==e?void 0:e.source}function q(e){return null==e?void 0:e.target}function K(e){return null==e?void 0:e[0]}function Y(e){return null==e?void 0:e[1]}var X=n(65205),Q=n(94626),J=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function ee(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x,u=e.y0,c=void 0===u?K:u,f=e.y1,d=void 0===f?Y:f,p=e.xScale,h=e.yScale,v=e.color,m=e.keys,g=e.value,y=e.order,b=e.offset,x=e.children,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,J),_=(0,z.Z)();m&&_.keys(m),g&&(0,w.Z)(_.value,g),y&&_.order((0,X.ZP)(y)),b&&_.offset((0,Q.ZP)(b));var S=_(t),T=j(p),C=S.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(h(c(t))||0)-(h(d(t))||0),a=h(d(t)),o="bandwidth"in p?p(s(t.data)):Math.max((p(s(t.data))||0)-T/2);return{bar:t,key:n,index:r,height:i,width:T,x:o||0,y:a||0,color:v(e.key,r)}}))}}));return x?r.createElement(r.Fragment,null,x(C)):r.createElement(l.Z,{className:a()("visx-bar-stack",n),top:i,left:o},C.map((function(e){return e.bars.map((function(t){return r.createElement(M,$({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},k))}))})))}var te=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.y,u=e.x0,c=void 0===u?K:u,f=e.x1,d=void 0===f?Y:f,p=e.xScale,h=e.yScale,v=e.color,m=e.keys,g=e.value,y=e.order,b=e.offset,x=e.children,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,te),_=(0,z.Z)();m&&_.keys(m),g&&(0,w.Z)(_.value,g),y&&_.order((0,X.ZP)(y)),b&&_.offset((0,Q.ZP)(b));var S=_(t),T=j(h),C=S.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(p(d(t))||0)-(p(c(t))||0),a=p(c(t)),o="bandwidth"in h?h(s(t.data)):Math.max((h(s(t.data))||0)-i/2);return{bar:t,key:n,index:r,height:T,width:i,x:a||0,y:o||0,color:v(e.key,r)}}))}}));return x?r.createElement(r.Fragment,null,x(C)):r.createElement(l.Z,{className:a()("visx-bar-stack-horizontal",n),top:i,left:o},C.map((function(e){return e.bars.map((function(t){return r.createElement(M,ne({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},k))}))})))}var ie=function(e){return Math.PI/180*e},ae=n(6274),oe=["className","children","data","innerRef","path","x","y","source","target"];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function ue(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=(0,ae.h5)();return a.x(r),a.y(i),a.source(t),a.target(n),a(e)}}function ce(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.x,c=void 0===u?H:u,l=e.y,f=void 0===l?W:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,oe),g=s||ue({source:p,target:v,x:c,y:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",se({ref:o,className:a()("visx-link visx-link-horizontal-diagonal",t),d:g(i)||""},m))}var le=["className","children","data","innerRef","path","x","y","source","target"];function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function de(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=(0,ae.rR)();return a.x(r),a.y(i),a.source(t),a.target(n),a(e)}}function pe(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.x,c=void 0===u?W:u,l=e.y,f=void 0===l?H:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,le),g=s||de({source:p,target:v,x:c,y:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",fe({ref:o,className:a()("visx-link visx-link-vertical-diagonal",t),d:g(i)||""},m))}var he=["className","children","data","innerRef","path","angle","radius","source","target"];function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function me(e){var t=e.source,n=e.target,r=e.angle,i=e.radius;return function(e){var a=(0,ae.M4)();return a.angle(r),a.radius(i),a.source(t),a.target(n),a(e)}}function ge(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.angle,c=void 0===u?W:u,l=e.radius,f=void 0===l?H:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,he),g=s||me({source:p,target:v,angle:c,radius:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",ve({ref:o,className:a()("visx-link visx-link-radial-diagonal",t),d:g(i)||""},m))}var ye=n(73339),be=["className","children","data","innerRef","path","percent","x","y","source","target"];function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ke(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=l-u,p=f-c,h=a*(d+p),v=a*(p-d),m=(0,ye.Z)();return m.moveTo(u,c),m.bezierCurveTo(u+h,c+v,l+v,f-h,l,f),m.toString()}}function we(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,f=void 0===l?H:l,d=e.y,p=void 0===d?W:d,h=e.source,v=void 0===h?G:h,m=e.target,g=void 0===m?q:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,be),b=s||ke({source:v,target:g,x:f,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",xe({ref:o,className:a()("visx-link visx-link-horizontal-curve",t),d:b(i)||""},y))}var _e=["className","children","data","innerRef","path","percent","x","y","source","target"];function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Te(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=l-u,p=f-c,h=a*(d+p),v=a*(p-d),m=(0,ye.Z)();return m.moveTo(u,c),m.bezierCurveTo(u+h,c+v,l+v,f-h,l,f),m.toString()}}function Ce(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,f=void 0===l?W:l,d=e.y,p=void 0===d?H:d,h=e.source,v=void 0===h?G:h,m=e.target,g=void 0===m?q:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_e),b=s||Te({source:v,target:g,x:f,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",Se({ref:o,className:a()("visx-link visx-link-vertical-curve",t),d:b(i)||""},y))}var Ee=["className","children","data","innerRef","path","percent","x","y","source","target"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function Ae(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o)-Math.PI/2,c=i(o),l=r(s)-Math.PI/2,f=i(s),d=c*Math.cos(u),p=c*Math.sin(u),h=f*Math.cos(l),v=f*Math.sin(l),m=h-d,g=v-p,y=a*(m+g),b=a*(g-m),x=(0,ye.Z)();return x.moveTo(d,p),x.bezierCurveTo(d+y,p+b,h+b,v-y,h,v),x.toString()}}function Ie(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,f=void 0===l?W:l,d=e.y,p=void 0===d?H:d,h=e.source,v=void 0===h?G:h,m=e.target,g=void 0===m?q:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ee),b=s||Ae({source:v,target:g,x:f,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",Oe({ref:o,className:a()("visx-link visx-link-radial-curve",t),d:b(i)||""},y))}var Re=["className","children","innerRef","data","path","x","y","source","target"];function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Pe(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),f=(0,ye.Z)();return f.moveTo(s,u),f.lineTo(c,l),f.toString()}}function Me(e){var t=e.className,n=e.children,i=e.innerRef,o=e.data,s=e.path,u=e.x,c=void 0===u?H:u,l=e.y,f=void 0===l?W:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Re),g=s||Pe({source:p,target:v,x:c,y:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",Ne({ref:i,className:a()("visx-link visx-link-horizontal-line",t),d:g(o)||""},m))}var De=["className","innerRef","data","path","x","y","source","target","children"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Le(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),f=(0,ye.Z)();return f.moveTo(s,u),f.lineTo(c,l),f.toString()}}function Fe(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?W:s,c=e.y,l=void 0===c?H:c,f=e.source,d=void 0===f?G:f,p=e.target,h=void 0===p?q:p,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,De),g=o||Le({source:d,target:h,x:u,y:l});return v?r.createElement(r.Fragment,null,v({path:g})):r.createElement("path",je({ref:n,className:a()("visx-link visx-link-vertical-line",t),d:g(i)||""},m))}var Ze=["className","innerRef","data","path","x","y","source","target","children"];function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function Ue(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a)-Math.PI/2,u=i(a),c=r(o)-Math.PI/2,l=i(o),f=Math.cos(s),d=Math.sin(s),p=Math.cos(c),h=Math.sin(c),v=(0,ye.Z)();return v.moveTo(u*f,u*d),v.lineTo(l*p,l*h),v.toString()}}function Ve(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?W:s,c=e.y,l=void 0===c?H:c,f=e.source,d=void 0===f?G:f,p=e.target,h=void 0===p?q:p,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ze),g=o||Ue({source:d,target:h,x:u,y:l});return v?r.createElement(r.Fragment,null,v({path:g})):r.createElement("path",Be({ref:n,className:a()("visx-link visx-link-radial-line",t),d:g(i)||""},m))}var ze=["className","innerRef","data","path","percent","x","y","source","target","children"];function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function He(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=(0,ye.Z)();return d.moveTo(u,c),d.lineTo(u+(l-u)*a,c),d.lineTo(u+(l-u)*a,f),d.lineTo(l,f),d.toString()}}function Ge(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.percent,u=void 0===s?.5:s,c=e.x,l=void 0===c?H:c,f=e.y,d=void 0===f?W:f,p=e.source,h=void 0===p?G:p,v=e.target,m=void 0===v?q:v,g=e.children,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ze),b=o||He({source:h,target:m,x:l,y:d,percent:u});return g?r.createElement(r.Fragment,null,g({path:b})):r.createElement("path",We({ref:n,className:a()("visx-link visx-link-horizontal-step",t),d:b(i)||""},y))}var qe=["className","innerRef","data","path","percent","x","y","source","target","children"];function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Ye(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=(0,ye.Z)();return d.moveTo(u,c),d.lineTo(u,c+(f-c)*a),d.lineTo(l,c+(f-c)*a),d.lineTo(l,f),d.toString()}}function Xe(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.percent,u=void 0===s?.5:s,c=e.x,l=void 0===c?W:c,f=e.y,d=void 0===f?H:f,p=e.source,h=void 0===p?G:p,v=e.target,m=void 0===v?q:v,g=e.children,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qe),b=o||Ye({source:h,target:m,x:l,y:d,percent:u});return g?r.createElement(r.Fragment,null,g({path:b})):r.createElement("path",Ke({ref:n,className:a()("visx-link visx-link-vertical-step",t),d:b(i)||""},y))}var Qe=["className","innerRef","data","path","x","y","source","target","children"];function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function $e(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),f=s-Math.PI/2,d=u,p=c-Math.PI/2,h=l,v=Math.cos(f),m=Math.sin(f),g=Math.cos(p),y=Math.sin(p);return"\n      M"+d*v+","+d*m+"\n      A"+d+","+d+",0,0,"+((Math.abs(p-f)>Math.PI?p<=f:p>f)?1:0)+","+d*g+","+d*y+"\n      L"+h*g+","+h*y+"\n    "}}function et(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?W:s,c=e.y,l=void 0===c?H:c,f=e.source,d=void 0===f?G:f,p=e.target,h=void 0===p?q:p,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Qe),g=o||$e({source:d,target:h,x:u,y:l});return v?r.createElement(r.Fragment,null,v({path:g})):r.createElement("path",Je({ref:n,className:a()("visx-link visx-link-radial-step",t),d:g(i)||""},m))}var tt=["sides","size","center","rotate","className","children","innerRef","points"];function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}var rt={x:0,y:0},it=function(e){var t=e.sides,n=void 0===t?4:t,r=e.size,i=void 0===r?25:r,a=e.center,o=void 0===a?rt:a,s=e.rotate,u=void 0===s?0:s,c=e.side,l=ie(360/n*c-u);return{x:o.x+i*Math.cos(l),y:o.y+i*Math.sin(l)}},at=function(e){var t=e.sides,n=e.size,r=e.center,i=e.rotate;return new Array(t).fill(0).map((function(e,a){return it({sides:t,size:n,center:r,rotate:i,side:a})}))};function ot(e){var t=e.sides,n=void 0===t?4:t,i=e.size,o=void 0===i?25:i,s=e.center,u=void 0===s?rt:s,c=e.rotate,l=void 0===c?0:c,f=e.className,d=e.children,p=e.innerRef,h=e.points,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tt),m=h||at({sides:n,size:o,center:u,rotate:l}).map((function(e){return[e.x,e.y]}));return d?r.createElement(r.Fragment,null,d({points:m})):r.createElement("polygon",nt({ref:p,className:a()("visx-polygon",f),points:m.join(" ")},v))}var st=["className","innerRef"];function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function ct(e){var t=e.className,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,st);return r.createElement("circle",ut({ref:n,className:a()("visx-circle",t)},i))}var lt=n(52007),ft=n.n(lt),dt="http://www.w3.org/2000/svg";var pt="__visx_splitpath_svg_path_measurement_id",ht=function(){return!0};function vt(e){var t=e.path,n=e.pointsInSegments,r=e.segmentation,i=void 0===r?"x":r,a=e.sampleRate,o=void 0===a?1:a;try{var s=function(e){var t=document.getElementById(e);if(!t){var n=document.createElementNS(dt,"svg");n.setAttribute("aria-hidden","true"),n.style.opacity="0",n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",n.style.pointerEvents="none",(t=document.createElementNS(dt,"path")).setAttribute("id",e),n.appendChild(t),document.body.appendChild(n)}return t}(pt);s.setAttribute("d",t);var u=s.getTotalLength(),c=n.length,l=n.map((function(){return[]}));if("x"===i||"y"===i)for(var f=n.map((function(e){var t;return null==(t=e.find((function(e){return"number"===typeof e[i]})))?void 0:t[i]})),d=s.getPointAtLength(0),p=s.getPointAtLength(u)[i]>d[i]?f.map((function(e){return"undefined"===typeof e?ht:function(t){return t>=e}})):f.map((function(e){return"undefined"===typeof e?ht:function(t){return t<=e}})),h=0,v=0;v<=u;v+=o){for(var m=s.getPointAtLength(v),g=m[i];h<c-1&&p[h+1](g);)h+=1;l[h].push(m)}else{var y=n.map((function(e){return e.length})),b=y.reduce((function(e,t){return e+t}),0),x=u/Math.max(1,b-1),k=y.slice(0,c-1);k.unshift(0);for(var w=2;w<c;w+=1)k[w]+=k[w-1];for(var _=0;_<c;_+=1)k[_]*=x;for(var S=0,T=0;T<=u;T+=o){for(var C=s.getPointAtLength(T);S<c-1&&T>=k[S+1];)S+=1;l[S].push(C)}}return l}catch(E){return[]}}function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}var gt=function(e){return e.x||0},yt=function(e){return e.y||0};function bt(e){var t=e.children,n=e.className,i=e.curve,a=e.defined,s=e.segmentation,u=e.sampleRate,c=e.segments,l=e.x,f=e.y,d=e.styles,p=(0,r.useMemo)((function(){var e="number"===typeof l||"undefined"===typeof l?function(){return l}:l,t="number"===typeof f||"undefined"===typeof f?function(){return f}:f;return c.map((function(n){return n.map((function(r,i){return{x:e(r,i,n),y:t(r,i,n)}}))}))}),[l,f,c]),h=(0,r.useMemo)((function(){return(0,o.jv)({x:l,y:f,defined:a,curve:i})(c.flat())||""}),[l,f,a,i,c]),m=(0,r.useMemo)((function(){return vt({path:h,segmentation:s,pointsInSegments:p,sampleRate:u})}),[h,s,p,u]);return r.createElement("g",null,m.map((function(e,i){return t?r.createElement(r.Fragment,{key:i},t({index:i,segment:e,styles:d[i]||d[i%d.length]})):r.createElement(v.Z,mt({key:i,className:n,data:e,x:gt,y:yt},d[i]||d[i%d.length]))})))}bt.propTypes={segments:ft().arrayOf(ft().array).isRequired,styles:ft().array.isRequired,children:ft().func,className:ft().string}},80207:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(81694),a=n.n(i),o=["children","className","innerRef","x","y","width","height","radius","all","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.children,n=e.className,i=e.innerRef,u=e.x,c=e.y,l=e.width,f=e.height,d=e.radius,p=e.all,h=void 0!==p&&p,v=e.top,m=void 0!==v&&v,g=e.bottom,y=void 0!==g&&g,b=e.left,x=void 0!==b&&b,k=e.right,w=void 0!==k&&k,_=e.topLeft,S=void 0!==_&&_,T=e.topRight,C=void 0!==T&&T,E=e.bottomLeft,O=void 0!==E&&E,A=e.bottomRight,I=void 0!==A&&A,R=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),N=function(e){var t=e.all,n=e.bottom,r=e.bottomLeft,i=e.bottomRight,a=e.height,o=e.left,s=e.radius,u=e.right,c=e.top,l=e.topLeft,f=e.topRight,d=e.width,p=e.x,h=e.y;f=t||c||u||f,i=t||n||u||i,r=t||n||o||r,l=t||c||o||l;var v=2*(s=Math.max(1,Math.min(s,Math.min(d,a)/2)));return("M"+(p+s)+","+h+" h"+(d-v)+"\n "+(f?"a"+s+","+s+" 0 0 1 "+s+","+s:"h"+s+"v"+s)+"\n v"+(a-v)+"\n "+(i?"a"+s+","+s+" 0 0 1 "+-s+","+s:"v"+s+"h"+-s)+"\n h"+(v-d)+"\n "+(r?"a"+s+","+s+" 0 0 1 "+-s+","+-s:"h"+-s+"v"+-s)+"\n v"+(v-a)+"\n "+(l?"a"+s+","+s+" 0 0 1 "+s+","+-s:"v"+-s+"h"+s)+"\nz").split("\n").join("")}({x:u,y:c,width:l,height:f,radius:d,all:h,top:m,bottom:y,left:x,right:w,topLeft:S,topRight:C,bottomLeft:O,bottomRight:I});return t?r.createElement(r.Fragment,null,t({path:N})):r.createElement("path",s({ref:i,className:a()("visx-bar-rounded",n),d:N},R))}},69776:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(81694),a=n.n(i),o=["from","to","fill","className","innerRef"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,i=e.to,u=void 0===i?{x:1,y:1}:i,c=e.fill,l=void 0===c?"transparent":c,f=e.className,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),h=n.x===u.x||n.y===u.y;return r.createElement("line",s({ref:d,className:a()("visx-line",f),x1:n.x,y1:n.y,x2:u.x,y2:u.y,fill:l,shapeRendering:h?"crispEdges":"auto"},p))}},86407:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67716),s=["children","data","x","y","fill","className","curve","innerRef","defined"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.children,n=e.data,i=void 0===n?[]:n,c=e.x,l=e.y,f=e.fill,d=void 0===f?"transparent":f,p=e.className,h=e.curve,v=e.innerRef,m=e.defined,g=void 0===m?function(){return!0}:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),b=(0,o.jv)({x:c,y:l,defined:g,curve:h});return t?r.createElement(r.Fragment,null,t({path:b})):r.createElement("path",u({ref:v,className:a()("visx-linepath",p),d:b(i)||"",fill:d,strokeLinecap:"round"},y))}},67716:function(e,t,n){"use strict";n.d(t,{Nb:function(){return d},SO:function(){return p},aJ:function(){return m},jv:function(){return h},kn:function(){return g},ve:function(){return v}});var r=n(21561),i=n(85520),a=n(86344),o=n(54321),s=n(19509),u=n(3650),c=n(73819),l=n(65205),f=n(94626);function d(e){var t=void 0===e?{}:e,n=t.innerRadius,i=t.outerRadius,a=t.cornerRadius,o=t.startAngle,s=t.endAngle,u=t.padAngle,l=t.padRadius,f=(0,r.Z)();return null!=n&&(0,c.Z)(f.innerRadius,n),null!=i&&(0,c.Z)(f.outerRadius,i),null!=a&&(0,c.Z)(f.cornerRadius,a),null!=o&&(0,c.Z)(f.startAngle,o),null!=s&&(0,c.Z)(f.endAngle,s),null!=u&&(0,c.Z)(f.padAngle,u),null!=l&&(0,c.Z)(f.padRadius,l),f}function p(e){var t=void 0===e?{}:e,n=t.x,r=t.x0,a=t.x1,o=t.y,s=t.y0,u=t.y1,l=t.defined,f=t.curve,d=(0,i.Z)();return n&&(0,c.Z)(d.x,n),r&&(0,c.Z)(d.x0,r),a&&(0,c.Z)(d.x1,a),o&&(0,c.Z)(d.y,o),s&&(0,c.Z)(d.y0,s),u&&(0,c.Z)(d.y1,u),l&&d.defined(l),f&&d.curve(f),d}function h(e){var t=void 0===e?{}:e,n=t.x,r=t.y,i=t.defined,o=t.curve,s=(0,a.Z)();return n&&(0,c.Z)(s.x,n),r&&(0,c.Z)(s.y,r),i&&s.defined(i),o&&s.curve(o),s}function v(e){var t=void 0===e?{}:e,n=t.startAngle,r=t.endAngle,i=t.padAngle,a=t.value,s=t.sort,u=t.sortValues,l=(0,o.Z)();return(null===s||null!=s)&&l.sort(s),(null===u||null!=u)&&l.sortValues(u),null!=a&&l.value(a),null!=i&&(0,c.Z)(l.padAngle,i),null!=n&&(0,c.Z)(l.startAngle,n),null!=r&&(0,c.Z)(l.endAngle,r),l}function m(e){var t=void 0===e?{}:e,n=t.angle,r=t.radius,i=t.defined,a=t.curve,o=(0,s.Z)();return n&&(0,c.Z)(o.angle,n),r&&(0,c.Z)(o.radius,r),i&&o.defined(i),a&&o.curve(a),o}function g(e){var t=e.keys,n=e.value,r=e.order,i=e.offset,a=(0,u.Z)();return t&&a.keys(t),n&&(0,c.Z)(a.value,n),r&&a.order((0,l.ZP)(r)),i&&a.offset((0,f.ZP)(i)),a}},73819:function(e,t,n){"use strict";function r(e,t){e(t)}n.d(t,{Z:function(){return r}})},94626:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},ed:function(){return c},nW:function(){return u}});var r=n(96720),i=n(96557),a=n(50724),o=n(16126),s=n(63852),u={expand:r.Z,diverging:i.Z,none:a.Z,silhouette:o.Z,wiggle:s.Z},c=Object.keys(u);function l(e){return e&&u[e]||u.none}},65205:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},s2:function(){return c},un:function(){return u}});var r=n(39912),i=n(92889),a=n(24362),o=n(16542),s=n(20659),u={ascending:r.Z,descending:i.Z,insideout:a.Z,none:o.Z,reverse:s.Z},c=Object.keys(u);function l(e){return e&&u[e]||u.none}},61841:function(e,t,n){"use strict";t.Z=function(e){var t=e.children,n=e.x,s=e.x0,c=e.x1,l=e.y,f=e.y0,d=e.y1,p=e.data,h=void 0===p?[]:p,v=e.defined,m=void 0===v?function(){return!0}:v,g=e.className,y=e.curve,b=e.innerRef,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),k=(0,a.area)({x:n,x0:s,x1:c,y:l,y0:f,y1:d,defined:m,curve:y});return t?r.default.createElement(r.default.Fragment,null,t({path:k})):r.default.createElement("path",u({ref:b,className:(0,i.default)("visx-area",g),d:k(h)||""},x))};var r=s(n(72791)),i=s(n(81694)),a=n(40396),o=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},89770:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,o=e.to,u=void 0===o?{x:1,y:1}:o,c=e.fill,l=void 0===c?"transparent":c,f=e.className,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),h=n.x===u.x||n.y===u.y;return r.default.createElement("line",s({ref:d,className:(0,i.default)("visx-line",f),x1:n.x,y1:n.y,x2:u.x,y2:u.y,fill:l,shapeRendering:h?"crispEdges":"auto"},p))};var r=o(n(72791)),i=o(n(81694)),a=["from","to","fill","className","innerRef"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}},6289:function(e,t,n){"use strict";t.Z=function(e){var t=e.children,n=e.data,s=void 0===n?[]:n,c=e.x,l=e.y,f=e.fill,d=void 0===f?"transparent":f,p=e.className,h=e.curve,v=e.innerRef,m=e.defined,g=void 0===m?function(){return!0}:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),b=(0,a.line)({x:c,y:l,defined:g,curve:h});return t?r.default.createElement(r.default.Fragment,null,t({path:b})):r.default.createElement("path",u({ref:v,className:(0,i.default)("visx-linepath",p),d:b(s)||"",fill:d,strokeLinecap:"round"},y))};var r=s(n(72791)),i=s(n(81694)),a=n(40396),o=["children","data","x","y","fill","className","curve","innerRef","defined"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},40396:function(e,t,n){"use strict";t.__esModule=!0,t.arc=function(e){var t=void 0===e?{}:e,n=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.startAngle,u=t.endAngle,c=t.padAngle,l=t.padRadius,f=(0,r.arc)();null!=n&&(0,i.default)(f.innerRadius,n);null!=a&&(0,i.default)(f.outerRadius,a);null!=o&&(0,i.default)(f.cornerRadius,o);null!=s&&(0,i.default)(f.startAngle,s);null!=u&&(0,i.default)(f.endAngle,u);null!=c&&(0,i.default)(f.padAngle,c);null!=l&&(0,i.default)(f.padRadius,l);return f},t.area=function(e){var t=void 0===e?{}:e,n=t.x,a=t.x0,o=t.x1,s=t.y,u=t.y0,c=t.y1,l=t.defined,f=t.curve,d=(0,r.area)();n&&(0,i.default)(d.x,n);a&&(0,i.default)(d.x0,a);o&&(0,i.default)(d.x1,o);s&&(0,i.default)(d.y,s);u&&(0,i.default)(d.y0,u);c&&(0,i.default)(d.y1,c);l&&d.defined(l);f&&d.curve(f);return d},t.line=function(e){var t=void 0===e?{}:e,n=t.x,a=t.y,o=t.defined,s=t.curve,u=(0,r.line)();n&&(0,i.default)(u.x,n);a&&(0,i.default)(u.y,a);o&&u.defined(o);s&&u.curve(s);return u},t.pie=function(e){var t=void 0===e?{}:e,n=t.startAngle,a=t.endAngle,o=t.padAngle,s=t.value,u=t.sort,c=t.sortValues,l=(0,r.pie)();(null===u||null!=u)&&l.sort(u);(null===c||null!=c)&&l.sortValues(c);null!=s&&l.value(s);null!=o&&(0,i.default)(l.padAngle,o);null!=n&&(0,i.default)(l.startAngle,n);null!=a&&(0,i.default)(l.endAngle,a);return l},t.radialLine=function(e){var t=void 0===e?{}:e,n=t.angle,a=t.radius,o=t.defined,s=t.curve,u=(0,r.radialLine)();n&&(0,i.default)(u.angle,n);a&&(0,i.default)(u.radius,a);o&&u.defined(o);s&&u.curve(s);return u},t.stack=function(e){var t=e.keys,n=e.value,s=e.order,u=e.offset,c=(0,r.stack)();t&&c.keys(t);n&&(0,i.default)(c.value,n);s&&c.order((0,a.default)(s));u&&c.offset((0,o.default)(u));return c};var r=n(29100),i=s(n(92603)),a=s(n(26510)),o=s(n(87104));function s(e){return e&&e.__esModule?e:{default:e}}},34876:function(e,t){"use strict";t.l8=function(e){return null==e?void 0:e[0]},t.xf=function(e){return null==e?void 0:e[1]}},63357:function(e,t){"use strict";t.Z=function(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}},92603:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){e(t)}},87104:function(e,t,n){"use strict";t.__esModule=!0,t.STACK_OFFSET_NAMES=t.STACK_OFFSETS=void 0,t.default=function(e){return e&&i[e]||i.none};var r=n(29100),i={expand:r.stackOffsetExpand,diverging:r.stackOffsetDiverging,none:r.stackOffsetNone,silhouette:r.stackOffsetSilhouette,wiggle:r.stackOffsetWiggle};t.STACK_OFFSETS=i;var a=Object.keys(i);t.STACK_OFFSET_NAMES=a},26510:function(e,t,n){"use strict";t.__esModule=!0,t.STACK_ORDER_NAMES=t.STACK_ORDERS=void 0,t.default=function(e){return e&&i[e]||i.none};var r=n(29100),i={ascending:r.stackOrderAscending,descending:r.stackOrderDescending,insideout:r.stackOrderInsideOut,none:r.stackOrderNone,reverse:r.stackOrderReverse};t.STACK_ORDERS=i;var a=Object.keys(i);t.STACK_ORDER_NAMES=a},15581:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(25014),a=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s={overflow:"visible"};function u(e){var t=e.dx,n=void 0===t?0:t,u=e.dy,c=void 0===u?0:u,l=e.textAnchor,f=void 0===l?"start":l,d=e.innerRef,p=e.innerTextRef,h=(e.verticalAnchor,e.angle,e.lineHeight),v=void 0===h?"1em":h,m=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a)),g=m.x,y=void 0===g?0:g,b=m.fontSize,x=(0,i.Z)(e),k=x.wordsByLines,w=x.startDy,_=x.transform;return r.createElement("svg",{ref:d,x:n,y:c,fontSize:b,style:s},k.length>0?r.createElement("text",o({ref:p,transform:_},m,{textAnchor:f}),k.map((function(e,t){return r.createElement("tspan",{key:t,x:y,dy:0===t?w:v},e.words.join(" "))}))):null)}},25014:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(72791),i=n(72296),a=n.n(i),o=n(41026),s=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function u(e){return"number"===typeof e}function c(e){return"number"===typeof e&&Number.isFinite(e)||"string"===typeof e}function l(e){var t=e.verticalAnchor,n=void 0===t?"end":t,i=e.scaleToFit,l=void 0!==i&&i,f=e.angle,d=e.width,p=e.lineHeight,h=void 0===p?"1em":p,v=e.capHeight,m=void 0===v?"0.71em":v,g=e.children,y=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),x=b.x,k=void 0===x?0:x,w=b.y,_=void 0===w?0:w,S=!c(k)||!c(_),T=(0,r.useMemo)((function(){return{wordsWithWidth:(null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:(0,o.Z)(e,y)||0}})),spaceWidth:(0,o.Z)("\xa0",y)||0}}),[g,y]),C=T.wordsWithWidth,E=T.spaceWidth,O=(0,r.useMemo)((function(){return S?[]:d||l?C.reduce((function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];if(i&&(null==d||l||(i.width||0)+r+E<d))i.words.push(n),i.width=i.width||0,i.width+=r+E;else{var a={words:[n],width:r};e.push(a)}return e}),[]):[{words:null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[S,d,l,g,C,E]),A=(0,r.useMemo)((function(){return S?"":"start"===n?a()("calc("+m+")"):"middle"===n?a()("calc("+(O.length-1)/2+" * -"+h+" + ("+m+" / 2))"):a()("calc("+(O.length-1)+" * -"+h+")")}),[S,n,m,O.length,h]),I=(0,r.useMemo)((function(){var e=[];if(S)return"";if(u(k)&&u(_)&&u(d)&&l&&O.length>0){var t=O[0].width||1,n="shrink-only"===l?Math.min(d/t,1):d/t,r=n,i=k-n*k,a=_-r*_;e.push("matrix("+n+", 0, 0, "+r+", "+i+", "+a+")")}return f&&e.push("rotate("+f+", "+k+", "+_+")"),e.length>0?e.join(" "):""}),[S,k,_,d,l,O,f]);return{wordsByLines:O,startDy:A,transform:I}}},12755:function(e,t,n){"use strict";n.r(t),n.d(t,{Text:function(){return r.Z},getStringWidth:function(){return i.Z},useText:function(){return a.Z}});var r=n(15581),i=n(41026),a=n(25014)},41026:function(e,t,n){"use strict";var r=n(49151),i=n.n(r),a="__react_svg_text_measurement_id";t.Z=i()((function(e,t){try{var n=document.getElementById(a);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(i){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}))},61848:function(e,t,n){"use strict";t.Z=function(e){var t=e.dx,n=void 0===t?0:t,o=e.dy,c=void 0===o?0:o,l=e.textAnchor,f=void 0===l?"start":l,d=e.innerRef,p=e.innerTextRef,h=(e.verticalAnchor,e.angle,e.lineHeight),v=void 0===h?"1em":h,m=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a)),g=m.x,y=void 0===g?0:g,b=m.fontSize,x=(0,i.default)(e),k=x.wordsByLines,w=x.startDy,_=x.transform;return r.default.createElement("svg",{ref:d,x:n,y:c,fontSize:b,style:u},k.length>0?r.default.createElement("text",s({ref:p,transform:_},m,{textAnchor:f}),k.map((function(e,t){return r.default.createElement("tspan",{key:t,x:y,dy:0===t?w:v},e.words.join(" "))}))):null)};var r=o(n(72791)),i=o(n(15637)),a=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u={overflow:"visible"}},15637:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.verticalAnchor,n=void 0===t?"end":t,s=e.scaleToFit,l=void 0!==s&&s,f=e.angle,d=e.width,p=e.lineHeight,h=void 0===p?"1em":p,v=e.capHeight,m=void 0===v?"0.71em":v,g=e.children,y=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),x=b.x,k=void 0===x?0:x,w=b.y,_=void 0===w?0:w,S=!c(k)||!c(_),T=(0,r.useMemo)((function(){return{wordsWithWidth:(null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:(0,a.default)(e,y)||0}})),spaceWidth:(0,a.default)("\xa0",y)||0}}),[g,y]),C=T.wordsWithWidth,E=T.spaceWidth,O=(0,r.useMemo)((function(){return S?[]:d||l?C.reduce((function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];if(i&&(null==d||l||(i.width||0)+r+E<d))i.words.push(n),i.width=i.width||0,i.width+=r+E;else{var a={words:[n],width:r};e.push(a)}return e}),[]):[{words:null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[S,d,l,g,C,E]),A=(0,r.useMemo)((function(){return S?"":"start"===n?(0,i.default)("calc("+m+")"):"middle"===n?(0,i.default)("calc("+(O.length-1)/2+" * -"+h+" + ("+m+" / 2))"):(0,i.default)("calc("+(O.length-1)+" * -"+h+")")}),[S,n,m,O.length,h]),I=(0,r.useMemo)((function(){var e=[];if(S)return"";if(u(k)&&u(_)&&u(d)&&l&&O.length>0){var t=O[0].width||1,n="shrink-only"===l?Math.min(d/t,1):d/t,r=n,i=k-n*k,a=_-r*_;e.push("matrix("+n+", 0, 0, "+r+", "+i+", "+a+")")}return f&&e.push("rotate("+f+", "+k+", "+_+")"),e.length>0?e.join(" "):""}),[S,k,_,d,l,O,f]);return{wordsByLines:O,startDy:A,transform:I}};var r=n(72791),i=s(n(72296)),a=s(n(49711)),o=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return"number"===typeof e}function c(e){return"number"===typeof e&&Number.isFinite(e)||"string"===typeof e}},49711:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(49151))&&r.__esModule?r:{default:r};var a="__react_svg_text_measurement_id";var o=(0,i.default)((function(e,t){try{var n=document.getElementById(a);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(i){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}));t.default=o},31396:function(e,t,n){"use strict";n.r(t),n.d(t,{AnimatedAnnotation:function(){return A},AnimatedAreaSeries:function(){return $r},AnimatedAreaStack:function(){return ti},AnimatedAxis:function(){return be},AnimatedBarGroup:function(){return yi},AnimatedBarSeries:function(){return hi},AnimatedBarStack:function(){return mi},AnimatedGlyphSeries:function(){return _i},AnimatedGrid:function(){return Ee},AnimatedLineSeries:function(){return Ti},Annotation:function(){return w},AnnotationCircleSubject:function(){return se},AnnotationConnector:function(){return ne},AnnotationLabel:function(){return J},AnnotationLineSubject:function(){return pe},AreaSeries:function(){return Hn},AreaStack:function(){return hr},Axis:function(){return qe},BarGroup:function(){return Cr},BarSeries:function(){return Pr},BarStack:function(){return Zr},DataContext:function(){return p},DataProvider:function(){return ln},EventEmitterContext:function(){return jt},EventEmitterProvider:function(){return Ft},GlyphSeries:function(){return Vr},Grid:function(){return Qe},LineSeries:function(){return qr},ThemeContext:function(){return tn},ThemeProvider:function(){return Ci},Tooltip:function(){return Pt},TooltipContext:function(){return _t},TooltipProvider:function(){return Ht},XYChart:function(){return An},allColors:function(){return qt},buildChartTheme:function(){return $t},darkTheme:function(){return Ei},defaultColors:function(){return Xt},grayColors:function(){return Kt},lightTheme:function(){return en},useEventEmitter:function(){return Lt}});var r=n(52007),i=n.n(r),a=n(72791),o=n(1803),s=(0,a.createContext)({});function u(e){var t=e.x,n=e.y,r=e.dx,i=e.dy,o=e.children,u=(0,a.useMemo)((function(){return{x:t,y:n,dx:r,dy:i}}),[t,n,r,i]);return a.createElement(s.Provider,{value:u},o)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}u.propTypes={children:i().node.isRequired};var l={r:10,fill:"transparent",stroke:"#777",strokeDasharray:"4,2",strokeWidth:2};function f(e){var t=e.canEditLabel,n=void 0===t||t,r=e.canEditSubject,i=void 0===r||r,s=e.children,f=e.dx,d=void 0===f?0:f,p=e.dy,h=void 0===p?0:p,v=e.height,m=e.labelDragHandleProps,g=e.onDragEnd,y=e.onDragMove,b=e.onDragStart,x=e.subjectDragHandleProps,k=e.width,w=e.x,_=void 0===w?0:w,S=e.y,T=void 0===S?0:S,C=(0,a.useRef)(),E=(0,a.useRef)(),O=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;b&&b({event:c,x:_+(null!=(t=null==(n=C.current)?void 0:n.dx)?t:0),y:T+(null!=(r=null==(i=C.current)?void 0:i.dy)?r:0),dx:d+(null!=(a=null==(o=E.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=E.current)?void 0:u.dy)?s:0)})}),[d,h,b,_,T]),A=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;y&&y({event:c,x:_+(null!=(t=null==(n=C.current)?void 0:n.dx)?t:0),y:T+(null!=(r=null==(i=C.current)?void 0:i.dy)?r:0),dx:d+(null!=(a=null==(o=E.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=E.current)?void 0:u.dy)?s:0)})}),[d,h,y,_,T]),I=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;g&&g({event:c,x:_+(null!=(t=null==(n=C.current)?void 0:n.dx)?t:0),y:T+(null!=(r=null==(i=C.current)?void 0:i.dy)?r:0),dx:d+(null!=(a=null==(o=E.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=E.current)?void 0:u.dy)?s:0)})}),[d,h,g,_,T]),R=(0,o.Z)({onDragStart:O,onDragMove:A,onDragEnd:I,x:_,y:T}),N=(0,o.Z)({onDragStart:O,onDragMove:A,onDragEnd:I,x:d,y:h});return C.current=R,E.current=N,a.createElement(a.Fragment,null,a.createElement(u,{x:_+R.dx,y:T+R.dy,dx:d+N.dx,dy:h+N.dy},s),R.isDragging&&a.createElement("rect",{width:k,height:v,onMouseMove:R.dragMove,onMouseUp:R.dragEnd,fill:"transparent"}),i&&a.createElement("circle",c({cx:_,cy:T,transform:"translate("+R.dx+","+R.dy+")",onMouseMove:R.dragMove,onMouseUp:R.dragEnd,onMouseDown:R.dragStart,onTouchStart:R.dragStart,onTouchMove:R.dragMove,onTouchEnd:R.dragEnd,cursor:R.isDragging?"grabbing":"grab"},l,x)),N.isDragging&&a.createElement("rect",{width:k,height:v,onMouseMove:N.dragMove,onMouseUp:N.dragEnd,fill:"transparent"}),n&&a.createElement("circle",c({cx:_+R.dx+d,cy:T+R.dy+h,transform:"translate("+N.dx+","+N.dy+")",onMouseMove:N.dragMove,onMouseUp:N.dragEnd,onMouseDown:N.dragStart,onTouchStart:N.dragStart,onTouchMove:N.dragMove,onTouchEnd:N.dragEnd,cursor:N.isDragging?"grabbing":"grab"},l,m)))}f.propTypes={width:i().number.isRequired,height:i().number.isRequired,children:i().node.isRequired,canEditLabel:i().bool,canEditSubject:i().bool,onDragStart:i().func,onDragMove:i().func,onDragEnd:i().func};var d=n(64644),p=a.createContext({});function h(e){var t;return e&&"bandwidth"in e&&null!=(t=null==e?void 0:e.bandwidth())?t:0}function v(e){return null!=e&&"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)}var m=["AnnotationComponent","children","datum","dataKey","xAccessor","yAccessor","dx","dy"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}var y=16;function b(e){var t,n,r=e.AnnotationComponent,i=e.children,o=e.datum,s=e.dataKey,u=e.xAccessor,c=e.yAccessor,l=e.dx,f=void 0===l?0:l,b=e.dy,x=void 0===b?0:b,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,m),w=(0,a.useContext)(p)||{},_=w.innerHeight,S=w.innerWidth,T=w.margin,C=w.xScale,E=w.yScale,O=w.dataRegistry,A=(0,a.useMemo)((function(){return C?h(C):0}),[C]),I=(0,a.useMemo)((function(){return E?h(E):0}),[E]);if((!u||!c)&&!s)return console.warn("[@visx/xychart/BaseAnnotation]: dataKey or x/yAccessors must be specified."),null;var R=u&&c||null==s?null:null==O?void 0:O.get(s),N=u||(null==R?void 0:R.xAccessor),P=c||(null==R?void 0:R.yAccessor);if(!C||!E||!S||!_||!N||!P||!T)return null;var M=(null!=(t=(0,d.Z)(C(N(o))))?t:NaN)+A/2,D=(null!=(n=(0,d.Z)(E(P(o))))?n:NaN)+I/2,j=M+f+y>T.left+S?-f:f,L=D+x+y>T.top+_?-x:x;return v(M)&&v(D)?a.createElement(r,g({width:S,height:_},k,{x:M,y:D,dx:j,dy:L}),i):null}b.propTypes={dataKey:i().string,xAccessor:i().func,yAccessor:i().func};var x=["editable"];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function w(e){var t=e.editable,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,x);return a.createElement(b,k({AnnotationComponent:t?f:u},n))}w.propTypes={editable:i().bool};var _=n(64103),S=["x","y","AnnotationComponent"],T=["editable"];function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function O(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.AnnotationComponent,s=E(e,S),u=(0,a.useRef)({x:n,y:i}),c=(0,_.useSpring)({from:{x:u.current.x-n,y:u.current.y-i},to:{x:0,y:0},reset:!0});return(0,a.useEffect)((function(){u.current={x:n,y:i}}),[n,i]),a.createElement(_.animated.g,{transform:(0,_.to)([c.x,c.y],(function(e,t){return"translate("+e+", "+t+")"}))},a.createElement(o,C({x:n,y:i},s)))}function A(e){var t=e.editable,n=E(e,T),r=(0,a.useCallback)((function(e){return a.createElement(O,C({AnnotationComponent:t?f:u},e))}),[t]);return a.createElement(b,C({AnnotationComponent:r},n))}A.propTypes={editable:i().bool};var I=n(81694),R=n.n(I),N=n(2086),P=n(61848),M=n(25014),D=n(42982),j=n(70885),L=n(43144),F=n(15671),Z=n(27494),B=n.n(Z);function U(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,i=t.polyfill,o=t.offsetSize,s=i||("undefined"===typeof window?(0,L.Z)((function e(){(0,F.Z)(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=(0,a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,j.Z)(u,2),l=c[0],f=c[1],d=(0,a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),p=n?"number"===typeof n?n:n.scroll:null,h=n?"number"===typeof n?n:n.resize:null,v=(0,a.useRef)(!1);(0,a.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));var m=(0,a.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),v.current&&!W(d.current.lastBounds,t)&&f(d.current.lastBounds=t)}};return[e,h?B()(e,h):e,p?B()(e,p):e]}),[f,o,p,h]),g=(0,j.Z)(m,3),y=g[0],b=g[1],x=g[2];function k(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",x,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new s(x),d.current.resizeObserver.observe(d.current.element),r&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",x,{capture:!0,passive:!0})})))}var _,S,T;return _=x,S=Boolean(r),(0,a.useEffect)((function(){if(S){var e=_;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[_,S]),T=b,(0,a.useEffect)((function(){var e=T;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[T]),(0,a.useEffect)((function(){k(),w()}),[r,x,b]),(0,a.useEffect)((function(){return k}),[]),[function(e){e&&e!==d.current.element&&(k(),d.current.element=e,d.current.scrollContainers=V(e),w())},l,y]}function V(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,D.Z)(V(e.parentElement)))}var z=["x","y","top","bottom","left","right","width","height"],W=function(e,t){return z.every((function(n){return e[n]===t[n]}))};function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function G(e){var t=e.anchorLineOrientation,n=e.anchorLineStroke,r=e.verticalAnchor,i=e.horizontalAnchor,o=e.width,s=e.height,u={stroke:n,strokeWidth:2};return a.createElement(a.Fragment,null,"horizontal"===t&&"start"===r&&a.createElement("line",H({},u,{x1:0,x2:o,y1:0,y2:0})),"horizontal"===t&&"end"===r&&a.createElement("line",H({},u,{x1:0,x2:o,y1:s,y2:s})),"vertical"===t&&"start"===i&&a.createElement("line",H({},u,{x1:0,x2:0,y1:0,y2:s})),"vertical"===t&&"end"===i&&a.createElement("line",H({},u,{x1:o,x2:o,y1:0,y2:s})))}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}G.propTypes={anchorLineOrientation:i().oneOf(["horizontal","vertical"]).isRequired,anchorLineStroke:i().string.isRequired,width:i().number.isRequired,height:i().number.isRequired};var K={top:12,right:12,bottom:12,left:12};function Y(e){var t,n,r,i=e.anchorLineStroke,o=void 0===i?"#222":i,u=e.backgroundFill,c=void 0===u?"#eaeaea":u,l=e.backgroundPadding,f=e.backgroundProps,d=e.className,p=e.fontColor,h=void 0===p?"#222":p,v=e.horizontalAnchor,m=e.resizeObserverPolyfill,g=e.showAnchorLine,y=void 0===g||g,b=e.showBackground,x=void 0===b||b,k=e.subtitle,w=e.subtitleDy,_=void 0===w?4:w,S=e.subtitleFontSize,T=void 0===S?12:S,C=e.subtitleFontWeight,E=void 0===C?200:C,O=e.subtitleProps,A=e.title,I=e.titleFontSize,D=void 0===I?16:I,j=e.titleFontWeight,L=void 0===j?600:j,F=e.titleProps,Z=e.verticalAnchor,B=e.width,V=e.maxWidth,z=void 0===V?125:V,W=e.x,H=e.y,Y=U({polyfill:m}),X=Y[0],Q=Y[1],J=U({polyfill:m}),$=J[0],ee=J[1],te=(0,a.useMemo)((function(){return function(e){return"undefined"===typeof e?K:"number"===typeof e?{top:e,right:e,bottom:e,left:e}:q({},K,e)}(l)}),[l]),ne=(0,a.useContext)(s),re=ne.x,ie=void 0===re?0:re,ae=ne.y,oe=void 0===ae?0:ae,se=ne.dx,ue=void 0===se?0:se,ce=ne.dy,le=void 0===ce?0:ce,fe=Math.floor(te.top+te.bottom+(null!=(t=Q.height)?t:0)+(null!=(n=ee.height)?n:0)),de=(0,M.Z)(q({children:A,verticalAnchor:"start",capHeight:D,fontSize:D,fontWeight:L,fontFamily:null==F?void 0:F.fontFamily,width:z},F)).wordsByLines,pe=(0,M.Z)(q({children:k,verticalAnchor:"start",capHeight:T,fontSize:T,fontWeight:E,fontFamily:null==O?void 0:O.fontFamily,width:z},O)).wordsByLines,he=de.reduce((function(e,t){var n;return Math.max(e,null!=(n=t.width)?n:0)}),0),ve=pe.reduce((function(e,t){var n;return Math.max(e,null!=(n=t.width)?n:0)}),0),me=Math.ceil(Math.min(z,Math.max(he,ve))),ge=te.right+te.left+me,ye=null!=B?B:ge,be=ye-te.left-te.right,xe=v||(Math.abs(ue)<Math.abs(le)?"middle":ue>0?"start":"end"),ke=Z||(Math.abs(ue)>Math.abs(le)?"middle":le>0?"start":"end"),we=(0,a.useMemo)((function(){var e=null==W?ie+ue:W,t=null==H?oe+le:H;return"middle"===xe&&(e-=ye/2),"end"===xe&&(e-=ye),"middle"===ke&&(t-=fe/2),"end"===ke&&(t-=fe),{x:e,y:t}}),[W,ie,ue,H,oe,le,xe,ke,ye,fe]),_e=null==F?void 0:F.fontFamily,Se=(0,a.useMemo)((function(){return{fontSize:D,fontWeight:L,fontFamily:_e}}),[D,L,_e]),Te=null==O?void 0:O.fontFamily,Ce=(0,a.useMemo)((function(){return{fontSize:T,fontWeight:E,fontFamily:Te}}),[T,E,Te]);return A||k?a.createElement(N.Z,{top:we.y,left:we.x,pointerEvents:"none",className:R()("visx-annotationlabel",d),opacity:0===Q.height&&0===ee.height?0:1},x&&a.createElement("rect",q({className:"visx-annotationlabel-background",fill:c,x:0,y:0,width:ye,height:fe},f)),y&&a.createElement(G,{anchorLineOrientation:Math.abs(ue)>Math.abs(le)?"vertical":"horizontal",anchorLineStroke:o,verticalAnchor:ke,horizontalAnchor:xe,width:ye,height:fe}),A&&a.createElement(P.Z,q({innerTextRef:X,fill:h,verticalAnchor:"start",x:te.left+("middle"===(null==F?void 0:F.textAnchor)?be/2:0),y:te.top,width:be,capHeight:D,style:Se},F),A),k&&a.createElement(P.Z,q({innerTextRef:$,fill:h,verticalAnchor:"start",x:te.left+("middle"===(null==O?void 0:O.textAnchor)?be/2:0),y:te.top+(null!=(r=Q.height)?r:0),dy:A?_:0,width:be,capHeight:T,style:Ce},O),k)):null}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}Y.propTypes={anchorLineStroke:i().string,backgroundFill:i().string,backgroundPadding:i().oneOfType([i().number,i().shape({top:i().number,right:i().number,bottom:i().number,left:i().number})]),className:i().string,fontColor:i().string,showAnchorLine:i().bool,showBackground:i().bool,subtitle:i().string,subtitleDy:i().number,title:i().string,width:i().number,maxWidth:i().number,x:i().number,y:i().number};var Q={fillOpacity:.7};function J(e){var t=(0,a.useContext)(p).theme,n=null==t?void 0:t.svgLabelBig,r=null==t?void 0:t.svgLabelSmall;return a.createElement(Y,X({anchorLineStroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke,backgroundFill:null==t?void 0:t.backgroundColor,backgroundProps:Q,showAnchorLine:!0,subtitleFontSize:null==r?void 0:r.fontSize,subtitleFontWeight:null==r?void 0:r.fontWeight,subtitleProps:r,titleFontSize:null==n?void 0:n.fontSize,titleFontWeight:null==n?void 0:n.fontWeight,titleProps:n},e))}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function ee(e){var t,n,r,i,o=e.className,u=e.x,c=e.y,l=e.dx,f=e.dy,d=e.type,p=void 0===d?"elbow":d,h=e.stroke,v=void 0===h?"#222":h,m=e.pathProps,g=(0,a.useContext)(s),y=null==u?null!=(t=g.x)?t:0:u,b=null==c?null!=(n=g.y)?n:0:c,x=null==l?null!=(r=g.dx)?r:0:l,k=null==f?null!=(i=g.dy)?i:0:f,w=y,_=b,S=y+x,T=b+k;"elbow"===p&&(Math.abs(x)<=Math.abs(k)?(w=S,_=b+(k>0?1:-1)*Math.abs(w-y)):(_=T,w=y+(x>0?1:-1)*Math.abs(_-b)));return a.createElement("path",$({className:R()("visx-annotation-connector",o),strokeWidth:1,stroke:v,fill:"transparent",pointerEvents:"none",d:"M"+y+","+b+("elbow"===p?"L"+w+","+_:"")+"L"+S+","+T},m))}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function ne(e){var t=(0,a.useContext)(p).theme;return a.createElement(ee,te({stroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke},e))}ee.propTypes={className:i().string,type:i().oneOf(["line","elbow"]),stroke:i().string};var re=["className","x","y","stroke","radius"];function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function ae(e){var t=e.className,n=e.x,r=e.y,i=e.stroke,o=void 0===i?"#222":i,u=e.radius,c=void 0===u?16:u,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,re),f=(0,a.useContext)(s);return a.createElement("circle",ie({className:R()("visx-annotation-subject","visx-annotation-subject-circle",t),cx:n||f.x,cy:r||f.y,r:c,fill:"transparent",pointerEvents:"none",stroke:o},l))}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function se(e){var t=(0,a.useContext)(p).theme;return a.createElement(ae,oe({stroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke},e))}ae.propTypes={className:i().string,stroke:i().string,radius:i().number};var ue=["className","x","y","orientation","min","max","stroke"];function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function le(e){var t=e.className,n=e.x,r=e.y,i=e.orientation,o=void 0===i?"vertical":i,u=e.min,c=e.max,l=e.stroke,f=void 0===l?"#222":l,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ue),p=(0,a.useContext)(s),h="vertical"===o;return a.createElement("line",ce({className:R()("visx-annotation-subject","visx-annotation-subject-line",t),x1:h?n||p.x:u,x2:h?n||p.x:c,y1:h?u:r||p.y,y2:h?c:r||p.y,fill:"transparent",pointerEvents:"none",stroke:f},d))}le.propTypes={className:i().string,stroke:i().string,strokeWidth:i().number,orientation:i().oneOf(["vertical","horizontal"]),x:i().number,y:i().number,min:i().number.isRequired,max:i().number.isRequired};var fe=["min","max"];function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function pe(e){var t,n,r,i=e.min,o=e.max,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,fe),u=(0,a.useContext)(p),c=u.theme,l=u.margin,f=u.innerHeight,d=void 0===f?0:f,h=u.innerWidth,v=void 0===h?0:h;return a.createElement(le,de({stroke:null==c?void 0:c.axisStyles.x.bottom.axisLine.stroke,min:null!=(t=null!=i?i:"horizontal"===s.orientation?null==l?void 0:l.left:null==l?void 0:l.top)?t:0,max:null!=o?o:"horizontal"===s.orientation?(null!=(n=null==l?void 0:l.left)?n:0)+v:(null!=(r=null==l?void 0:l.top)?r:0)+d},s))}pe.propTypes={min:i().number,max:i().number};var he=n(89448),ve=["AxisComponent"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function ge(e){var t,n,r,i,o,s,u,c=e.AxisComponent,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ve),f=(0,a.useContext)(p),d=f.theme,h=f.xScale,v=f.yScale,m=f.margin,g=f.width,y=f.height,b=l.orientation,x=(0,a.useMemo)((function(){var e,t,n,r;return"left"===b||"right"===b?null==d||null==(e=d.axisStyles)||null==(t=e.y)?void 0:t[b]:null==d||null==(n=d.axisStyles)||null==(r=n.x)?void 0:r[b]}),[d,b]),k=l.tickLabelProps,w=(0,a.useMemo)((function(){return k||x?function(e,t,n){return me({},null==x?void 0:x.tickLabel,{width:"left"===b||"right"===b?null==m?void 0:m[b]:void 0},null==k?void 0:k(e,t,n))}:void 0}),[k,x,b,m]),_="bottom"===b?(null!=y?y:0)-(null!=(t=null==m?void 0:m.bottom)?t:0):"top"===b&&null!=(n=null==m?void 0:m.top)?n:0,S="left"===b?null!=(r=null==m?void 0:m.left)?r:0:"right"===b?(null!=g?g:0)-(null!=(i=null==m?void 0:m.right)?i:0):0,T="left"===b||"right"===b?v:h;return T?a.createElement(c,me({top:_,left:S,labelProps:null==x?void 0:x.axisLabel,stroke:null==x||null==(o=x.axisLine)?void 0:o.stroke,strokeWidth:null==x||null==(s=x.axisLine)?void 0:s.strokeWidth,tickLength:null==x?void 0:x.tickLength,tickStroke:null==x||null==(u=x.tickLine)?void 0:u.stroke},l,{tickLabelProps:w,scale:T})):null}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function be(e){return a.createElement(ge,ye({AxisComponent:he.Z},e))}var xe=n(23245),ke=n(80489),we=["rows","columns","GridRowsComponent","GridColumnsComponent"];function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Se(e){var t=e.rows,n=void 0===t||t,r=e.columns,i=void 0===r||r,o=e.GridRowsComponent,s=e.GridColumnsComponent,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,we),c=(0,a.useContext)(p),l=c.theme,f=c.xScale,d=c.yScale,h=c.margin,v=c.innerWidth,m=c.innerHeight,g=null==l?void 0:l.gridStyles;return a.createElement(a.Fragment,null,n&&d&&null!=v&&a.createElement(o,_e({left:null==h?void 0:h.left,lineStyle:g,width:v,scale:d},u)),i&&f&&null!=m&&a.createElement(s,_e({top:null==h?void 0:h.top,lineStyle:g,height:m,scale:f},u)))}Se.propTypes={rows:i().bool,columns:i().bool};var Te=["animationTrajectory"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Ee(e){var t=e.animationTrajectory,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Te),r=(0,a.useMemo)((function(){return function(e){return a.createElement(xe.Z,Ce({},e,{animationTrajectory:t}))}}),[t]),i=(0,a.useMemo)((function(){return function(e){return a.createElement(ke.Z,Ce({},e,{animationTrajectory:t}))}}),[t]);return a.createElement(Se,Ce({GridRowsComponent:r,GridColumnsComponent:i},n))}var Oe=n(67743),Ae=n(32737),Ie=n(69776),Re=n(15581),Ne={top:"top",left:"left",right:"right",bottom:"bottom"};function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Me(e){var t=e.hideTicks,n=e.horizontal,r=e.orientation,i=e.tickClassName,o=e.tickComponent,s=e.tickLabelProps,u=e.tickStroke,c=void 0===u?"#222":u,l=e.tickTransform,f=e.ticks,d=e.strokeWidth,p=e.tickLineProps;return f.map((function(e){var u,f=e.value,h=e.index,v=e.from,m=e.to,g=e.formattedValue,y=null!=(u=s[h])?u:{},b=Math.max(10,"number"===typeof y.fontSize&&y.fontSize||0),x=m.y+(n&&r!==Ne.top?b:0);return a.createElement(Oe.Z,{key:"visx-tick-"+f+"-"+h,className:R()("visx-axis-tick",i),transform:l},!t&&a.createElement(Ie.Z,Pe({from:v,to:m,stroke:c,strokeWidth:d,strokeLinecap:"square"},p)),o?o(Pe({},y,{x:m.x,y:x,formattedValue:g})):a.createElement(Re.Z,Pe({x:m.x,y:x},y),g))}))}function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}var je={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function Le(e){var t=e.axisFromPoint,n=e.axisLineClassName,r=e.axisToPoint,i=e.hideAxisLine,o=e.hideTicks,s=e.horizontal,u=e.label,c=void 0===u?"":u,l=e.labelClassName,f=e.labelOffset,d=void 0===f?14:f,p=e.labelProps,h=void 0===p?je:p,v=e.orientation,m=void 0===v?Ne.bottom:v,g=e.scale,y=e.stroke,b=void 0===y?"#222":y,x=e.strokeDasharray,k=e.strokeWidth,w=void 0===k?1:k,_=e.tickClassName,S=e.tickComponent,T=e.tickLineProps,C=e.tickLabelProps,E=void 0===C?function(){return je}:C,O=e.tickLength,A=void 0===O?8:O,I=e.tickStroke,N=void 0===I?"#222":I,P=e.tickTransform,M=e.ticks,D=e.ticksComponent,j=void 0===D?Me:D,L=M.map((function(e){var t=e.value,n=e.index;return E(t,n,M)})),F=Math.max.apply(Math,[10].concat(L.map((function(e){return"number"===typeof e.fontSize?e.fontSize:0}))));return a.createElement(a.Fragment,null,j({hideTicks:o,horizontal:s,orientation:m,scale:g,tickClassName:_,tickComponent:S,tickLabelProps:L,tickStroke:N,tickTransform:P,ticks:M,strokeWidth:w,tickLineProps:T}),!i&&a.createElement(Ie.Z,{className:R()("visx-axis-line",n),from:t,to:r,stroke:b,strokeWidth:w,strokeDasharray:x}),c&&a.createElement(Re.Z,De({className:R()("visx-axis-label",l)},function(e){var t,n,r,i=e.labelOffset,a=e.labelProps,o=e.orientation,s=e.range,u=e.tickLabelFontSize,c=e.tickLength,l=o===Ne.left||o===Ne.top?-1:1;if(o===Ne.top||o===Ne.bottom){var f=o===Ne.bottom&&"number"===typeof a.fontSize?a.fontSize:0;t=(Number(s[0])+Number(s[s.length-1]))/2,n=l*(c+i+u+f)}else t=l*((Number(s[0])+Number(s[s.length-1]))/2),n=-(c+i),r="rotate("+90*l+")";return{x:t,y:n,transform:r}}({labelOffset:d,labelProps:h,orientation:m,range:g.range(),tickLabelFontSize:F,tickLength:A}),h),c))}var Fe=n(38066);var Ze=n(59409);function Be(e,t){var n=e.x,r=e.y;return new Ze.Z(t?{x:n,y:r}:{x:r,y:n})}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}var Ve=0;var ze=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function He(e){var t,n=e.children,r=void 0===n?Le:n,i=e.axisClassName,o=e.hideAxisLine,s=void 0!==o&&o,u=e.hideTicks,c=void 0!==u&&u,l=e.hideZero,f=void 0!==l&&l,p=e.left,h=void 0===p?0:p,v=e.numTicks,m=void 0===v?10:v,g=e.orientation,y=void 0===g?Ne.bottom:g,b=e.rangePadding,x=void 0===b?0:b,k=e.scale,w=e.tickFormat,_=e.tickLength,S=void 0===_?8:_,T=e.tickValues,C=e.top,E=void 0===C?0:C,O=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ze),A=null!=w?w:function(e){return"tickFormat"in e?e.tickFormat():Fe.Z}(k),I=y===Ne.left,N=y===Ne.top,P=N||y===Ne.bottom,M=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var r=n.bandwidth();return"center"===t&&(r/=2),n.round()&&(r=Math.round(r)),function(e){var t=n(e);return"number"===typeof t?t+r:t}}return e}(k),D=I||N?-1:1,j=k.range(),L=(void 0===(t=x)&&(t=Ve),"number"===typeof t?{start:t,end:t}:Ue({start:Ve,end:Ve},t)),F=Be({x:Number(j[0])+.5-L.start,y:0},P),Z=Be({x:Number(j[j.length-1])+.5+L.end,y:0},P),B=(null!=T?T:(0,Ae.Z)(k,m)).filter((function(e){return!f||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),U=B.map((function(e){var t=e.value,n=e.index,r=(0,d.Z)(M(t));return{value:t,index:n,from:Be({x:r,y:0},P),to:Be({x:r,y:S*D},P),formattedValue:A(t,n,B)}}));return a.createElement(Oe.Z,{className:R()("visx-axis",i),top:E,left:h},r(We({},O,{axisFromPoint:F,axisToPoint:Z,hideAxisLine:s,hideTicks:c,hideZero:f,horizontal:P,numTicks:m,orientation:y,rangePadding:x,scale:k,tickFormat:A,tickLength:S,tickPosition:M,tickSign:D,ticks:U})))}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function qe(e){return a.createElement(ge,Ge({AxisComponent:He},e))}var Ke=n(87459),Ye=n(71172);function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function Qe(e){return a.createElement(Se,Xe({GridRowsComponent:Ke.default,GridColumnsComponent:Ye.default},e))}function Je(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,i=t.polyfill,o=t.offsetSize,s=i||("undefined"===typeof window?(0,L.Z)((function e(){(0,F.Z)(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=(0,a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,j.Z)(u,2),l=c[0],f=c[1],d=(0,a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),p=n?"number"===typeof n?n:n.scroll:null,h=n?"number"===typeof n?n:n.resize:null,v=(0,a.useRef)(!1);(0,a.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));var m=(0,a.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),v.current&&!tt(d.current.lastBounds,t)&&f(d.current.lastBounds=t)}};return[e,h?B()(e,h):e,p?B()(e,p):e]}),[f,o,p,h]),g=(0,j.Z)(m,3),y=g[0],b=g[1],x=g[2];function k(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",x,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new s(x),d.current.resizeObserver.observe(d.current.element),r&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",x,{capture:!0,passive:!0})})))}var _,S,T;return _=x,S=Boolean(r),(0,a.useEffect)((function(){if(S){var e=_;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[_,S]),T=b,(0,a.useEffect)((function(){var e=T;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[T]),(0,a.useEffect)((function(){k(),w()}),[r,x,b]),(0,a.useEffect)((function(){return k}),[]),[function(e){e&&e!==d.current.element&&(k(),d.current.element=e,d.current.scrollContainers=$e(e),w())},l,y]}function $e(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,D.Z)($e(e.parentElement)))}var et=["x","y","top","bottom","left","right","width","height"],tt=function(e,t){return et.every((function(n){return e[n]===t[n]}))},nt=n(54164);function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}var it=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,rt(t,n);var i=r.prototype;return i.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},i.render=function(){return this.node||"undefined"===typeof document||(this.node=document.createElement("div"),null!=this.props.zIndex&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?nt.createPortal(this.props.children,this.node):null},r}(a.PureComponent);it.propTypes={zIndex:i().oneOfType([i().number,i().string])};var at=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(this,arguments)}var st={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},ut=a.forwardRef((function(e,t){var n=e.className,r=e.top,i=e.left,o=e.offsetLeft,s=void 0===o?10:o,u=e.offsetTop,c=void 0===u?10:u,l=e.style,f=void 0===l?st:l,d=e.children,p=e.unstyled,h=void 0!==p&&p,v=e.applyPositionStyle,m=void 0!==v&&v,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,at);return a.createElement("div",ot({ref:t,className:R()("visx-tooltip",n),style:ot({top:null==r||null==c?r:r+c,left:null==i||null==s?i:i+s},m&&{position:"absolute"},!h&&f)},g),d)}));ut.propTypes={children:i().node,className:i().string,left:i().number,offsetLeft:i().number,offsetTop:i().number,top:i().number,applyPositionStyle:i().bool,unstyled:i().bool},ut.displayName="Tooltip";var ct=ut;function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ft(e,t)}var dt={top:0,right:0,bottom:0,left:0,width:0,height:0};var pt=(0,a.createContext)({isFlippedVertically:!1,isFlippedHorizontally:!1}),ht=pt.Provider,vt=(pt.Consumer,["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"]);function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function gt(e){var t,n=e.children,r=(e.getRects,e.left),i=void 0===r?0:r,o=e.offsetLeft,s=void 0===o?10:o,u=e.offsetTop,c=void 0===u?10:u,l=e.parentRect,f=e.rect,d=e.style,p=void 0===d?st:d,h=e.top,v=void 0===h?0:h,m=e.unstyled,g=void 0!==m&&m,y=e.nodeRef,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,vt),x=!1,k=!1;if(f&&l){var w=i,_=v;if(l.width){var S=w+s+f.width-l.width,T=f.width-w-s;x=S>0&&S>T}else{var C=w+s+f.width-window.innerWidth,E=f.width-w-s;x=C>0&&C>E}if(l.height){var O=_+c+f.height-l.height,A=f.height-_-c;k=O>0&&O>A}else k=_+c+f.height>window.innerHeight;w=x?w-f.width-s:w+s,_=k?_-f.height-c:_+c,t="translate("+(w=Math.round(w))+"px, "+(_=Math.round(_))+"px)"}return a.createElement(ct,mt({ref:y,style:mt({left:0,top:0,transform:t},!g&&p)},b),a.createElement(ht,{value:{isFlippedVertically:!k,isFlippedHorizontally:!x}},n))}gt.propTypes={nodeRef:i().oneOfType([i().string,i().func,i().object])};var yt=function(e){var t;return(t=function(t){var n,r;function i(e){var n;return(n=t.call(this,e)||this).state={rect:void 0,parentRect:void 0},n.nodeRef=a.createRef(),n.getRects=n.getRects.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,ft(n,r);var o=i.prototype;return o.componentDidMount=function(){var e,t=this;this.node=null!=(e=this.nodeRef)&&e.current?this.nodeRef.current:nt.findDOMNode(this),this.setState((function(){return t.getRects()}))},o.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():dt,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():dt}},o.render=function(){return a.createElement(e,lt({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},i}(a.PureComponent)).displayName="withBoundingRects("+(e.displayName||"")+")",t}(gt),bt=["detectBounds","zIndex"],xt=["left","top","detectBounds","zIndex"];function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kt.apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var _t=(0,a.createContext)(null),St=["debounce","detectBounds","horizontalCrosshairStyle","glyphStyle","renderTooltip","renderGlyph","resizeObserverPolyfill","scroll","showDatumGlyph","showHorizontalCrosshair","showSeriesGlyphs","showVerticalCrosshair","snapTooltipToDatumX","snapTooltipToDatumY","verticalCrosshairStyle","zIndex"],Tt=["x","y"];function Ct(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}var Ot={position:"absolute",pointerEvents:"none",fontSize:0,lineHeight:0},At={position:"absolute",left:0,top:0,opacity:0,width:0,height:0,pointerEvents:"none"};function It(e){var t=((0,a.useContext)(p)||{}).theme;return a.createElement("circle",Et({cx:e.x,cy:e.y,r:e.size,fill:e.color,stroke:null==t?void 0:t.backgroundColor,strokeWidth:1.5,paintOrder:"fill"},e.glyphStyle))}function Rt(e){return a.createElement(It,e)}function Nt(e){var t,n,r,i,o,s,u,c,l,f,d,m,g,y=e.debounce,b=e.detectBounds,x=e.horizontalCrosshairStyle,k=e.glyphStyle,w=e.renderTooltip,_=e.renderGlyph,S=void 0===_?Rt:_,T=e.resizeObserverPolyfill,C=e.scroll,E=void 0===C||C,O=e.showDatumGlyph,A=void 0!==O&&O,I=e.showHorizontalCrosshair,R=void 0!==I&&I,N=e.showSeriesGlyphs,P=void 0!==N&&N,M=e.showVerticalCrosshair,D=void 0!==M&&M,j=e.snapTooltipToDatumX,L=void 0!==j&&j,F=e.snapTooltipToDatumY,Z=void 0!==F&&F,B=e.verticalCrosshairStyle,U=e.zIndex,V=Ct(e,St),z=(0,a.useContext)(p)||{},W=z.colorScale,H=z.theme,G=z.innerHeight,q=z.innerWidth,K=z.margin,Y=z.xScale,X=z.yScale,Q=z.dataRegistry,J=(0,a.useContext)(_t),$=function(e){var t=void 0===e?{}:e,n=t.detectBounds,r=void 0===n||n,i=t.zIndex,o=Je(wt(t,bt)),s=o[0],u=o[1],c=o[2],l=(0,a.useMemo)((function(){return function(e){var t=e.left,n=void 0===t?0:t,o=e.top,s=void 0===o?0:o,c=e.detectBounds,l=e.zIndex,f=wt(e,xt),d=null==l?i:l,p=(null==c?r:c)?yt:ct,h=n+(u.left||0)+window.scrollX,v=s+(u.top||0)+window.scrollY;return a.createElement(it,{zIndex:d},a.createElement(p,kt({left:h,top:v},f)))}}),[r,i,u.left,u.top]);return{containerRef:s,containerBounds:u,forceRefreshBounds:c,TooltipInPortal:l}}({debounce:y,detectBounds:b,polyfill:T,scroll:E,zIndex:U}),ee=$.containerRef,te=$.TooltipInPortal,ne=$.forceRefreshBounds,re=(0,a.useCallback)((function(e){var t;ee(null!=(t=null==e?void 0:e.parentElement)?t:null)}),[ee]),ie=null!=J&&J.tooltipOpen?w(Et({},J,{colorScale:W})):null,ae=(null==J?void 0:J.tooltipOpen)&&null!=ie,oe=(0,a.useRef)(!1);(0,a.useEffect)((function(){ae&&!oe.current&&ne(),oe.current=ae}),[ae,ne]);var se=null==J?void 0:J.tooltipLeft,ue=null==J?void 0:J.tooltipTop,ce=Y?h(Y):0,le=X?h(X):0,fe=(0,a.useCallback)((function(e,t){var n,r,i=null==Q?void 0:Q.get(e),a=null==i?void 0:i.xAccessor,o=null==i?void 0:i.yAccessor;return{left:Y&&a?null!=(n=Number(Y(a(t)))+ce/2)?n:0:void 0,top:X&&o?null!=(r=Number(X(o(t)))+le/2)?r:0:void 0}}),[Q,ce,le,Y,X]),de=null==J||null==(t=J.tooltipData)?void 0:t.nearestDatum,pe=null!=(n=null==de?void 0:de.key)?n:"";if(ae&&de&&(L||Z)){var he=fe(pe,de.datum),ve=he.left,me=he.top;se=L&&v(ve)?ve:se,ue=Z&&v(me)?me:ue}var ge=[];if(ae&&(A||P)){var ye,be,xe,ke=Number(null!=(ye=null==k?void 0:k.radius)?ye:4);if(P)Object.values(null!=(be=null==J||null==(xe=J.tooltipData)?void 0:xe.datumByKey)?be:{}).forEach((function(e){var t,n,r,i=e.key,a=e.datum,o=e.index,s=null!=(t=null!=(n=null==W?void 0:W(i))?n:null==H||null==(r=H.htmlLabel)?void 0:r.color)?t:"#222",u=fe(i,a),c=u.left,l=u.top;v(c)&&v(l)&&ge.push({key:i,color:s,datum:a,index:o,size:ke,x:c,y:l,glyphStyle:k,isNearestDatum:!!de&&de.key===i})}));else if(de){var we=fe(pe,de.datum),_e=we.left,Se=we.top;if(v(_e)&&v(Se)){var Te,Ce,Ee,Oe,Ae,Ie,Re=null!=(Te=null!=(Ce=null!=(Ee=null!=(Oe=pe&&(null==W?void 0:W(pe)))?Oe:null)?Ee:null==H||null==(Ae=H.gridStyles)?void 0:Ae.stroke)?Ce:null==H||null==(Ie=H.htmlLabel)?void 0:Ie.color)?Te:"#222";ge.push({key:pe,color:Re,datum:de.datum,index:de.index,size:ke,x:_e,y:Se,glyphStyle:k,isNearestDatum:!0})}}}return a.createElement(a.Fragment,null,a.createElement("svg",{ref:re,style:At}),ae&&a.createElement(a.Fragment,null,D&&a.createElement(te,{className:"visx-crosshair visx-crosshair-vertical",left:se,top:null==K?void 0:K.top,offsetLeft:0,offsetTop:0,detectBounds:!1,style:Ot},a.createElement("svg",{width:"1",height:G,overflow:"visible"},a.createElement("line",Et({x1:0,x2:0,y1:0,y2:G,strokeWidth:1.5,stroke:null!=(r=null!=(i=null==H||null==(o=H.gridStyles)?void 0:o.stroke)?i:null==H||null==(s=H.htmlLabel)?void 0:s.color)?r:"#222"},B)))),R&&a.createElement(te,{className:"visx-crosshair visx-crosshair-horizontal",left:null==K?void 0:K.left,top:ue,offsetLeft:0,offsetTop:0,detectBounds:!1,style:Ot},a.createElement("svg",{width:q,height:"1",overflow:"visible"},a.createElement("line",Et({x1:0,x2:q,y1:0,y2:0,strokeWidth:1.5,stroke:null!=(u=null!=(c=null==H||null==(l=H.gridStyles)?void 0:l.stroke)?c:null==H||null==(f=H.htmlLabel)?void 0:f.color)?u:"#222"},x)))),ge.map((function(e,t){var n=e.x,r=e.y,i=Ct(e,Tt);return a.createElement(te,{key:t,className:"visx-tooltip-glyph",left:n,top:r,offsetLeft:0,offsetTop:0,detectBounds:!1,style:Ot},a.createElement("svg",{overflow:"visible"},S(Et({x:0,y:0},i))))})),a.createElement(te,Et({left:se,top:ue,style:Et({},st,{background:null!=(d=null==H?void 0:H.backgroundColor)?d:"white",boxShadow:"0 1px 2px "+(null!=H&&null!=(m=H.htmlLabel)&&m.color?(null==H||null==(g=H.htmlLabel)?void 0:g.color)+"55":"#22222255")},null==H?void 0:H.htmlLabel)},V),ie)))}function Pt(e){var t=(0,a.useContext)(_t);return null!=t&&t.tooltipOpen?a.createElement(Nt,e):null}It.propTypes={isNearestDatum:i().bool.isRequired},Nt.propTypes={renderTooltip:i().func.isRequired,renderGlyph:i().func,snapTooltipToDatumX:i().bool,snapTooltipToDatumY:i().bool,showVerticalCrosshair:i().bool,showHorizontalCrosshair:i().bool,showDatumGlyph:i().bool,showSeriesGlyphs:i().bool},Pt.propTypes={renderTooltip:i().func.isRequired,renderGlyph:i().func,snapTooltipToDatumX:i().bool,snapTooltipToDatumY:i().bool,showVerticalCrosshair:i().bool,showHorizontalCrosshair:i().bool,showDatumGlyph:i().bool,showSeriesGlyphs:i().bool};var Mt=n(87700),Dt=n(21829),jt=(0,a.createContext)(null);function Lt(e,t,n){var r=(0,a.useContext)(jt),i=(0,a.useRef)();i.current=n;var o=(0,a.useCallback)((function(e,t,n){r&&r.emit(e,{event:t,svgPoint:(0,Dt.Z)(t),source:n})}),[r]);return(0,a.useEffect)((function(){if(r&&e&&t){var n=function(e){var n;(!i.current||null!=e&&e.source&&null!=(n=i.current)&&n.includes(e.source))&&t(e)};return r.on(e,n),function(){return null==r?void 0:r.off(e,n)}}}),[r,e,t]),r?o:null}function Ft(e){var t=e.children,n=(0,a.useMemo)((function(){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}};var e}),[]);return a.createElement(jt.Provider,{value:n},t)}var Zt=n(48573),Bt=n.n(Zt),Ut=["tooltipOpen"];function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}function zt(e){var t=(0,a.useState)(Vt({tooltipOpen:!1},e)),n=t[0],r=t[1],i=(0,a.useCallback)((function(e){return r("function"===typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Ut);return Vt({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})}),[r]),o=(0,a.useCallback)((function(){return r({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[r]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:r,showTooltip:i,hideTooltip:o}}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e){var t=e.hideTooltipDebounceMs,n=void 0===t?400:t,r=e.children,i=zt(void 0),o=i.tooltipOpen,s=i.tooltipLeft,u=i.tooltipTop,c=i.tooltipData,l=i.updateTooltip,f=i.hideTooltip,d=(0,a.useRef)(null),p=(0,a.useRef)((function(e){var t=e.svgPoint,n=e.index,r=e.key,i=e.datum,a=e.distanceX,o=e.distanceY;d.current&&(d.current.cancel(),d.current=null);var s=v(a)?a:1/0,u=v(o)?o:1/0,c=Math.sqrt(Math.pow(s,2)+Math.pow(u,2));l((function(e){var a,o,s,u=e.tooltipData,l=null!=u&&u.nearestDatum&&v(u.nearestDatum.distance)?u.nearestDatum.distance:1/0;return{tooltipOpen:!0,tooltipLeft:null==t?void 0:t.x,tooltipTop:null==t?void 0:t.y,tooltipData:{nearestDatum:(null!=(a=null==u||null==(o=u.nearestDatum)?void 0:o.key)?a:"")!==r&&l<c?null==u?void 0:u.nearestDatum:{key:r,index:n,datum:i,distance:c},datumByKey:Wt({},null==u?void 0:u.datumByKey,(s={},s[r]={datum:i,index:n,key:r},s))}}}))})),h=(0,a.useCallback)((function(){d.current=Bt()(f,n),d.current()}),[f,n]),m=(0,a.useMemo)((function(){return{tooltipOpen:o,tooltipLeft:s,tooltipTop:u,tooltipData:c,updateTooltip:l,showTooltip:p.current,hideTooltip:h}}),[h,c,s,o,u,l]);return a.createElement(_t.Provider,{value:m},r)}Ht.propTypes={hideTooltipDebounceMs:i().number,children:i().node.isRequired};var Gt=n(39175),qt={red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e8f7ff","#ccedff","#a3daff","#72c3fc","#4dadf7","#329af0","#228ae6","#1c7cd6","#1b6ec2","#1862ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"]},Kt=qt.gray,Yt=Kt[7],Xt=[qt.cyan[9],qt.cyan[3],qt.yellow[5],qt.red[4],qt.grape[8],qt.grape[5],qt.pink[9]];function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}var Jt={fontFamily:"-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif",fontWeight:700,fontSize:12,textAnchor:"middle",pointerEvents:"none",letterSpacing:.4};function $t(e){var t,n,r,i,a,o,s=Qt({},Jt,{fill:Yt,stroke:"none"},e.svgLabelBig),u=Qt({},Jt,{fontWeight:200,fontSize:11,fill:Yt,stroke:"none"},e.svgLabelSmall),c=Qt({color:null!=(t=null!=(n=null!=(r=null==(i=e.htmlLabel)?void 0:i.color)?r:null==(a=e.svgLabelBig)?void 0:a.fill)?n:null==(o=e.svgLabelSmall)?void 0:o.fill)?t:Yt},Jt,e.htmlLabel);return{backgroundColor:e.backgroundColor,colors:[].concat(e.colors),htmlLabel:Qt({},c),svgLabelSmall:Qt({},u),svgLabelBig:Qt({},s),gridStyles:Qt({stroke:e.gridColor,strokeWidth:1},e.gridStyles),axisStyles:{x:{top:{axisLabel:Qt({},s,{dy:"-0.25em"}),axisLine:Qt({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:Qt({},u,{dy:"-0.25em"}),tickLength:e.tickLength,tickLine:Qt({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)},bottom:{axisLabel:Qt({},s,{dy:"-0.25em"}),axisLine:Qt({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:Qt({},u,{dy:"0.125em"}),tickLength:e.tickLength,tickLine:Qt({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)}},y:{left:{axisLabel:Qt({},s,{dx:"-1.25em"}),axisLine:Qt({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:Qt({},u,{textAnchor:"end",dx:"-0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:Qt({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)},right:{axisLabel:Qt({},s,{dx:"1.25em"}),axisLine:Qt({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:Qt({},u,{textAnchor:"start",dx:"0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:Qt({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)}}}}}var en=$t({backgroundColor:"#fff",colors:Xt,tickLength:4,svgLabelSmall:{fill:Kt[7]},svgLabelBig:{fill:Kt[9]},gridColor:Kt[5],gridColorDark:Kt[9]}),tn=a.createContext(en),nn=function(){function e(){this.registry={},this.registryKeys=[]}var t=e.prototype;return t.registerData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){e.key in t.registry&&null!=t.registry[e.key]&&console.debug("Overriding data registry key",e.key),t.registry[e.key]=e,t.registryKeys=Object.keys(t.registry)}))},t.unregisterData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){delete t.registry[e],t.registryKeys=Object.keys(t.registry)}))},t.entries=function(){return Object.values(this.registry)},t.get=function(e){return this.registry[e]},t.keys=function(){return this.registryKeys},e}();var rn={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var an=n(59632),on=n(31434),sn=n(39562);function un(e){return"band"===(null==e?void 0:e.type)||"ordinal"===(null==e?void 0:e.type)||"point"===(null==e?void 0:e.type)}function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(this,arguments)}function ln(e){var t=e.initialDimensions,n=e.theme,r=e.xScale,i=e.yScale,o=e.children,s=e.horizontal,u=void 0===s?"auto":s,c=(0,a.useContext)(tn),l=n||c,f=function(e){var t=(0,a.useState)({width:null==(null==e?void 0:e.width)?rn.width:e.width,height:null==(null==e?void 0:e.height)?rn.height:e.height,margin:null==(null==e?void 0:e.margin)?rn.margin:e.margin}),n=t[0],r=t[1],i=(0,a.useCallback)((function(e){e.width===n.width&&e.height===n.height&&e.margin.left===n.margin.left&&e.margin.right===n.margin.right&&e.margin.top===n.margin.top&&e.margin.bottom===n.margin.bottom||r(e)}),[n.width,n.height,n.margin.left,n.margin.right,n.margin.bottom,n.margin.top]);return[n,i]}(t),d=f[0],h=d.width,v=d.height,m=d.margin,g=f[1],y=Math.max(0,h-m.left-m.right),b=Math.max(0,v-m.top-m.bottom),x=function(){var e=(0,a.useState)(Math.random())[1],t=(0,a.useMemo)((function(){return new nn}),[]);return(0,a.useMemo)((function(){return{registerData:function(){t.registerData.apply(t,arguments),e(Math.random())},unregisterData:function(){t.unregisterData.apply(t,arguments),e(Math.random())},entries:function(){return t.entries()},get:function(e){return t.get(e)},keys:function(){return t.keys()}}}),[t])}(),k=function(e){var t=e.dataRegistry,n=e.xRange,r=e.xScaleConfig,i=e.yRange,o=e.yScaleConfig,s=t.keys(),u=n[0],c=n[1],l=i[0],f=i[1];return{xScale:(0,a.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.xAccessor(e)}))):e}),[]);if(0!==n.length){var i=un(r)?n:(0,sn.Z)(n),a=(0,an.Z)(r)?(0,on.Z)(cn({range:[u,c],domain:i,zero:!0},r)):(0,on.Z)(cn({range:[u,c],domain:i},r));return e.forEach((function(e){null!=e&&e.xScale&&(a=e.xScale(a))})),a}}),[t,r,s,u,c]),yScale:(0,a.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.yAccessor(e)}))):e}),[]);if(0!==n.length){var r=un(o)?n:(0,sn.Z)(n),i=(0,an.Z)(o)?(0,on.Z)(cn({range:[l,f],domain:r,zero:!0},o)):(0,on.Z)(cn({range:[l,f],domain:r},o));return e.forEach((function(e){null!=e&&e.yScale&&(i=e.yScale(i))})),i}}),[t,o,s,l,f])}}({dataRegistry:x,xScaleConfig:r,yScaleConfig:i,xRange:[m.left,Math.max(0,h-m.right)],yRange:[Math.max(0,v-m.bottom),m.top]}),w=k.xScale,_=k.yScale,S=x.keys(),T=(0,a.useMemo)((function(){return(0,Gt.ZP)({domain:S,range:l.colors})}),[S,l.colors]),C="auto"===u?un(i)||"time"===i.type||"utc"===i.type:u,E=(0,a.useMemo)((function(){return{dataRegistry:x,registerData:x.registerData,unregisterData:x.unregisterData,xScale:w,yScale:_,colorScale:T,theme:l,width:h,height:v,margin:m,innerWidth:y,innerHeight:b,setDimensions:g,horizontal:C}}),[T,x,v,C,b,y,m,g,l,h,w,_]);return a.createElement(p.Provider,{value:E},o)}function fn(e){var t=e.source,n=e.onPointerOut,r=void 0===n||n,i=e.onPointerMove,o=void 0===i||i,s=e.onPointerUp,u=void 0===s||s,c=e.onPointerDown,l=void 0===c||c,f=e.onFocus,d=void 0!==f&&f,p=e.onBlur,h=void 0!==p&&p,v=Lt(),m=(0,a.useCallback)((function(e){return null==v?void 0:v("pointermove",e,t)}),[v,t]),g=(0,a.useCallback)((function(e){return null==v?void 0:v("pointerout",e,t)}),[v,t]),y=(0,a.useCallback)((function(e){return null==v?void 0:v("pointerup",e,t)}),[v,t]),b=(0,a.useCallback)((function(e){return null==v?void 0:v("pointerdown",e,t)}),[v,t]),x=(0,a.useCallback)((function(e){return null==v?void 0:v("focus",e,t)}),[v,t]),k=(0,a.useCallback)((function(e){return null==v?void 0:v("blur",e,t)}),[v,t]);return{onPointerMove:o?m:void 0,onFocus:d?x:void 0,onBlur:h?k:void 0,onPointerOut:r?g:void 0,onPointerUp:u?y:void 0,onPointerDown:l?b:void 0}}ln.propTypes={children:i().node.isRequired,horizontal:i().oneOfType([i().bool,i().oneOf(["auto"])])};var dn="BARGROUP_EVENT_SOURCE",pn="GLYPHSERIES_EVENT_SOURCE",hn="XYCHART_EVENT_SOURCE";function vn(e){return!!e&&("clientX"in e||"changedTouches"in e)}var mn=n(92267),gn=n(41539),yn=n(84181);function bn(e){var t,n,r=e.scale,i=e.accessor,a=e.scaledValue,o=e.data,s=r;if("invert"in s&&"function"===typeof s.invert){var u=(0,mn.Z)(i).left,c=Number(s.invert(a)),l=u(o,c),f=o[l-1],d=o[l];n=(t=!f||Math.abs(c-i(f))>Math.abs(c-i(d))?d:f)===f?l-1:l}else{if(!("step"in s)||"undefined"===typeof s.step)return console.warn("[visx/xychart/findNearestDatum] encountered incompatible scale type, bailing"),null;var p=r.domain(),h=r.range().map(Number),v=[].concat(h).sort((function(e,t){return e-t})),m=(0,gn.Z)(v[0],v[1],s.step()),g=(0,yn.Nw)(m,a),y=(h[0]<h[1]?p:p.reverse())[g-1],b=o.findIndex((function(e){return String(i(e))===String(y)}));t=o[b],n=b}return null==t||null==n?null:{datum:t,index:n,distance:Math.abs(Number(s(i(t)))-a)}}function xn(e){var t=e.xScale,n=e.xAccessor,r=e.yScale,i=e.yAccessor,a=e.point,o=e.data;if(!a)return null;var s=bn({scale:t,accessor:n,scaledValue:a.x,data:o});return s?{datum:s.datum,index:s.index,distanceX:s.distance,distanceY:Math.abs(Number(r(i(s.datum)))-a.y)}:null}function kn(e){var t=e.yScale,n=e.yAccessor,r=e.xScale,i=e.xAccessor,a=e.point,o=e.data;if(!a)return null;var s=bn({scale:t,accessor:n,scaledValue:a.y,data:o});return s?{datum:s.datum,index:s.index,distanceY:s.distance,distanceX:Math.abs(Number(r(i(s.datum)))-a.x)}:null}function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}var _n="__POINTER_EVENTS_ALL",Sn="__POINTER_EVENTS_NEAREST";function Tn(e){var t=e.dataKey,n=e.findNearestDatum,r=e.onBlur,i=e.onFocus,o=e.onPointerMove,s=e.onPointerOut,u=e.onPointerUp,c=e.onPointerDown,l=e.allowedSources,f=(0,a.useContext)(p),d=f.width,h=f.height,v=f.horizontal,m=f.dataRegistry,g=f.xScale,y=f.yScale,b=n||(v?kn:xn),x=(0,a.useCallback)((function(e){var n,r=e||{},i=r.svgPoint,a=r.event,o={},s=null,u=1/0;return e&&a&&i&&d&&h&&g&&y?((t===Sn||t===_n?null!=(n=null==m?void 0:m.keys())?n:[]:Array.isArray(t)?t:[t]).forEach((function(e){var n=null==m?void 0:m.get(e);if(n){var r=b({dataKey:e,data:n.data,height:h,point:i,width:d,xAccessor:n.xAccessor,xScale:g,yAccessor:n.yAccessor,yScale:y});if(r&&(o[e]=wn({key:e,svgPoint:i,event:a},r),t===Sn)){var c,l,f=Math.sqrt((null!=(c=r.distanceX)?c:Math.pow(1/0,2))+(null!=(l=r.distanceY)?l:Math.pow(1/0,2)));s=f<u?o[e]:s,u=Math.min(u,f)}}})),(t===Sn?[s]:t===_n||Array.isArray(t)?Object.values(o):[o[t]]).filter((function(e){return e}))):[]}),[t,m,g,y,d,h,b]),k=(0,a.useCallback)((function(e){o&&x(e).forEach((function(e){return o(e)}))}),[x,o]),w=(0,a.useCallback)((function(e){u&&x(e).forEach((function(e){return u(e)}))}),[x,u]),_=(0,a.useCallback)((function(e){c&&x(e).forEach((function(e){return c(e)}))}),[x,c]),S=(0,a.useCallback)((function(e){i&&x(e).forEach((function(e){return i(e)}))}),[x,i]),T=(0,a.useCallback)((function(e){var t=null==e?void 0:e.event;t&&vn(t)&&s&&s(t)}),[s]),C=(0,a.useCallback)((function(e){var t=null==e?void 0:e.event;t&&function(e){return!!e&&!vn(e)}(t)&&r&&r(t)}),[r]);Lt("pointermove",o?k:void 0,l),Lt("pointerout",s?T:void 0,l),Lt("pointerup",u?w:void 0,l),Lt("pointerdown",c?_:void 0,l),Lt("focus",i?S:void 0,l),Lt("blur",r?C:void 0,l)}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(this,arguments)}var En={top:50,right:50,bottom:50,left:50},On=[hn];function An(e){var t=e.accessibilityLabel,n=void 0===t?"XYChart":t,r=e.captureEvents,i=void 0===r||r,o=e.children,s=e.height,u=e.horizontal,c=e.margin,l=void 0===c?En:c,f=e.onPointerMove,d=e.onPointerOut,h=e.onPointerUp,v=e.onPointerDown,m=e.pointerEventsDataKey,g=void 0===m?"nearest":m,y=e.theme,b=e.width,x=e.xScale,k=e.yScale,w=(0,a.useContext)(p).setDimensions,_=(0,a.useContext)(_t),S=Lt();(0,a.useEffect)((function(){w&&null!=b&&null!=s&&b>0&&s>0&&w({width:b,height:s,margin:l})}),[w,b,s,l]);var T=fn({source:hn});return Tn({dataKey:"nearest"===g?Sn:_n,onPointerMove:f,onPointerOut:d,onPointerUp:h,onPointerDown:v,allowedSources:On}),w?null==b||null==s?a.createElement(Mt.Z,null,(function(t){return a.createElement(An,Cn({},e,{width:null==e.width?t.width:e.width,height:null==e.height?t.height:e.height}))})):null==_?a.createElement(Ht,null,a.createElement(An,e)):null==S?a.createElement(Ft,null,a.createElement(An,e)):b>0&&s>0?a.createElement("svg",{width:b,height:s,"aria-label":n},o,i&&a.createElement("rect",Cn({x:l.left,y:l.top,width:b-l.left-l.right,height:s-l.top-l.bottom,fill:"transparent"},T))):null:x&&k?a.createElement(ln,{xScale:x,yScale:k,theme:y,initialDimensions:{width:b,height:s,margin:l},horizontal:u},a.createElement(An,e)):(console.warn("[@visx/xychart] XYChart: When no DataProvider is available in context, you must pass xScale & yScale config to XYChart."),null)}An.propTypes={accessibilityLabel:i().string,captureEvents:i().bool,width:i().number,height:i().number,children:i().node.isRequired,horizontal:i().oneOfType([i().bool,i().oneOf(["auto"])]),onPointerMove:i().func,onPointerOut:i().func,onPointerUp:i().func,onPointerDown:i().func,pointerEventsDataKey:i().oneOf(["all","nearest"])};var In=n(61841),Rn=n(6289);function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(this,arguments)}function Pn(e){return function(t){var n=t.dataKey,r=t.data,i=t.xAccessor,o=t.yAccessor,s=(0,a.useContext)(p),u=s.xScale,c=s.yScale,l=s.dataRegistry;(0,a.useEffect)((function(){return l&&l.registerData({key:n,data:r,xAccessor:i,yAccessor:o}),function(){return null==l?void 0:l.unregisterData(n)}}),[l,n,r,i,o]);var f=null==l?void 0:l.get(n);if(!u||!c||!f)return null;var d=e;return a.createElement(d,Nn({},t,{xScale:u,yScale:c,data:f.data,xAccessor:f.xAccessor,yAccessor:f.yAccessor}))}}function Mn(e,t,n){return void 0===n&&(n="center"),function(r){var i=e(t(r));return v(i)?i+("start"===n?0:h(e))/("center"===n?2:1):NaN}}function Dn(e){var t=e.range().map((function(e){var t;return null!=(t=(0,d.Z)(e))?t:0})),n=t[0],r=t[1],i=null!=n&&null!=r&&r<n,a=e(0),o=i?[r,n]:[n,r],s=o[0],u=o[1];return i?v(a)?Math.min(Math.max(s,a),u):u:v(a)?Math.max(a,s):s}function jn(e){var t,n=e.dataKey,r=e.enableEvents,i=e.findNearestDatum,o=e.onBlur,s=e.onFocus,u=e.onPointerMove,c=e.onPointerOut,l=e.onPointerUp,f=e.onPointerDown,d=e.source,p=e.allowedSources,h=null!=(t=(0,a.useContext)(_t))?t:{},v=h.showTooltip,m=h.hideTooltip,g=(0,a.useCallback)((function(e){v(e),u&&u(e)}),[v,u]),y=(0,a.useCallback)((function(e){v(e),s&&s(e)}),[v,s]),b=(0,a.useCallback)((function(e){m(),e&&c&&c(e)}),[m,c]),x=(0,a.useCallback)((function(e){m(),e&&o&&o(e)}),[m,o]),k=(0,a.useCallback)((function(e){v(e),f&&f(e)}),[v,f]);return Tn({dataKey:n,findNearestDatum:i,onBlur:r?x:void 0,onFocus:r?y:void 0,onPointerMove:r?g:void 0,onPointerOut:r?b:void 0,onPointerUp:r?l:void 0,onPointerDown:r?k:void 0,allowedSources:p}),fn({source:d,onBlur:!!o&&r,onFocus:!!s&&r,onPointerMove:!!u&&r,onPointerOut:!!c&&r,onPointerUp:!!l&&r,onPointerDown:!!f&&r})}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}function Fn(e){var t,n,r,i=e.colorAccessor,o=e.data,s=e.dataKey,u=e.onBlur,c=e.onFocus,l=e.onPointerMove,f=e.onPointerOut,d=e.onPointerUp,h=e.onPointerDown,m=e.enableEvents,g=void 0===m||m,y=e.renderGlyphs,b=e.size,x=void 0===b?8:b,k=e.xAccessor,w=e.xScale,_=e.yAccessor,S=e.yScale,T=(0,a.useContext)(p),C=T.colorScale,E=T.theme,O=T.horizontal,A=(0,a.useMemo)((function(){return Mn(w,k)}),[w,k]),I=(0,a.useMemo)((function(){return Mn(S,_)}),[S,_]),R=null!=(t=null!=(n=null==C?void 0:C(s))?n:null==E||null==(r=E.colors)?void 0:r[0])?t:"#222",N=pn+"-"+s,P=jn({dataKey:s,enableEvents:g,onBlur:u,onFocus:c,onPointerMove:l,onPointerOut:f,onPointerUp:d,onPointerDown:h,source:N,allowedSources:[hn,N]}),M=(0,a.useMemo)((function(){return o.map((function(e,t){var n,r=A(e);if(!v(r))return null;var a=I(e);return v(a)?{key:""+t,x:r,y:a,color:null!=(n=null==i?void 0:i(e,t))?n:R,size:"function"===typeof x?x(e):x,datum:e}:null})).filter((function(e){return e}))}),[R,i,o,A,I,x]);return a.createElement(a.Fragment,null,y(Ln({glyphs:M,xScale:w,yScale:S,horizontal:O},P)))}Fn.propTypes={colorAccessor:i().func,size:i().oneOfType([i().number,i().func]),renderGlyphs:i().func.isRequired};var Zn=Pn(Fn);function Bn(e){var t=e.key,n=e.color,r=e.x,i=e.y,o=e.size,s=e.onBlur,u=e.onFocus,c=e.onPointerMove,l=e.onPointerOut,f=e.onPointerUp;return a.createElement("circle",{className:"visx-circle-glyph",key:t,tabIndex:s||u?0:void 0,fill:n,r:o/2,cx:r,cy:i,onBlur:s,onFocus:u,onPointerMove:c,onPointerOut:l,onPointerUp:f})}var Un=["PathComponent","curve","data","dataKey","lineProps","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","renderLine","xAccessor","x0Accessor","xScale","yAccessor","y0Accessor","yScale"];function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn.apply(this,arguments)}function zn(e){var t,n,r,i=e.PathComponent,o=void 0===i?"path":i,s=e.curve,u=e.data,c=e.dataKey,l=e.lineProps,f=e.onBlur,d=e.onFocus,h=e.onPointerMove,m=e.onPointerOut,g=e.onPointerUp,y=e.onPointerDown,b=e.enableEvents,x=void 0===b||b,k=e.renderLine,w=void 0===k||k,_=e.xAccessor,S=e.x0Accessor,T=e.xScale,C=e.yAccessor,E=e.y0Accessor,O=e.yScale,A=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Un),I=(0,a.useContext)(p),R=I.colorScale,N=I.theme,P=I.horizontal,M=(0,a.useMemo)((function(){return S?Mn(T,S):void 0}),[T,S]),D=(0,a.useMemo)((function(){return Mn(T,_)}),[T,_]),j=(0,a.useMemo)((function(){return E?Mn(O,E):void 0}),[O,E]),L=(0,a.useMemo)((function(){return Mn(O,C)}),[O,C]),F=(0,a.useCallback)((function(e){return v(T(_(e)))&&v(O(C(e)))}),[T,_,O,C]),Z=null!=(t=null!=(n=null==R?void 0:R(c))?n:null==N||null==(r=N.colors)?void 0:r[0])?t:"#222",B="AREASERIES_EVENT_SOURCE-"+c,U=jn({dataKey:c,enableEvents:x,onBlur:f,onFocus:d,onPointerMove:h,onPointerOut:m,onPointerUp:g,onPointerDown:y,source:B,allowedSources:[hn,B]}),V=(0,a.useMemo)((function(){var e=Dn(P?T:O);return P?{x0:null!=M?M:e,x1:D,y:L}:{x:D,y0:null!=j?j:e,y1:L}}),[T,O,P,D,L,M,j]),z=Boolean(d||f),W=(0,a.useCallback)((function(e){var t=e.glyphs;return z?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},Bn(Vn({},e,{color:"transparent",onFocus:U.onFocus,onBlur:U.onBlur})))})):null}),[z,U.onFocus,U.onBlur]);return a.createElement(a.Fragment,null,a.createElement(In.Z,Vn({},V,A,{curve:s,defined:F}),(function(e){var t=e.path;return a.createElement(o,Vn({className:"visx-area",stroke:"transparent",fill:Z,strokeLinecap:"round"},A,{d:t(u)||""},U))})),w&&a.createElement(Rn.Z,Vn({x:D,y:L,defined:F,curve:s},l),(function(e){var t=e.path;return a.createElement(o,Vn({className:"visx-line",fill:"transparent",stroke:Z,strokeWidth:2,pointerEvents:"none",strokeLinecap:"round"},l,{d:t(u)||""}))})),z&&a.createElement(Fn,{dataKey:c,data:u,xAccessor:_,yAccessor:C,xScale:T,yScale:O,renderGlyphs:W}))}zn.propTypes={renderLine:i().bool};var Wn=Pn(zn);function Hn(e){return a.createElement(Wn,e)}var Gn=n(86407),qn=n(34876),Kn=n(37762);Array.prototype.slice;function Yn(e){return function(){return e}}function Xn(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Qn(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Jn(e,t){return e[t]}function $n(e){var t=[];return t.key=e,t}function er(){var e=Yn([]),t=Qn,n=Xn,r=Jn;function i(i){var a,o,s,u,c=Array.from(e.apply(this,arguments),$n),l=c.length,f=-1,d=(0,Kn.Z)(i);try{for(d.s();!(s=d.n()).done;){var p=s.value;for(a=0,++f;a<l;++a)(c[a][f]=[0,+r(p,c[a].key,f,i)]).data=p}}catch(h){d.e(h)}finally{d.f()}for((a=0,o="object"===typeof(u=t(c))&&"length"in u?u:Array.from(u));a<l;++a)c[o[a]].index=a;return n(c,o),c}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Yn(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Yn(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Qn:"function"===typeof e?e:Yn(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Xn:e,i):n},i}var tr=n(87104),nr=n(26510),rr=function(e){var t;return null==e||null==(t=e.data)?void 0:t.stack},ir=function(e){return((0,qn.l8)(e)+(0,qn.xf)(e))/2};var ar=function(e){return e.stack};function or(e){return a.Children.toArray(e).flatMap((function(e){return"object"===typeof e&&"props"in e&&e.props.children?e.props.children:e})).filter((function(e){return function(e){return!!e&&"object"===typeof e&&"props"in e&&null!=e.props}(e)}))}function sr(e){var t=e.children,n=e.order,r=e.offset,i=(0,a.useContext)(p),o=i.horizontal,s=i.registerData,u=i.unregisterData,c=(0,a.useMemo)((function(){return or(t)}),[t]),l=(0,a.useMemo)((function(){return c.filter((function(e){return e.props.dataKey})).map((function(e){return e.props.dataKey}))}),[c]),f=(0,a.useMemo)((function(){return function(e,t){var n={};return e.forEach((function(e){var r=e.props,i=r.dataKey,a=r.data,o=r.xAccessor,s=r.yAccessor;if(o&&s){var u=t?[s,o]:[o,s],c=u[0],l=u[1];a.forEach((function(e){var t=c(e),r=l(e),a=String(t);n[a]||(n[a]={stack:t,positiveSum:0,negativeSum:0}),n[a][i]=r,n[a][r>=0?"positiveSum":"negativeSum"]+=r}))}})),Object.values(n)}(c,o)}),[o,c]),d=(0,a.useMemo)((function(){var e=r?null:f.some((function(e){return e.negativeSum<0})),t=er();return t.keys(l),n&&t.order((0,nr.default)(n)),(r||e)&&t.offset((0,tr.default)(r||"diverging")),t(f)}),[f,l,n,r]),h=(0,a.useMemo)((function(){return(0,sn.Z)(d.reduce((function(e,t){return t.forEach((function(t){var n=t[0],r=t[1];e.push(n),e.push(r)})),e}),[]))}),[d]);return(0,a.useEffect)((function(){var e=function(e,t,n){var r=n?[ir,rr]:[rr,ir],i=r[0],a=r[1];return e.map((function(e,r){var o={key:e.key,data:e,xAccessor:i,yAccessor:a};return t.length>0&&0===r&&(n?o.xScale=function(e){return e.domain((0,sn.Z)(e.domain().concat(t)))}:o.yScale=function(e){return e.domain((0,sn.Z)(e.domain().concat(t)))}),o})).filter((function(e){return e}))}(d,h,o);return s(e),function(){return u(l)}}),[l,h,o,d,s,u,c]),{seriesChildren:c,dataKeys:l,stackedData:d}}function ur(e,t,n){var r,i,a,o,s=e.xScale,u=e.yScale,c=e.point,l=(n?kn:xn)(e),f=null==(null==l?void 0:l.index)?null:t[l.index];return l&&f&&c?{index:l.index,datum:f,distanceX:n&&c.x>=(null!=(r=s((0,qn.l8)(l.datum)))?r:1/0)&&c.x<=(null!=(i=s((0,qn.xf)(l.datum)))?i:-1/0)?0:l.distanceX,distanceY:n?l.distanceY:c.y<=(null!=(a=u((0,qn.l8)(l.datum)))?a:-1/0)&&c.y>=(null!=(o=u((0,qn.xf)(l.datum)))?o:1/0)?0:l.distanceY}:null}var cr=["data","dataKey","xAccessor","yAccessor","curve","PathComponent","lineProps","renderLine"];function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}var fr=function(e){return e};function dr(e){var t=e.PathComponent,n=void 0===t?"path":t,r=e.children,i=e.curve,o=e.enableEvents,s=void 0===o||o,u=e.offset,c=e.onBlur,l=e.onFocus,f=e.onPointerMove,m=e.onPointerOut,g=e.onPointerUp,y=e.onPointerDown,b=e.order,x=e.renderLine,k=void 0===x||x,w=(0,a.useContext)(p),_=w.colorScale,S=w.dataRegistry,T=w.horizontal,C=w.xScale,E=w.yScale,O=w.theme,A=sr({children:r,order:b,offset:u}),I=A.dataKeys,R=A.seriesChildren,N=A.stackedData,P=(0,a.useMemo)((function(){var e=h(C)/2,t=h(E)/2;return T?{y:function(e){var n;return(null!=(n=(0,d.Z)(E(ar(e.data))))?n:0)+t},x0:function(t){var n;return(null!=(n=(0,d.Z)(C((0,qn.l8)(t))))?n:0)+e},x1:function(t){var n;return(null!=(n=(0,d.Z)(C((0,qn.xf)(t))))?n:0)+e},defined:function(e){return v(E(ar(e.data)))&&v(C((0,qn.xf)(e)))}}:{x:function(t){var n;return(null!=(n=(0,d.Z)(C(ar(t.data))))?n:0)+e},y0:function(e){var n;return(null!=(n=(0,d.Z)(E((0,qn.l8)(e))))?n:0)+t},y1:function(e){var n;return(null!=(n=(0,d.Z)(E((0,qn.xf)(e))))?n:0)+t},defined:function(e){return v(C(ar(e.data)))&&v(E((0,qn.xf)(e)))}}}),[C,E,T]),M=(0,a.useMemo)((function(){return N.map((function(e,t){var n,r,i,a=R.find((function(t){return t.props.dataKey===e.key})),o=(null==a?void 0:a.props)||{},s=(o.data,o.dataKey,o.xAccessor,o.yAccessor,o.curve,o.PathComponent,o.lineProps),u=(o.renderLine,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,cr)),c=lr({fill:null!=(n=null!=(r=null==_?void 0:_(e.key))?r:null==O||null==(i=O.colors)?void 0:i[0])?n:"#222"},u);return{key:t+"-"+e.key,accessors:P,data:e,areaProps:c,lineProps:s}}))}),[N,P,_,R,O]),D=(0,a.useCallback)((function(e){var t,n,r=null==(t=R.find((function(t){return t.props.dataKey===e.dataKey})))||null==(n=t.props)?void 0:n.data;return r?ur(e,r,T):null}),[R,T]),j="AREASTACK_EVENT_SOURCE-"+I.join("-"),L=jn({dataKey:I,enableEvents:s,findNearestDatum:D,onBlur:c,onFocus:l,onPointerMove:f,onPointerOut:m,onPointerUp:g,onPointerDown:y,source:j,allowedSources:[hn,j]}),F=Boolean(l||c),Z=(0,a.useCallback)((function(e){var t=e.glyphs;return F?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},Bn(lr({},e,{color:"transparent",onFocus:L.onFocus,onBlur:L.onBlur})))})):null}),[F,L.onFocus,L.onBlur]);return!I.some((function(e){return null==S.get(e)}))&&C&&E&&_?a.createElement("g",{className:"visx-area-stack"},M.map((function(e){return a.createElement(In.Z,lr({key:e.key,curve:i},e.accessors),(function(t){var r=t.path;return a.createElement(n,lr({className:"visx-area",stroke:"transparent",d:r(e.data)||""},e.areaProps,L))}))})),k&&M.map((function(e){return a.createElement(Gn.Z,lr({key:"line-"+e.key,x:e.accessors.x||e.accessors.x1,y:e.accessors.y||e.accessors.y1,defined:e.accessors.defined,curve:i},e.lineProps),(function(t){var r=t.path;return a.createElement(n,lr({className:"visx-line",fill:"transparent",stroke:e.areaProps.fill,strokeWidth:2,pointerEvents:"none"},e.lineProps,{d:r(e.data)||""}))}))})),F&&M.map((function(e,t){var n=M[M.length-t-1];return a.createElement(Fn,{key:"glyphs-"+n.key,dataKey:n.key,data:n.data,xAccessor:n.accessors.x||n.accessors.x1,yAccessor:n.accessors.y||n.accessors.y1,xScale:fr,yScale:fr,renderGlyphs:Z})}))):null}dr.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired,renderLine:i().bool};var pr=dr;function hr(e){return a.createElement(pr,e)}var vr=n(52800);function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}function yr(e){var t=e.children,n=e.padding,r=void 0===n?.1:n,i=e.sortBars,o=e.BarsComponent,s=e.onBlur,u=e.onFocus,c=e.onPointerMove,l=e.onPointerOut,f=e.onPointerUp,d=e.onPointerDown,m=e.enableEvents,g=void 0===m||m,y=(0,a.useContext)(p),b=y.colorScale,x=y.dataRegistry,k=y.horizontal,w=y.registerData,_=y.unregisterData,S=y.xScale,T=y.yScale,C=(0,a.useMemo)((function(){return or(t)}),[t]),E=(0,a.useMemo)((function(){return C.map((function(e){var t;return null!=(t=e.props.dataKey)?t:""})).filter((function(e){return e}))}),[C]);(0,a.useEffect)((function(){var e=C.map((function(e){var t=e.props;return{key:t.dataKey,data:t.data,xAccessor:t.xAccessor,yAccessor:t.yAccessor}}));return w(e),function(){return _(E)}}),[w,_,C,E]);var O=(0,a.useMemo)((function(){return(0,vr.Z)({domain:i?[].concat(E).sort(i):E,range:[0,h(k?T:S)],padding:r})}),[i,E,S,T,k,r]),A=(0,a.useCallback)((function(e){return function(e,t,n){var r=e.dataKey,i=e.xAccessor,a=e.yAccessor,o=e.xScale,s=e.yScale,u=e.point,c=(n?kn:xn)(e);if(!c||!u)return null;var l=t(r),f=t.step();if(n){var d=s(a(c.datum)),p=(null!=d?d:1/0)+(null!=l?l:1/0),h=p+f,v=(p+h)/2;return mr({},c,{distanceX:0,distanceY:u.y>=p&&u.y<=h?0:Math.abs(u.y-v)})}var m=o(i(c.datum)),g=(null!=m?m:1/0)+(null!=l?l:1/0),y=g+f,b=(g+y)/2;return mr({},c,{distanceY:0,distanceX:u.x>=g&&u.x<=y?0:Math.abs(u.x-b)})}(e,O,k)}),[O,k]),I=dn+"-"+E.join("-")+"}",R=jn({dataKey:E,enableEvents:g,findNearestDatum:A,onBlur:s,onFocus:u,onPointerMove:c,onPointerOut:l,onPointerUp:f,onPointerDown:d,source:I,allowedSources:[hn,I]}),N=(0,a.useMemo)((function(){return S?Dn(S):0}),[S]),P=(0,a.useMemo)((function(){return T?Dn(T):0}),[T]),M=E.map((function(e){return x.get(e)}));if(M.some((function(e){return null==e}))||!S||!T||!b)return null;var D=h(O),j=M.map((function(e){var t,n=e.xAccessor,r=e.yAccessor,i=e.data,a=e.key,o=function(e){var t,i;return k?(null!=(t=S(n(e)))?t:NaN)-N:(null!=(i=T(r(e)))?i:NaN)-P},s=k?function(e){var t;return null!=(t=T(r(e)))?t:NaN}:function(e){var t;return null!=(t=S(n(e)))?t:NaN},u=null!=(t=O(a))?t:0,c=k?function(e){return N+Math.min(0,o(e))}:function(e){return s(e)+u},l=k?function(e){return s(e)+u}:function(e){return P+Math.min(0,o(e))},f=k?function(e){return Math.abs(o(e))}:function(){return D},d=k?function(){return D}:function(e){return Math.abs(o(e))},p=C.find((function(e){return e.props.dataKey===a})),h=(null==p?void 0:p.props)||{},m=h.colorAccessor,g=h.radius,y=h.radiusAll,x=h.radiusBottom,w=h.radiusLeft,_=h.radiusRight,E=h.radiusTop;return{key:a,radius:g,radiusAll:y,radiusBottom:x,radiusLeft:w,radiusRight:_,radiusTop:E,bars:i.map((function(e,t){var n,r=c(e);if(!v(r))return null;var i=l(e);if(!v(i))return null;var o=f(e);if(!v(o))return null;var s=d(e);return v(s)?{key:a+"-"+t,x:r,y:i,width:o,height:s,fill:null!=(n=null==m?void 0:m(e,t))?n:b(a)}:null})).filter((function(e){return e}))}}));return a.createElement("g",{className:"visx-bar-group"},j.map((function(e){return e&&a.createElement(o,gr({horizontal:k,xScale:S,yScale:T},e,R,{key:e.key}))})))}yr.propTypes={children:i().node.isRequired,padding:i().number,sortBars:i().func};var br=n(80207),xr=["bars","horizontal","xScale","yScale","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"],kr=["key"];function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}function _r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Sr(e){var t=e.bars,n=(e.horizontal,e.xScale,e.yScale,e.radius),r=e.radiusAll,i=e.radiusTop,o=e.radiusRight,s=e.radiusBottom,u=e.radiusLeft,c=_r(e,xr),l=Boolean(c.onFocus||c.onBlur);return a.createElement(a.Fragment,null,t.map((function(e){var t=e.key,f=_r(e,kr);return null==n?a.createElement("rect",wr({key:t,className:"visx-bar",tabIndex:l?0:void 0},f,c)):a.createElement(br.Z,wr({key:t,className:"visx-bar",tabIndex:l?0:void 0,radius:n,all:r,top:i,right:o,bottom:s,left:u},f,c))})))}function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}function Cr(e){return a.createElement(yr,Tr({},e,{BarsComponent:Sr}))}var Er=["BarsComponent","barPadding","colorAccessor","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale"];function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}function Ar(e){var t,n,r,i=e.BarsComponent,o=e.barPadding,s=void 0===o?.1:o,u=e.colorAccessor,c=e.data,l=e.dataKey,f=e.onBlur,d=e.onFocus,m=e.onPointerMove,g=e.onPointerOut,y=e.onPointerUp,b=e.onPointerDown,x=e.enableEvents,k=void 0===x||x,w=e.xAccessor,_=e.xScale,S=e.yAccessor,T=e.yScale,C=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Er),E=(0,a.useContext)(p),O=E.colorScale,A=E.horizontal,I=E.theme,R=E.innerWidth,N=void 0===R?0:R,P=E.innerHeight,M=void 0===P?0:P,D=(0,a.useMemo)((function(){return Mn(_,w)}),[_,w]),j=(0,a.useMemo)((function(){return Mn(T,S)}),[T,S]),L=h(A?T:_)||function(e,t){return e*(1-Math.min(1,Math.max(0,t)))}((A?M:N)/c.length,s),F=(0,a.useMemo)((function(){return _?Dn(_):0}),[_]),Z=(0,a.useMemo)((function(){return T?Dn(T):0}),[T]),B=null!=(t=null!=(n=null==O?void 0:O(l))?n:null==I||null==(r=I.colors)?void 0:r[0])?t:"#222",U=(0,a.useMemo)((function(){var e=A?0:-L/2,t=A?-L/2:0;return c.map((function(n,r){var i,a=D(n)+e;if(!v(a))return null;var o=j(n)+t;if(!v(o))return null;var s=A?a-F:o-Z;return v(s)?{key:""+r,x:A?F+Math.min(0,s):a,y:A?o:Z+Math.min(0,s),width:A?Math.abs(s):L,height:A?L:Math.abs(s),fill:null!=(i=null==u?void 0:u(n,r))?i:B}:null})).filter((function(e){return e}))}),[L,B,u,c,D,j,A,F,Z]),V="BARSERIES_EVENT_SOURCE-"+l,z=jn({dataKey:l,enableEvents:k,onBlur:f,onFocus:d,onPointerMove:m,onPointerOut:g,onPointerUp:y,onPointerDown:b,source:V,allowedSources:[hn,V]});return a.createElement("g",{className:"vx-bar-series"},a.createElement(i,Or({bars:U,horizontal:A,xScale:_,yScale:T},z,C)))}Ar.propTypes={barPadding:i().number,colorAccessor:i().func};var Ir=Pn(Ar),Rr=["colorAccessor"];function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}var Pr=function(e){var t=e.colorAccessor,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Rr);return a.createElement(Ir,Nr({},n,{colorAccessor:t,BarsComponent:Sr}))},Mr=n(63357);function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(this,arguments)}function jr(e){var t=e.children,n=e.order,r=e.offset,i=e.BarsComponent,o=e.onBlur,s=e.onFocus,u=e.onPointerMove,c=e.onPointerOut,l=e.onPointerUp,f=e.onPointerDown,d=e.enableEvents,h=void 0===d||d,m=(0,a.useContext)(p),g=m.colorScale,y=m.dataRegistry,b=m.horizontal,x=m.xScale,k=m.yScale,w=sr({children:t,order:n,offset:r}),_=w.seriesChildren,S=w.dataKeys,T=w.stackedData,C=(0,a.useCallback)((function(e){var t,n,r=null==(t=_.find((function(t){return t.props.dataKey===e.dataKey})))||null==(n=t.props)?void 0:n.data;return r?ur(e,r,b):null}),[_,b]),E="BARSTACK_EVENT_SOURCE-"+S.join("-"),O=jn({dataKey:S,enableEvents:h,findNearestDatum:C,onBlur:o,onFocus:s,onPointerMove:u,onPointerOut:c,onPointerUp:l,onPointerDown:f,source:E,allowedSources:[hn,E]});if(S.map((function(e){return y.get(e)})).some((function(e){return null==e}))||!x||!k||!g)return null;var A,I,R,N,P=(0,Mr.Z)(b?k:x),M=P/2;b?(A=function(e){var t,n;return(null!=(t=x((0,qn.xf)(e)))?t:NaN)-(null!=(n=x((0,qn.l8)(e)))?n:NaN)},I=function(){return P},R=function(e){return x((0,qn.l8)(e))},N=function(e){var t;return"bandwidth"in k?k(ar(e.data)):Math.max((null!=(t=k(ar(e.data)))?t:NaN)-M)}):(A=function(){return P},I=function(e){var t,n;return(null!=(t=k((0,qn.l8)(e)))?t:NaN)-(null!=(n=k((0,qn.xf)(e)))?n:NaN)},R=function(e){var t;return"bandwidth"in x?x(ar(e.data)):Math.max((null!=(t=x(ar(e.data)))?t:NaN)-M)},N=function(e){return k((0,qn.xf)(e))});var D=T.map((function(e,t){if(!y.get(e.key))return null;var n=_.find((function(t){return t.props.dataKey===e.key})),r=(null==n?void 0:n.props)||{},i=r.colorAccessor,a=r.radius,o=r.radiusAll,s=r.radiusBottom,u=r.radiusLeft,c=r.radiusRight,l=r.radiusTop;return{key:e.key,radius:a,radiusAll:o,radiusBottom:s,radiusLeft:u,radiusRight:c,radiusTop:l,bars:e.map((function(r,a){var o,s=R(r);if(!v(s))return null;var u=N(r);if(!v(u))return null;var c=A(r);if(!v(c))return null;var l=I(r);if(!v(l))return null;var f=i?null==n||null==(o=n.props)?void 0:o.data[a]:null;return{key:t+"-"+e.key+"-"+a,x:s,y:u,width:c,height:l,fill:f&&i?i(f,a):g(e.key)}})).filter((function(e){return e}))}})).filter((function(e){return e}));return a.createElement("g",{className:"visx-bar-stack"},D.map((function(e){return e&&a.createElement(i,Dr({horizontal:b,xScale:x,yScale:k},e,O,{key:e.key}))})))}jr.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired};var Lr=jr;function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr.apply(this,arguments)}function Zr(e){return a.createElement(Lr,Fr({},e,{BarsComponent:Sr}))}var Br=["renderGlyph"];function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}function Vr(e){var t=e.renderGlyph,n=void 0===t?Bn:t,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Br),i=(0,a.useCallback)((function(e){var t=e.glyphs,r=e.onPointerMove,i=e.onPointerOut,o=e.onPointerUp,s=e.onFocus,u=e.onBlur;return t.map((function(e){return a.createElement(a.Fragment,{key:e.key},n(Ur({},e,{onPointerMove:r,onPointerOut:i,onPointerUp:o,onFocus:s,onBlur:u})))}))}),[n]);return a.createElement(Zn,Ur({},r,{renderGlyphs:i}))}var zr=["colorAccessor","curve","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale","PathComponent"];function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}function Hr(e){var t,n,r,i=e.colorAccessor,o=e.curve,s=e.data,u=e.dataKey,c=e.onBlur,l=e.onFocus,f=e.onPointerMove,d=e.onPointerOut,h=e.onPointerUp,m=e.onPointerDown,g=e.enableEvents,y=void 0===g||g,b=e.xAccessor,x=e.xScale,k=e.yAccessor,w=e.yScale,_=e.PathComponent,S=void 0===_?"path":_,T=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,zr),C=(0,a.useContext)(p),E=C.colorScale,O=C.theme,A=(0,a.useMemo)((function(){return Mn(x,b)}),[x,b]),I=(0,a.useMemo)((function(){return Mn(w,k)}),[w,k]),R=(0,a.useCallback)((function(e){return v(x(b(e)))&&v(w(k(e)))}),[x,b,w,k]),N=null!=(t=null!=(n=null==E?void 0:E(u))?n:null==O||null==(r=O.colors)?void 0:r[0])?t:"#222",P="LINESERIES_EVENT_SOURCE-"+u,M=jn({dataKey:u,enableEvents:y,onBlur:c,onFocus:l,onPointerMove:f,onPointerOut:d,onPointerUp:h,onPointerDown:m,source:P,allowedSources:[hn,P]}),D=Boolean(l||c),j=(0,a.useCallback)((function(e){var t=e.glyphs;return D?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},Bn(Wr({},e,{color:"transparent",onFocus:M.onFocus,onBlur:M.onBlur})))})):null}),[D,M.onFocus,M.onBlur]);return a.createElement(a.Fragment,null,a.createElement(Rn.Z,Wr({x:A,y:I,defined:R,curve:o},T),(function(e){var t,n=e.path;return a.createElement(S,Wr({stroke:null!=(t=null==i?void 0:i(u))?t:N,strokeWidth:2,fill:"transparent",strokeLinecap:"round"},T,{d:n(s)||""},M))})),D&&a.createElement(Fn,{dataKey:u,data:s,xAccessor:b,yAccessor:k,xScale:x,yScale:w,renderGlyphs:j}))}Hr.propTypes={colorAccessor:i().func};var Gr=Pn(Hr);function qr(e){return a.createElement(Gr,e)}var Kr=n(20654),Yr=["d","stroke","fill"];function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}function Qr(e){var t=e.d,n=e.stroke,r=void 0===n?"transparent":n,i=e.fill,o=void 0===i?"transparent":i,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Yr),u=(0,a.useRef)(t),c=(0,a.useCallback)(Bt()((function(e){u.current=e}),50),[]),l=(0,Kr.interpolatePath)(u.current,t);c(t);var f=(0,_.useSpring)({from:{t:0},to:{t:1},reset:!0,delay:0}).t,d=(0,_.useSpring)({stroke:r,fill:o});return a.createElement(_.animated.path,Xr({className:"visx-path",d:f.to(l),stroke:d.stroke,fill:d.fill},s))}function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}function $r(e){return a.createElement(Wn,Jr({},e,{PathComponent:Qr}))}function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function ti(e){return a.createElement(pr,ei({},e,{PathComponent:Qr}))}var ni=function(e){return Boolean(null==e?void 0:e.includes("url("))},ri=function(e){return ni(e)?"rgba(0,0,0,0.1)":e},ii=["bars","xScale","yScale","horizontal","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"],ai=["bars","xScale","yScale","horizontal","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}function si(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ui(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.fill;return{x:t,y:n,width:r,height:i,fill:ri(a),opacity:1}}function ci(e){var t=e.bars,n=(e.xScale,e.yScale,e.horizontal,e.radius),r=e.radiusAll,i=e.radiusTop,o=e.radiusRight,s=e.radiusBottom,u=e.radiusLeft,c=si(e,ii);return a.createElement(a.Fragment,null,t.map((function(e){var t=e.key,l=e.fill,f=e.x,d=e.y,p=e.width,h=e.height;return a.createElement(br.Z,{key:t,x:f,y:d,width:p,height:h,radius:n,all:r,top:i,right:o,bottom:s,left:u},(function(e){var t=e.path;return a.createElement(Qr,oi({className:"visx-bar visx-bar-rounded",d:t,fill:l},c))}))})))}function li(e){var t=e.bars,n=e.xScale,r=e.yScale,i=e.horizontal,o=(e.radius,e.radiusAll,e.radiusTop,e.radiusRight,e.radiusBottom,e.radiusLeft,si(e,ai)),s=(0,_.useTransition)(t,oi({},function(e){var t=e.scale,n=!!e.horizontal;return(0,a.useMemo)((function(){var e=Dn(t);function r(t){var r=t.x,i=t.y,a=t.width,o=t.height,s=t.fill;return{x:n?null!=e?e:0:r,y:n?i:null!=e?e:0,width:n?0:a,height:n?o:0,fill:ri(s),opacity:0}}return{unique:!0,from:r,leave:r,enter:ui,update:ui,keys:function(e){return e.key}}}),[t,n])}({horizontal:i,scale:i?n:r}))),u=Boolean(o.onFocus||o.onBlur);return a.createElement(a.Fragment,null,s((function(e,t,n){var r=e.x,i=e.y,s=e.width,c=e.height,l=e.fill,f=e.opacity,d=n.key;return null==t||null==d?null:a.createElement(_.animated.rect,oi({key:d,tabIndex:u?0:void 0,className:"visx-bar",x:r,y:i,width:s,height:c,fill:ni(t.fill)?t.fill:l,opacity:f},o))})))}function fi(e){return null==e.radius?a.createElement(li,e):a.createElement(ci,oi({},e,{radius:e.radius}))}var di=["colorAccessor"];function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function hi(e){var t=e.colorAccessor,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,di);return a.createElement(Ir,pi({},n,{colorAccessor:t,BarsComponent:fi}))}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(this,arguments)}function mi(e){return a.createElement(Lr,vi({},e,{BarsComponent:fi}))}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(this,arguments)}function yi(e){return a.createElement(yr,gi({},e,{BarsComponent:fi}))}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bi.apply(this,arguments)}function xi(e){var t=e.renderGlyph,n=e.glyphs,r=e.horizontal,i=e.xScale,o=e.yScale,s=e.onBlur,u=e.onFocus,c=e.onPointerMove,l=e.onPointerOut,f=e.onPointerUp,d=(0,_.useTransition)(n,bi({},function(e){var t=e.xScale,n=e.yScale,r=e.horizontal,i=Dn(t),o=Dn(n);return(0,a.useMemo)((function(){return{unique:!0,from:function(e){var t=e.x,n=e.y,a=e.color;return{x:r?i:t,y:r?n:o,color:ri(a),opacity:0}},leave:function(e){var t=e.x,n=e.y,a=e.color;return{x:r?i:t,y:r?n:o,color:ri(a),opacity:0}},enter:function(e){var t=e.x,n=e.y,r=e.color;return{x:t,y:n,color:ri(r),opacity:1}},update:function(e){var t=e.x,n=e.y,r=e.color;return{x:t,y:n,color:ri(r),opacity:1}},keys:function(e){return e.key}}}),[i,o,r])}({xScale:i,yScale:o,horizontal:r})));return a.createElement(a.Fragment,null,d((function(e,n,r){var i=e.x,o=e.y,d=e.color,p=e.opacity,h=r.key;return a.createElement(_.animated.g,{key:h,transform:(0,_.to)([i,o],(function(e,t){return"translate("+e+", "+t+")"})),color:d,opacity:p},t({key:h,datum:n.datum,index:n.index,x:0,y:0,size:n.size,color:ni(n.color)?n.color:"currentColor",onBlur:s,onFocus:u,onPointerMove:c,onPointerOut:l,onPointerUp:f}))})))}var ki=["renderGlyph"];function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)}function _i(e){var t=e.renderGlyph,n=void 0===t?Bn:t,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ki),i=(0,a.useCallback)((function(e){return a.createElement(xi,wi({},e,{renderGlyph:n}))}),[n]);return a.createElement(Zn,wi({},r,{renderGlyphs:i}))}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}function Ti(e){return a.createElement(Gr,Si({},e,{PathComponent:Qr}))}function Ci(e){var t=e.theme,n=void 0===t?en:t,r=e.children;return a.createElement(tn.Provider,{value:n},r)}var Ei=$t({backgroundColor:"#222",colors:[qt.cyan[4],qt.teal[1],qt.yellow[2],qt.red[4],qt.grape[3],qt.grape[6],qt.pink[3]],tickLength:4,svgLabelSmall:{fill:Kt[2]},svgLabelBig:{fill:Kt[0]},gridColor:Kt[4],gridColorDark:Kt[1]})},14249:function(e){"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var a=r(e,t,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+e.length,a[1]),post:i.slice(a[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,a,o,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],a=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<a&&(a=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[a,o])}return s}e.exports=t,t.range=r},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},28182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},66724:function(e,t,n){var r=n(39218),i=n(81772),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},10611:function(e,t,n){var r=n(51219),i=n(81772),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a constructor")}},56299:function(e,t,n){var r=n(39218),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},35715:function(e,t,n){var r=n(95028),i=n(4385),a=n(91592).f,o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},35466:function(e,t,n){"use strict";var r=n(18424).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},14817:function(e,t,n){var r=n(68946),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},45884:function(e,t,n){var r=n(43931),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},14914:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},21531:function(e,t,n){var r=n(92837);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},93866:function(e,t,n){"use strict";var r,i,a,o=n(14914),s=n(31196),u=n(6840),c=n(39218),l=n(43931),f=n(73013),d=n(37205),p=n(81772),h=n(63873),v=n(17543),m=n(50695),g=n(68946),y=n(24305),b=n(4381),x=n(95028),k=n(24839),w=n(49671),_=w.enforce,S=w.get,T=u.Int8Array,C=T&&T.prototype,E=u.Uint8ClampedArray,O=E&&E.prototype,A=T&&y(T),I=C&&y(C),R=Object.prototype,N=u.TypeError,P=x("toStringTag"),M=k("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",j=o&&!!b&&"Opera"!==d(u.opera),L=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Z={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!l(e))return!1;var t=d(e);return f(F,t)||f(Z,t)};for(r in F)(a=(i=u[r])&&i.prototype)?_(a)[D]=i:j=!1;for(r in Z)(a=(i=u[r])&&i.prototype)&&(_(a)[D]=i);if((!j||!c(A)||A===Function.prototype)&&(A=function(){throw N("Incorrect invocation")},j))for(r in F)u[r]&&b(u[r],A);if((!j||!I||I===R)&&(I=A.prototype,j))for(r in F)u[r]&&b(u[r].prototype,I);if(j&&y(O)!==I&&b(O,I),s&&!f(I,P))for(r in L=!0,m(I,P,{configurable:!0,get:function(){return l(this)?this[M]:void 0}}),F)u[r]&&h(u[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:L&&M,aTypedArray:function(e){if(B(e))return e;throw N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||g(A,e)))return e;throw N(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in F){var a=u[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}I[e]&&!n||v(I,e,n?t:j&&C[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in F)if((i=u[r])&&f(i,e))try{delete i[e]}catch(a){}if(A[e]&&!n)return;try{return v(A,e,n?t:j&&A[e]||t)}catch(a){}}for(r in F)!(i=u[r])||i[e]&&!n||v(i,e,t)}},getTypedArrayConstructor:function e(t){var n=y(t);if(l(n)){var r=S(n);return r&&f(r,D)?r[D]:e(n)}},isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(F,t)||f(Z,t)},isTypedArray:B,TypedArray:A,TypedArrayPrototype:I}},40865:function(e,t,n){"use strict";var r=n(6840),i=n(74932),a=n(31196),o=n(14914),s=n(23211),u=n(63873),c=n(50695),l=n(7544),f=n(92837),d=n(14817),p=n(92128),h=n(62347),v=n(31143),m=n(29580),g=n(24305),y=n(4381),b=n(3772).f,x=n(56012),k=n(43278),w=n(53370),_=n(49671),S=s.PROPER,T=s.CONFIGURABLE,C="ArrayBuffer",E="DataView",O="prototype",A="Wrong index",I=_.getterFor(C),R=_.getterFor(E),N=_.set,P=r[C],M=P,D=M&&M[O],j=r[E],L=j&&j[O],F=Object.prototype,Z=r.Array,B=r.RangeError,U=i(x),V=i([].reverse),z=m.pack,W=m.unpack,H=function(e){return[255&e]},G=function(e){return[255&e,e>>8&255]},q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},K=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return z(e,23,4)},X=function(e){return z(e,52,8)},Q=function(e,t,n){c(e[O],t,{configurable:!0,get:function(){return n(this)[t]}})},J=function(e,t,n,r){var i=v(n),a=R(e);if(i+t>a.byteLength)throw B(A);var o=a.bytes,s=i+a.byteOffset,u=k(o,s,s+t);return r?u:V(u)},$=function(e,t,n,r,i,a){var o=v(n),s=R(e);if(o+t>s.byteLength)throw B(A);for(var u=s.bytes,c=o+s.byteOffset,l=r(+i),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]};if(o){var ee=S&&P.name!==C;if(f((function(){P(1)}))&&f((function(){new P(-1)}))&&!f((function(){return new P,new P(1.5),new P(NaN),1!=P.length||ee&&!T})))ee&&T&&u(P,"name",C);else{(M=function(e){return d(this,D),new P(v(e))})[O]=D;for(var te,ne=b(P),re=0;ne.length>re;)(te=ne[re++])in M||u(M,te,P[te]);D.constructor=M}y&&g(L)!==F&&y(L,F);var ie=new j(new M(2)),ae=i(L.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||l(L,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else D=(M=function(e){d(this,D);var t=v(e);N(this,{type:C,bytes:U(Z(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[O],L=(j=function(e,t,n){d(this,L),d(e,D);var r=I(e),i=r.byteLength,o=p(t);if(o<0||o>i)throw B("Wrong offset");if(o+(n=void 0===n?i-o:h(n))>i)throw B("Wrong length");N(this,{type:E,buffer:e,byteLength:n,byteOffset:o,bytes:r.bytes}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=o)})[O],a&&(Q(M,"byteLength",I),Q(j,"buffer",R),Q(j,"byteLength",R),Q(j,"byteOffset",R)),l(L,{getInt8:function(e){return J(this,1,e)[0]<<24>>24},getUint8:function(e){return J(this,1,e)[0]},getInt16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return K(J(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return K(J(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return W(J(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return W(J(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){$(this,1,e,H,t)},setUint8:function(e,t){$(this,1,e,H,t)},setInt16:function(e,t){$(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){$(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){$(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){$(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){$(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){$(this,8,e,X,t,arguments.length>2?arguments[2]:void 0)}});w(M,C),w(j,E),e.exports={ArrayBuffer:M,DataView:j}},54739:function(e,t,n){"use strict";var r=n(28385),i=n(41823),a=n(23385),o=n(87820),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),c=i(e,u),l=i(t,u),f=arguments.length>2?arguments[2]:void 0,d=s((void 0===f?u:i(f,u))-l,u-c),p=1;for(l<c&&c<l+d&&(p=-1,l+=d-1,c+=d-1);d-- >0;)l in n?n[c]=n[l]:o(n,c),c+=p,l+=p;return n}},56012:function(e,t,n){"use strict";var r=n(28385),i=n(41823),a=n(23385);e.exports=function(e){for(var t=r(this),n=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},48129:function(e,t,n){"use strict";var r=n(5880).forEach,i=n(92241)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},11793:function(e,t,n){var r=n(23385);e.exports=function(e,t){for(var n=0,i=r(t),a=new e(i);i>n;)a[n]=t[n++];return a}},22422:function(e,t,n){"use strict";var r=n(5851),i=n(98513),a=n(28385),o=n(81940),s=n(38205),u=n(51219),c=n(23385),l=n(13055),f=n(78131),d=n(40443),p=Array;e.exports=function(e){var t=a(e),n=u(this),h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v;m&&(v=r(v,h>2?arguments[2]:void 0));var g,y,b,x,k,w,_=d(t),S=0;if(!_||this===p&&s(_))for(g=c(t),y=n?new this(g):p(g);g>S;S++)w=m?v(t[S],S):t[S],l(y,S,w);else for(k=(x=f(t,_)).next,y=n?new this:[];!(b=i(k,x)).done;S++)w=m?o(x,v,[b.value,S],!0):b.value,l(y,S,w);return y.length=S,y}},70488:function(e,t,n){var r=n(45770),i=n(41823),a=n(23385),o=function(e){return function(t,n,o){var s,u=r(t),c=a(u),l=i(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},5880:function(e,t,n){var r=n(5851),i=n(74932),a=n(71036),o=n(28385),s=n(23385),u=n(95491),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,v,m,g){for(var y,b,x=o(h),k=a(x),w=r(v,m),_=s(k),S=0,T=g||u,C=t?T(h,_):n||d?T(h,0):void 0;_>S;S++)if((p||S in k)&&(b=w(y=k[S],S,x),e))if(t)C[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c(C,y)}else switch(e){case 4:return!1;case 7:c(C,y)}return f?-1:i||l?l:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},2561:function(e,t,n){"use strict";var r=n(86339),i=n(45770),a=n(92128),o=n(23385),s=n(92241),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),s=n-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},81379:function(e,t,n){var r=n(92837),i=n(95028),a=n(65372),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},92241:function(e,t,n){"use strict";var r=n(92837);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},94512:function(e,t,n){var r=n(66724),i=n(28385),a=n(71036),o=n(23385),s=TypeError,u=function(e){return function(t,n,u,c){r(n);var l=i(t),f=a(l),d=o(l),p=e?d-1:0,h=e?-1:1;if(u<2)for(;;){if(p in f){c=f[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw s("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in f&&(c=n(c,f[p],p,l));return c}};e.exports={left:u(!1),right:u(!0)}},57950:function(e,t,n){"use strict";var r=n(31196),i=n(51941),a=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},43278:function(e,t,n){var r=n(41823),i=n(23385),a=n(13055),o=Array,s=Math.max;e.exports=function(e,t,n){for(var u=i(e),c=r(t,u),l=r(void 0===n?u:n,u),f=o(s(l-c,0)),d=0;c<l;c++,d++)a(f,d,e[c]);return f.length=d,f}},15618:function(e,t,n){var r=n(74932);e.exports=r([].slice)},47732:function(e,t,n){var r=n(43278),i=Math.floor,a=function(e,t){for(var n,r,i=e.length,a=1;a<i;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},o=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e};e.exports=function e(t,n){var s=t.length,u=i(s/2);return s<8?a(t,n):o(t,e(r(t,0,u),n),e(r(t,u),n),n)}},89026:function(e,t,n){var r=n(51941),i=n(51219),a=n(43931),o=n(95028)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},95491:function(e,t,n){var r=n(89026);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},81940:function(e,t,n){var r=n(45884),i=n(9053);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},6225:function(e,t,n){var r=n(95028)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},82933:function(e,t,n){var r=n(74932),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},37205:function(e,t,n){var r=n(56042),i=n(39218),a=n(82933),o=n(95028)("toStringTag"),s=Object,u="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),o))?n:u?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},13425:function(e,t,n){"use strict";var r=n(4385),i=n(50695),a=n(7544),o=n(5851),s=n(14817),u=n(19055),c=n(54439),l=n(54931),f=n(35927),d=n(52267),p=n(31196),h=n(12499).fastKey,v=n(49671),m=v.set,g=v.getterFor;e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,i){s(e,d),m(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),u(i)||c(i,e[l],{that:e,AS_ENTRIES:n})})),d=f.prototype,v=g(t),y=function(e,t,n){var r,i,a=v(e),o=b(e,t);return o?o.value=n:(a.last=o={index:i=h(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),p?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},b=function(e,t){var n,r=v(e),i=h(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=b(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(d,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),p&&i(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);l(e,t,(function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},93309:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(74932),o=n(96673),s=n(17543),u=n(12499),c=n(54439),l=n(14817),f=n(39218),d=n(19055),p=n(43931),h=n(92837),v=n(6225),m=n(53370),g=n(21527);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),x=y?"set":"add",k=i[e],w=k&&k.prototype,_=k,S={},T=function(e){var t=a(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!f(k)||!(b||w.forEach&&!h((function(){(new k).entries().next()})))))_=n.getConstructor(t,e,y,x),u.enable();else if(o(e,!0)){var C=new _,E=C[x](b?{}:-0,1)!=C,O=h((function(){C.has(1)})),A=v((function(e){new k(e)})),I=!b&&h((function(){for(var e=new k,t=5;t--;)e[x](t,t);return!e.has(-0)}));A||((_=t((function(e,t){l(e,w);var n=g(new k,e,_);return d(t)||c(t,n[x],{that:n,AS_ENTRIES:y}),n}))).prototype=w,w.constructor=_),(O||I)&&(T("delete"),T("has"),y&&T("get")),(I||E)&&T(x),b&&w.clear&&delete w.clear}return S[e]=_,r({global:!0,constructor:!0,forced:_!=k},S),m(_,e),b||n.setStrong(_,e,y),_}},90189:function(e,t,n){var r=n(73013),i=n(17273),a=n(32573),o=n(91592);e.exports=function(e,t,n){for(var s=i(t),u=o.f,c=a.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||u(e,f,c(t,f))}}},2525:function(e,t,n){var r=n(95028)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},11586:function(e,t,n){var r=n(92837);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},35927:function(e){e.exports=function(e,t){return{value:e,done:t}}},63873:function(e,t,n){var r=n(31196),i=n(91592),a=n(72037);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},72037:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},13055:function(e,t,n){"use strict";var r=n(54655),i=n(91592),a=n(72037);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},50695:function(e,t,n){var r=n(32557),i=n(91592);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},17543:function(e,t,n){var r=n(39218),i=n(91592),a=n(32557),o=n(19131);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)u?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},7544:function(e,t,n){var r=n(17543);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},19131:function(e,t,n){var r=n(6840),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},87820:function(e,t,n){"use strict";var r=n(81772),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},31196:function(e,t,n){var r=n(92837);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},24363:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},90937:function(e,t,n){var r=n(6840),i=n(43931),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},96117:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},50650:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22752:function(e,t,n){var r=n(90937)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},58336:function(e,t,n){var r=n(84839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},64163:function(e,t,n){var r=n(46681),i=n(31653);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},46681:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},64891:function(e,t,n){var r=n(84839);e.exports=/MSIE|Trident/.test(r)},71070:function(e,t,n){var r=n(84839);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},63929:function(e,t,n){var r=n(84839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},31653:function(e,t,n){var r=n(82933);e.exports="undefined"!=typeof process&&"process"==r(process)},81785:function(e,t,n){var r=n(84839);e.exports=/web0s(?!.*chrome)/i.test(r)},84839:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},65372:function(e,t,n){var r,i,a=n(6840),o=n(84839),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},24469:function(e,t,n){var r=n(84839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},12080:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},67768:function(e,t,n){var r=n(6840),i=n(32573).f,a=n(63873),o=n(17543),s=n(19131),u=n(90189),c=n(96673);e.exports=function(e,t){var n,l,f,d,p,h=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(v?l:h+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(n,l,d,e)}}},92837:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},58093:function(e,t,n){"use strict";n(20447);var r=n(7926),i=n(17543),a=n(94087),o=n(92837),s=n(95028),u=n(63873),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!h||n){var v=r(/./[d]),m=t(d,""[e],(function(e,t,n,i,o){var s=r(e),u=t.exec;return u===a||u===l.exec?p&&!o?{done:!0,value:v(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,d,m[1])}f&&u(l[d],"sham",!0)}},7914:function(e,t,n){var r=n(92837);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86339:function(e,t,n){var r=n(54138),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},5851:function(e,t,n){var r=n(7926),i=n(66724),a=n(54138),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},54138:function(e,t,n){var r=n(92837);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},66448:function(e,t,n){"use strict";var r=n(74932),i=n(66724),a=n(43931),o=n(73013),s=n(15618),u=n(54138),c=Function,l=r([].concat),f=r([].join),d={};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),u=function(){var n=l(r,s(arguments));return this instanceof u?function(e,t,n){if(!o(d,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";d[t]=c("C,a","return new C("+f(r,",")+")")}return d[t](e,n)}(t,n.length,n):t.apply(e,n)};return a(n)&&(u.prototype=n),u}},98513:function(e,t,n){var r=n(54138),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},23211:function(e,t,n){var r=n(31196),i=n(73013),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},75951:function(e,t,n){var r=n(74932),i=n(66724);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(a){}}},7926:function(e,t,n){var r=n(82933),i=n(74932);e.exports=function(e){if("Function"===r(e))return i(e)}},74932:function(e,t,n){var r=n(54138),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);e.exports=r?o:function(e){return function(){return a.apply(e,arguments)}}},1240:function(e,t,n){var r=n(6840),i=n(39218);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},40443:function(e,t,n){var r=n(37205),i=n(23863),a=n(19055),o=n(29706),s=n(95028)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[r(e)]}},78131:function(e,t,n){var r=n(98513),i=n(66724),a=n(45884),o=n(81772),s=n(40443),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return a(r(n,e));throw u(o(e)+" is not iterable")}},75097:function(e,t,n){var r=n(74932),i=n(51941),a=n(39218),o=n(82933),s=n(86124),u=r([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!=o(c)&&"String"!=o(c)||u(n,s(c))}var l=n.length,f=!0;return function(e,t){if(f)return f=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},23863:function(e,t,n){var r=n(66724),i=n(19055);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},17794:function(e,t,n){var r=n(74932),i=n(28385),a=Math.floor,o=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,h=r.length,v=l;return void 0!==f&&(f=i(f),v=c),s(d,v,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>h){var d=a(l/10);return 0===d?i:d<=h?void 0===r[d-1]?o(s,1):r[d-1]+o(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},6840:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},73013:function(e,t,n){var r=n(74932),i=n(28385),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},56196:function(e){e.exports={}},65995:function(e){e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(n){}}},62012:function(e,t,n){var r=n(1240);e.exports=r("document","documentElement")},36707:function(e,t,n){var r=n(31196),i=n(92837),a=n(90937);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},29580:function(e){var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,u){var c,l,f,d=t(u),p=8*u-s-1,h=(1<<p)-1,v=h>>1,m=23===s?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=i(a(e)/o),e*(f=r(2,-c))<1&&(c--,f*=2),(e+=c+v>=1?m/f:m*r(2,1-v))*f>=2&&(c++,f/=2),c+v>=h?(l=0,c=h):c+v>=1?(l=(e*f-1)*r(2,s),c+=v):(l=e*r(2,v-1)*r(2,s),c=0));s>=8;)d[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,p+=s;p>0;)d[y++]=255&c,c/=256,p-=8;return d[--y]|=128*g,d},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=e[c--],f=127&l;for(l>>=7;u>0;)f=256*f+e[c--],u-=8;for(n=f&(1<<-u)-1,f>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===f)f=1-s;else{if(f===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),f-=s}return(l?-1:1)*n*r(2,f-t)}}},71036:function(e,t,n){var r=n(74932),i=n(92837),a=n(82933),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},21527:function(e,t,n){var r=n(39218),i=n(43931),a=n(4381);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},88589:function(e,t,n){var r=n(74932),i=n(39218),a=n(74460),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},12499:function(e,t,n){var r=n(67768),i=n(74932),a=n(56196),o=n(43931),s=n(73013),u=n(91592).f,c=n(3772),l=n(8910),f=n(86643),d=n(24839),p=n(7914),h=!1,v=d("meta"),m=0,g=function(e){u(e,v,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},h=!0;var e=c.f,t=i([].splice),n={};n[v]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===v){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[v].weakData},onFreeze:function(e){return p&&h&&f(e)&&!s(e,v)&&g(e),e}};a[v]=!0},49671:function(e,t,n){var r,i,a,o=n(61615),s=n(6840),u=n(43931),c=n(63873),l=n(73013),f=n(74460),d=n(89378),p=n(56196),h="Object already initialized",v=s.TypeError,m=s.WeakMap;if(o||f.state){var g=f.state||(f.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw v(h);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},a=function(e){return g.has(e)}}else{var y=d("state");p[y]=!0,r=function(e,t){if(l(e,y))throw v(h);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},38205:function(e,t,n){var r=n(95028),i=n(29706),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},51941:function(e,t,n){var r=n(82933);e.exports=Array.isArray||function(e){return"Array"==r(e)}},58817:function(e,t,n){var r=n(37205);e.exports=function(e){var t=r(e);return"BigInt64Array"==t||"BigUint64Array"==t}},39218:function(e,t,n){var r=n(24363),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},51219:function(e,t,n){var r=n(74932),i=n(92837),a=n(39218),o=n(37205),s=n(1240),u=n(88589),c=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),h=!d.exec(c),v=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,u(e))}catch(t){return!0}};m.sham=!0,e.exports=!f||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?m:v},96673:function(e,t,n){var r=n(92837),i=n(39218),a=/#|\.prototype\./,o=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},57724:function(e,t,n){var r=n(43931),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},19055:function(e){e.exports=function(e){return null===e||void 0===e}},43931:function(e,t,n){var r=n(39218),i=n(24363),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},23608:function(e){e.exports=!1},10670:function(e,t,n){var r=n(43931),i=n(82933),a=n(95028)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},28287:function(e,t,n){var r=n(1240),i=n(39218),a=n(68946),o=n(47611),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},54439:function(e,t,n){var r=n(5851),i=n(98513),a=n(45884),o=n(81772),s=n(38205),u=n(23385),c=n(68946),l=n(78131),f=n(40443),d=n(9053),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,n){var m,g,y,b,x,k,w,_=n&&n.that,S=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),O=r(t,_),A=function(e){return m&&d(m,"normal",e),new h(!0,e)},I=function(e){return S?(a(e),E?O(e[0],e[1],A):O(e[0],e[1])):E?O(e,A):O(e)};if(T)m=e.iterator;else if(C)m=e;else{if(!(g=f(e)))throw p(o(e)+" is not iterable");if(s(g)){for(y=0,b=u(e);b>y;y++)if((x=I(e[y]))&&c(v,x))return x;return new h(!1)}m=l(e,g)}for(k=T?e.next:m.next;!(w=i(k,m)).done;){try{x=I(w.value)}catch(R){d(m,"throw",R)}if("object"==typeof x&&x&&c(v,x))return x}return new h(!1)}},9053:function(e,t,n){var r=n(98513),i=n(45884),a=n(23863);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(u){s=!0,o=u}if("throw"===t)throw n;if(s)throw o;return i(o),n}},1331:function(e,t,n){"use strict";var r=n(27022).IteratorPrototype,i=n(4385),a=n(72037),o=n(53370),s=n(29706),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),s[l]=u,e}},54931:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(23608),o=n(23211),s=n(39218),u=n(1331),c=n(24305),l=n(4381),f=n(53370),d=n(63873),p=n(17543),h=n(95028),v=n(29706),m=n(27022),g=o.PROPER,y=o.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,k=h("iterator"),w="keys",_="values",S="entries",T=function(){return this};e.exports=function(e,t,n,o,h,m,C){u(n,t,o);var E,O,A,I=function(e){if(e===h&&D)return D;if(!x&&e in P)return P[e];switch(e){case w:case _:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",N=!1,P=e.prototype,M=P[k]||P["@@iterator"]||h&&P[h],D=!x&&M||I(h),j="Array"==t&&P.entries||M;if(j&&(E=c(j.call(new e)))!==Object.prototype&&E.next&&(a||c(E)===b||(l?l(E,b):s(E[k])||p(E,k,T)),f(E,R,!0,!0),a&&(v[R]=T)),g&&h==_&&M&&M.name!==_&&(!a&&y?d(P,"name",_):(N=!0,D=function(){return i(M,this)})),h)if(O={values:I(_),keys:m?D:I(w),entries:I(S)},C)for(A in O)(x||N||!(A in P))&&p(P,A,O[A]);else r({target:t,proto:!0,forced:x||N},O);return a&&!C||P[k]===D||p(P,k,D,{name:h}),v[t]=D,O}},27022:function(e,t,n){"use strict";var r,i,a,o=n(92837),s=n(39218),u=n(43931),c=n(4385),l=n(24305),f=n(17543),d=n(95028),p=n(23608),h=d("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(r=i):v=!0),!u(r)||o((function(){var e={};return r[h].call(e)!==e}))?r={}:p&&(r=c(r)),s(r[h])||f(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},29706:function(e){e.exports={}},23385:function(e,t,n){var r=n(62347);e.exports=function(e){return r(e.length)}},32557:function(e,t,n){var r=n(74932),i=n(92837),a=n(39218),o=n(73013),s=n(31196),u=n(23211).CONFIGURABLE,c=n(88589),l=n(49671),f=l.enforce,d=l.get,p=String,h=Object.defineProperty,v=r("".slice),m=r("".replace),g=r([].join),y=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=e.exports=function(e,t,n){"Symbol("===v(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&o(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=f(e);return o(r,"source")||(r.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=x((function(){return a(this)&&d(this).source||c(this)}),"toString")},21246:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},24410:function(e,t,n){var r,i,a,o,s,u=n(6840),c=n(5851),l=n(32573).f,f=n(91625).set,d=n(9033),p=n(63929),h=n(71070),v=n(81785),m=n(31653),g=u.MutationObserver||u.WebKitMutationObserver,y=u.document,b=u.process,x=u.Promise,k=l(u,"queueMicrotask"),w=k&&k.value;if(!w){var _=new d,S=function(){var e,t;for(m&&(e=b.domain)&&e.exit();t=_.get();)try{t()}catch(n){throw _.head&&r(),n}e&&e.enter()};p||m||v||!g||!y?!h&&x&&x.resolve?((o=x.resolve(void 0)).constructor=x,s=c(o.then,o),r=function(){s(S)}):m?r=function(){b.nextTick(S)}:(f=c(f,u),r=function(){f(S)}):(i=!0,a=y.createTextNode(""),new g(S).observe(a,{characterData:!0}),r=function(){a.data=i=!i}),w=function(e){_.head||r(),_.add(e)}}e.exports=w},30246:function(e,t,n){"use strict";var r=n(66724),i=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},79693:function(e,t,n){var r=n(10670),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},52526:function(e,t,n){"use strict";var r=n(31196),i=n(74932),a=n(98513),o=n(92837),s=n(18084),u=n(60400),c=n(28306),l=n(28385),f=n(71036),d=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!d||o((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||s(d({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,o=1,d=u.f,p=c.f;i>o;)for(var v,m=f(arguments[o++]),g=d?h(s(m),d(m)):s(m),y=g.length,b=0;y>b;)v=g[b++],r&&!a(p,m,v)||(n[v]=m[v]);return n}:d},4385:function(e,t,n){var r,i=n(45884),a=n(61697),o=n(12080),s=n(56196),u=n(62012),c=n(90937),l=n(89378),f="prototype",d="script",p=l("IE_PROTO"),h=function(){},v=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}g="undefined"!=typeof document?document.domain&&r?m(r):function(){var e,t=c("iframe"),n="java"+d+":";return t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F}():m(r);for(var e=o.length;e--;)delete g[f][o[e]];return g()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[f]=i(e),n=new h,h[f]=null,n[p]=e):n=g(),void 0===t?n:a.f(n,t)}},61697:function(e,t,n){var r=n(31196),i=n(26056),a=n(91592),o=n(45884),s=n(45770),u=n(18084);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)a.f(e,n=i[l++],r[n]);return e}},91592:function(e,t,n){var r=n(31196),i=n(36707),a=n(26056),o=n(45884),s=n(54655),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},32573:function(e,t,n){var r=n(31196),i=n(98513),a=n(28306),o=n(72037),s=n(45770),u=n(54655),c=n(73013),l=n(36707),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},8910:function(e,t,n){var r=n(82933),i=n(45770),a=n(3772).f,o=n(43278),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return a(e)}catch(t){return o(s)}}(e):a(i(e))}},3772:function(e,t,n){var r=n(63080),i=n(12080).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},60400:function(e,t){t.f=Object.getOwnPropertySymbols},24305:function(e,t,n){var r=n(73013),i=n(39218),a=n(28385),o=n(89378),s=n(11586),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},86643:function(e,t,n){var r=n(92837),i=n(43931),a=n(82933),o=n(21531),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!s||s(e)))}:s},68946:function(e,t,n){var r=n(74932);e.exports=r({}.isPrototypeOf)},63080:function(e,t,n){var r=n(74932),i=n(73013),a=n(45770),o=n(70488).indexOf,s=n(56196),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},18084:function(e,t,n){var r=n(63080),i=n(12080);e.exports=Object.keys||function(e){return r(e,i)}},28306:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4381:function(e,t,n){var r=n(75951),i=n(45884),a=n(56299);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},19700:function(e,t,n){var r=n(31196),i=n(74932),a=n(18084),o=n(45770),s=i(n(28306).f),u=i([].push),c=function(e){return function(t){for(var n,i=o(t),c=a(i),l=c.length,f=0,d=[];l>f;)n=c[f++],r&&!s(i,n)||u(d,e?[n,i[n]]:i[n]);return d}};e.exports={entries:c(!0),values:c(!1)}},84289:function(e,t,n){"use strict";var r=n(56042),i=n(37205);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},67772:function(e,t,n){var r=n(98513),i=n(39218),a=n(43931),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw o("Can't convert object to primitive value")}},17273:function(e,t,n){var r=n(1240),i=n(74932),a=n(3772),o=n(60400),s=n(45884),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?u(t,n(e)):t}},34750:function(e,t,n){var r=n(6840);e.exports=r},63752:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},77426:function(e,t,n){var r=n(6840),i=n(31),a=n(39218),o=n(96673),s=n(88589),u=n(95028),c=n(64163),l=n(46681),f=n(23608),d=n(65372),p=i&&i.prototype,h=u("species"),v=!1,m=a(r.PromiseRejectionEvent),g=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(f&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!t&&(c||l)&&!m}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:v}},31:function(e,t,n){var r=n(6840);e.exports=r.Promise},86321:function(e,t,n){var r=n(45884),i=n(43931),a=n(30246);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},71321:function(e,t,n){var r=n(31),i=n(6225),a=n(77426).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},9033:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},22781:function(e,t,n){var r=n(98513),i=n(45884),a=n(39218),o=n(82933),s=n(94087),u=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},94087:function(e,t,n){"use strict";var r=n(98513),i=n(74932),a=n(86124),o=n(67687),s=n(8596),u=n(91778),c=n(4385),l=n(49671).get,f=n(12047),d=n(32063),p=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,v=h,m=i("".charAt),g=i("".indexOf),y=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=s.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(x||w||k||f||d)&&(v=function(e){var t,n,i,s,u,f,d,_=this,S=l(_),T=a(e),C=S.raw;if(C)return C.lastIndex=_.lastIndex,t=r(v,C,T),_.lastIndex=C.lastIndex,t;var E=S.groups,O=k&&_.sticky,A=r(o,_),I=_.source,R=0,N=T;if(O&&(A=y(A,"y",""),-1===g(A,"g")&&(A+="g"),N=b(T,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==m(T,_.lastIndex-1))&&(I="(?: "+I+")",N=" "+N,R++),n=new RegExp("^(?:"+I+")",A)),w&&(n=new RegExp("^"+I+"$(?!\\s)",A)),x&&(i=_.lastIndex),s=r(h,O?n:_,N),O?s?(s.input=b(s.input,R),s[0]=b(s[0],R),s.index=_.lastIndex,_.lastIndex+=s[0].length):_.lastIndex=0:x&&s&&(_.lastIndex=_.global?s.index+s[0].length:i),w&&s&&s.length>1&&r(p,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&E)for(s.groups=f=c(null),u=0;u<E.length;u++)f[(d=E[u])[0]]=s[d[1]];return s}),e.exports=v},67687:function(e,t,n){"use strict";var r=n(45884);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},97667:function(e,t,n){var r=n(98513),i=n(73013),a=n(68946),o=n(67687),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:r(o,e)}},8596:function(e,t,n){var r=n(92837),i=n(6840).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},12047:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},32063:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2244:function(e,t,n){var r=n(19055),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},58362:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},52267:function(e,t,n){"use strict";var r=n(1240),i=n(50695),a=n(95028),o=n(31196),s=a("species");e.exports=function(e){var t=r(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},53370:function(e,t,n){var r=n(91592).f,i=n(73013),a=n(95028)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},89378:function(e,t,n){var r=n(91778),i=n(24839),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},74460:function(e,t,n){var r=n(6840),i=n(19131),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},91778:function(e,t,n){var r=n(23608),i=n(74460);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},917:function(e,t,n){var r=n(45884),i=n(10611),a=n(19055),o=n(95028)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||a(n=r(s)[o])?t:i(n)}},18424:function(e,t,n){var r=n(74932),i=n(92128),a=n(86124),o=n(2244),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),d=i(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=u(f,d))<55296||r>56319||d+1===p||(l=u(f,d+1))<56320||l>57343?e?s(f,d):r:e?c(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},31649:function(e,t,n){var r=n(74932),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=r(o.exec),l=Math.floor,f=String.fromCharCode,d=r("".charCodeAt),p=r([].join),h=r([].push),v=r("".replace),m=r("".split),g=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},x=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=d(e,n++);if(i>=55296&&i<=56319&&n<r){var a=d(e,n++);56320==(64512&a)?h(t,((1023&i)<<10)+(1023&a)+65536):(h(t,i),n--)}else h(t,i)}return t}(e);var n,r,a=e.length,o=128,c=0,v=72;for(n=0;n<e.length;n++)(r=e[n])<128&&h(t,f(r));var m=t.length,g=m;for(m&&h(t,"-");g<a;){var x=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<x&&(x=r);var k=g+1;if(x-o>l((i-c)/k))throw u(s);for(c+=(x-o)*k,o=x,n=0;n<e.length;n++){if((r=e[n])<o&&++c>i)throw u(s);if(r==o){for(var w=c,_=36;;){var S=_<=v?1:_>=v+26?26:_-v;if(w<S)break;var T=w-S,C=36-S;h(t,f(y(S+T%C))),w=l(T/C),_+=36}h(t,f(y(w))),v=b(c,k,g==m),c=0,g++}}c++,o++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=m(v(g(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],h(r,c(a,n)?"xn--"+x(n):n);return p(r,".")}},56889:function(e,t,n){var r=n(74932),i=n(2244),a=n(86124),o=n(95450),s=r("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,c,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},20166:function(e,t,n){var r=n(65372),i=n(92837),a=n(6840).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},32745:function(e,t,n){var r=n(98513),i=n(1240),a=n(95028),o=n(17543);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return r(n,this)}),{arity:1})}},12102:function(e,t,n){var r=n(20166);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},91625:function(e,t,n){var r,i,a,o,s=n(6840),u=n(86339),c=n(5851),l=n(39218),f=n(73013),d=n(92837),p=n(62012),h=n(15618),v=n(90937),m=n(34974),g=n(63929),y=n(31653),b=s.setImmediate,x=s.clearImmediate,k=s.process,w=s.Dispatch,_=s.Function,S=s.MessageChannel,T=s.String,C=0,E={},O="onreadystatechange";d((function(){r=s.location}));var A=function(e){if(f(E,e)){var t=E[e];delete E[e],t()}},I=function(e){return function(){A(e)}},R=function(e){A(e.data)},N=function(e){s.postMessage(T(e),r.protocol+"//"+r.host)};b&&x||(b=function(e){m(arguments.length,1);var t=l(e)?e:_(e),n=h(arguments,1);return E[++C]=function(){u(t,void 0,n)},i(C),C},x=function(e){delete E[e]},y?i=function(e){k.nextTick(I(e))}:w&&w.now?i=function(e){w.now(I(e))}:S&&!g?(o=(a=new S).port2,a.port1.onmessage=R,i=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(N)?(i=N,s.addEventListener("message",R,!1)):i=O in v("script")?function(e){p.appendChild(v("script"))[O]=function(){p.removeChild(this),A(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:b,clear:x}},34748:function(e,t,n){var r=n(74932);e.exports=r(1..valueOf)},41823:function(e,t,n){var r=n(92128),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},69818:function(e,t,n){var r=n(66740),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},31143:function(e,t,n){var r=n(92128),i=n(62347),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw a("Wrong length or index");return n}},45770:function(e,t,n){var r=n(71036),i=n(2244);e.exports=function(e){return r(i(e))}},92128:function(e,t,n){var r=n(21246);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},62347:function(e,t,n){var r=n(92128),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},28385:function(e,t,n){var r=n(2244),i=Object;e.exports=function(e){return i(r(e))}},25303:function(e,t,n){var r=n(8718),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},8718:function(e,t,n){var r=n(92128),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},66740:function(e,t,n){var r=n(98513),i=n(43931),a=n(28287),o=n(23863),s=n(67772),u=n(95028),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,u=o(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},54655:function(e,t,n){var r=n(66740),i=n(28287);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},56042:function(e,t,n){var r={};r[n(95028)("toStringTag")]="z",e.exports="[object z]"===String(r)},86124:function(e,t,n){var r=n(37205),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},81772:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},2859:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(98513),o=n(31196),s=n(36255),u=n(93866),c=n(40865),l=n(14817),f=n(72037),d=n(63873),p=n(57724),h=n(62347),v=n(31143),m=n(25303),g=n(54655),y=n(73013),b=n(37205),x=n(43931),k=n(28287),w=n(4385),_=n(68946),S=n(4381),T=n(3772).f,C=n(44137),E=n(5880).forEach,O=n(52267),A=n(50695),I=n(91592),R=n(32573),N=n(49671),P=n(21527),M=N.get,D=N.set,j=N.enforce,L=I.f,F=R.f,Z=Math.round,B=i.RangeError,U=c.ArrayBuffer,V=U.prototype,z=c.DataView,W=u.NATIVE_ARRAY_BUFFER_VIEWS,H=u.TYPED_ARRAY_TAG,G=u.TypedArray,q=u.TypedArrayPrototype,K=u.aTypedArrayConstructor,Y=u.isTypedArray,X="BYTES_PER_ELEMENT",Q="Wrong length",J=function(e,t){K(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},$=function(e,t){A(e,t,{configurable:!0,get:function(){return M(this)[t]}})},ee=function(e){var t;return _(V,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},te=function(e,t){return Y(e)&&!k(t)&&t in e&&p(+t)&&t>=0},ne=function(e,t){return t=g(t),te(e,t)?f(2,e[t]):F(e,t)},re=function(e,t,n){return t=g(t),!(te(e,t)&&x(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)};o?(W||(R.f=ne,I.f=re,$(q,"buffer"),$(q,"byteOffset"),$(q,"byteLength"),$(q,"length")),r({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:ne,defineProperty:re}),e.exports=function(e,t,n){var o=e.match(/\d+/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,p=i[u],g=p,y=g&&g.prototype,b={},k=function(e,t){L(e,t,{get:function(){return function(e,t){var n=M(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=M(e);n&&(r=(r=Z(r))<0?0:r>255?255:255&r),i.view[f](t*o+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};W?s&&(g=t((function(e,t,n,r){return l(e,y),P(x(t)?ee(t)?void 0!==r?new p(t,m(n,o),r):void 0!==n?new p(t,m(n,o)):new p(t):Y(t)?J(g,t):a(C,g,t):new p(v(t)),e,g)})),S&&S(g,G),E(T(p),(function(e){e in g||d(g,e,p[e])})),g.prototype=y):(g=t((function(e,t,n,r){l(e,y);var i,s,u,c=0,f=0;if(x(t)){if(!ee(t))return Y(t)?J(g,t):a(C,g,t);i=t,f=m(n,o);var d=t.byteLength;if(void 0===r){if(d%o)throw B(Q);if((s=d-f)<0)throw B(Q)}else if((s=h(r)*o)+f>d)throw B(Q);u=s/o}else u=v(t),i=new U(s=u*o);for(D(e,{buffer:i,byteOffset:f,byteLength:s,length:u,view:new z(i)});c<u;)k(e,c++)})),S&&S(g,G),y=g.prototype=w(q)),y.constructor!==g&&d(y,"constructor",g),j(y).TypedArrayConstructor=g,H&&d(y,H,u);var _=g!=p;b[u]=g,r({global:!0,constructor:!0,forced:_,sham:!W},b),X in g||d(g,X,o),X in y||d(y,X,o),O(u)}):e.exports=function(){}},36255:function(e,t,n){var r=n(6840),i=n(92837),a=n(6225),o=n(93866).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},53702:function(e,t,n){var r=n(11793),i=n(87349);e.exports=function(e,t){return r(i(e),t)}},44137:function(e,t,n){var r=n(5851),i=n(98513),a=n(10611),o=n(28385),s=n(23385),u=n(78131),c=n(40443),l=n(38205),f=n(58817),d=n(93866).aTypedArrayConstructor,p=n(69818);e.exports=function(e){var t,n,h,v,m,g,y,b,x=a(this),k=o(e),w=arguments.length,_=w>1?arguments[1]:void 0,S=void 0!==_,T=c(k);if(T&&!l(T))for(b=(y=u(k,T)).next,k=[];!(g=i(b,y)).done;)k.push(g.value);for(S&&w>2&&(_=r(_,arguments[2])),n=s(k),h=new(d(x))(n),v=f(h),t=0;n>t;t++)m=S?_(k[t],t):k[t],h[t]=v?p(m):+m;return h}},87349:function(e,t,n){var r=n(93866),i=n(917),a=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},24839:function(e,t,n){var r=n(74932),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},91451:function(e,t,n){var r=n(92837),i=n(95028),a=n(31196),o=n(23608),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},47611:function(e,t,n){var r=n(20166);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},26056:function(e,t,n){var r=n(31196),i=n(92837);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},34974:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},61615:function(e,t,n){var r=n(6840),i=n(39218),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},22162:function(e,t,n){var r=n(34750),i=n(73013),a=n(21384),o=n(91592).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},21384:function(e,t,n){var r=n(95028);t.f=r},95028:function(e,t,n){var r=n(6840),i=n(91778),a=n(73013),o=n(24839),s=n(20166),u=n(47611),c=r.Symbol,l=i("wks"),f=u?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(l[e]=s&&a(c,e)?c[e]:f("Symbol."+e)),l[e]}},95450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},4778:function(e,t,n){"use strict";var r=n(67768),i=n(92837),a=n(51941),o=n(43931),s=n(28385),u=n(23385),c=n(96117),l=n(13055),f=n(95491),d=n(81379),p=n(95028),h=n(65372),v=p("isConcatSpreadable"),m=h>=51||!i((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!d("concat")},{concat:function(e){var t,n,r,i,a,o=s(this),d=f(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(g(a=-1===t?o:arguments[t]))for(i=u(a),c(p+i),n=0;n<i;n++,p++)n in a&&l(d,p,a[n]);else c(p+1),l(d,p++,a);return d.length=p,d}})},33858:function(e,t,n){"use strict";var r=n(67768),i=n(5880).filter;r({target:"Array",proto:!0,forced:!n(81379)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},55269:function(e,t,n){"use strict";var r=n(67768),i=n(5880).find,a=n(35715),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},89104:function(e,t,n){var r=n(67768),i=n(22422);r({target:"Array",stat:!0,forced:!n(6225)((function(e){Array.from(e)}))},{from:i})},68225:function(e,t,n){"use strict";var r=n(67768),i=n(70488).includes,a=n(92837),o=n(35715);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},18887:function(e,t,n){"use strict";var r=n(45770),i=n(35715),a=n(29706),o=n(49671),s=n(91592).f,u=n(54931),c=n(35927),l=n(23608),f=n(31196),d="Array Iterator",p=o.set,h=o.getterFor(d);e.exports=u(Array,"Array",(function(e,t){p(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var v=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(m){}},32463:function(e,t,n){"use strict";var r=n(67768),i=n(5880).map;r({target:"Array",proto:!0,forced:!n(81379)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},49258:function(e,t,n){"use strict";var r=n(67768),i=n(51941),a=n(51219),o=n(43931),s=n(41823),u=n(23385),c=n(45770),l=n(13055),f=n(95028),d=n(81379),p=n(15618),h=d("slice"),v=f("species"),m=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,f,d=c(this),h=u(d),y=s(e,h),b=s(void 0===t?h:t,h);if(i(d)&&(n=d.constructor,(a(n)&&(n===m||i(n.prototype))||o(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return p(d,y,b);for(r=new(void 0===n?m:n)(g(b-y,0)),f=0;y<b;y++,f++)y in d&&l(r,f,d[y]);return r.length=f,r}})},78493:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(66724),o=n(28385),s=n(23385),u=n(87820),c=n(86124),l=n(92837),f=n(47732),d=n(92241),p=n(58336),h=n(64891),v=n(65372),m=n(24469),g=[],y=i(g.sort),b=i(g.push),x=l((function(){g.sort(void 0)})),k=l((function(){g.sort(null)})),w=d("sort"),_=!l((function(){if(v)return v<70;if(!(p&&p>3)){if(h)return!0;if(m)return m<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:x||!k||!w||!_},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(_)return void 0===e?y(t):y(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);for(f(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},45327:function(e,t,n){"use strict";var r=n(67768),i=n(28385),a=n(41823),o=n(92128),s=n(23385),u=n(57950),c=n(96117),l=n(95491),f=n(13055),d=n(87820),p=n(81379)("splice"),h=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,p,m,g,y,b=i(this),x=s(b),k=a(e,x),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=x-k):(n=w-2,r=v(h(o(t),0),x-k)),c(x+n-r),p=l(b,r),m=0;m<r;m++)(g=k+m)in b&&f(p,m,b[g]);if(p.length=r,n<r){for(m=k;m<x-r;m++)y=m+n,(g=m+r)in b?b[y]=b[g]:d(b,y);for(m=x;m>x-r+n;m--)d(b,m-1)}else if(n>r)for(m=x-r;m>k;m--)y=m+n-1,(g=m+r-1)in b?b[y]=b[g]:d(b,y);for(m=0;m<n;m++)b[m+k]=arguments[m+2];return u(b,x-r+n),p}})},8344:function(e,t,n){var r=n(67768),i=n(1240),a=n(86339),o=n(98513),s=n(74932),u=n(92837),c=n(39218),l=n(28287),f=n(15618),d=n(75097),p=n(20166),h=String,v=i("JSON","stringify"),m=s(/./.exec),g=s("".charAt),y=s("".charCodeAt),b=s("".replace),x=s(1..toString),k=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,S=!p||u((function(){var e=i("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),T=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),C=function(e,t){var n=f(arguments),r=d(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=o(r,this,h(e),t)),!l(t))return t},a(v,null,n)},E=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return m(w,e)&&!m(_,i)||m(_,e)&&!m(w,r)?"\\u"+x(y(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:S||T},{stringify:function(e,t,n){var r=f(arguments),i=a(S?C:v,null,r);return T&&"string"==typeof i?b(i,k,E):i}})},41132:function(e,t,n){"use strict";n(93309)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},45742:function(e,t,n){n(41132)},30974:function(e,t,n){"use strict";var r=n(67768),i=n(23608),a=n(31196),o=n(6840),s=n(34750),u=n(74932),c=n(96673),l=n(73013),f=n(21527),d=n(68946),p=n(28287),h=n(66740),v=n(92837),m=n(3772).f,g=n(32573).f,y=n(91592).f,b=n(34748),x=n(56889).trim,k="Number",w=o[k],_=s[k],S=w.prototype,T=o.TypeError,C=u("".slice),E=u("".charCodeAt),O=function(e){var t,n,r,i,a,o,s,u,c=h(e,"number");if(p(c))throw T("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=x(c),43===(t=E(c,0))||45===t){if(88===(n=E(c,2))||120===n)return NaN}else if(48===t){switch(E(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=C(c,2)).length,s=0;s<o;s++)if((u=E(a,s))<48||u>i)return NaN;return parseInt(a,r)}return+c},A=c(k,!w(" 0o1")||!w("0b1")||w("+0x1")),I=function(e){var t,n=arguments.length<1?0:w(function(e){var t=h(e,"number");return"bigint"==typeof t?t:O(t)}(e));return d(S,t=this)&&v((function(){b(t)}))?f(Object(n),this,I):n};I.prototype=S,A&&!i&&(S.constructor=I),r({global:!0,constructor:!0,wrap:!0,forced:A},{Number:I});var R=function(e,t){for(var n,r=a?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&y(e,n,g(t,n))};i&&_&&R(s[k],_),(A||i)&&R(s[k],w)},44105:function(e,t,n){n(67768)({target:"Number",stat:!0},{isInteger:n(57724)})},83265:function(e,t,n){var r=n(67768),i=n(52526);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},99238:function(e,t,n){var r=n(67768),i=n(19700).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},55531:function(e,t,n){var r=n(67768),i=n(7914),a=n(92837),o=n(43931),s=n(12499).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},87264:function(e,t,n){var r=n(67768),i=n(92837),a=n(45770),o=n(32573).f,s=n(31196);r({target:"Object",stat:!0,forced:!s||i((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},58894:function(e,t,n){var r=n(67768),i=n(31196),a=n(17273),o=n(45770),s=n(32573),u=n(13055);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,c=a(r),l={},f=0;c.length>f;)void 0!==(n=i(r,t=c[f++]))&&u(l,t,n);return l}})},91565:function(e,t,n){var r=n(67768),i=n(20166),a=n(92837),o=n(60400),s=n(28385);r({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},65084:function(e,t,n){var r=n(67768),i=n(28385),a=n(18084);r({target:"Object",stat:!0,forced:n(92837)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},65202:function(e,t,n){var r=n(56042),i=n(17543),a=n(84289);r||i(Object.prototype,"toString",a,{unsafe:!0})},57506:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(66724),o=n(30246),s=n(63752),u=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=a(t.resolve),o=[],s=0,l=1;u(e,(function(e){var a=s++,u=!1;l++,i(n,t,e).then((function(e){u||(u=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},90223:function(e,t,n){"use strict";var r=n(67768),i=n(23608),a=n(77426).CONSTRUCTOR,o=n(31),s=n(1240),u=n(39218),c=n(17543),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(o)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},95072:function(e,t,n){"use strict";var r,i,a,o=n(67768),s=n(23608),u=n(31653),c=n(6840),l=n(98513),f=n(17543),d=n(4381),p=n(53370),h=n(52267),v=n(66724),m=n(39218),g=n(43931),y=n(14817),b=n(917),x=n(91625).set,k=n(24410),w=n(65995),_=n(63752),S=n(9033),T=n(49671),C=n(31),E=n(77426),O=n(30246),A="Promise",I=E.CONSTRUCTOR,R=E.REJECTION_EVENT,N=E.SUBCLASSING,P=T.getterFor(A),M=T.set,D=C&&C.prototype,j=C,L=D,F=c.TypeError,Z=c.document,B=c.process,U=O.f,V=U,z=!!(Z&&Z.createEvent&&c.dispatchEvent),W="unhandledrejection",H=function(e){var t;return!(!g(e)||!m(t=e.then))&&t},G=function(e,t){var n,r,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(o||(2===t.rejection&&Q(t),t.rejection=1),!0===s?n=a:(f&&f.enter(),n=s(a),f&&(f.exit(),i=!0)),n===e.promise?c(F("Promise-chain cycle")):(r=H(n))?l(r,n,u,c):u(n)):c(a)}catch(d){f&&!i&&f.exit(),c(d)}},q=function(e,t){e.notified||(e.notified=!0,k((function(){for(var n,r=e.reactions;n=r.get();)G(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},K=function(e,t,n){var r,i;z?((r=Z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!R&&(i=c["on"+e])?i(r):e===W&&w("Unhandled promise rejection",n)},Y=function(e){l(x,c,(function(){var t,n=e.facade,r=e.value;if(X(e)&&(t=_((function(){u?B.emit("unhandledRejection",r,n):K(W,n,r)})),e.rejection=u||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(x,c,(function(){var t=e.facade;u?B.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},ee=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw F("Promise can't be resolved itself");var i=H(n);i?k((function(){var r={done:!1};try{l(i,n,J(e,r,t),J($,r,t))}catch(a){$(r,a,t)}})):(t.value=n,t.state=1,q(t,!1))}catch(a){$({done:!1},a,t)}}};if(I&&(L=(j=function(e){y(this,L),v(e),l(r,this);var t=P(this);try{e(J(ee,t),J($,t))}catch(n){$(t,n)}}).prototype,(r=function(e){M(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=f(L,"then",(function(e,t){var n=P(this),r=U(b(this,j));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=u?B.domain:void 0,0==n.state?n.reactions.add(r):k((function(){G(r,n)})),r.promise})),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=J(ee,t),this.reject=J($,t)},O.f=U=function(e){return e===j||undefined===e?new i(e):V(e)},!s&&m(C)&&D!==Object.prototype)){a=D.then,N||f(D,"then",(function(e,t){var n=this;return new j((function(e,t){l(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(te){}d&&d(D,L)}o({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:j}),p(j,A,!1,!0),h(A)},67675:function(e,t,n){n(95072),n(57506),n(90223),n(46522),n(38001),n(7510)},46522:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(66724),o=n(30246),s=n(63752),u=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=s((function(){var o=a(t.resolve);u(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},38001:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(30246);r({target:"Promise",stat:!0,forced:n(77426).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},7510:function(e,t,n){"use strict";var r=n(67768),i=n(1240),a=n(23608),o=n(31),s=n(77426).CONSTRUCTOR,u=n(86321),c=i("Promise"),l=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return u(l&&this===c?o:this,e)}})},44584:function(e,t,n){var r=n(67768),i=n(1240),a=n(86339),o=n(66448),s=n(10611),u=n(45884),c=n(43931),l=n(4385),f=n(92837),d=i("Reflect","construct"),p=Object.prototype,h=[].push,v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!f((function(){d((function(){}))})),g=v||m;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!v)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(h,r,t),new(a(o,e,r))}var i=n.prototype,f=l(c(i)?i:p),g=a(e,f,t);return c(g)?g:f}})},20447:function(e,t,n){"use strict";var r=n(67768),i=n(94087);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},84208:function(e,t,n){"use strict";var r=n(23211).PROPER,i=n(17543),a=n(45884),o=n(86124),s=n(92837),u=n(97667),c="toString",l=RegExp.prototype[c],f=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=c;(f||d)&&i(RegExp.prototype,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(u(e))}),{unsafe:!0})},95012:function(e,t,n){"use strict";n(93309)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},36669:function(e,t,n){n(95012)},54121:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(79693),o=n(2244),s=n(86124),u=n(2525),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},59147:function(e,t,n){"use strict";var r=n(18424).charAt,i=n(86124),a=n(49671),o=n(54931),s=n(35927),u="String Iterator",c=a.set,l=a.getterFor(u);o(String,"String",(function(e){c(this,{type:u,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},86245:function(e,t,n){"use strict";var r=n(98513),i=n(58093),a=n(45884),o=n(19055),s=n(62347),u=n(86124),c=n(2244),l=n(23863),f=n(35466),d=n(22781);i("match",(function(e,t,n){return[function(t){var n=c(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;for(var l,p=[],h=0;null!==(l=d(r,i));){var v=u(l[0]);p[h]=v,""===v&&(r.lastIndex=f(i,s(r.lastIndex),c)),h++}return 0===h?null:p}]}))},54178:function(e,t,n){"use strict";var r=n(86339),i=n(98513),a=n(74932),o=n(58093),s=n(92837),u=n(45884),c=n(39218),l=n(19055),f=n(92128),d=n(62347),p=n(86124),h=n(2244),v=n(35466),m=n(23863),g=n(17794),y=n(22781),b=n(95028)("replace"),x=Math.max,k=Math.min,w=a([].concat),_=a([].push),S=a("".indexOf),T=a("".slice),C="$0"==="a".replace(/./,"$0"),E=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(e,t,n){var a=E?"$":"$0";return[function(e,n){var r=h(this),a=l(e)?void 0:m(e,b);return a?i(a,e,r,n):i(t,p(r),e,n)},function(e,i){var o=u(this),s=p(e);if("string"==typeof i&&-1===S(i,a)&&-1===S(i,"$<")){var l=n(t,o,s,i);if(l.done)return l.value}var h=c(i);h||(i=p(i));var m=o.global;if(m){var b=o.unicode;o.lastIndex=0}for(var C=[];;){var E=y(o,s);if(null===E)break;if(_(C,E),!m)break;""===p(E[0])&&(o.lastIndex=v(s,d(o.lastIndex),b))}for(var O,A="",I=0,R=0;R<C.length;R++){for(var N=p((E=C[R])[0]),P=x(k(f(E.index),s.length),0),M=[],D=1;D<E.length;D++)_(M,void 0===(O=E[D])?O:String(O));var j=E.groups;if(h){var L=w([N],M,P,s);void 0!==j&&_(L,j);var F=p(r(i,void 0,L))}else F=g(N,s,P,M,j,i);P>=I&&(A+=T(s,I,P)+F,I=P+N.length)}return A+T(s,I)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||E)},9994:function(e,t,n){"use strict";var r=n(98513),i=n(58093),a=n(45884),o=n(19055),s=n(2244),u=n(58362),c=n(86124),l=n(23863),f=n(22781);i("search",(function(e,t,n){return[function(t){var n=s(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=a(this),i=c(e),o=n(t,r,i);if(o.done)return o.value;var s=r.lastIndex;u(s,0)||(r.lastIndex=0);var l=f(r,i);return u(r.lastIndex,s)||(r.lastIndex=s),null===l?-1:l.index}]}))},52872:function(e,t,n){"use strict";var r=n(86339),i=n(98513),a=n(74932),o=n(58093),s=n(45884),u=n(19055),c=n(10670),l=n(2244),f=n(917),d=n(35466),p=n(62347),h=n(86124),v=n(23863),m=n(43278),g=n(22781),y=n(94087),b=n(8596),x=n(92837),k=b.UNSUPPORTED_Y,w=4294967295,_=Math.min,S=[].push,T=a(/./.exec),C=a(S),E=a("".slice),O=!x((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=h(l(this)),o=void 0===n?w:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!c(e))return i(t,a,e,o);for(var s,u,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=new RegExp(e.source,p+"g");(s=i(y,g,a))&&!((u=g.lastIndex)>v&&(C(d,E(a,v,s.index)),s.length>1&&s.index<a.length&&r(S,d,m(s,1)),f=s[0].length,v=u,d.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return v===a.length?!f&&T(g,"")||C(d,""):C(d,E(a,v)),d.length>o?m(d,0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=l(this),o=u(t)?void 0:v(t,e);return o?i(o,t,r,n):i(a,h(r),t,n)},function(e,r){var i=s(this),o=h(e),u=n(a,i,o,r,a!==t);if(u.done)return u.value;var c=f(i,RegExp),l=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(k?"g":"y"),m=new c(k?"^(?:"+i.source+")":i,v),y=void 0===r?w:r>>>0;if(0===y)return[];if(0===o.length)return null===g(m,o)?[o]:[];for(var b=0,x=0,S=[];x<o.length;){m.lastIndex=k?0:x;var T,O=g(m,k?E(o,x):o);if(null===O||(T=_(p(m.lastIndex+(k?x:0)),o.length))===b)x=d(o,x,l);else{if(C(S,E(o,b,x)),S.length===y)return S;for(var A=1;A<=O.length-1;A++)if(C(S,O[A]),S.length===y)return S;x=b=T}}return C(S,E(o,b)),S}]}),!O,k)},50288:function(e,t,n){"use strict";var r=n(67768),i=n(7926),a=n(32573).f,o=n(62347),s=n(86124),u=n(79693),c=n(2244),l=n(2525),f=n(23608),d=i("".startsWith),p=i("".slice),h=Math.min,v=l("startsWith");r({target:"String",proto:!0,forced:!(!f&&!v&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}())&&!v},{startsWith:function(e){var t=s(c(this));u(e);var n=o(h(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return d?d(t,r,n):p(t,n,n+r.length)===r}})},7550:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(98513),o=n(74932),s=n(23608),u=n(31196),c=n(20166),l=n(92837),f=n(73013),d=n(68946),p=n(45884),h=n(45770),v=n(54655),m=n(86124),g=n(72037),y=n(4385),b=n(18084),x=n(3772),k=n(8910),w=n(60400),_=n(32573),S=n(91592),T=n(61697),C=n(28306),E=n(17543),O=n(50695),A=n(91778),I=n(89378),R=n(56196),N=n(24839),P=n(95028),M=n(21384),D=n(22162),j=n(32745),L=n(53370),F=n(49671),Z=n(5880).forEach,B=I("hidden"),U="Symbol",V="prototype",z=F.set,W=F.getterFor(U),H=Object[V],G=i.Symbol,q=G&&G[V],K=i.TypeError,Y=i.QObject,X=_.f,Q=S.f,J=k.f,$=C.f,ee=o([].push),te=A("symbols"),ne=A("op-symbols"),re=A("wks"),ie=!Y||!Y[V]||!Y[V].findChild,ae=u&&l((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=X(H,t);r&&delete H[t],Q(e,t,n),r&&e!==H&&Q(H,t,r)}:Q,oe=function(e,t){var n=te[e]=y(q);return z(n,{type:U,tag:e,description:t}),u||(n.description=t),n},se=function(e,t,n){e===H&&se(ne,t,n),p(e);var r=v(t);return p(n),f(te,r)?(n.enumerable?(f(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:g(0,!1)})):(f(e,B)||Q(e,B,g(1,{})),e[B][r]=!0),ae(e,r,n)):Q(e,r,n)},ue=function(e,t){p(e);var n=h(t),r=b(n).concat(de(n));return Z(r,(function(t){u&&!a(ce,n,t)||se(e,t,n[t])})),e},ce=function(e){var t=v(e),n=a($,this,t);return!(this===H&&f(te,t)&&!f(ne,t))&&(!(n||!f(this,t)||!f(te,t)||f(this,B)&&this[B][t])||n)},le=function(e,t){var n=h(e),r=v(t);if(n!==H||!f(te,r)||f(ne,r)){var i=X(n,r);return!i||!f(te,r)||f(n,B)&&n[B][r]||(i.enumerable=!0),i}},fe=function(e){var t=J(h(e)),n=[];return Z(t,(function(e){f(te,e)||f(R,e)||ee(n,e)})),n},de=function(e){var t=e===H,n=J(t?ne:h(e)),r=[];return Z(n,(function(e){!f(te,e)||t&&!f(H,e)||ee(r,te[e])})),r};c||(G=function(){if(d(q,this))throw K("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=N(e);return u&&ie&&ae(H,t,{configurable:!0,set:function e(n){this===H&&a(e,ne,n),f(this,B)&&f(this[B],t)&&(this[B][t]=!1),ae(this,t,g(1,n))}}),oe(t,e)},E(q=G[V],"toString",(function(){return W(this).tag})),E(G,"withoutSetter",(function(e){return oe(N(e),e)})),C.f=ce,S.f=se,T.f=ue,_.f=le,x.f=k.f=fe,w.f=de,M.f=function(e){return oe(P(e),e)},u&&(O(q,"description",{configurable:!0,get:function(){return W(this).description}}),s||E(H,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),Z(b(re),(function(e){D(e)})),r({target:U,stat:!0,forced:!c},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe}),j(),L(G,U),R[B]=!0},4772:function(e,t,n){"use strict";var r=n(67768),i=n(31196),a=n(6840),o=n(74932),s=n(73013),u=n(39218),c=n(68946),l=n(86124),f=n(50695),d=n(90189),p=a.Symbol,h=p&&p.prototype;if(i&&u(p)&&(!("description"in h)||void 0!==p().description)){var v={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(v[t]=!0),t};d(m,p),m.prototype=h,h.constructor=m;var g="Symbol(test)"==String(p("test")),y=o(h.valueOf),b=o(h.toString),x=/^Symbol\((.*)\)[^)]+$/,k=o("".replace),w=o("".slice);f(h,"description",{configurable:!0,get:function(){var e=y(this);if(s(v,e))return"";var t=b(e),n=g?w(t,7,-1):k(t,x,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},50104:function(e,t,n){var r=n(67768),i=n(1240),a=n(73013),o=n(86124),s=n(91778),u=n(12102),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},85625:function(e,t,n){n(22162)("iterator")},18116:function(e,t,n){n(7550),n(50104),n(57649),n(8344),n(91565)},57649:function(e,t,n){var r=n(67768),i=n(73013),a=n(28287),o=n(81772),s=n(91778),u=n(12102),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},55790:function(e,t,n){"use strict";var r=n(74932),i=n(93866),a=r(n(54739)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},56678:function(e,t,n){"use strict";var r=n(93866),i=n(5880).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},74847:function(e,t,n){"use strict";var r=n(93866),i=n(56012),a=n(69818),o=n(37205),s=n(98513),u=n(74932),c=n(92837),l=r.aTypedArray,f=r.exportTypedArrayMethod,d=u("".slice);f("fill",(function(e){var t=arguments.length;l(this);var n="Big"===d(o(this),0,3)?a(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},48884:function(e,t,n){"use strict";var r=n(93866),i=n(5880).filter,a=n(53702),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},15669:function(e,t,n){"use strict";var r=n(93866),i=n(5880).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},67582:function(e,t,n){"use strict";var r=n(93866),i=n(5880).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},40014:function(e,t,n){"use strict";var r=n(93866),i=n(5880).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},45927:function(e,t,n){"use strict";var r=n(93866),i=n(70488).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},78850:function(e,t,n){"use strict";var r=n(93866),i=n(70488).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},697:function(e,t,n){"use strict";var r=n(6840),i=n(92837),a=n(74932),o=n(93866),s=n(18887),u=n(95028)("iterator"),c=r.Uint8Array,l=a(s.values),f=a(s.keys),d=a(s.entries),p=o.aTypedArray,h=o.exportTypedArrayMethod,v=c&&c.prototype,m=!i((function(){v[u].call([1])})),g=!!v&&v.values&&v[u]===v.values&&"values"===v.values.name,y=function(){return l(p(this))};h("entries",(function(){return d(p(this))}),m),h("keys",(function(){return f(p(this))}),m),h("values",y,m||!g,{name:"values"}),h(u,y,m||!g,{name:"values"})},53517:function(e,t,n){"use strict";var r=n(93866),i=n(74932),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},68591:function(e,t,n){"use strict";var r=n(93866),i=n(86339),a=n(2561),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},44516:function(e,t,n){"use strict";var r=n(93866),i=n(5880).map,a=n(87349),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},5977:function(e,t,n){"use strict";var r=n(93866),i=n(94512).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},51937:function(e,t,n){"use strict";var r=n(93866),i=n(94512).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},71283:function(e,t,n){"use strict";var r=n(93866),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},86332:function(e,t,n){"use strict";var r=n(6840),i=n(98513),a=n(93866),o=n(23385),s=n(25303),u=n(28385),c=n(92837),l=r.RangeError,f=r.Int8Array,d=f&&f.prototype,p=d&&d.set,h=a.aTypedArray,v=a.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),g=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(m)return i(p,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw l("Wrong length");for(;c<a;)this[t+c]=n[c++]}),!m||g)},32040:function(e,t,n){"use strict";var r=n(93866),i=n(87349),a=n(92837),o=n(15618),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(s(this),e,t),r=i(this),a=0,u=n.length,c=new r(u);u>a;)c[a]=n[a++];return c}),a((function(){new Int8Array(1).slice()})))},20718:function(e,t,n){"use strict";var r=n(93866),i=n(5880).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},54777:function(e,t,n){"use strict";var r=n(6840),i=n(7926),a=n(92837),o=n(66724),s=n(47732),u=n(93866),c=n(58336),l=n(64891),f=n(65372),d=n(24469),p=u.aTypedArray,h=u.exportTypedArrayMethod,v=r.Uint16Array,m=v&&i(v.prototype.sort),g=!!m&&!(a((function(){m(new v(2),null)}))&&a((function(){m(new v(2),{})}))),y=!!m&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,n=new v(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));h("sort",(function(e){return void 0!==e&&o(e),y?m(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||g)},31447:function(e,t,n){"use strict";var r=n(6840),i=n(86339),a=n(93866),o=n(92837),s=n(15618),u=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,d=!!u&&o((function(){f.call(new u(1))}));l("toLocaleString",(function(){return i(f,d?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},44319:function(e,t,n){"use strict";var r=n(93866).exportTypedArrayMethod,i=n(92837),a=n(6840),o=n(74932),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var f=u.toString!=c;r("toString",c,f)},73966:function(e,t,n){n(2859)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},22583:function(e,t,n){var r=n(6840),i=n(50650),a=n(22752),o=n(48129),s=n(63873),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(a)},81740:function(e,t,n){var r=n(6840),i=n(50650),a=n(22752),o=n(18887),s=n(63873),u=n(95028),c=u("iterator"),l=u("toStringTag"),f=o.values,d=function(e,t){if(e){if(e[c]!==f)try{s(e,c,f)}catch(r){e[c]=f}if(e[l]||s(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(a,"DOMTokenList")},21477:function(e,t,n){"use strict";n(18887);var r=n(67768),i=n(6840),a=n(98513),o=n(74932),s=n(31196),u=n(91451),c=n(17543),l=n(50695),f=n(7544),d=n(53370),p=n(1331),h=n(49671),v=n(14817),m=n(39218),g=n(73013),y=n(5851),b=n(37205),x=n(45884),k=n(43931),w=n(86124),_=n(4385),S=n(72037),T=n(78131),C=n(40443),E=n(34974),O=n(95028),A=n(47732),I=O("iterator"),R="URLSearchParams",N=R+"Iterator",P=h.set,M=h.getterFor(R),D=h.getterFor(N),j=Object.getOwnPropertyDescriptor,L=function(e){if(!s)return i[e];var t=j(i,e);return t&&t.value},F=L("fetch"),Z=L("Request"),B=L("Headers"),U=Z&&Z.prototype,V=B&&B.prototype,z=i.RegExp,W=i.TypeError,H=i.decodeURIComponent,G=i.encodeURIComponent,q=o("".charAt),K=o([].join),Y=o([].push),X=o("".replace),Q=o([].shift),J=o([].splice),$=o("".split),ee=o("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return H(e)}catch(t){return e}},ae=function(e){var t=X(e,te," "),n=4;try{return H(t)}catch(r){for(;n;)t=X(t,re(n--),ie);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return se[e]},ce=function(e){return X(G(e),oe,ue)},le=p((function(e,t){P(this,{type:N,iterator:T(M(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),fe=function(e){this.entries=[],this.url=null,void 0!==e&&(k(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?ee(e,1):e:w(e)))};fe.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,u,c=C(e);if(c)for(n=(t=T(e,c)).next;!(r=a(n,t)).done;){if(o=(i=T(x(r.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw W("Expected sequence with length 2");Y(this.entries,{key:w(s.value),value:w(u.value)})}else for(var l in e)g(e,l)&&Y(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=$(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=$(t,"="),Y(this.entries,{key:ae(Q(n)),value:ae(K(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Y(n,ce(e.key)+"="+ce(e.value));return K(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){v(this,pe);var e=P(this,new fe(arguments.length>0?arguments[0]:void 0));s||(this.length=e.entries.length)},pe=de.prototype;if(f(pe,{append:function(e,t){E(arguments.length,2);var n=M(this);Y(n.entries,{key:w(e),value:w(t)}),s||this.length++,n.updateURL()},delete:function(e){E(arguments.length,1);for(var t=M(this),n=t.entries,r=w(e),i=0;i<n.length;)n[i].key===r?J(n,i,1):i++;s||(this.length=n.length),t.updateURL()},get:function(e){E(arguments.length,1);for(var t=M(this).entries,n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){E(arguments.length,1);for(var t=M(this).entries,n=w(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Y(r,t[i].value);return r},has:function(e){E(arguments.length,1);for(var t=M(this).entries,n=w(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,r=M(this),i=r.entries,a=!1,o=w(e),u=w(t),c=0;c<i.length;c++)(n=i[c]).key===o&&(a?J(i,c--,1):(a=!0,n.value=u));a||Y(i,{key:o,value:u}),s||(this.length=i.length),r.updateURL()},sort:function(){var e=M(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),c(pe,I,pe.entries,{name:"entries"}),c(pe,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),s&&l(pe,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),d(de,R),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:de}),!u&&m(B)){var he=o(V.has),ve=o(V.set),me=function(e){if(k(e)){var t,n=e.body;if(b(n)===R)return t=e.headers?new B(e.headers):new B,he(t,"content-type")||ve(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:S(0,w(n)),headers:S(0,t)})}return e};if(m(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?me(arguments[1]):{})}}),m(Z)){var ge=function(e){return v(this,U),new Z(e,arguments.length>1?me(arguments[1]):{})};U.constructor=ge,ge.prototype=U,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:de,getState:M}},58526:function(e,t,n){n(21477)},588:function(e,t,n){"use strict";n(59147);var r,i=n(67768),a=n(31196),o=n(91451),s=n(6840),u=n(5851),c=n(74932),l=n(17543),f=n(50695),d=n(14817),p=n(73013),h=n(52526),v=n(22422),m=n(43278),g=n(18424).codeAt,y=n(31649),b=n(86124),x=n(53370),k=n(34974),w=n(21477),_=n(49671),S=_.set,T=_.getterFor("URL"),C=w.URLSearchParams,E=w.getState,O=s.URL,A=s.TypeError,I=s.parseInt,R=Math.floor,N=Math.pow,P=c("".charAt),M=c(/./.exec),D=c([].join),j=c(1..toString),L=c([].pop),F=c([].push),Z=c("".replace),B=c([].shift),U=c("".split),V=c("".slice),z=c("".toLowerCase),W=c([].unshift),H="Invalid scheme",G="Invalid host",q="Invalid port",K=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,J=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=R(e/256);return D(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=j(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ue=h({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=h({},ue,{"#":1,"?":1,"{":1,"}":1}),le=h({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe=function(e,t){var n=g(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2==e.length&&M(K,P(e,0))&&(":"==(n=P(e,1))||!t&&"|"==n)},he=function(e){var t;return e.length>1&&pe(V(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},ve=function(e){return"."===e||"%2e"===z(e)},me={},ge={},ye={},be={},xe={},ke={},we={},_e={},Se={},Te={},Ce={},Ee={},Oe={},Ae={},Ie={},Re={},Ne={},Pe={},Me={},De={},je={},Le=function e(t,n,r){var i,a,o,s=b(t);if(n){if(a=this.parse(s))throw A(a);this.searchParams=null}else{if(void 0!==r&&(i=new e(r,!0)),a=this.parse(s,null,i))throw A(a);(o=E(new C)).bindURL(this),this.searchParams=o}};Le.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,u,c=this,l=t||me,f=0,d="",h=!1,g=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=Z(e,re,""),e=Z(e,ie,"$1")),e=Z(e,ae,""),i=v(e);f<=i.length;){switch(a=i[f],l){case me:if(!a||!M(K,a)){if(t)return H;l=ye;continue}d+=z(a),l=ge;break;case ge:if(a&&(M(Y,a)||"+"==a||"-"==a||"."==a))d+=z(a);else{if(":"!=a){if(t)return H;d="",l=ye,f=0;continue}if(t&&(c.isSpecial()!=p(de,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&de[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Ae:c.isSpecial()&&n&&n.scheme==c.scheme?l=be:c.isSpecial()?l=_e:"/"==i[f+1]?(l=xe,f++):(c.cannotBeABaseURL=!0,F(c.path,""),l=Me)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!=a)return H;if(n.cannotBeABaseURL&&"#"==a){c.scheme=n.scheme,c.path=m(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=je;break}l="file"==n.scheme?Ae:ke;continue;case be:if("/"!=a||"/"!=i[f+1]){l=ke;continue}l=Se,f++;break;case xe:if("/"==a){l=Te;break}l=Pe;continue;case ke:if(c.scheme=n.scheme,a==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query;else if("/"==a||"\\"==a&&c.isSpecial())l=we;else if("?"==a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query="",l=De;else{if("#"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.path.length--,l=Pe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query,c.fragment="",l=je}break;case we:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Pe;continue}l=Te}else l=Se;break;case _e:if(l=Se,"/"!=a||"/"!=P(d,f+1))continue;f++;break;case Se:if("/"!=a&&"\\"!=a){l=Te;continue}break;case Te:if("@"==a){h&&(d="%40"+d),h=!0,o=v(d);for(var x=0;x<o.length;x++){var k=o[x];if(":"!=k||y){var w=fe(k,le);y?c.password+=w:c.username+=w}else y=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(h&&""==d)return"Invalid authority";f-=v(d).length+1,d="",l=Ce}else d+=a;break;case Ce:case Ee:if(t&&"file"==c.scheme){l=Re;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==d)return G;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Ne,t)return;continue}"["==a?g=!0:"]"==a&&(g=!1),d+=a}else{if(""==d)return G;if(s=c.parseHost(d))return s;if(d="",l=Oe,t==Ee)return}break;case Oe:if(!M(X,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=d){var _=I(d,10);if(_>65535)return q;c.port=c.isSpecial()&&_===de[c.scheme]?null:_,d=""}if(t)return;l=Ne;continue}return q}d+=a;break;case Ae:if(c.scheme="file","/"==a||"\\"==a)l=Ie;else{if(!n||"file"!=n.scheme){l=Pe;continue}if(a==r)c.host=n.host,c.path=m(n.path),c.query=n.query;else if("?"==a)c.host=n.host,c.path=m(n.path),c.query="",l=De;else{if("#"!=a){he(D(m(i,f),""))||(c.host=n.host,c.path=m(n.path),c.shortenPath()),l=Pe;continue}c.host=n.host,c.path=m(n.path),c.query=n.query,c.fragment="",l=je}}break;case Ie:if("/"==a||"\\"==a){l=Re;break}n&&"file"==n.scheme&&!he(D(m(i,f),""))&&(pe(n.path[0],!0)?F(c.path,n.path[0]):c.host=n.host),l=Pe;continue;case Re:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&pe(d))l=Pe;else if(""==d){if(c.host="",t)return;l=Ne}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Ne}continue}d+=a;break;case Ne:if(c.isSpecial()){if(l=Pe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(l=Pe,"/"!=a))continue}else c.fragment="",l=je;else c.query="",l=De;break;case Pe:if(a==r||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=z(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||F(c.path,"")):ve(d)?"/"==a||"\\"==a&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&pe(d)&&(c.host&&(c.host=""),d=P(d,0)+":"),F(c.path,d)),d="","file"==c.scheme&&(a==r||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)B(c.path);"?"==a?(c.query="",l=De):"#"==a&&(c.fragment="",l=je)}else d+=fe(a,ce);break;case Me:"?"==a?(c.query="",l=De):"#"==a?(c.fragment="",l=je):a!=r&&(c.path[0]+=fe(a,se));break;case De:t||"#"!=a?a!=r&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":fe(a,se)):(c.fragment="",l=je);break;case je:a!=r&&(c.fragment+=fe(a,ue))}f++}},parseHost:function(e){var t,n,r;if("["==P(e,0)){if("]"!=P(e,e.length-1))return G;if(t=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return P(e,f)};if(":"==d()){if(":"!=P(e,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&M(ee,d());)t=16*t+I(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!M(X,d()))return;for(;M(X,d());){if(a=I(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u}(V(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),M(te,e))return G;if(t=function(e){var t,n,r,i,a,o,s,u=U(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(a=10,i.length>1&&"0"==P(i,0)&&(a=M(Q,i)?16:8,i=V(i,8==a?1:2)),""===i)o=0;else{if(!M(10==a?$:8==a?J:ee,i))return e;o=I(i,a)}F(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=N(256,5-t))return null}else if(o>255)return null;for(s=L(n),r=0;r<n.length;r++)s+=n[r]*N(256,3-r);return s}(e),null===t)return G;this.host=t}else{if(M(ne,e))return G;for(t="",n=v(e),r=0;r<n.length;r++)t+=fe(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=oe(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+D(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Fe(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=fe(t[n],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=fe(t[n],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Oe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+D(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ne))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==P(e,0)&&(e=V(e,1)),this.query="",this.parse(e,De)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==P(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=d(this,Ze),n=k(arguments.length,1)>1?arguments[1]:void 0,r=S(t,new Le(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ze=Fe.prototype,Be=function(e,t){return{get:function(){return T(this)[e]()},set:t&&function(e){return T(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(f(Ze,"href",Be("serialize","setHref")),f(Ze,"origin",Be("getOrigin")),f(Ze,"protocol",Be("getProtocol","setProtocol")),f(Ze,"username",Be("getUsername","setUsername")),f(Ze,"password",Be("getPassword","setPassword")),f(Ze,"host",Be("getHost","setHost")),f(Ze,"hostname",Be("getHostname","setHostname")),f(Ze,"port",Be("getPort","setPort")),f(Ze,"pathname",Be("getPathname","setPathname")),f(Ze,"search",Be("getSearch","setSearch")),f(Ze,"searchParams",Be("getSearchParams")),f(Ze,"hash",Be("getHash","setHash"))),l(Ze,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),l(Ze,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),O){var Ue=O.createObjectURL,Ve=O.revokeObjectURL;Ue&&l(Fe,"createObjectURL",u(Ue,O)),Ve&&l(Fe,"revokeObjectURL",u(Ve,O))}x(Fe,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Fe})},49798:function(e,t,n){n(588)},65403:function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:function(){return r}})},84181:function(e,t,n){"use strict";n.d(t,{Nw:function(){return u},ZR:function(){return c},ml:function(){return s}});var r=n(65403),i=n(92267),a=n(43996),o=(0,i.Z)(r.Z),s=o.right,u=o.left,c=(0,i.Z)(a.Z).center;t.ZP=s},92267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65403);function i(e){var t=e,n=e;function i(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return(0,r.Z)(e(t),n)}}(e)),{left:i,center:function(e,n,r,a){null==r&&(r=0),null==a&&(a=e.length);var o=i(e,n,r,a-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}},39562:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n,i;if(void 0===t){var a,o=(0,r.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;null!=s&&(void 0===n?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}}catch(d){o.e(d)}finally{o.f()}}else{var u,c=-1,l=(0,r.Z)(e);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=t(f,++c,e))&&(void 0===n?f>=f&&(n=i=f):(n>f&&(n=f),i<f&&(i=f)))}}catch(d){l.e(d)}finally{l.f()}}return[n,i]}},80617:function(e,t,n){"use strict";n.r(t),n.d(t,{Adder:function(){return x},InternMap:function(){return I},InternSet:function(){return R},ascending:function(){return i.Z},bin:function(){return ee},bisect:function(){return r.ZP},bisectCenter:function(){return r.ZR},bisectLeft:function(){return r.Nw},bisectRight:function(){return r.ml},bisector:function(){return a.Z},count:function(){return s},cross:function(){return d},cumsum:function(){return p},descending:function(){return h},deviation:function(){return m},difference:function(){return De},disjoint:function(){return je},every:function(){return Ae},extent:function(){return g.Z},fcumsum:function(){return w},filter:function(){return Re},fsum:function(){return k},greatest:function(){return xe},greatestIndex:function(){return ke},group:function(){return L},groupSort:function(){return q},groups:function(){return F},histogram:function(){return ee},index:function(){return U},indexes:function(){return V},intersection:function(){return Fe},least:function(){return ye},leastIndex:function(){return be},map:function(){return Ne},max:function(){return ie.Z},maxIndex:function(){return ae},mean:function(){return oe},median:function(){return se},merge:function(){return fe},min:function(){return de.Z},minIndex:function(){return pe},nice:function(){return J},pairs:function(){return he},permute:function(){return H},quantile:function(){return te.Z},quantileSorted:function(){return te.s},quickselect:function(){return me.Z},range:function(){return ge.Z},reduce:function(){return Pe},reverse:function(){return Me},rollup:function(){return Z},rollups:function(){return B},scan:function(){return we},shuffle:function(){return _e},shuffler:function(){return Se},some:function(){return Ie},sort:function(){return G},subset:function(){return Be},sum:function(){return Te},superset:function(){return Ze},thresholdFreedmanDiaconis:function(){return ne},thresholdScott:function(){return re},thresholdSturges:function(){return $},tickIncrement:function(){return Q.G9},tickStep:function(){return Q.ly},ticks:function(){return Q.ZP},transpose:function(){return Ce},union:function(){return Ue},variance:function(){return v},zip:function(){return Oe}});var r=n(84181),i=n(65403),a=n(92267),o=n(37762);function s(e,t){var n=0;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(a=+a)>=a&&++n}}catch(f){i.e(f)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(l=+l)>=l&&++n}}catch(f){c.e(f)}finally{c.f()}}return n}var u=n(42982);function c(e){return 0|e.length}function l(e){return!(e>0)}function f(e){return"object"!==typeof e||"length"in e?e:Array.from(e)}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"===typeof t[t.length-1]&&function(e){return function(t){return e.apply(void 0,(0,u.Z)(t))}}(t.pop()),i=(t=t.map(f)).map(c),a=t.length-1,o=new Array(a+1).fill(0),s=[];if(a<0||i.some(l))return s;for(;;){s.push(o.map((function(e,n){return t[n][e]})));for(var d=a;++o[d]===i[d];){if(0===d)return r?s.map(r):s;o[d--]=0}}}function p(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?function(e){return n+=+e||0}:function(i){return n+=+t(i,r++,e)||0})}function h(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function v(e,t){var n,r=0,i=0,a=0;if(void 0===t){var s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=c&&(c=+c)>=c&&(a+=(n=c-i)*(c-(i+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var l,f=-1,d=(0,o.Z)(e);try{for(d.s();!(l=d.n()).done;){var p=l.value;null!=(p=t(p,++f,e))&&(p=+p)>=p&&(a+=(n=p-i)*(p-(i+=n/++r)))}}catch(h){d.e(h)}finally{d.f()}}if(r>1)return a/(r-1)}function m(e,t){var n=v(e,t);return n?Math.sqrt(n):n}var g=n(39562),y=n(15671),b=n(43144),x=function(){function e(){(0,y.Z)(this,e),this._partials=new Float64Array(32),this._n=0}return(0,b.Z)(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}();function k(e,t){var n=new x;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&n.add(a)}}catch(f){i.e(f)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;(l=+t(l,++u,e))&&n.add(l)}}catch(f){c.e(f)}finally{c.f()}}return+n}function w(e,t){var n=new x,r=-1;return Float64Array.from(e,void 0===t?function(e){return n.add(+e||0)}:function(i){return n.add(+t(i,++r,e)||0)})}var _=n(70885),S=n(97326),T=n(11752),C=n(61120),E=n(60136),O=n(29388),A=n(98737),I=function(e){(0,E.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;if((0,y.Z)(this,n),r=t.call(this),Object.defineProperties((0,S.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=(0,_.Z)(a.value,2),c=u[0],l=u[1];r.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}return r}return(0,b.Z)(n,[{key:"get",value:function(e){return(0,T.Z)((0,C.Z)(n.prototype),"get",this).call(this,N(this,e))}},{key:"has",value:function(e){return(0,T.Z)((0,C.Z)(n.prototype),"has",this).call(this,N(this,e))}},{key:"set",value:function(e,t){return(0,T.Z)((0,C.Z)(n.prototype),"set",this).call(this,P(this,e),t)}},{key:"delete",value:function(e){return(0,T.Z)((0,C.Z)(n.prototype),"delete",this).call(this,M(this,e))}}]),n}((0,A.Z)(Map)),R=function(e){(0,E.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;if((0,y.Z)(this,n),r=t.call(this),Object.defineProperties((0,S.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;r.add(u)}}catch(c){s.e(c)}finally{s.f()}}return r}return(0,b.Z)(n,[{key:"has",value:function(e){return(0,T.Z)((0,C.Z)(n.prototype),"has",this).call(this,N(this,e))}},{key:"add",value:function(e){return(0,T.Z)((0,C.Z)(n.prototype),"add",this).call(this,P(this,e))}},{key:"delete",value:function(e){return(0,T.Z)((0,C.Z)(n.prototype),"delete",this).call(this,M(this,e))}}]),n}((0,A.Z)(Set));function N(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function P(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function M(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(t),n.delete(r)),t}function D(e){return null!==e&&"object"===typeof e?e.valueOf():e}function j(e){return e}function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,j,j,n)}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,Array.from,j,n)}function Z(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return W(e,j,t,r)}function B(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return W(e,Array.from,t,r)}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,j,z,n)}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(e,Array.from,z,n)}function z(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function W(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);var s,u=new I,c=r[a++],l=-1,f=(0,o.Z)(i);try{for(f.s();!(s=f.n()).done;){var d=s.value,p=c(d,++l,i),h=u.get(p);h?h.push(d):u.set(p,[d])}}catch(x){f.e(x)}finally{f.f()}var v,m=(0,o.Z)(u);try{for(m.s();!(v=m.n()).done;){var g=(0,_.Z)(v.value,2),y=g[0],b=g[1];u.set(y,e(b,a))}}catch(x){m.e(x)}finally{m.f()}return t(u)}(e,0)}function H(e,t){return Array.from(t,(function(t){return e[t]}))}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);var a=n,s=(0,_.Z)(a,1)[0],u=void 0===s?i.Z:s;if(1===u.length||n.length>1){var c=Uint32Array.from(e,(function(e,t){return t}));return n.length>1?(n=n.map((function(t){return e.map(t)})),c.sort((function(e,t){var r,a=(0,o.Z)(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=(0,i.Z)(s[e],s[t]);if(u)return u}}catch(c){a.e(c)}finally{a.f()}}))):(u=e.map(u),c.sort((function(e,t){return(0,i.Z)(u[e],u[t])}))),H(e,c)}return e.sort(u)}function q(e,t,n){return(1===t.length?G(Z(e,t,n),(function(e,t){var n=(0,_.Z)(e,2),r=n[0],a=n[1],o=(0,_.Z)(t,2),s=o[0],u=o[1];return(0,i.Z)(a,u)||(0,i.Z)(r,s)})):G(L(e,n),(function(e,n){var r=(0,_.Z)(e,2),a=r[0],o=r[1],s=(0,_.Z)(n,2),u=s[0],c=s[1];return t(o,c)||(0,i.Z)(a,u)}))).map((function(e){return(0,_.Z)(e,1)[0]}))}var K=Array.prototype,Y=K.slice;K.map;function X(e){return function(){return e}}var Q=n(99571);function J(e,t,n){for(var r;;){var i=(0,Q.G9)(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function $(e){return Math.ceil(Math.log(s(e))/Math.LN2)+1}function ee(){var e=j,t=g.Z,n=$;function i(i){Array.isArray(i)||(i=Array.from(i));var a,o,s=i.length,u=new Array(s);for(a=0;a<s;++a)u[a]=e(i[a],a,i);var c=t(u),l=c[0],f=c[1],d=n(u,l,f);if(!Array.isArray(d)){var p=f,h=+d;if(t===g.Z){var v=J(l,f,h),m=(0,_.Z)(v,2);l=m[0],f=m[1]}if((d=(0,Q.ZP)(l,f,h))[d.length-1]>=f)if(p>=f&&t===g.Z){var y=(0,Q.G9)(l,f,h);isFinite(y)&&(y>0?f=(Math.floor(f/y)+1)*y:y<0&&(f=(Math.ceil(f*-y)+1)/-y))}else d.pop()}for(var b=d.length;d[0]<=l;)d.shift(),--b;for(;d[b-1]>f;)d.pop(),--b;var x,k=new Array(b+1);for(a=0;a<=b;++a)(x=k[a]=[]).x0=a>0?d[a-1]:l,x.x1=a<b?d[a]:f;for(a=0;a<s;++a)l<=(o=u[a])&&o<=f&&k[(0,r.ZP)(d,o,0,b)].push(i[a]);return k}return i.value=function(t){return arguments.length?(e="function"===typeof t?t:X(t),i):e},i.domain=function(e){return arguments.length?(t="function"===typeof e?e:X([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?X(Y.call(e)):X(e),i):n},i}var te=n(1732);function ne(e,t,n){return Math.ceil((n-t)/(2*((0,te.Z)(e,.75)-(0,te.Z)(e,.25))*Math.pow(s(e),-1/3)))}function re(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(s(e),-1/3)))}var ie=n(42382);function ae(e,t){var n,r=-1,i=-1;if(void 0===t){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;++i,null!=u&&(n<u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(d){s.e(d)}finally{s.f()}}else{var c,l=(0,o.Z)(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;null!=(f=t(f,++i,e))&&(n<f||void 0===n&&f>=f)&&(n=f,r=i)}}catch(d){l.e(d)}finally{l.f()}}return r}function oe(e,t){var n=0,r=0;if(void 0===t){var i,a=(0,o.Z)(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;null!=s&&(s=+s)>=s&&(++n,r+=s)}}catch(d){a.e(d)}finally{a.f()}}else{var u,c=-1,l=(0,o.Z)(e);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=t(f,++c,e))&&(f=+f)>=f&&(++n,r+=f)}}catch(d){l.e(d)}finally{l.f()}}if(n)return r/n}function se(e,t){return(0,te.Z)(e,.5,t)}var ue=n(74165),ce=(0,ue.Z)().mark(le);function le(e){var t,n,r;return(0,ue.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=(0,o.Z)(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),ce,null,[[1,10,13,16]])}function fe(e){return Array.from(le(e))}var de=n(75055);function pe(e,t){var n,r=-1,i=-1;if(void 0===t){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;++i,null!=u&&(n>u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(d){s.e(d)}finally{s.f()}}else{var c,l=(0,o.Z)(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;null!=(f=t(f,++i,e))&&(n>f||void 0===n&&f>=f)&&(n=f,r=i)}}catch(d){l.e(d)}finally{l.f()}}return r}function he(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve,i=[],a=!1,s=(0,o.Z)(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;a&&i.push(r(t,u)),t=u,a=!0}}catch(c){s.e(c)}finally{s.f()}return i}function ve(e,t){return[e,t]}var me=n(61914),ge=n(41539);function ye(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var a,s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n(c);(r?(0,i.Z)(l,a)<0:0===(0,i.Z)(l,l))&&(t=c,a=l,r=!0)}}catch(h){u.e(h)}finally{u.f()}}else{var f,d=(0,o.Z)(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;(r?n(p,t)<0:0===n(p,p))&&(t=p,r=!0)}}catch(h){d.e(h)}finally{d.f()}}return t}function be(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return pe(e,n);var r,a=-1,s=-1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;++s,(a<0?0===n(c,c):n(c,t)<0)&&(t=c,a=s)}}catch(l){u.e(l)}finally{u.f()}return a}function xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var a,s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n(c);(r?(0,i.Z)(l,a)>0:0===(0,i.Z)(l,l))&&(t=c,a=l,r=!0)}}catch(h){u.e(h)}finally{u.f()}}else{var f,d=(0,o.Z)(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;(r?n(p,t)>0:0===n(p,p))&&(t=p,r=!0)}}catch(h){d.e(h)}finally{d.f()}}return t}function ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return ae(e,n);var r,a=-1,s=-1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;++s,(a<0?0===n(c,c):n(c,t)>0)&&(t=c,a=s)}}catch(l){u.e(l)}finally{u.f()}return a}function we(e,t){var n=be(e,t);return n<0?void 0:n}var _e=Se(Math.random);function Se(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length)-(n=+n);r;){var i=e()*r--|0,a=t[r+n];t[r+n]=t[i+n],t[i+n]=a}return t}}function Te(e,t){var n=0;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(f){i.e(f)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;(l=+t(l,++u,e))&&(n+=l)}}catch(f){c.e(f)}finally{c.f()}}return n}function Ce(e){if(!(i=e.length))return[];for(var t=-1,n=(0,de.Z)(e,Ee),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Ee(e){return e.length}function Oe(){return Ce(arguments)}function Ae(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){if(!t(n.value,++r,e))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}function Ie(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){if(t(n.value,++r,e))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}function Re(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=[],i=-1,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;t(s,++i,e)&&r.push(s)}}catch(u){a.e(u)}finally{a.f()}return r}function Ne(e,t){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(function(n,r){return t(n,r,e)}))}function Pe(e,t,n){if("function"!==typeof t)throw new TypeError("reducer is not a function");var r,i,a=e[Symbol.iterator](),o=-1;if(arguments.length<3){var s=a.next();if(r=s.done,n=s.value,r)return;++o}for(;r=(u=a.next()).done,i=u.value,!r;){var u;n=t(n,i,++o,e)}return n}function Me(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function De(e){e=new Set(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s,u=a[i],c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.delete(l)}}catch(f){c.e(f)}finally{c.f()}}return e}function je(e,t){var n,r=t[Symbol.iterator](),i=new Set,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(i.has(s))return!1;for(var u=void 0,c=void 0;u=(l=r.next()).value,c=l.done,l;){var l;if(c)break;if(Object.is(s,u))return!1;i.add(u)}}}catch(f){a.e(f)}finally{a.f()}return!0}function Le(e){return e instanceof Set?e:new Set(e)}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new Set(e),n=n.map(Le);var i,a=(0,o.Z)(e);try{e:for(a.s();!(i=a.n()).done;){var s,u=i.value,c=(0,o.Z)(n);try{for(c.s();!(s=c.n()).done;){if(!s.value.has(u)){e.delete(u);continue e}}}catch(l){c.e(l)}finally{c.f()}}}catch(l){a.e(l)}finally{a.f()}return e}function Ze(e,t){var n,r=e[Symbol.iterator](),i=new Set,a=(0,o.Z)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!i.has(s))for(var u=void 0,c=void 0;u=(l=r.next()).value,c=l.done,l;){var l;if(c)return!1;if(i.add(u),Object.is(s,u))break}}}catch(f){a.e(f)}finally{a.f()}return!0}function Be(e,t){return Ze(t,e)}function Ue(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s,u=a[i],c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.add(l)}}catch(f){c.e(f)}finally{c.f()}}return e}},42382:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(f){a.e(f)}finally{a.f()}}else{var s,u=-1,c=(0,r.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(f){c.e(f)}finally{c.f()}}return n}},75055:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(f){a.e(f)}finally{a.f()}}else{var s,u=-1,c=(0,r.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(f){c.e(f)}finally{c.f()}}return n}},43996:function(e,t,n){"use strict";n.d(t,{K:function(){return s},Z:function(){return o}});var r=n(74165),i=n(37762),a=(0,r.Z)().mark(s);function o(e){return null===e?NaN:+e}function s(e,t){var n,o,s,u,c,l,f;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=21;break}n=(0,i.Z)(e),r.prev=2,n.s();case 4:if((o=n.n()).done){r.next=11;break}if(!(null!=(s=o.value)&&(s=+s)>=s)){r.next=9;break}return r.next=9,s;case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:r.next=40;break;case 21:u=-1,c=(0,i.Z)(e),r.prev=23,c.s();case 25:if((l=c.n()).done){r.next=32;break}if(f=l.value,!(null!=(f=t(f,++u,e))&&(f=+f)>=f)){r.next=30;break}return r.next=30,f;case 30:r.next=25;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(23),c.e(r.t1);case 37:return r.prev=37,c.f(),r.finish(37);case 40:case"end":return r.stop()}}),a,null,[[2,13,16,19],[23,34,37,40]])}},1732:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},s:function(){return u}});var r=n(42382),i=n(75055),a=n(61914),o=n(43996);function s(e,t,n){if(s=(e=Float64Array.from((0,o.K)(e,n))).length){if((t=+t)<=0||s<2)return(0,i.Z)(e);if(t>=1)return(0,r.Z)(e);var s,u=(s-1)*t,c=Math.floor(u),l=(0,r.Z)((0,a.Z)(e,c).subarray(0,c+1));return l+((0,i.Z)(e.subarray(c+1))-l)*(u-c)}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Z;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}},61914:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65403);function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.Z;o>n;){if(o-n>600){var u=o-n+1,c=t-n+1,l=Math.log(u),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(u-f)/u)*(c-u/2<0?-1:1);i(e,t,Math.max(n,Math.floor(t-c*f/u+d)),Math.min(o,Math.floor(t+(u-c)*f/u+d)),s)}var p=e[t],h=n,v=o;for(a(e,n,t),s(e[o],p)>0&&a(e,n,o);h<v;){for(a(e,h,v),++h,--v;s(e[h],p)<0;)++h;for(;s(e[v],p)>0;)--v}0===s(e[n],p)?a(e,n,v):a(e,++v,o),v<=t&&(n=v+1),t<=v&&(o=v-1)}return e}function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}},41539:function(e,t,n){"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}n.d(t,{Z:function(){return r}})},99571:function(e,t,n){"use strict";n.d(t,{G9:function(){return s},ZP:function(){return o},ly:function(){return u}});var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){var c=Math.round(e/o),l=Math.round(t/o);for(c*o<e&&++c,l*o>t&&--l,a=new Array(i=l-c+1);++u<i;)a[u]=(c+u)*o}else{o=-o;var f=Math.round(e*o),d=Math.round(t*o);for(f/o<e&&++f,d/o>t&&--d,a=new Array(i=d-f+1);++u<i;)a[u]=(f+u)/o}return r&&a.reverse(),a}function s(e,t,n){var o=(t-e)/Math.max(0,n),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=a?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=r?s*=10:u>=i?s*=5:u>=a&&(s*=2),t<e?-s:s}},80419:function(e,t,n){"use strict";n.d(t,{B8:function(){return S},Il:function(){return i},J5:function(){return o},SU:function(){return _},Ss:function(){return T},Ym:function(){return R},ZP:function(){return x},xV:function(){return a}});var r=n(38814);function i(){}var a=.7,o=1/a,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),h=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?k(t):3===n?new T(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new T(t[1],t[2],t[3],1):(t=d.exec(e))?new T(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?w(t[1],t[2],t[3],t[4]):(t=h.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?A(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?A(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?k(g[e]):"transparent"===e?new T(NaN,NaN,NaN,0):null}function k(e){return new T(e>>16&255,e>>8&255,255&e,1)}function w(e,t,n,r){return r<=0&&(e=t=n=NaN),new T(e,t,n,r)}function _(e){return e instanceof i||(e=x(e)),e?new T((e=e.rgb()).r,e.g,e.b,e.opacity):new T}function S(e,t,n,r){return 1===arguments.length?_(e):new T(e,t,n,null==r?1:r)}function T(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function C(){return"#"+O(this.r)+O(this.g)+O(this.b)}function E(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function O(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function A(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new N(e,t,n,r)}function I(e){if(e instanceof N)return new N(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=x(e)),!e)return new N;if(e instanceof N)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-a,c=(o+a)/2;return u?(s=t===o?(n-r)/u+6*(n<r):n===o?(r-t)/u+2:(t-n)/u+4,u/=c<.5?o+a:2-o-a,s*=60):u=c>0&&c<1?0:s,new N(s,u,c,e.opacity)}function R(e,t,n,r){return 1===arguments.length?I(e):new N(e,t,n,null==r?1:r)}function N(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,r.Z)(i,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return I(this).formatHsl()},formatRgb:b,toString:b}),(0,r.Z)(T,S,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:E,toString:E})),(0,r.Z)(N,R,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new N(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new N(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new T(P(e>=240?e-240:e+120,i,r),P(e,i,r),P(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},38814:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:function(){return r},l:function(){return i}})},73352:function(e,t,n){"use strict";n.d(t,{Uc:function(){return k},ZP:function(){return h}});var r=n(38814),i=n(80419),a=n(31233),o=.96422,s=1,u=.82521,c=4/29,l=6/29,f=3*l*l,d=l*l*l;function p(e){if(e instanceof v)return new v(e.l,e.a,e.b,e.opacity);if(e instanceof w)return _(e);e instanceof i.Ss||(e=(0,i.SU)(e));var t,n,r=b(e.r),a=b(e.g),c=b(e.b),l=m((.2225045*r+.7168786*a+.0606169*c)/s);return r===a&&a===c?t=n=l:(t=m((.4360747*r+.3850649*a+.1430804*c)/o),n=m((.0139322*r+.0971045*a+.7141733*c)/u)),new v(116*l-16,500*(t-l),200*(l-n),e.opacity)}function h(e,t,n,r){return 1===arguments.length?p(e):new v(e,t,n,null==r?1:r)}function v(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function m(e){return e>d?Math.pow(e,1/3):e/f+c}function g(e){return e>l?e*e*e:f*(e-c)}function y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function b(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function x(e){if(e instanceof w)return new w(e.h,e.c,e.l,e.opacity);if(e instanceof v||(e=p(e)),0===e.a&&0===e.b)return new w(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a.B;return new w(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function k(e,t,n,r){return 1===arguments.length?x(e):new w(e,t,n,null==r?1:r)}function w(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function _(e){if(isNaN(e.h))return new v(e.l,0,0,e.opacity);var t=e.h*a.V;return new v(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,r.Z)(v,h,(0,r.l)(i.Il,{brighter:function(e){return new v(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new v(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=o*g(t),e=s*g(e),n=u*g(n),new i.Ss(y(3.1338561*t-1.6168667*e-.4906146*n),y(-.9787684*t+1.9161415*e+.033454*n),y(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,r.Z)(w,k,(0,r.l)(i.Il,{brighter:function(e){return new w(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new w(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return _(this).rgb()}}))},31233:function(e,t,n){"use strict";n.d(t,{B:function(){return i},V:function(){return r}});var r=Math.PI/180,i=180/Math.PI},57027:function(e,t,n){"use strict";n.d(t,{WU:function(){return f},jH:function(){return d}});var r=n(54751);var i=n(74111);var a,o=n(3469);function s(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var u={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.Z,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,o.V)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function c(e){return e}var l,f,d,p=Array.prototype.map,h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function v(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=p.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",f=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(p.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=(0,i.Z)(e)).fill,n=e.align,r=e.sign,c=e.symbol,p=e.zero,y=e.width,b=e.comma,x=e.precision,k=e.trim,w=e.type;"n"===w?(b=!0,w="g"):u[w]||(void 0===x&&(x=12),k=!0,w="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var _="$"===c?s:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S="$"===c?l:/[%p]/.test(w)?v:"",T=u[w],C=/[defgprs%]/.test(w);function E(e){var i,s,u,c=_,l=S;if("c"===w)l=T(e)+l,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:T(Math.abs(e),x),k&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),v&&0===+e&&"+"!==r&&(v=!1),c=(v?"("===r?r:m:"-"===r||"("===r?"":r)+c,l=("s"===w?h[8+a/3]:"")+l+(v&&"("===r?")":""),C)for(i=-1,s=e.length;++i<s;)if(48>(u=e.charCodeAt(i))||u>57){l=(46===u?f+e.slice(i+1):e.slice(i))+l,e=e.slice(0,i);break}}b&&!p&&(e=o(e,1/0));var E=c.length+e.length+l.length,O=E<y?new Array(y-E+1).join(t):"";switch(b&&p&&(e=o(O+e,O.length?y-l.length:1/0),O=""),n){case"<":e=c+e+l+O;break;case"=":e=c+O+e+l;break;case"^":e=O.slice(0,E=O.length>>1)+c+e+l+O.slice(E);break;default:e=O+c+e+l}return d(e)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),E.toString=function(){return e+""},E}return{format:y,formatPrefix:function(e,t){var n=y(((e=(0,i.Z)(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((0,r.Z)(t)/3))),o=Math.pow(10,-a),s=h[8+a/3];return function(e){return n(o*e)+s}}}}l=v({thousands:",",grouping:[3],currency:["$",""]}),f=l.format,d=l.formatPrefix},54751:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3469);function i(e){return(e=(0,r.V)(Math.abs(e)))?e[1]:NaN}},3469:function(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{V:function(){return i},Z:function(){return r}})},74111:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},20654:function(e,t){!function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function u(e,t){var n=[],r=[];function i(e,t){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=Array(e.length-1),o=0;o<a.length;o++)0===o&&n.push(e[0]),o===a.length-1&&r.push(e[o+1]),a[o]=[(1-t)*e[o][0]+t*e[o+1][0],(1-t)*e[o][1]+t*e[o+1][1]];i(a,t)}}return e.length&&i(e,t),{left:n,right:r.reverse()}}function c(e){var t={};return 4===e.length&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],4===e.length?t.type="C":3===e.length?t.type="Q":t.type="L",t}function l(e,t){for(var n=[],r=e,i=1/(t=t||2),a=0;a<t-1;a++){var o=u(r,i/(1-i*a));n.push(o.left),r=o.right}return n.push(r),n}function f(e,t,n){var r=[[e.x,e.y]];return null!=t.x1&&r.push([t.x1,t.y1]),null!=t.x2&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),l(r,n).map(c)}var d=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,p={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function h(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t;return n}function v(e){return"".concat(e.type).concat(p[e.type].map((function(t){return e[t]})).join(","))}function m(e,t){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&"M"!==t.type.toUpperCase()){var i={};Object.keys(t).forEach((function(a){var o=t[a],s=e[a];void 0===s&&(r.includes(a)?s=o:(void 0===s&&n[a]&&(s=e[n[a]]),void 0===s&&(s=0))),i[a]=s})),i.type=t.type,e=i}return e}function g(e,t,r){var i=[];if("L"===t.type||"Q"===t.type||"C"===t.type)i=i.concat(f(e,t,r));else{var a=n({},e);"M"===a.type&&(a.type="L"),(i=i.concat(h(r-1).map((function(){return a})))).push(t)}return i}function y(e,t,r){var i=e.length-1,a=t.length-1,o=i/a,s=h(a).reduce((function(t,n,i){var a=Math.floor(o*i);if(r&&a<e.length-1&&r(e[a],e[a+1])){var s=o*i%1<.5;t[a]&&(s?a>0?a-=1:a<e.length-1&&(a+=1):a<e.length-1?a+=1:a>0&&(a-=1))}return t[a]=(t[a]||0)+1,t}),[]).reduce((function(t,r,i){if(i===e.length-1){var a=h(r,n({},e[e.length-1]));return"M"===a[0].type&&a.forEach((function(e){e.type="L"})),t.concat(a)}return t.concat(g(e[i],e[i+1],r))}),[]);return s.unshift(e[0]),s}function b(e){for(var t,n,r=(e||"").match(d)||[],i=[],a=0;a<r.length;++a)if(t=p[r[a]]){n={type:r[a]};for(var o=0;o<t.length;++o)n[t[o]]=+r[a+o+1];a+=t.length,i.push(n)}return i}function x(e,t,n){var r=null==e?[]:e.slice(),a=null==t?[]:t.slice();if(!r.length&&!a.length)return function(){return[]};var o=(0===r.length||"Z"===r[r.length-1].type)&&(0===a.length||"Z"===a[a.length-1].type);r.length>0&&"Z"===r[r.length-1].type&&r.pop(),a.length>0&&"Z"===a[a.length-1].type&&a.pop(),r.length?a.length||a.push(r[0]):r.push(a[0]),0!==Math.abs(a.length-r.length)&&(a.length>r.length?r=y(r,a,n):a.length<r.length&&(a=y(a,r,n)));var u=(r=r.map((function(e,t){return m(e,a[t])}))).map((function(e){return i({},e)}));return o&&u.push({type:"Z"}),function(e){if(1===e)return null==t?[]:t;if(e>0)for(var n=0;n<u.length;++n){var i,o=r[n],c=a[n],l=u[n],f=s(p[l.type]);try{for(f.s();!(i=f.n()).done;){var d=i.value;l[d]=(1-e)*o[d]+e*c[d],"largeArcFlag"!==d&&"sweepFlag"!==d||(l[d]=Math.round(l[d]))}}catch(h){f.e(h)}finally{f.f()}}return u}}function k(e,t,n){var r=b(e),i=b(t);if(!r.length&&!i.length)return function(){return""};var a=x(r,i,n);return function(e){if(1===e)return null==t?"":t;var n,r="",i=s(a(e));try{for(i.s();!(n=i.n()).done;)r+=v(n.value)}catch(o){i.e(o)}finally{i.f()}return r}}Object.keys(p).forEach((function(e){p[e.toLowerCase()]=p[e]})),e.interpolatePath=k,e.interpolatePathCommands=x,e.pathCommandsFromString=b,Object.defineProperty(e,"__esModule",{value:!0})}(t)},99164:function(e,t,n){"use strict";n.d(t,{M:function(){return o},Z:function(){return a}});var r=n(27436),i=n(63722);function a(e,t){return((0,i.v)(t)?i.Z:o)(e,t)}function o(e,t){var n,i=t?t.length:0,a=e?Math.min(i,e.length):0,o=new Array(a),s=new Array(i);for(n=0;n<a;++n)o[n]=(0,r.Z)(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=o[n](e);return s}}},99986:function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function i(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],o=e[i+1],s=i>0?e[i-1]:2*a-o,u=i<t-1?e[i+2]:2*o-a;return r((n-i/t)*t,s,a,o,u)}}n.d(t,{Z:function(){return i},t:function(){return r}})},32313:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(99986);function i(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return(0,r.t)((n-i/t)*t,a,o,s,u)}}},29412:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},wx:function(){return a},yi:function(){return o}});var r=n(1453);function i(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(e)?t:e)}function o(e){return 1===(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,r.Z)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?i(e,n):(0,r.Z)(isNaN(e)?t:e)}},1453:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},92716:function(e,t,n){"use strict";n.d(t,{B:function(){return b},Z:function(){return y}});var r=n(38814),i=n(80419),a=n(31233),o=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,f=l*c,d=l*s,p=s*u-c*o;function h(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof v)return new v(e.h,e.s,e.l,e.opacity);e instanceof i.Ss||(e=(0,i.SU)(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(p*r+f*t-d*n)/(p+f-d),s=r-o,h=(l*(n-o)-u*s)/c,m=Math.sqrt(h*h+s*s)/(l*o*(1-o)),g=m?Math.atan2(h,s)*a.B-120:NaN;return new v(g<0?g+360:g,m,o,e.opacity)}(e):new v(e,t,n,null==r?1:r)}function v(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}(0,r.Z)(v,h,(0,r.l)(i.Il,{brighter:function(e){return e=null==e?i.J5:Math.pow(i.J5,e),new v(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?i.xV:Math.pow(i.xV,e),new v(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a.V,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),f=Math.sin(e);return new i.Ss(255*(t+n*(o*r+s*f)),255*(t+n*(u*r+c*f)),255*(t+n*(l*r)),this.opacity)}}));var m=n(29412);function g(e){return function t(n){function r(t,r){var i=e((t=h(t)).h,(r=h(r)).h),a=(0,m.ZP)(t.s,r.s),o=(0,m.ZP)(t.l,r.l),s=(0,m.ZP)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var y=g(m.wx),b=g(m.ZP)},50108:function(e,t,n){"use strict";function r(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}n.d(t,{Z:function(){return r}})},10035:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(73352),i=n(29412);function a(e){return function(t,n){var a=e((t=(0,r.Uc)(t)).h,(n=(0,r.Uc)(n)).h),o=(0,i.ZP)(t.c,n.c),s=(0,i.ZP)(t.l,n.l),u=(0,i.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=o(e),t.l=s(e),t.opacity=u(e),t+""}}}t.Z=a(i.wx);var o=a(i.ZP)},12061:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(80419),i=n(29412);function a(e){return function(t,n){var a=e((t=(0,r.Ym)(t)).h,(n=(0,r.Ym)(n)).h),o=(0,i.ZP)(t.s,n.s),s=(0,i.ZP)(t.l,n.l),u=(0,i.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=o(e),t.l=s(e),t.opacity=u(e),t+""}}}t.Z=a(i.wx);var o=a(i.ZP)},57670:function(e,t,n){"use strict";n.r(t),n.d(t,{interpolate:function(){return r.Z},interpolateArray:function(){return i.Z},interpolateBasis:function(){return a.Z},interpolateBasisClosed:function(){return o.Z},interpolateCubehelix:function(){return j.Z},interpolateCubehelixLong:function(){return j.B},interpolateDate:function(){return s.Z},interpolateDiscrete:function(){return u},interpolateHcl:function(){return D.Z},interpolateHclLong:function(){return D.b},interpolateHsl:function(){return P.Z},interpolateHslLong:function(){return P.q},interpolateHue:function(){return l},interpolateLab:function(){return M.Z},interpolateNumber:function(){return v.Z},interpolateNumberArray:function(){return m.Z},interpolateObject:function(){return g.Z},interpolateRgb:function(){return N.ZP},interpolateRgbBasis:function(){return N.hD},interpolateRgbBasisClosed:function(){return N.YD},interpolateRound:function(){return y.Z},interpolateString:function(){return b.Z},interpolateTransformCss:function(){return S},interpolateTransformSvg:function(){return T},interpolateZoom:function(){return R},piecewise:function(){return L.Z},quantize:function(){return F}});var r=n(27436),i=n(99164),a=n(99986),o=n(32313),s=n(50108);function u(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var c=n(29412);function l(e,t){var n=(0,c.wx)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var f,d,p,h,v=n(58765),m=n(63722),g=n(36261),y=n(66058),b=n(30514),x=180/Math.PI,k={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function w(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*x,skewX:Math.atan(u)*x,scaleX:o,scaleY:s}}function _(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:(0,v.Z)(e,i)},{i:u-2,x:(0,v.Z)(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,v.Z)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,v.Z)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:(0,v.Z)(e,n)},{i:s-2,x:(0,v.Z)(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var S=_((function(e){return"none"===e?k:(f||(f=document.createElement("DIV"),d=document.documentElement,p=document.defaultView),f.style.transform=e,e=p.getComputedStyle(d.appendChild(f),null).getPropertyValue("transform"),d.removeChild(f),w(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),T=_((function(e){return null==e?k:(h||(h=document.createElementNS("http://www.w3.org/2000/svg","g")),h.setAttribute("transform",e),(e=h.transform.baseVal.consolidate())?w((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):k)}),", ",")",")"),C=Math.SQRT2,E=2,O=4,A=1e-12;function I(e){return((e=Math.exp(e))+1/e)/2}function R(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],c=t[2],l=s-i,f=u-a,d=l*l+f*f;if(d<A)r=Math.log(c/o)/C,n=function(e){return[i+e*l,a+e*f,o*Math.exp(C*e*r)]};else{var p=Math.sqrt(d),h=(c*c-o*o+O*d)/(2*o*E*p),v=(c*c-o*o-O*d)/(2*c*E*p),m=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-m)/C,n=function(e){var t,n=e*r,s=I(m),u=o/(E*p)*(s*(t=C*n+m,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[i+u*l,a+u*f,o*s/I(C*n+m)]}}return n.duration=1e3*r,n}var N=n(86211),P=n(12061),M=n(26074),D=n(10035),j=n(92716),L=n(59364);function F(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}},26074:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(73352),i=n(29412);function a(e,t){var n=(0,i.ZP)((e=(0,r.ZP)(e)).l,(t=(0,r.ZP)(t)).l),a=(0,i.ZP)(e.a,t.a),o=(0,i.ZP)(e.b,t.b),s=(0,i.ZP)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=o(t),e.opacity=s(t),e+""}}},58765:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:function(){return r}})},63722:function(e,t,n){"use strict";function r(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function i(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.d(t,{Z:function(){return r},v:function(){return i}})},36261:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(27436);function i(e,t){var n,i={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=(0,r.Z)(e[n],t[n]):a[n]=t[n];return function(e){for(n in i)a[n]=i[n](e);return a}}},59364:function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}n.d(t,{Z:function(){return r}})},86211:function(e,t,n){"use strict";n.d(t,{YD:function(){return c},hD:function(){return u}});var r=n(80419),i=n(99986),a=n(32313),o=n(29412);function s(e){return function(t){var n,i,a=t.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)i=(0,r.B8)(t[n]),o[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return o=e(o),s=e(s),u=e(u),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=u(e),i+""}}}t.ZP=function e(t){var n=(0,o.yi)(t);function i(e,t){var i=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),u=(0,o.ZP)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=u(t),e+""}}return i.gamma=e,i}(1);var u=s(i.Z),c=s(a.Z)},66058:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{Z:function(){return r}})},30514:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(58765),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");function o(e,t){var n,o,s,u=i.lastIndex=a.lastIndex=0,c=-1,l=[],f=[];for(e+="",t+="";(n=i.exec(e))&&(o=a.exec(t));)(s=o.index)>u&&(s=t.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(o=o[0])?l[c]?l[c]+=o:l[++c]=o:(l[++c]=null,f.push({i:c,x:(0,r.Z)(n,o)})),u=a.lastIndex;return u<t.length&&(s=t.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?f[0]?function(e){return function(t){return e(t)+""}}(f[0].x):function(e){return function(){return e}}(t):(t=f.length,function(e){for(var n,r=0;r<t;++r)l[(n=f[r]).i]=n.x(e);return l.join("")})}},27436:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(80419),i=n(86211),a=n(99164),o=n(50108),s=n(58765),u=n(36261),c=n(30514),l=n(1453),f=n(63722);function d(e,t){var n,d=typeof t;return null==t||"boolean"===d?(0,l.Z)(t):("number"===d?s.Z:"string"===d?(n=(0,r.ZP)(t))?(t=n,i.ZP):c.Z:t instanceof r.ZP?i.ZP:t instanceof Date?o.Z:(0,f.v)(t)?f.Z:Array.isArray(t)?a.M:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?u.Z:s.Z)(e,t)}},73339:function(e,t){"use strict";var n=Math.PI,r=2*n,i=1e-6,a=r-i;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,a,o){e=+e,t=+t,r=+r,a=+a,o=+o;var s=this._x1,u=this._y1,c=r-e,l=a-t,f=s-e,d=u-t,p=f*f+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>i)if(Math.abs(d*c-l*f)>i&&o){var h=r-s,v=a-u,m=c*c+l*l,g=h*h+v*v,y=Math.sqrt(m),b=Math.sqrt(p),x=o*Math.tan((n-Math.acos((m+p-g)/(2*y*b)))/2),k=x/b,w=x/y;Math.abs(k-1)>i&&(this._+="L"+(e+k*f)+","+(t+k*d)),this._+="A"+o+","+o+",0,0,"+ +(d*h>f*v)+","+(this._x1=e+w*c)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,o,s,u,c){e=+e,t=+t,c=!!c;var l=(o=+o)*Math.cos(s),f=o*Math.sin(s),d=e+l,p=t+f,h=1^c,v=c?s-u:u-s;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+d+","+p:(Math.abs(this._x1-d)>i||Math.abs(this._y1-p)>i)&&(this._+="L"+d+","+p),o&&(v<0&&(v=v%r+r),v>a?this._+="A"+o+","+o+",0,1,"+h+","+(e-l)+","+(t-f)+"A"+o+","+o+",0,1,"+h+","+(this._x1=d)+","+(this._y1=p):v>i&&(this._+="A"+o+","+o+",0,"+ +(v>=n)+","+h+","+(this._x1=e+o*Math.cos(u))+","+(this._y1=t+o*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.Z=s},87570:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},x:function(){return c}});var r=n(70885),i=n(41539),a=n(37924),o=n(51354);function s(){var e,t,n=(0,o.Z)().unknown(void 0),u=n.domain,c=n.range,l=0,f=1,d=!1,p=0,h=0,v=.5;function m(){var n=u().length,r=f<l,a=r?f:l,o=r?l:f;e=(o-a)/Math.max(1,n-p+2*h),d&&(e=Math.floor(e)),a+=(o-a-e*(n-p))*v,t=e*(1-p),d&&(a=Math.round(a),t=Math.round(t));var s=(0,i.Z)(n).map((function(t){return a+e*t}));return c(r?s.reverse():s)}return delete n.unknown,n.domain=function(e){return arguments.length?(u(e),m()):u()},n.range=function(e){var t;return arguments.length?(t=(0,r.Z)(e,2),l=t[0],f=t[1],l=+l,f=+f,m()):[l,f]},n.rangeRound=function(e){var t;return t=(0,r.Z)(e,2),l=t[0],f=t[1],l=+l,f=+f,d=!0,m()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(d=!!e,m()):d},n.padding=function(e){return arguments.length?(p=Math.min(1,h=+e),m()):p},n.paddingInner=function(e){return arguments.length?(p=Math.min(1,e),m()):p},n.paddingOuter=function(e){return arguments.length?(h=+e,m()):h},n.align=function(e){return arguments.length?(v=Math.max(0,Math.min(1,e)),m()):v},n.copy=function(){return s(u(),[l,f]).round(d).paddingInner(p).paddingOuter(h).align(v)},a.o.apply(m(),arguments)}function u(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u(t())},e}function c(){return u(s.apply(null,arguments).paddingInner(1))}},76423:function(e,t,n){"use strict";n.d(t,{JG:function(){return p},ZP:function(){return v},yR:function(){return c},l4:function(){return h}});var r=n(84181),i=n(27436),a=n(58765),o=n(66058);var s=n(94696),u=[0,1];function c(e){return e}function l(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function f(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=l(i,r),a=n(o,a)):(r=l(r,i),a=n(a,o)),function(e){return a(r(e))}}function d(e,t,n){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=l(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=(0,r.ZP)(e,t,1,i)-1;return o[n](a[n](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e,t,n,r,l,p,h=u,v=u,m=i.Z,g=c;function y(){var e=Math.min(h.length,v.length);return g!==c&&(g=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(h[0],h[e-1])),r=e>2?d:f,l=p=null,b}function b(t){return null==t||isNaN(t=+t)?n:(l||(l=r(h.map(e),v,m)))(e(g(t)))}return b.invert=function(n){return g(t((p||(p=r(v,h.map(e),a.Z)))(n)))},b.domain=function(e){return arguments.length?(h=Array.from(e,s.Z),y()):h.slice()},b.range=function(e){return arguments.length?(v=Array.from(e),y()):v.slice()},b.rangeRound=function(e){return v=Array.from(e),m=o.Z,y()},b.clamp=function(e){return arguments.length?(g=!!e||c,y()):g!==c},b.interpolate=function(e){return arguments.length?(m=e,y()):m},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,y()}}function v(){return h()(c,c)}},44384:function(e,t,n){"use strict";n.r(t),n.d(t,{scaleBand:function(){return r.Z},scaleDiverging:function(){return j},scaleDivergingLog:function(){return L},scaleDivergingPow:function(){return Z},scaleDivergingSqrt:function(){return B},scaleDivergingSymlog:function(){return F},scaleIdentity:function(){return o},scaleImplicit:function(){return c.O},scaleLinear:function(){return i.Z},scaleLog:function(){return s.Z},scaleOrdinal:function(){return c.Z},scalePoint:function(){return r.x},scalePow:function(){return l.ZP},scaleQuantile:function(){return d.Z},scaleQuantize:function(){return p.Z},scaleRadial:function(){return f.Z},scaleSequential:function(){return S},scaleSequentialLog:function(){return T},scaleSequentialPow:function(){return E},scaleSequentialQuantile:function(){return P},scaleSequentialSqrt:function(){return O},scaleSequentialSymlog:function(){return C},scaleSqrt:function(){return l._b},scaleSymlog:function(){return u.Z},scaleThreshold:function(){return h.Z},scaleTime:function(){return v.Z},scaleUtc:function(){return m.Z},tickFormat:function(){return U.Z}});var r=n(87570),i=n(89737),a=n(94696);function o(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,a.Z),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return o(e).unknown(t)},e=arguments.length?Array.from(e,a.Z):[0,1],(0,i.Q)(n)}var s=n(47659),u=n(4310),c=n(51354),l=n(23147),f=n(78179),d=n(63688),p=n(1267),h=n(77419),v=n(96722),m=n(17322),g=n(70885),y=n(27436),b=n(66058),x=n(76423),k=n(37924);function w(){var e,t,n,r,i,a=0,o=1,s=x.yR,u=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i;return arguments.length?(r=(n=(0,g.Z)(t,2))[0],i=n[1],s=e(r,i),c):[s(0),s(1)]}}return c.domain=function(i){var s;return arguments.length?(s=(0,g.Z)(i,2),a=s[0],o=s[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=l(y.Z),c.rangeRound=l(b.Z),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function _(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S(){var e=(0,i.Q)(w()(x.yR));return e.copy=function(){return _(e,S())},k.O.apply(e,arguments)}function T(){var e=(0,s.Q)(w()).domain([1,10]);return e.copy=function(){return _(e,T()).base(e.base())},k.O.apply(e,arguments)}function C(){var e=(0,u.P)(w());return e.copy=function(){return _(e,C()).constant(e.constant())},k.O.apply(e,arguments)}function E(){var e=(0,l.Hh)(w());return e.copy=function(){return _(e,E()).exponent(e.exponent())},k.O.apply(e,arguments)}function O(){return E.apply(null,arguments).exponent(.5)}var A=n(37762),I=n(84181),R=n(65403),N=n(1732);function P(){var e=[],t=x.yR;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,I.ZP)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=(0,A.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||e.push(a)}}catch(o){i.e(o)}finally{i.f()}return e.sort(R.Z),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return(0,N.Z)(e,r/t)}))},n.copy=function(){return P(t).domain(e)},k.O.apply(n,arguments)}var M=n(59364);function D(){var e,t,n,r,i,a,o,s=0,u=.5,c=1,l=1,f=x.yR,d=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=(0,g.Z)(t,3))[0],i=n[1],a=n[2],f=(0,M.Z)(e,[r,i,a]),p):[f(0),f(.5),f(1)]}}return p.domain=function(o){var f;return arguments.length?(f=(0,g.Z)(o,3),s=f[0],u=f[1],c=f[2],e=a(s=+s),t=a(u=+u),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p):[s,u,c]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(f=e,p):f},p.range=h(y.Z),p.rangeRound=h(b.Z),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(u),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p}}function j(){var e=(0,i.Q)(D()(x.yR));return e.copy=function(){return _(e,j())},k.O.apply(e,arguments)}function L(){var e=(0,s.Q)(D()).domain([.1,1,10]);return e.copy=function(){return _(e,L()).base(e.base())},k.O.apply(e,arguments)}function F(){var e=(0,u.P)(D());return e.copy=function(){return _(e,F()).constant(e.constant())},k.O.apply(e,arguments)}function Z(){var e=(0,l.Hh)(D());return e.copy=function(){return _(e,Z()).exponent(e.exponent())},k.O.apply(e,arguments)}function B(){return Z.apply(null,arguments).exponent(.5)}var U=n(92172)},37924:function(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{O:function(){return i},o:function(){return r}})},89737:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},Z:function(){return u}});var r=n(99571),i=n(76423),a=n(37924),o=n(92172);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,o.Z)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,a,o=t(),s=0,u=o.length-1,c=o[s],l=o[u],f=10;for(l<c&&(a=c,c=l,l=a,a=s,s=u,u=a);f-- >0;){if((a=(0,r.G9)(c,l,n))===i)return o[s]=c,o[u]=l,t(o);if(a>0)c=Math.floor(c/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,l=Math.floor(l*a)/a}i=a}return e},e}function u(){var e=(0,i.ZP)();return e.copy=function(){return(0,i.JG)(e,u())},a.o.apply(e,arguments),s(e)}},47659:function(e,t,n){"use strict";n.d(t,{Q:function(){return h},Z:function(){return v}});var r=n(99571),i=n(57027),a=n(85897),o=n(76423),s=n(37924);function u(e){return Math.log(e)}function c(e){return Math.exp(e)}function l(e){return-Math.log(-e)}function f(e){return-Math.exp(-e)}function d(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p(e){return function(t){return-e(-t)}}function h(e){var t,n,o=e(u,c),s=o.domain,h=10;function v(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(h),n=function(e){return 10===e?d:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(h),s()[0]<0?(t=p(t),n=p(n),e(l,f)):e(u,c),o}return o.base=function(e){return arguments.length?(h=+e,v()):h},o.domain=function(e){return arguments.length?(s(e),v()):s()},o.ticks=function(e){var i,a=s(),o=a[0],u=a[a.length-1];(i=u<o)&&(d=o,o=u,u=d);var c,l,f,d=t(o),p=t(u),v=null==e?10:+e,m=[];if(!(h%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),o>0){for(;d<=p;++d)for(l=1,c=n(d);l<h;++l)if(!((f=c*l)<o)){if(f>u)break;m.push(f)}}else for(;d<=p;++d)for(l=h-1,c=n(d);l>=1;--l)if(!((f=c*l)<o)){if(f>u)break;m.push(f)}2*m.length<v&&(m=(0,r.ZP)(o,u,v))}else m=(0,r.ZP)(d,p,Math.min(p-d,v)).map(n);return i?m.reverse():m},o.tickFormat=function(e,r){if(null==r&&(r=10===h?".0e":","),"function"!==typeof r&&(r=(0,i.WU)(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,h*e/o.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*h<h-.5&&(i*=h),i<=a?r(e):""}},o.nice=function(){return s((0,a.Z)(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},o}function v(){var e=h((0,o.l4)()).domain([1,10]);return e.copy=function(){return(0,o.JG)(e,v()).base(e.base())},s.o.apply(e,arguments),e}},85897:function(e,t,n){"use strict";function r(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}n.d(t,{Z:function(){return r}})},94696:function(e,t,n){"use strict";function r(e){return+e}n.d(t,{Z:function(){return r}})},51354:function(e,t,n){"use strict";n.d(t,{O:function(){return a},Z:function(){return o}});var r=n(37762),i=n(37924),a=Symbol("implicit");function o(){var e=new Map,t=[],n=[],s=a;function u(r){var i=r+"",o=e.get(i);if(!o){if(s!==a)return s;e.set(i,o=t.push(r))}return n[(o-1)%n.length]}return u.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var i,a=(0,r.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o+"";e.has(s)||e.set(s,t.push(o))}}catch(c){a.e(c)}finally{a.f()}return u},u.range=function(e){return arguments.length?(n=Array.from(e),u):n.slice()},u.unknown=function(e){return arguments.length?(s=e,u):s},u.copy=function(){return o(t,n).unknown(s)},i.o.apply(u,arguments),u}},23147:function(e,t,n){"use strict";n.d(t,{Hh:function(){return c},ZP:function(){return l},_b:function(){return f}});var r=n(89737),i=n(76423),a=n(37924);function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u(e){return e<0?-e*e:e*e}function c(e){var t=e(i.yR,i.yR),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(i.yR,i.yR):.5===n?e(s,u):e(o(n),o(1/n)):n},(0,r.Q)(t)}function l(){var e=c((0,i.l4)());return e.copy=function(){return(0,i.JG)(e,l()).exponent(e.exponent())},a.o.apply(e,arguments),e}function f(){return l.apply(null,arguments).exponent(.5)}},63688:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(37762),i=n(1732),a=n(84181),o=n(65403),s=n(37924);function u(){var e,t=[],n=[],c=[];function l(){var e=0,r=Math.max(1,n.length);for(c=new Array(r-1);++e<r;)c[e-1]=(0,i.s)(t,e/r);return f}function f(t){return null==t||isNaN(t=+t)?e:n[(0,a.ZP)(c,t)]}return f.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?c[r-1]:t[0],r<c.length?c[r]:t[t.length-1]]},f.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;null==a||isNaN(a=+a)||t.push(a)}}catch(s){i.e(s)}finally{i.f()}return t.sort(o.Z),l()},f.range=function(e){return arguments.length?(n=Array.from(e),l()):n.slice()},f.unknown=function(t){return arguments.length?(e=t,f):e},f.quantiles=function(){return c.slice()},f.copy=function(){return u().domain(t).range(n).unknown(e)},s.o.apply(f,arguments)}},1267:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(70885),i=n(84181),a=n(89737),o=n(37924);function s(){var e,t=0,n=1,u=1,c=[.5],l=[0,1];function f(t){return null!=t&&t<=t?l[(0,i.ZP)(c,t,0,u)]:e}function d(){var e=-1;for(c=new Array(u);++e<u;)c[e]=((e+1)*n-(e-u)*t)/(u+1);return f}return f.domain=function(e){var i;return arguments.length?(i=(0,r.Z)(e,2),t=i[0],n=i[1],t=+t,n=+n,d()):[t,n]},f.range=function(e){return arguments.length?(u=(l=Array.from(e)).length-1,d()):l.slice()},f.invertExtent=function(e){var r=l.indexOf(e);return r<0?[NaN,NaN]:r<1?[t,c[0]]:r>=u?[c[u-1],n]:[c[r-1],c[r]]},f.unknown=function(t){return arguments.length?(e=t,f):f},f.thresholds=function(){return c.slice()},f.copy=function(){return s().domain([t,n]).range(l).unknown(e)},o.o.apply((0,a.Q)(f),arguments)}},78179:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76423),i=n(37924),a=n(89737),o=n(94696);function s(e){return Math.sign(e)*e*e}function u(){var e,t=(0,r.ZP)(),n=[0,1],c=!1;function l(n){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(r)?e:c?Math.round(r):r}return l.invert=function(e){return t.invert(s(e))},l.domain=function(e){return arguments.length?(t.domain(e),l):t.domain()},l.range=function(e){return arguments.length?(t.range((n=Array.from(e,o.Z)).map(s)),l):n.slice()},l.rangeRound=function(e){return l.range(e).round(!0)},l.round=function(e){return arguments.length?(c=!!e,l):c},l.clamp=function(e){return arguments.length?(t.clamp(e),l):t.clamp()},l.unknown=function(t){return arguments.length?(e=t,l):e},l.copy=function(){return u(t.domain(),n).round(c).clamp(t.clamp()).unknown(e)},i.o.apply(l,arguments),(0,a.Q)(l)}},4310:function(e,t,n){"use strict";n.d(t,{P:function(){return u},Z:function(){return c}});var r=n(89737),i=n(76423),a=n(37924);function o(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u(e){var t=1,n=e(o(t),s(t));return n.constant=function(n){return arguments.length?e(o(t=+n),s(t)):t},(0,r.Q)(n)}function c(){var e=u((0,i.l4)());return e.copy=function(){return(0,i.JG)(e,c()).constant(e.constant())},a.o.apply(e,arguments)}},77419:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(84181),i=n(37924);function a(){var e,t=[.5],n=[0,1],o=1;function s(i){return null!=i&&i<=i?n[(0,r.ZP)(t,i,0,o)]:e}return s.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),s):t.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return a().domain(t).range(n).unknown(e)},i.o.apply(s,arguments)}},92172:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(99571),i=n(74111),a=n(54751);var o=n(57027);function s(e,t,n,s){var u,c=(0,r.ly)(e,t,n);switch((s=(0,i.Z)(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(u=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,a.Z)(t)/3)))-(0,a.Z)(Math.abs(e)))}(c,l))||(s.precision=u),(0,o.jH)(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(u=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,a.Z)(t)-(0,a.Z)(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(s.precision=u-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(u=function(e){return Math.max(0,-(0,a.Z)(Math.abs(e)))}(c))||(s.precision=u-2*("%"===s.type))}return(0,o.WU)(s)}},96722:function(e,t,n){"use strict";n.d(t,{Y:function(){return g},Z:function(){return y}});var r=n(80783),i=n(36243),a=n(44870),o=n(6817),s=n(24527),u=n(37568),c=n(40020),l=n(4495),f=n(70985),d=n(76423),p=n(37924),h=n(85897);function v(e){return new Date(e)}function m(e){return e instanceof Date?+e:+new Date(+e)}function g(e,t,n,r,i,a,o,s,u,c){var l=(0,d.ZP)(),f=l.invert,p=l.domain,y=c(".%L"),b=c(":%S"),x=c("%I:%M"),k=c("%I %p"),w=c("%a %d"),_=c("%b %d"),S=c("%B"),T=c("%Y");function C(e){return(u(e)<e?y:s(e)<e?b:o(e)<e?x:a(e)<e?k:r(e)<e?i(e)<e?w:_:n(e)<e?S:T)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?p(Array.from(e,m)):p().map(v)},l.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?C:c(t)},l.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p((0,h.Z)(n,e)):l},l.copy=function(){return(0,d.JG)(l,g(e,t,n,r,i,a,o,s,u,c))},l}function y(){return p.o.apply(g(r.jK,r._g,i.Z,a.Z,o.OM,s.Z,u.Z,c.Z,l.Z,f.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},17322:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(80783),i=n(13608),a=n(86570),o=n(80438),s=n(7171),u=n(63854),c=n(632),l=n(4495),f=n(70985),d=n(96722),p=n(37924);function h(){return p.o.apply((0,d.Y)(r.WG,r.jo,i.Z,a.Z,o.Ox,s.Z,u.Z,c.Z,l.Z,f.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},21561:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(73339),i=n(76817),a=n(47226);function o(e){return e.innerRadius}function s(e){return e.outerRadius}function u(e){return e.startAngle}function c(e){return e.endAngle}function l(e){return e&&e.padAngle}function f(e,t,n,r,i,o,s){var u=e-n,c=t-r,l=(s?o:-o)/(0,a._b)(u*u+c*c),f=l*c,d=-l*u,p=e+f,h=t+d,v=n+f,m=r+d,g=(p+v)/2,y=(h+m)/2,b=v-p,x=m-h,k=b*b+x*x,w=i-o,_=p*m-v*h,S=(x<0?-1:1)*(0,a._b)((0,a.Fp)(0,w*w*k-_*_)),T=(_*x-b*S)/k,C=(-_*b-x*S)/k,E=(_*x+b*S)/k,O=(-_*b+x*S)/k,A=T-g,I=C-y,R=E-g,N=O-y;return A*A+I*I>R*R+N*N&&(T=E,C=O),{cx:T,cy:C,x01:-f,y01:-d,x11:T*(i/w-1),y11:C*(i/w-1)}}function d(){var e=o,t=s,n=(0,i.Z)(0),d=null,p=u,h=c,v=l,m=null;function g(){var i,o,s=+e.apply(this,arguments),u=+t.apply(this,arguments),c=p.apply(this,arguments)-a.ou,l=h.apply(this,arguments)-a.ou,g=(0,a.Wn)(l-c),y=l>c;if(m||(m=i=(0,r.Z)()),u<s&&(o=u,u=s,s=o),u>a.Ho)if(g>a.BZ-a.Ho)m.moveTo(u*(0,a.mC)(c),u*(0,a.O$)(c)),m.arc(0,0,u,c,l,!y),s>a.Ho&&(m.moveTo(s*(0,a.mC)(l),s*(0,a.O$)(l)),m.arc(0,0,s,l,c,y));else{var b,x,k=c,w=l,_=c,S=l,T=g,C=g,E=v.apply(this,arguments)/2,O=E>a.Ho&&(d?+d.apply(this,arguments):(0,a._b)(s*s+u*u)),A=(0,a.VV)((0,a.Wn)(u-s)/2,+n.apply(this,arguments)),I=A,R=A;if(O>a.Ho){var N=(0,a.ZR)(O/s*(0,a.O$)(E)),P=(0,a.ZR)(O/u*(0,a.O$)(E));(T-=2*N)>a.Ho?(_+=N*=y?1:-1,S-=N):(T=0,_=S=(c+l)/2),(C-=2*P)>a.Ho?(k+=P*=y?1:-1,w-=P):(C=0,k=w=(c+l)/2)}var M=u*(0,a.mC)(k),D=u*(0,a.O$)(k),j=s*(0,a.mC)(S),L=s*(0,a.O$)(S);if(A>a.Ho){var F,Z=u*(0,a.mC)(w),B=u*(0,a.O$)(w),U=s*(0,a.mC)(_),V=s*(0,a.O$)(_);if(g<a.pi&&(F=function(e,t,n,r,i,o,s,u){var c=n-e,l=r-t,f=s-i,d=u-o,p=d*c-f*l;if(!(p*p<a.Ho))return[e+(p=(f*(t-o)-d*(e-i))/p)*c,t+p*l]}(M,D,U,V,Z,B,j,L))){var z=M-F[0],W=D-F[1],H=Z-F[0],G=B-F[1],q=1/(0,a.O$)((0,a.Kh)((z*H+W*G)/((0,a._b)(z*z+W*W)*(0,a._b)(H*H+G*G)))/2),K=(0,a._b)(F[0]*F[0]+F[1]*F[1]);I=(0,a.VV)(A,(s-K)/(q-1)),R=(0,a.VV)(A,(u-K)/(q+1))}}C>a.Ho?R>a.Ho?(b=f(U,V,M,D,u,R,y),x=f(Z,B,j,L,u,R,y),m.moveTo(b.cx+b.x01,b.cy+b.y01),R<A?m.arc(b.cx,b.cy,R,(0,a.fv)(b.y01,b.x01),(0,a.fv)(x.y01,x.x01),!y):(m.arc(b.cx,b.cy,R,(0,a.fv)(b.y01,b.x01),(0,a.fv)(b.y11,b.x11),!y),m.arc(0,0,u,(0,a.fv)(b.cy+b.y11,b.cx+b.x11),(0,a.fv)(x.cy+x.y11,x.cx+x.x11),!y),m.arc(x.cx,x.cy,R,(0,a.fv)(x.y11,x.x11),(0,a.fv)(x.y01,x.x01),!y))):(m.moveTo(M,D),m.arc(0,0,u,k,w,!y)):m.moveTo(M,D),s>a.Ho&&T>a.Ho?I>a.Ho?(b=f(j,L,Z,B,s,-I,y),x=f(M,D,U,V,s,-I,y),m.lineTo(b.cx+b.x01,b.cy+b.y01),I<A?m.arc(b.cx,b.cy,I,(0,a.fv)(b.y01,b.x01),(0,a.fv)(x.y01,x.x01),!y):(m.arc(b.cx,b.cy,I,(0,a.fv)(b.y01,b.x01),(0,a.fv)(b.y11,b.x11),!y),m.arc(0,0,s,(0,a.fv)(b.cy+b.y11,b.cx+b.x11),(0,a.fv)(x.cy+x.y11,x.cx+x.x11),y),m.arc(x.cx,x.cy,I,(0,a.fv)(x.y11,x.x11),(0,a.fv)(x.y01,x.x01),!y))):m.arc(0,0,s,S,_,y):m.lineTo(j,L)}else m.moveTo(0,0);if(m.closePath(),i)return m=null,i+""||null}return g.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+p.apply(this,arguments)+ +h.apply(this,arguments))/2-a.pi/2;return[(0,a.mC)(r)*n,(0,a.O$)(r)*n]},g.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),g):e},g.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),g):t},g.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),g):n},g.padRadius=function(e){return arguments.length?(d=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),g):d},g.startAngle=function(e){return arguments.length?(p="function"===typeof e?e:(0,i.Z)(+e),g):p},g.endAngle=function(e){return arguments.length?(h="function"===typeof e?e:(0,i.Z)(+e),g):h},g.padAngle=function(e){return arguments.length?(v="function"===typeof e?e:(0,i.Z)(+e),g):v},g.context=function(e){return arguments.length?(m=null==e?null:e,g):m},g}},85520:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(73339),i=n(76817),a=n(38146),o=n(86344),s=n(15402);function u(){var e=s.x,t=null,n=(0,i.Z)(0),u=s.y,c=(0,i.Z)(!0),l=null,f=a.Z,d=null;function p(i){var a,o,s,p,h,v=i.length,m=!1,g=new Array(v),y=new Array(v);for(null==l&&(d=f(h=(0,r.Z)())),a=0;a<=v;++a){if(!(a<v&&c(p=i[a],a,i))===m)if(m=!m)o=a,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),s=a-1;s>=o;--s)d.point(g[s],y[s]);d.lineEnd(),d.areaEnd()}m&&(g[a]=+e(p,a,i),y[a]=+n(p,a,i),d.point(t?+t(p,a,i):g[a],u?+u(p,a,i):y[a]))}if(h)return d=null,h+""||null}function h(){return(0,o.Z)().defined(c).curve(f).context(l)}return p.x=function(n){return arguments.length?(e="function"===typeof n?n:(0,i.Z)(+n),t=null,p):e},p.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),p):e},p.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),p):t},p.y=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),u=null,p):n},p.y0=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),p):n},p.y1=function(e){return arguments.length?(u=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),p):u},p.lineX0=p.lineY0=function(){return h().x(e).y(n)},p.lineY1=function(){return h().x(e).y(u)},p.lineX1=function(){return h().x(t).y(n)},p.defined=function(e){return arguments.length?(c="function"===typeof e?e:(0,i.Z)(!!e),p):c},p.curve=function(e){return arguments.length?(f=e,null!=l&&(d=f(l)),p):f},p.context=function(e){return arguments.length?(null==e?l=d=null:d=f(l=e),p):l},p}},5803:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var r=Array.prototype.slice},76817:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},76314:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}function a(e){return new i(e)}n.d(t,{ZP:function(){return a},fE:function(){return i},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},6066:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(42447),i=n(76314);function a(e){this._context=e}function o(e){return new a(e)}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},54404:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76314);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},4493:function(e,t,n){"use strict";var r=n(76314);function i(e,t){this._basis=new r.fE(e),this._beta=t}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*o),this._beta*t[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.Z=function e(t){function n(e){return 1===t?new r.fE(e):new i(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},21804:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function i(e,t){this._context=e,this._k=(1-t)/6}n.d(t,{pC:function(){return i},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:r(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.ZP=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},43328:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(42447),i=n(21804);function a(e,t){this._context=e,this._k=(1-t)/6}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return new a(e,t)}return n.tension=function(t){return e(+t)},n}(0)},27273:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(21804);function i(e,t){this._context=e,this._k=(1-t)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},8147:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(47226),i=n(21804);function a(e,t,n){var i=e._x1,a=e._y1,o=e._x2,s=e._y2;if(e._l01_a>r.Ho){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>r.Ho){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/f,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(i,a,o,s,e._x2,e._y2)}function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new o(e,t):new i.pC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},6449:function(e,t,n){"use strict";var r=n(43328),i=n(42447),a=n(8147);function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,a.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new o(e,t):new r.U(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},92314:function(e,t,n){"use strict";var r=n(27273),i=n(8147);function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new a(e,t):new r.T(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},38146:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){return new r(e)}n.d(t,{Z:function(){return i}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},19199:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(42447);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},55856:function(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),s=(n-e._y1)/(a||i<0&&-0),u=(o*a+s*i)/(i+a);return(r(o)+r(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function s(e){this._context=e}function u(e){this._context=new c(e)}function c(e){this._context=e}function l(e){return new s(e)}function f(e){return new u(e)}n.d(t,{Z:function(){return l},s:function(){return f}}),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=i(this,e,t)),n);break;default:o(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}}},41828:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function a(e){return new r(e)}n.d(t,{Z:function(){return a}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),a=i(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},89875:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},j:function(){return r}});var r=a(n(38146).Z);function i(e){this._curve=e}function a(e){function t(t){return new i(e(t))}return t._curve=e,t}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},19943:function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,.5)}function a(e){return new r(e,0)}function o(e){return new r(e,1)}n.d(t,{RN:function(){return a},ZP:function(){return i},cD:function(){return o}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},29100:function(e,t,n){"use strict";n.r(t),n.d(t,{arc:function(){return r.Z},area:function(){return i.Z},areaRadial:function(){return c},curveBasis:function(){return j.ZP},curveBasisClosed:function(){return M.Z},curveBasisOpen:function(){return D.Z},curveBundle:function(){return L.Z},curveCardinal:function(){return B.ZP},curveCardinalClosed:function(){return F.Z},curveCardinalOpen:function(){return Z.Z},curveCatmullRom:function(){return z.Z},curveCatmullRomClosed:function(){return U.Z},curveCatmullRomOpen:function(){return V.Z},curveLinear:function(){return H.Z},curveLinearClosed:function(){return W.Z},curveMonotoneX:function(){return G.Z},curveMonotoneY:function(){return G.s},curveNatural:function(){return q.Z},curveStep:function(){return K.ZP},curveStepAfter:function(){return K.cD},curveStepBefore:function(){return K.RN},line:function(){return a.Z},lineRadial:function(){return u.Z},linkHorizontal:function(){return f.h5},linkRadial:function(){return f.M4},linkVertical:function(){return f.rR},pie:function(){return o.Z},pointRadial:function(){return l.Z},radialArea:function(){return c},radialLine:function(){return u.Z},stack:function(){return Y.Z},stackOffsetDiverging:function(){return Q.Z},stackOffsetExpand:function(){return X.Z},stackOffsetNone:function(){return J.Z},stackOffsetSilhouette:function(){return $.Z},stackOffsetWiggle:function(){return ee.Z},stackOrderAppearance:function(){return te.Z},stackOrderAscending:function(){return ne.Z},stackOrderDescending:function(){return re.Z},stackOrderInsideOut:function(){return ie.Z},stackOrderNone:function(){return ae.Z},stackOrderReverse:function(){return oe.Z},symbol:function(){return P},symbolCircle:function(){return h},symbolCross:function(){return v},symbolDiamond:function(){return y},symbolSquare:function(){return _},symbolStar:function(){return w},symbolTriangle:function(){return T},symbolWye:function(){return I},symbols:function(){return N}});var r=n(21561),i=n(85520),a=n(86344),o=n(54321),s=n(89875),u=n(19509);function c(){var e=(0,i.Z)().curve(s.j),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return(0,u.X)(n())},delete e.lineX0,e.lineEndAngle=function(){return(0,u.X)(r())},delete e.lineX1,e.lineInnerRadius=function(){return(0,u.X)(a())},delete e.lineY0,e.lineOuterRadius=function(){return(0,u.X)(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t((0,s.Z)(e)):t()._curve},e}var l=n(84687),f=n(6274),d=n(73339),p=n(47226),h={draw:function(e,t){var n=Math.sqrt(t/p.pi);e.moveTo(n,0),e.arc(0,0,n,0,p.BZ)}},v={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},m=Math.sqrt(1/3),g=2*m,y={draw:function(e,t){var n=Math.sqrt(t/g),r=n*m;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},b=Math.sin(p.pi/10)/Math.sin(7*p.pi/10),x=Math.sin(p.BZ/10)*b,k=-Math.cos(p.BZ/10)*b,w={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=x*n,i=k*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=p.BZ*a/5,s=Math.cos(o),u=Math.sin(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},_={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},S=Math.sqrt(3),T={draw:function(e,t){var n=-Math.sqrt(t/(3*S));e.moveTo(0,2*n),e.lineTo(-S*n,-n),e.lineTo(S*n,-n),e.closePath()}},C=-.5,E=Math.sqrt(3)/2,O=1/Math.sqrt(12),A=3*(O/2+1),I={draw:function(e,t){var n=Math.sqrt(t/A),r=n/2,i=n*O,a=r,o=n*O+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(C*r-E*i,E*r+C*i),e.lineTo(C*a-E*o,E*a+C*o),e.lineTo(C*s-E*u,E*s+C*u),e.lineTo(C*r+E*i,C*i-E*r),e.lineTo(C*a+E*o,C*o-E*a),e.lineTo(C*s+E*u,C*u-E*s),e.closePath()}},R=n(76817),N=[h,v,y,_,w,T,I];function P(){var e=(0,R.Z)(h),t=(0,R.Z)(64),n=null;function r(){var r;if(n||(n=r=(0,d.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,R.Z)(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,R.Z)(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}var M=n(6066),D=n(54404),j=n(76314),L=n(4493),F=n(43328),Z=n(27273),B=n(21804),U=n(6449),V=n(92314),z=n(8147),W=n(19199),H=n(38146),G=n(55856),q=n(41828),K=n(19943),Y=n(3650),X=n(96720),Q=n(96557),J=n(50724),$=n(16126),ee=n(63852),te=n(97298),ne=n(39912),re=n(92889),ie=n(24362),ae=n(16542),oe=n(20659)},86344:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(73339),i=n(76817),a=n(38146),o=n(15402);function s(){var e=o.x,t=o.y,n=(0,i.Z)(!0),s=null,u=a.Z,c=null;function l(i){var a,o,l,f=i.length,d=!1;for(null==s&&(c=u(l=(0,r.Z)())),a=0;a<=f;++a)!(a<f&&n(o=i[a],a,i))===d&&((d=!d)?c.lineStart():c.lineEnd()),d&&c.point(+e(o,a,i),+t(o,a,i));if(l)return c=null,l+""||null}return l.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(!!e),l):n},l.curve=function(e){return arguments.length?(u=e,null!=s&&(c=u(s)),l):u},l.context=function(e){return arguments.length?(null==e?s=c=null:c=u(s=e),l):s},l}},19509:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return o}});var r=n(89875),i=n(86344);function a(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t((0,r.Z)(e)):t()._curve},e}function o(){return a((0,i.Z)().curve(r.j))}},6274:function(e,t,n){"use strict";n.d(t,{M4:function(){return m},h5:function(){return h},rR:function(){return v}});var r=n(73339),i=n(5803),a=n(76817),o=n(15402),s=n(84687);function u(e){return e.source}function c(e){return e.target}function l(e){var t=u,n=c,s=o.x,l=o.y,f=null;function d(){var a,o=i.t.call(arguments),u=t.apply(this,o),c=n.apply(this,o);if(f||(f=a=(0,r.Z)()),e(f,+s.apply(this,(o[0]=u,o)),+l.apply(this,o),+s.apply(this,(o[0]=c,o)),+l.apply(this,o)),a)return f=null,a+""||null}return d.source=function(e){return arguments.length?(t=e,d):t},d.target=function(e){return arguments.length?(n=e,d):n},d.x=function(e){return arguments.length?(s="function"===typeof e?e:(0,a.Z)(+e),d):s},d.y=function(e){return arguments.length?(l="function"===typeof e?e:(0,a.Z)(+e),d):l},d.context=function(e){return arguments.length?(f=null==e?null:e,d):f},d}function f(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function d(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function p(e,t,n,r,i){var a=(0,s.Z)(t,n),o=(0,s.Z)(t,n=(n+i)/2),u=(0,s.Z)(r,n),c=(0,s.Z)(r,i);e.moveTo(a[0],a[1]),e.bezierCurveTo(o[0],o[1],u[0],u[1],c[0],c[1])}function h(){return l(f)}function v(){return l(d)}function m(){var e=l(p);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}},47226:function(e,t,n){"use strict";n.d(t,{BZ:function(){return p},Fp:function(){return o},Ho:function(){return l},Kh:function(){return h},O$:function(){return u},VV:function(){return s},Wn:function(){return r},ZR:function(){return v},_b:function(){return c},fv:function(){return i},mC:function(){return a},ou:function(){return d},pi:function(){return f}});var r=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,u=Math.sin,c=Math.sqrt,l=1e-12,f=Math.PI,d=f/2,p=2*f;function h(e){return e>1?0:e<-1?f:Math.acos(e)}function v(e){return e>=1?d:e<=-1?-d:Math.asin(e)}},42447:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},96557:function(e,t,n){"use strict";function r(e,t){if((s=e.length)>0)for(var n,r,i,a,o,s,u=0,c=e[t[0]].length;u<c;++u)for(a=o=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}n.d(t,{Z:function(){return r}})},96720:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((i=e.length)>0){for(var n,i,a,o=0,s=e[0].length;o<s;++o){for(a=n=0;n<i;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<i;++n)e[n][o][1]/=a}(0,r.Z)(e,t)}}},50724:function(e,t,n){"use strict";function r(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}n.d(t,{Z:function(){return r}})},16126:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((n=e.length)>0){for(var n,i=0,a=e[t[0]],o=a.length;i<o;++i){for(var s=0,u=0;s<n;++s)u+=e[s][i][1]||0;a[i][1]+=a[i][0]=-u/2}(0,r.Z)(e,t)}}},63852:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((a=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,a,o=0,s=1;s<i;++s){for(var u=0,c=0,l=0;u<a;++u){for(var f=e[t[u]],d=f[s][1]||0,p=(d-(f[s-1][1]||0))/2,h=0;h<u;++h){var v=e[t[h]];p+=(v[s][1]||0)-(v[s-1][1]||0)}c+=d,l+=p*d}n[s-1][1]+=n[s-1][0]=o,c&&(o-=l/c)}n[s-1][1]+=n[s-1][0]=o,(0,r.Z)(e,t)}}},97298:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(16542);function i(e){var t=e.map(a);return(0,r.Z)(e).sort((function(e,n){return t[e]-t[n]}))}function a(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}},39912:function(e,t,n){"use strict";n.d(t,{S:function(){return a},Z:function(){return i}});var r=n(16542);function i(e){var t=e.map(a);return(0,r.Z)(e).sort((function(e,n){return t[e]-t[n]}))}function a(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}},92889:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(39912);function i(e){return(0,r.Z)(e).reverse()}},24362:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(97298),i=n(39912);function a(e){var t,n,a=e.length,o=e.map(i.S),s=(0,r.Z)(e),u=0,c=0,l=[],f=[];for(t=0;t<a;++t)n=s[t],u<c?(u+=o[n],l.push(n)):(c+=o[n],f.push(n));return f.reverse().concat(l)}},16542:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}n.d(t,{Z:function(){return r}})},20659:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(16542);function i(e){return(0,r.Z)(e).reverse()}},54321:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76817);function i(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function a(e){return e}var o=n(47226);function s(){var e=a,t=i,n=null,s=(0,r.Z)(0),u=(0,r.Z)(o.BZ),c=(0,r.Z)(0);function l(r){var i,a,l,f,d,p=r.length,h=0,v=new Array(p),m=new Array(p),g=+s.apply(this,arguments),y=Math.min(o.BZ,Math.max(-o.BZ,u.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/p,c.apply(this,arguments)),x=b*(y<0?-1:1);for(i=0;i<p;++i)(d=m[v[i]=i]=+e(r[i],i,r))>0&&(h+=d);for(null!=t?v.sort((function(e,n){return t(m[e],m[n])})):null!=n&&v.sort((function(e,t){return n(r[e],r[t])})),i=0,l=h?(y-p*x)/h:0;i<p;++i,g=f)a=v[i],f=g+((d=m[a])>0?d*l:0)+x,m[a]={data:r[a],index:i,value:d,startAngle:g,endAngle:f,padAngle:b};return m}return l.value=function(t){return arguments.length?(e="function"===typeof t?t:(0,r.Z)(+t),l):e},l.sortValues=function(e){return arguments.length?(t=e,n=null,l):t},l.sort=function(e){return arguments.length?(n=e,t=null,l):n},l.startAngle=function(e){return arguments.length?(s="function"===typeof e?e:(0,r.Z)(+e),l):s},l.endAngle=function(e){return arguments.length?(u="function"===typeof e?e:(0,r.Z)(+e),l):u},l.padAngle=function(e){return arguments.length?(c="function"===typeof e?e:(0,r.Z)(+e),l):c},l}},15402:function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}n.d(t,{x:function(){return r},y:function(){return i}})},84687:function(e,t,n){"use strict";function r(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}n.d(t,{Z:function(){return r}})},3650:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5803),i=n(76817),a=n(50724),o=n(16542);function s(e,t){return e[t]}function u(){var e=(0,i.Z)([]),t=o.Z,n=a.Z,u=s;function c(r){var i,a,o=e.apply(this,arguments),s=r.length,c=o.length,l=new Array(c);for(i=0;i<c;++i){for(var f,d=o[i],p=l[i]=new Array(s),h=0;h<s;++h)p[h]=f=[0,+u(r[h],d,h,r)],f.data=r[h];p.key=d}for(i=0,a=t(l);i<c;++i)l[a[i]].index=i;return n(l,a),l}return c.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(r.t.call(t)),c):e},c.value=function(e){return arguments.length?(u="function"===typeof e?e:(0,i.Z)(+e),c):u},c.order=function(e){return arguments.length?(t=null==e?o.Z:"function"===typeof e?e:(0,i.Z)(r.t.call(e)),c):t},c.offset=function(e){return arguments.length?(n=null==e?a.Z:e,c):n},c}},70985:function(e,t,n){"use strict";n.d(t,{i$:function(){return p},g0:function(){return h}});var r=n(80438),i=n(7171),a=n(6817),o=n(24527),s=n(36243),u=n(13608);function c(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var d,p,h,v={"-":"",_:" ",0:"0"},m=/^\s*\d+/,g=/^%/,y=/[\\^$*+?|[\]().{}]/g;function b(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function x(e){return e.replace(y,"\\$&")}function k(e){return new RegExp("^(?:"+e.map(x).join("|")+")","i")}function w(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function _(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function S(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function T(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function C(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function E(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O(e,t,n){var r=m.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function A(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function I(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function R(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function N(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function P(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function M(e,t,n){var r=m.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function D(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function j(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function L(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function F(e,t,n){var r=m.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Z(e,t,n){var r=m.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B(e,t,n){var r=g.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function U(e,t,n){var r=m.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function V(e,t,n){var r=m.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function z(e,t){return b(e.getDate(),t,2)}function W(e,t){return b(e.getHours(),t,2)}function H(e,t){return b(e.getHours()%12||12,t,2)}function G(e,t){return b(1+o.Z.count((0,s.Z)(e),e),t,3)}function q(e,t){return b(e.getMilliseconds(),t,3)}function K(e,t){return q(e,t)+"000"}function Y(e,t){return b(e.getMonth()+1,t,2)}function X(e,t){return b(e.getMinutes(),t,2)}function Q(e,t){return b(e.getSeconds(),t,2)}function J(e){var t=e.getDay();return 0===t?7:t}function $(e,t){return b(a.OM.count((0,s.Z)(e)-1,e),t,2)}function ee(e){var t=e.getDay();return t>=4||0===t?(0,a.bL)(e):a.bL.ceil(e)}function te(e,t){return e=ee(e),b(a.bL.count((0,s.Z)(e),e)+(4===(0,s.Z)(e).getDay()),t,2)}function ne(e){return e.getDay()}function re(e,t){return b(a.wA.count((0,s.Z)(e)-1,e),t,2)}function ie(e,t){return b(e.getFullYear()%100,t,2)}function ae(e,t){return b((e=ee(e)).getFullYear()%100,t,2)}function oe(e,t){return b(e.getFullYear()%1e4,t,4)}function se(e,t){var n=e.getDay();return b((e=n>=4||0===n?(0,a.bL)(e):a.bL.ceil(e)).getFullYear()%1e4,t,4)}function ue(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b(t/60|0,"0",2)+b(t%60,"0",2)}function ce(e,t){return b(e.getUTCDate(),t,2)}function le(e,t){return b(e.getUTCHours(),t,2)}function fe(e,t){return b(e.getUTCHours()%12||12,t,2)}function de(e,t){return b(1+i.Z.count((0,u.Z)(e),e),t,3)}function pe(e,t){return b(e.getUTCMilliseconds(),t,3)}function he(e,t){return pe(e,t)+"000"}function ve(e,t){return b(e.getUTCMonth()+1,t,2)}function me(e,t){return b(e.getUTCMinutes(),t,2)}function ge(e,t){return b(e.getUTCSeconds(),t,2)}function ye(e){var t=e.getUTCDay();return 0===t?7:t}function be(e,t){return b(r.Ox.count((0,u.Z)(e)-1,e),t,2)}function xe(e){var t=e.getUTCDay();return t>=4||0===t?(0,r.hB)(e):r.hB.ceil(e)}function ke(e,t){return e=xe(e),b(r.hB.count((0,u.Z)(e),e)+(4===(0,u.Z)(e).getUTCDay()),t,2)}function we(e){return e.getUTCDay()}function _e(e,t){return b(r.l6.count((0,u.Z)(e)-1,e),t,2)}function Se(e,t){return b(e.getUTCFullYear()%100,t,2)}function Te(e,t){return b((e=xe(e)).getUTCFullYear()%100,t,2)}function Ce(e,t){return b(e.getUTCFullYear()%1e4,t,4)}function Ee(e,t){var n=e.getUTCDay();return b((e=n>=4||0===n?(0,r.hB)(e):r.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function Oe(){return"+0000"}function Ae(){return"%"}function Ie(e){return+e}function Re(e){return Math.floor(+e/1e3)}d=function(e){var t=e.dateTime,n=e.date,s=e.time,u=e.periods,d=e.days,p=e.shortDays,h=e.months,m=e.shortMonths,g=k(u),y=w(u),b=k(d),x=w(d),ee=k(p),xe=w(p),Ne=k(h),Pe=w(h),Me=k(m),De=w(m),je={a:function(e){return p[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return m[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:null,d:z,e:z,f:K,g:ae,G:se,H:W,I:H,j:G,L:q,m:Y,M:X,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ie,s:Re,S:Q,u:J,U:$,V:te,w:ne,W:re,x:null,X:null,y:ie,Y:oe,Z:ue,"%":Ae},Le={a:function(e){return p[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return m[e.getUTCMonth()]},B:function(e){return h[e.getUTCMonth()]},c:null,d:ce,e:ce,f:he,g:Te,G:Ee,H:le,I:fe,j:de,L:pe,m:ve,M:me,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ie,s:Re,S:ge,u:ye,U:be,V:ke,w:we,W:_e,x:null,X:null,y:Se,Y:Ce,Z:Oe,"%":Ae},Fe={a:function(e,t,n){var r=ee.exec(t.slice(n));return r?(e.w=xe.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=Me.exec(t.slice(n));return r?(e.m=De.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=Pe.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return Ue(e,t,n,r)},d:P,e:P,f:Z,g:A,G:O,H:D,I:D,j:M,L:F,m:N,M:j,p:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.p=y.get(r[0].toLowerCase()),n+r[0].length):-1},q:R,Q:U,s:V,S:L,u:S,U:T,V:C,w:_,W:E,x:function(e,t,r){return Ue(e,n,t,r)},X:function(e,t,n){return Ue(e,s,t,n)},y:A,Y:O,Z:I,"%":B};function Ze(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=v[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function Be(e,t){return function(n){var s,u,d=f(1900,void 0,1);if(Ue(d,e,n+="",0)!=n.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(t&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(u=(s=l(f(d.y,0,1))).getUTCDay(),s=u>4||0===u?r.l6.ceil(s):(0,r.l6)(s),s=i.Z.offset(s,7*(d.V-1)),d.y=s.getUTCFullYear(),d.m=s.getUTCMonth(),d.d=s.getUTCDate()+(d.w+6)%7):(u=(s=c(f(d.y,0,1))).getDay(),s=u>4||0===u?a.wA.ceil(s):(0,a.wA)(s),s=o.Z.offset(s,7*(d.V-1)),d.y=s.getFullYear(),d.m=s.getMonth(),d.d=s.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),u="Z"in d?l(f(d.y,0,1)).getUTCDay():c(f(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(u+5)%7:d.w+7*d.U-(u+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,l(d)):c(d)}}function Ue(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Fe[i in v?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return je.x=Ze(n,je),je.X=Ze(s,je),je.c=Ze(t,je),Le.x=Ze(n,Le),Le.X=Ze(s,Le),Le.c=Ze(t,Le),{format:function(e){var t=Ze(e+="",je);return t.toString=function(){return e},t},parse:function(e){var t=Be(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ze(e+="",Le);return t.toString=function(){return e},t},utcParse:function(e){var t=Be(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),p=d.format,d.parse,h=d.utcFormat,d.utcParse},24527:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.UD}),(function(e){return e.getDate()-1}));t.Z=a;var o=a.range},20601:function(e,t,n){"use strict";n.d(t,{UD:function(){return o},Y2:function(){return a},Ym:function(){return r},iM:function(){return s},jz:function(){return u},qz:function(){return c},yB:function(){return i}});var r=1e3,i=60*r,a=60*i,o=24*a,s=7*o,u=30*o,c=365*o},37568:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym-e.getMinutes()*i.yB)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getHours()}));t.Z=a;var o=a.range},14957:function(e,t,n){"use strict";n.r(t),n.d(t,{timeDay:function(){return u.Z},timeDays:function(){return u.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return s.Z},timeHours:function(){return s.i},timeInterval:function(){return r.Z},timeMillisecond:function(){return i.Z},timeMilliseconds:function(){return i.m},timeMinute:function(){return o.Z},timeMinutes:function(){return o.L},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return l.Z},timeMonths:function(){return l.e},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return a.Z},timeSeconds:function(){return a.m},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTickInterval:function(){return y._g},timeTicks:function(){return y.jK},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return f.Z},timeYears:function(){return f.g},utcDay:function(){return h.Z},utcDays:function(){return h.y},utcFriday:function(){return v.QQ},utcFridays:function(){return v.fz},utcHour:function(){return p.Z},utcHours:function(){return p.X},utcMillisecond:function(){return i.Z},utcMilliseconds:function(){return i.m},utcMinute:function(){return d.Z},utcMinutes:function(){return d.N},utcMonday:function(){return v.l6},utcMondays:function(){return v.$3},utcMonth:function(){return m.Z},utcMonths:function(){return m.K},utcSaturday:function(){return v.g4},utcSaturdays:function(){return v.Q_},utcSecond:function(){return a.Z},utcSeconds:function(){return a.m},utcSunday:function(){return v.Ox},utcSundays:function(){return v.SU},utcThursday:function(){return v.hB},utcThursdays:function(){return v.xj},utcTickInterval:function(){return y.jo},utcTicks:function(){return y.WG},utcTuesday:function(){return v.J1},utcTuesdays:function(){return v.DK},utcWednesday:function(){return v.b3},utcWednesdays:function(){return v.uy},utcWeek:function(){return v.Ox},utcWeeks:function(){return v.SU},utcYear:function(){return g.Z},utcYears:function(){return g.D}});var r=n(97914),i=n(40165),a=n(4495),o=n(40020),s=n(37568),u=n(24527),c=n(6817),l=n(44870),f=n(36243),d=n(632),p=n(63854),h=n(7171),v=n(80438),m=n(86570),g=n(13608),y=n(80783)},97914:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=new Date,i=new Date;function a(e,t,n,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var a,o=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;do{o.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return o},s.filter=function(n){return a((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(s.count=function(t,a){return r.setTime(+t),i.setTime(+a),e(r),e(i),Math.floor(n(r,i))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}},40165:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(97914),i=(0,r.Z)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,r.Z)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null},t.Z=i;var a=i.range},40020:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getMinutes()}));t.Z=a;var o=a.range},44870:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=(0,n(97914).Z)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));t.Z=r;var i=r.range},4495:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*i.Ym)}),(function(e,t){return(t-e)/i.Ym}),(function(e){return e.getUTCSeconds()}));t.Z=a;var o=a.range},80783:function(e,t,n){"use strict";n.d(t,{WG:function(){return _},_g:function(){return O},jK:function(){return E},jo:function(){return S}});var r=n(70885),i=n(92267),a=n(99571),o=n(20601),s=n(40165),u=n(4495),c=n(40020),l=n(37568),f=n(24527),d=n(6817),p=n(44870),h=n(36243),v=n(632),m=n(63854),g=n(7171),y=n(80438),b=n(86570);function x(e,t,n,c,l,f){var d=[[u.Z,1,o.Ym],[u.Z,5,5*o.Ym],[u.Z,15,15*o.Ym],[u.Z,30,30*o.Ym],[f,1,o.yB],[f,5,5*o.yB],[f,15,15*o.yB],[f,30,30*o.yB],[l,1,o.Y2],[l,3,3*o.Y2],[l,6,6*o.Y2],[l,12,12*o.Y2],[c,1,o.UD],[c,2,2*o.UD],[n,1,o.iM],[t,1,o.jz],[t,3,3*o.jz],[e,1,o.qz]];function p(t,n,u){var c=Math.abs(n-t)/u,l=(0,i.Z)((function(e){return(0,r.Z)(e,3)[2]})).right(d,c);if(l===d.length)return e.every((0,a.ly)(t/o.qz,n/o.qz,u));if(0===l)return s.Z.every(Math.max((0,a.ly)(t,n,u),1));var f=(0,r.Z)(d[c/d[l-1][2]<d[l][2]/c?l-1:l],2),p=f[0],h=f[1];return p.every(h)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:p(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},p]}var k=x(n(13608).Z,b.Z,y.Ox,g.Z,m.Z,v.Z),w=(0,r.Z)(k,2),_=w[0],S=w[1],T=x(h.Z,p.Z,d.OM,f.Z,l.Z,c.Z),C=(0,r.Z)(T,2),E=C[0],O=C[1]},7171:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/i.UD}),(function(e){return e.getUTCDate()-1}));t.Z=a;var o=a.range},63854:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getUTCHours()}));t.Z=a;var o=a.range},632:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getUTCMinutes()}));t.Z=a;var o=a.range},86570:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=(0,n(97914).Z)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));t.Z=r;var i=r.range},80438:function(e,t,n){"use strict";n.d(t,{$3:function(){return h},DK:function(){return v},J1:function(){return u},Ox:function(){return o},QQ:function(){return f},Q_:function(){return b},SU:function(){return p},b3:function(){return c},fz:function(){return y},g4:function(){return d},hB:function(){return l},l6:function(){return s},uy:function(){return m},xj:function(){return g}});var r=n(97914),i=n(20601);function a(e){return(0,r.Z)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/i.iM}))}var o=a(0),s=a(1),u=a(2),c=a(3),l=a(4),f=a(5),d=a(6),p=o.range,h=s.range,v=u.range,m=c.range,g=l.range,y=f.range,b=d.range},13608:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(97914),i=(0,r.Z)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},t.Z=i;var a=i.range},6817:function(e,t,n){"use strict";n.d(t,{$t:function(){return g},EY:function(){return d},Ff:function(){return b},Ld:function(){return m},OM:function(){return o},aU:function(){return v},b$:function(){return y},bJ:function(){return h},bL:function(){return l},mC:function(){return f},sy:function(){return u},vm:function(){return p},wA:function(){return s},zg:function(){return c}});var r=n(97914),i=n(20601);function a(e){return(0,r.Z)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.iM}))}var o=a(0),s=a(1),u=a(2),c=a(3),l=a(4),f=a(5),d=a(6),p=o.range,h=s.range,v=u.range,m=c.range,g=l.range,y=f.range,b=d.range},36243:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(97914),i=(0,r.Z)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},t.Z=i;var a=i.range},27494:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},97143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,a),!0;case 6:return l.fn.call(l.context,t,r,i,a,o),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},47465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,function(e){console&&console.warn&&console.warn(e)}(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},62110:function(e,t,n){"use strict";var r=n(48309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||k(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=k},48309:function(e,t,n){"use strict";e.exports=n(746)},82764:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="\\d+(?:[\\.,]\\d+)?",r="P(?:"+("("+n+"W)")+"|"+("("+n+"Y)?("+n+"M)?("+n+"D)?")+"(?:"+("T("+n+"H)?("+n+"M)?("+n+"S)?")+")?)",i=["weeks","years","months","days","hours","minutes","seconds"],a=t.pattern=new RegExp(r),o=t.parse=function(e){return e.match(a).slice(1).reduce((function(e,t,n){return e[i[n]]=parseFloat(t)||0,e}),{})},s=t.end=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return r.setFullYear(r.getFullYear()+e.years),r.setMonth(r.getMonth()+e.months),r.setDate(r.getDate()+e.days),r.setHours(r.getHours()+e.hours),r.setMinutes(r.getMinutes()+e.minutes),r.setMilliseconds(r.getMilliseconds()+1e3*e.seconds),r.setDate(r.getDate()+7*e.weeks),r},u=t.toSeconds=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return(s(e,r).getTime()-r.getTime())/1e3};t.default={end:s,toSeconds:u,pattern:a,parse:o}},1583:function(e){e.exports=window.FormData},78566:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i;for(n=1;n<arguments.length;n++)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e}},function(e,t,n){"use strict";var r=n(0);e.exports={build:function(e,t){var n,i,a,o=t.plugins;for(n=0,i=o.length;n<i;n++)(a=o[n]).methods&&r(e,a.methods),a.properties&&Object.defineProperties(e,a.properties)},hook:function(e,t,n){var r,i,a,o,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),r=0,i=s.length;r<i;r++)o=s[r],(a=s[r][t])&&a.apply(o,u)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return e+(t=r(t))[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);function a(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}r(a.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=i.prepended("onEnter",e),this.lifecycle.onLeave[e]=i.prepended("onLeave",e),this.lifecycle.on[e]=i.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=i.prepended("onBefore",e),this.lifecycle.onAfter[e]=i.prepended("onAfter",e),this.lifecycle.on[e]=i.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!==typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"===typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"===typeof e?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"===typeof e?e:"object"===typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,r,i;for(n=0,r=(e=e||[]).length;n<r;n++)"function"===typeof(i=e[n])&&(e[n]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,n,r,i,a,o=this.defaults.wildcard;for(n=0;n<e.length;n++)for(r=e[n],i=Array.isArray(r.from)?r.from:[r.from||o],a=r.to||o,t=0;t<i.length;t++)this.mapTransition({name:r.name,from:i[t],to:a})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=a},function(e,t,n){var r=n(0),i=n(6),a=n(1),o=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}r(s.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),a.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,r=this.config.transitionFor(this.state,e),i=r&&r.to;return"function"===typeof i?i.apply(this.context,t):i===n?this.state:i},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,a=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),a?this.observersForEvent(i.onLeave.state):o,a?this.observersForEvent(i.onLeave[t]):o,this.observersForEvent(i.on.transition),a?["doTransit",[this]]:o,a?this.observersForEvent(i.onEnter.state):o,a?this.observersForEvent(i.onEnter[n]):o,a?this.observersForEvent(i.on[n]):o,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)(t=this.observers[n])[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],o=e[0][1],s=e[0][2];if(t[0].event=i,i&&s&&i!==n&&a.hook(this,"lifecycle",t),0===o.length)return e.shift(),this.observeEvents(e,t,i,r);var u=o.shift(),c=u[i].apply(u,t);return c&&"function"===typeof c.then?c.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,i,c)},onInvalidTransition:function(e,t,n){throw new i("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new i("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(1),o=n(3),s=n(4),u={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function l(e){return f(this||{},e)}function f(e,t){return d(e,new o(t,l)),e._fsm(),e}function d(e,t){if("object"!==typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");a.build(e,t),Object.defineProperties(e,c),r(e,u),r(e,t.methods),t.allTransitions().forEach((function(t){e[i(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}l.version="3.0.1",l.factory=function(){var e,t;"function"===typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new o(t,l);return d(e.prototype,n),e.prototype._fsm.config=n,e},l.apply=f,l.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=l},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}])},e.exports=t()},46927:function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===i(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function f(e){var t=e.re=n(81875)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(c),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var u=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return!function(e){return"[object RegExp]"===i(e)}(n.validate)?a(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(a(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?l(t,n):u.push(t)}})),u.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var f=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+f+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+f+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},f(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,f(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,a,o,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),f(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,f(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},81875:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(65510).source,t.src_Cc=n(70538).source,t.src_Z=n(92426).source,t.src_P=n(13741).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><\uff5c]";return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},32467:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Null]",y="[object Object]",b="[object Promise]",x="[object Proxy]",k="[object RegExp]",w="[object Set]",_="[object String]",S="[object Symbol]",T="[object Undefined]",C="[object WeakMap]",E="[object ArrayBuffer]",O="[object DataView]",A=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[s]=R[u]=R[E]=R[l]=R[O]=R[f]=R[d]=R[p]=R[v]=R[m]=R[y]=R[k]=R[w]=R[_]=R[C]=!1;var N="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,M=N||P||Function("return this")(),D=t&&!t.nodeType&&t,j=D&&e&&!e.nodeType&&e,L=j&&j.exports===D,F=L&&N.process,Z=function(){try{return F&&F.binding&&F.binding("util")}catch(e){}}(),B=Z&&Z.isTypedArray;function U(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,H,G=Array.prototype,q=Function.prototype,K=Object.prototype,Y=M["__core-js_shared__"],X=q.toString,Q=K.hasOwnProperty,J=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$=K.toString,ee=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L?M.Buffer:void 0,ne=M.Symbol,re=M.Uint8Array,ie=K.propertyIsEnumerable,ae=G.splice,oe=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,ce=(W=Object.keys,H=Object,function(e){return W(H(e))}),le=Fe(M,"DataView"),fe=Fe(M,"Map"),de=Fe(M,"Promise"),pe=Fe(M,"Set"),he=Fe(M,"WeakMap"),ve=Fe(Object,"create"),me=Ve(le),ge=Ve(fe),ye=Ve(de),be=Ve(pe),xe=Ve(he),ke=ne?ne.prototype:void 0,we=ke?ke.valueOf:void 0;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Te;++t<n;)this.add(e[t])}function Ee(e){var t=this.__data__=new Se(e);this.size=t.size}function Oe(e,t){var n=He(e),r=!n&&We(e),i=!n&&!r&&Ge(e),a=!n&&!r&&!i&&Qe(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!Q.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ue(c,u))||s.push(c);return s}function Ae(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Ie(e){return null==e?void 0===e?T:g:oe&&oe in Object(e)?function(e){var t=Q.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(a){}var i=$.call(e);r&&(t?e[oe]=n:delete e[oe]);return i}(e):function(e){return $.call(e)}(e)}function Re(e){return Xe(e)&&Ie(e)==s}function Ne(e,t,n,r,o){return e===t||(null==e||null==t||!Xe(e)&&!Xe(t)?e!==e&&t!==t:function(e,t,n,r,o,c){var p=He(e),h=He(t),g=p?u:Be(e),b=h?u:Be(t),x=(g=g==s?y:g)==y,T=(b=b==s?y:b)==y,C=g==b;if(C&&Ge(e)){if(!Ge(t))return!1;p=!0,x=!1}if(C&&!x)return c||(c=new Ee),p||Qe(e)?De(e,t,n,r,o,c):function(e,t,n,r,o,s,u){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case l:case f:case m:return ze(+e,+t);case d:return e.name==t.name&&e.message==t.message;case k:case _:return e==t+"";case v:var c=V;case w:var p=r&i;if(c||(c=z),e.size!=t.size&&!p)return!1;var h=u.get(e);if(h)return h==t;r|=a,u.set(e,t);var g=De(c(e),c(t),r,o,s,u);return u.delete(e),g;case S:if(we)return we.call(e)==we.call(t)}return!1}(e,t,g,n,r,o,c);if(!(n&i)){var A=x&&Q.call(e,"__wrapped__"),I=T&&Q.call(t,"__wrapped__");if(A||I){var R=A?e.value():e,N=I?t.value():t;return c||(c=new Ee),o(R,N,n,r,c)}}if(!C)return!1;return c||(c=new Ee),function(e,t,n,r,a,o){var s=n&i,u=je(e),c=u.length,l=je(t),f=l.length;if(c!=f&&!s)return!1;var d=c;for(;d--;){var p=u[d];if(!(s?p in t:Q.call(t,p)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var v=!0;o.set(e,t),o.set(t,e);var m=s;for(;++d<c;){var g=e[p=u[d]],y=t[p];if(r)var b=s?r(y,g,p,t,e,o):r(g,y,p,e,t,o);if(!(void 0===b?g===y||a(g,y,n,r,o):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var x=e.constructor,k=t.constructor;x==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,o,c)}(e,t,n,r,Ne,o))}function Pe(e){return!(!Ye(e)||function(e){return!!J&&J in e}(e))&&(qe(e)?ee:A).test(Ve(e))}function Me(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||K;return e===n}(e))return ce(e);var t=[];for(var n in Object(e))Q.call(e,n)&&"constructor"!=n&&t.push(n);return t}function De(e,t,n,r,o,s){var u=n&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,p=!0,h=n&a?new Ce:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var v=e[d],m=t[d];if(r)var g=u?r(m,v,d,t,e,s):r(v,m,d,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!U(t,(function(e,t){if(i=t,!h.has(i)&&(v===e||o(v,e,n,r,s)))return h.push(t);var i}))){p=!1;break}}else if(v!==m&&!o(v,m,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function je(e){return function(e,t,n){var r=t(e);return He(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Je,Ze)}function Le(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}_e.prototype.clear=function(){this.__data__=ve?ve(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===r?void 0:n}return Q.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:Q.call(t,e)},_e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ve&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),--this.size,!0)},Se.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return Ae(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=Ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Te.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(fe||Se),string:new _e}},Te.prototype.delete=function(e){var t=Le(this,e).delete(e);return this.size-=t?1:0,t},Te.prototype.get=function(e){return Le(this,e).get(e)},Te.prototype.has=function(e){return Le(this,e).has(e)},Te.prototype.set=function(e,t){var n=Le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,r),this},Ce.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new Se,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var r=n.__data__;if(!fe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Te(r)}return n.set(e,t),this.size=n.size,this};var Ze=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(se(e),(function(t){return ie.call(e,t)})))}:function(){return[]},Be=Ie;function Ue(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ze(e,t){return e===t||e!==e&&t!==t}(le&&Be(new le(new ArrayBuffer(1)))!=O||fe&&Be(new fe)!=v||de&&Be(de.resolve())!=b||pe&&Be(new pe)!=w||he&&Be(new he)!=C)&&(Be=function(e){var t=Ie(e),n=t==y?e.constructor:void 0,r=n?Ve(n):"";if(r)switch(r){case me:return O;case ge:return v;case ye:return b;case be:return w;case xe:return C}return t});var We=Re(function(){return arguments}())?Re:function(e){return Xe(e)&&Q.call(e,"callee")&&!ie.call(e,"callee")},He=Array.isArray;var Ge=ue||function(){return!1};function qe(e){if(!Ye(e))return!1;var t=Ie(e);return t==p||t==h||t==c||t==x}function Ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xe(e){return null!=e&&"object"==typeof e}var Qe=B?function(e){return function(t){return e(t)}}(B):function(e){return Xe(e)&&Ke(e.length)&&!!R[Ie(e)]};function Je(e){return null!=(t=e)&&Ke(t.length)&&!qe(t)?Oe(e):Me(e);var t}e.exports=function(e,t){return Ne(e,t)}},33881:function(e,t,n){var r="Expected a function",i=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),h=Object.prototype.toString,v=Math.max,m=Math.min,g=function(){return p.Date.now()};function y(e,t,n){var i,a,o,s,u,c,l=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function h(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function y(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function k(){var e=g();if(y(e))return w(e);u=setTimeout(k,function(e){var n=t-(e-c);return d?m(n,o-(e-l)):n}(e))}function w(e){return u=void 0,p&&i?h(e):(i=a=void 0,s)}function _(){var e=g(),n=y(e);if(i=arguments,a=this,c=e,n){if(void 0===u)return function(e){return l=e,u=setTimeout(k,t),f?h(e):s}(c);if(d)return u=setTimeout(k,t),h(c)}return void 0===u&&(u=setTimeout(k,t)),s}return t=x(t)||0,b(n)&&(f=!!n.leading,o=(d="maxWait"in n)?v(x(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=a=u=void 0},_.flush=function(){return void 0===u?s:w(g())},_}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==a}(e))return i;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?i:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return b(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),y(e,t,{leading:i,maxWait:t,trailing:a})}},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),a=n(16037),o=n(94154),s=n(77728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},38384:function(e,t,n){var r=n(43894),i=n(8699),a=n(64957),o=n(87184),s=n(87109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),a=n(29186),o=n(13423),s=n(73739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},22854:function(e,t,n){var r=n(38384),i=n(20511),a=n(50835),o=n(90707),s=n(18832),u=n(35077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},47538:function(e,t,n){var r=n(86478),i=n(34963),a=n(93629),o=n(5174),s=n(26800),u=n(19102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},18463:function(e,t,n){var r=n(32526),i=n(29231),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},11855:function(e,t,n){var r=n(64503),i=n(12742);e.exports=function(e,t){return e&&r(t,i(t),e)}},95076:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e,t){return e&&r(t,i(t),e)}},32526:function(e,t,n){var r=n(48528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},31905:function(e,t,n){var r=n(22854),i=n(4550),a=n(18463),o=n(11855),s=n(95076),u=n(94523),c=n(10291),l=n(52455),f=n(57636),d=n(38248),p=n(55341),h=n(88383),v=n(39243),m=n(39759),g=n(40548),y=n(93629),b=n(5174),x=n(60103),k=n(8092),w=n(36995),_=n(12742),S=n(73961),T="[object Arguments]",C="[object Function]",E="[object Object]",O={};O[T]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[E]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[C]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,A,I,R,N){var P,M=1&n,D=2&n,j=4&n;if(A&&(P=R?A(t,I,R,N):A(t)),void 0!==P)return P;if(!k(t))return t;var L=y(t);if(L){if(P=v(t),!M)return c(t,P)}else{var F=h(t),Z=F==C||"[object GeneratorFunction]"==F;if(b(t))return u(t,M);if(F==E||F==T||Z&&!R){if(P=D||Z?{}:g(t),!M)return D?f(t,s(P,t)):l(t,o(P,t))}else{if(!O[F])return R?t:{};P=m(t,F,M)}}N||(N=new r);var B=N.get(t);if(B)return B;N.set(t,P),w(t)?t.forEach((function(r){P.add(e(r,n,A,r,t,N))})):x(t)&&t.forEach((function(r,i){P.set(i,e(r,n,A,i,t,N))}));var U=L?void 0:(j?D?p:d:D?S:_)(t);return i(U||t,(function(r,i){U&&(r=t[i=r]),a(P,i,e(r,n,A,i,t,N))})),P}},65763:function(e,t,n){var r=n(8092),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),a=n(43581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},53085:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},26703:function(e,t,n){var r=n(74786),i=n(257),a=n(8092),o=n(27907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:s).test(o(e))}},48680:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},68150:function(e,t,n){var r=n(39066),i=n(24635),a=n(43141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},43654:function(e,t,n){var r=n(62936),i=n(75964),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(62936),a=n(4221),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},7010:function(e,t,n){var r=n(46219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},94523:function(e,t,n){e=n.nmd(e);var r=n(97009),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},61022:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18503:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},64720:function(e,t,n){var r=n(87197),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},40613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},10291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},64503:function(e,t,n){var r=n(18463),i=n(32526);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?i(n,c,l):r(n,c,l)}return n}},52455:function(e,t,n){var r=n(64503),i=n(65918);e.exports=function(e,t){return r(e,i(e),t)}},57636:function(e,t,n){var r=n(64503),i=n(38487);e.exports=function(e,t){return r(e,i(e),t)}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},48528:function(e,t,n){var r=n(68136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),a=n(12742);e.exports=function(e){return r(e,a,i)}},55341:function(e,t,n){var r=n(61986),i=n(38487),a=n(73961);e.exports=function(e){return r(e,a,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},31137:function(e,t,n){var r=n(12709)(Object.getPrototypeOf,Object);e.exports=r},81587:function(e,t,n){var r=n(87197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},65918:function(e,t,n){var r=n(84903),i=n(68174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},38487:function(e,t,n){var r=n(41705),i=n(31137),a=n(65918),o=n(68174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),a=n(78319),o=n(23924),s=n(7091),u=n(39066),c=n(27907),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",v=c(r),m=c(i),g=c(a),y=c(o),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=h||i&&x(new i)!=l||a&&x(a.resolve())!=f||o&&x(new o)!=d||s&&x(new s)!=p)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case m:return l;case g:return f;case y:return d;case b:return p}return t}),e.exports=x},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},39243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},39759:function(e,t,n){var r=n(7010),i=n(61022),a=n(18503),o=n(64720),s=n(40613);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},40548:function(e,t,n){var r=n(65763),i=n(31137),a=n(62936);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),a=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},49494:function(e,t,n){e=n.nmd(e);var r=n(31032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),a=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},27907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},30093:function(e,t,n){var r=n(31905);e.exports=function(e,t){return r(e,5,t="function"==typeof t?t:void 0)}},48573:function(e,t,n){var r=n(8092),i=n(50072),a=n(42582),o=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,d,p,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,f=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function x(){var e=i();if(b(e))return k(e);d=setTimeout(x,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function k(e){return d=void 0,g&&u?y(e):(u=c=void 0,f)}function w(){var e=i(),n=b(e);if(u=arguments,c=this,p=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(x,t),v?y(e):f}(p);if(m)return clearTimeout(d),d=setTimeout(x,t),y(p)}return void 0===d&&(d=setTimeout(x,t)),f}return t=a(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?o(a(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==d&&clearTimeout(d),h=0,u=p=c=d=void 0},w.flush=function(){return void 0===d?f:k(i())},w}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},34963:function(e,t,n){var r=n(4906),i=n(43141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60103:function(e,t,n){var r=n(53085),i=n(16194),a=n(49494),o=a&&a.isMap,s=o?i(o):r;e.exports=s},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},36995:function(e,t,n){var r=n(48680),i=n(16194),a=n(49494),o=a&&a.isSet,s=o?i(o):r;e.exports=s},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),a=n(49494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),a=n(21473);e.exports=function(e){return a(e)?r(e):i(e)}},73961:function(e,t,n){var r=n(47538),i=n(8664),a=n(21473);e.exports=function(e){return a(e)?r(e,!0):i(e)}},49151:function(e,t,n){var r=n(78059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},42582:function(e,t,n){var r=n(20821),i=n(8092),a=n(70152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},62895:function(e,t,n){var r,i;!function(a,o){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function u(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||u.apply(this,arguments)}function l(e,n,i){var a,o=this;n=null==n?"WARN":n;var u="loglevel";function l(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(i){}}}function f(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}function d(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?u+=":"+e:"symbol"===typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return a},o.setLevel=function(n,r){if("string"===typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&l(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,f()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),d()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var p=f();null==p&&(p=n),o.setLevel(p,!1)}var f=new l,d={};f.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new l(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return f.noConflict=function(){return typeof window!==t&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f.default=f,f},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},18987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:m;if(t){if(e<0)return g;if(e>=p)return w}else{if(e<=-h)return _;if(e+1>=h)return k}return e<0?s(-e,t).neg():u(e%d|0,e/d|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=s(c(n,8)),a=m,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),f=parseInt(e.substring(o,o+u),n);if(u<8){var d=s(c(n,u));a=a.mul(d).add(s(f))}else a=(a=a.mul(i)).add(s(f))}return a.unsigned=t,a}function f(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?l(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=f;var d=4294967296,p=d*d,h=p/2,v=o(1<<24),m=o(0);n.ZERO=m;var g=o(0,!0);n.UZERO=g;var y=o(1);n.ONE=y;var b=o(1,!0);n.UONE=b;var x=o(-1);n.NEG_ONE=x;var k=u(-1,2147483647,!1);n.MAX_VALUE=k;var w=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=w;var _=u(0,-2147483648,!1);n.MIN_VALUE=_;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),a=this,o="";;){var u=a.div(i),l=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return r(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(y)},S.neg=S.negate,S.add=function(e){r(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,d=0,p=0,h=0;return p+=(h+=a+(65535&e.low))>>>16,d+=(p+=i+c)>>>16,l+=(d+=n+s)>>>16,l+=t+o,u((p&=65535)<<16|(h&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=f(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=f(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(_))return e.isOdd()?_:m;if(e.eq(_))return this.isOdd()?_:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,c=e.high>>>16,l=65535&e.high,d=e.low>>>16,p=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=o*p)>>>16,g+=(y+=a*p)>>>16,y&=65535,g+=(y+=o*d)>>>16,h+=(g+=i*p)>>>16,g&=65535,h+=(g+=a*d)>>>16,g&=65535,h+=(g+=o*l)>>>16,h+=n*p+i*d+a*l+o*c,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=f(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;a=g}else{if(this.eq(_))return e.eq(y)||e.eq(x)?_:e.eq(_)?y:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?y:x:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(_))return this.unsigned?g:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=m}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),l=o<=48?1:c(2,o-48),d=s(n),p=d.mul(e);p.isNegative()||p.gt(i);)p=(d=s(n-=l,this.unsigned)).mul(e);d.isZero()&&(d=y),a=a.add(d),i=i.sub(p)}return a},S.div=S.divide,S.modulo=function(e){return r(e)||(e=f(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return u(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=f(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=f(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=f(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},27711:function(e,t,n){var r=n(96616);r.prototype.formulaEval=function(){"use strict";for(var e,t,n,r=[],i=this.value,a=0;a<i.length;a++)1===i[a].type||3===i[a].type?r.push({value:3===i[a].type?i[a].show:i[a].value,type:1}):13===i[a].type?r.push({value:i[a].show,type:1}):0===i[a].type?r[r.length-1]={value:i[a].show+("-"!=i[a].show?"(":"")+r[r.length-1].value+("-"!=i[a].show?")":""),type:0}:7===i[a].type?r[r.length-1]={value:(1!=r[r.length-1].type?"(":"")+r[r.length-1].value+(1!=r[r.length-1].type?")":"")+i[a].show,type:7}:10===i[a].type?(e=r.pop(),t=r.pop(),"P"===i[a].show||"C"===i[a].show?r.push({value:"<sup>"+t.value+"</sup>"+i[a].show+"<sub>"+e.value+"</sub>",type:10}):r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===i[a].type||9===i[a].type?(e=r.pop(),t=r.pop(),r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+i[a].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:i[a].type})):12===i[a].type&&(e=r.pop(),t=r.pop(),n=r.pop(),r.push({value:i[a].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return r[0].value},e.exports=r},50015:function(e,t,n){"use strict";var r=n(19585);function i(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}for(var a=[{token:"sin",show:"sin",type:0,value:r.math.sin},{token:"cos",show:"cos",type:0,value:r.math.cos},{token:"tan",show:"tan",type:0,value:r.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:r.math.P},{token:"C",show:"C",type:10,value:r.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:r.math.asin},{token:"acos",show:"acos",type:0,value:r.math.acos},{token:"atan",show:"atan",type:0,value:r.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:r.math.cosh},{token:"acosh",show:"acosh",type:0,value:r.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:r.math.div},{token:"!",show:"!",type:7,value:r.math.fact},{token:"tanh",show:"tanh",type:0,value:r.math.tanh},{token:"atanh",show:"atanh",type:0,value:r.math.atanh},{token:"Mod",show:" Mod ",type:2,value:r.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:r.math.mul},{token:"sinh",show:"sinh",type:0,value:r.math.sinh},{token:"asinh",show:"asinh",type:0,value:r.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:r.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:r.math.add},{token:"-",show:"-",type:9,value:r.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:r.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:r.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:r.math.and}],o={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},s=0;s<a.length;s++)a[s].precedence=o[a[s].type];var u={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},c={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},l={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},f={},d={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},p={1:!0},h=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function v(e,t,n,r){for(var i=0;i<r;i++)if(e[n+i]!==t[i])return!1;return!0}function m(e,t){for(var n=0;n<t.length;n++)if(t[n].token===e)return n;return-1}function g(e){for(var t,n,i,o=[],s=e.length,u=0;u<s;u++)if(!(u<s-1&&" "===e[u]&&" "===e[u+1])){for(t="",n=e.length-u>h.length-2?h.length-1:e.length-u;n>0;n--)if(void 0!==h[n])for(i=0;i<h[n].length;i++)v(e,h[n][i],u,n)&&(t=h[n][i],i=h[n].length,n=0);if(u+=t.length-1,""===t)throw new r.Exception("Can't understand after "+e.slice(u));o.push(a[m(t,a)])}return o}r.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},r.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,i=-1;e[t].type===r.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),h[n]=h[n]||[];for(var s=0;s<h[n].length;s++)if(e[t].token===h[n][s]){i=m(h[n][s],a);break}-1===i?(a.push(e[t]),e[t].precedence=o[e[t].type],h.length<=e[t].token.length&&(h[e[t].token.length]=[]),h[e[t].token.length].push(e[t].token)):(a[i]=e[t],e[t].precedence=o[e[t].type])}};var y={value:r.math.changeSign,type:0,pre:21,show:"-"},b={value:")",show:")",type:5,pre:0},x={value:"(",type:4,pre:0,show:"("};r.lex=function(e,t){var n,a=[x],o=[],s=e,h=u,v=0,m=f,k="";"undefined"!==typeof t&&r.addToken(t);var w={},_=g(s);for(n=0;n<_.length;n++){var S=_[n];if(14!==S.type){var T,C=S.token,E=S.type,O=S.value,A=S.precedence,I=S.show,R=a[a.length-1];for(T=o.length;T--&&0===o[T];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(E)){if(!0!==h[E])throw new r.Exception(C+" is not allowed after "+k);a.push(b),h=c,m=d,o.pop()}if(!0!==h[E])throw new r.Exception(C+" is not allowed after "+k);if(!0===m[E]&&(E=2,O=r.math.mul,I="&times;",A=3,n-=1),w={value:O,type:E,pre:A,show:I,numberOfArguments:S.numberOfArguments},0===E)h=u,m=f,i(o,2),a.push(w),4!==_[n+1].type&&(a.push(x),o.push(2));else if(1===E)1===R.type?(R.value+=O,i(o,1)):a.push(w),h=c,m=l;else if(2===E)h=u,m=f,i(o,2),a.push(w);else if(3===E)a.push(w),h=c,m=d;else if(4===E)i(o,1),v++,h=u,m=f,a.push(w);else if(5===E){if(!v)throw new r.Exception("Closing parenthesis are more than opening one, wait What!!!");v--,h=c,m=d,a.push(w),i(o,1)}else if(6===E){if(R.hasDec)throw new r.Exception("Two decimals are not allowed in one number");1!==R.type&&(R={value:0,type:1,pre:0},a.push(R)),h=p,i(o,1),m=f,R.value+=O,R.hasDec=!0}else 7===E&&(h=c,m=d,i(o,1),a.push(w));8===E?(h=u,m=f,i(o,S.numberOfArguments+2),a.push(w),4!==_[n+1].type&&(a.push(x),o.push(S.numberOfArguments+2))):9===E?(9===R.type?R.value===r.math.add?(R.value=O,R.show=I,i(o,1)):R.value===r.math.sub&&"-"===I&&(R.value=r.math.add,R.show="+",i(o,1)):5!==R.type&&7!==R.type&&1!==R.type&&3!==R.type&&13!==R.type?"-"===C&&(h=u,m=f,i(o,2).push(2),a.push(y),a.push(x)):(a.push(w),i(o,2)),h=u,m=f):10===E?(h=u,m=f,i(o,2),a.push(w)):11===E?(h=u,m=f,a.push(w)):12===E?(h=u,m=f,i(o,6),a.push(w),4!==_[n+1].type&&(a.push(x),o.push(6))):13===E&&(h=c,m=d,a.push(w)),i(o,-1),k=C}else if(n>0&&n<_.length-1&&1===_[n+1].type&&(1===_[n-1].type||6===_[n-1].type))throw new r.Exception("Unexpected Space")}for(T=o.length;T--;)a.push(b);if(!0!==h[5])throw new r.Exception("complete the expression");for(;v--;)a.push(b);return a.push(b),new r(a)},e.exports=r},19585:function(e){"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var r=1,i=e-n,a=n;a<i&&(a=i,i=n);for(var o=a+1;o<=e;o++)r*=o;return r/t.math.fact(i)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!==0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,r=Math.floor(e)-Math.floor(t)+1;r<=Math.floor(e);r++)n*=r;return n},Pi:function(e,t,n){for(var r=1,i=e;i<=t;i++)r*=Number(n.postfixEval({n:i}));return r},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var r=0,i=e;i<=t;i++)r+=Number(n.postfixEval({n:i}));return r},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},t.Exception=function(e){this.message=e},e.exports=t},16928:function(e,t,n){var r=n(50015);r.prototype.toPostfix=function(){"use strict";for(var e,t,n,i,a,o=[],s=[{value:"(",type:4,pre:0}],u=this.value,c=1;c<u.length;c++)if(1===u[c].type||3===u[c].type||13===u[c].type)1===u[c].type&&(u[c].value=Number(u[c].value)),o.push(u[c]);else if(4===u[c].type)s.push(u[c]);else if(5===u[c].type)for(;4!==(t=s.pop()).type;)o.push(t);else if(11===u[c].type){for(;4!==(t=s.pop()).type;)o.push(t);s.push(t)}else{i=(e=u[c]).pre,n=(a=s[s.length-1]).pre;var l="Math.pow"==a.value&&"Math.pow"==e.value;if(i>n)s.push(e);else{for(;n>=i&&!l||l&&i<n;)t=s.pop(),a=s[s.length-1],o.push(t),n=a.pre,l="Math.pow"==e.value&&"Math.pow"==a.value;s.push(e)}}return new r(o)},e.exports=r},96616:function(e,t,n){var r=n(16928);r.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,i,a=[],o=this.value,s="undefined"!==typeof e.n,u=0;u<o.length;u++)if(1===o[u].type)a.push({value:o[u].value,type:1});else if(3===o[u].type)a.push({value:e[o[u].value],type:1});else if(0===o[u].type)"undefined"===typeof a[a.length-1].type?a[a.length-1].value.push(o[u]):a[a.length-1].value=o[u].value(a[a.length-1].value);else if(7===o[u].type)"undefined"===typeof a[a.length-1].type?a[a.length-1].value.push(o[u]):a[a.length-1].value=o[u].value(a[a.length-1].value);else if(8===o[u].type){for(var c=[],l=0;l<o[u].numberOfArguments;l++)c.push(a.pop().value);a.push({type:1,value:o[u].value.apply(o[u],c.reverse())})}else 10===o[u].type?(t=a.pop(),"undefined"===typeof(n=a.pop()).type?(n.value=n.concat(t),n.value.push(o[u]),a.push(n)):"undefined"===typeof t.type?(t.unshift(n),t.push(o[u]),a.push(t)):a.push({type:1,value:o[u].value(n.value,t.value)})):2===o[u].type||9===o[u].type?(t=a.pop(),"undefined"===typeof(n=a.pop()).type?((n=n.concat(t)).push(o[u]),a.push(n)):"undefined"===typeof t.type?(t.unshift(n),t.push(o[u]),a.push(t)):a.push({type:1,value:o[u].value(n.value,t.value)})):12===o[u].type?("undefined"!==typeof(t=a.pop()).type&&(t=[t]),n=a.pop(),i=a.pop(),a.push({type:1,value:o[u].value(i.value,n.value,new r(t))})):13===o[u].type&&(s?a.push({value:e[o[u].value],type:3}):a.push([o[u]]));if(a.length>1)throw new r.Exception("Uncaught Syntax error");return a[0].value>1e15?"Infinity":parseFloat(a[0].value.toFixed(15))},r.eval=function(e,t,n){return"undefined"===typeof t?this.lex(e).toPostfix().postfixEval():"undefined"===typeof n?"undefined"!==typeof t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(n)},e.exports=r},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},53912:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,o=i[typeof t]&&t,s=i.object&&e&&!e.nodeType&&e,u=o&&s&&"object"==typeof n.g&&n.g;!u||u.global!==u&&u.window!==u&&u.self!==u||(a=u);var c=Math.pow(2,53)-1,l=/\bOpera/,f=Object.prototype,d=f.hasOwnProperty,p=f.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=x(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function m(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?h(e):p.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=c)for(;++n<r;)t(e[n],n,e);else m(e,t)}(e,(function(r,i){n=t(n,r,i,e)})),n}function x(e){return String(e).replace(/^ +| +$/g,"")}var k=function e(t){var n=a,r=t&&"object"==typeof t&&"String"!=g(t);r&&(n=t,t=null);var i=n.navigator||{},o=i.userAgent||"";t||(t=o);var s,u,c=r?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),f="Object",d=r?f:"ScriptBridgingProxyObject",h=r?f:"Environment",k=r&&n.java?"JavaPackage":g(n.java),w=r?f:"RuntimeObject",_=/\bJava/.test(k)&&n.java,S=_&&g(n.environment)==h,T=_?"a":"\u03b1",C=_?"b":"\u03b2",E=n.document||{},O=n.operamini||n.opera,A=l.test(A=r&&O?O["[[Class]]"]:g(O))?A:O=null,I=t,R=[],N=null,P=t==o,M=P&&O&&"function"==typeof O.version&&O.version(),D=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),j=function(e){return b(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),L=B([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),F=function(e){return b(e,(function(e,n,r){return e||(n[L]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+y(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Z=function(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function B(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=v(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function U(e){return b(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(D&&(D=[D]),/\bAndroid\b/.test(Z)&&!L&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(L=x(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),F&&!L?L=B([F]):F&&L&&(L=L.replace(RegExp("^("+y(F)+")[-_.\\s]","i"),F+" ").replace(RegExp("^("+y(F)+")[-_.]?(\\w)","i"),F+" $2")),(s=/\bGoogle TV\b/.exec(L))&&(L=s[0]),/\bSimulator\b/i.test(t)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==j&&/\bOPiOS\b/.test(t)&&R.push("running in Turbo/Uncompressed mode"),"IE"==j&&/\blike iPhone OS\b/.test(t)?(F=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,L=s.product):/^iP/.test(L)?(j||(j="Safari"),Z="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==j&&/^Linux\b/i.test(Z)?Z="Kubuntu":F&&"Google"!=F&&(/Chrome/.test(j)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(L))||/\bAndroid\b/.test(Z)&&/^Chrome/.test(j)&&/\bVersion\//i.test(t)?(j="Android Browser",Z=/\bAndroid\b/.test(Z)?Z:"Android"):"Silk"==j?(/\bMobi/i.test(t)||(Z="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&R.unshift("accelerated")):"UC Browser"==j&&/\bUCWEB\b/.test(t)?R.push("speed mode"):"PaleMoon"==j&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?R.push("identifying as Firefox "+s[1]):"Firefox"==j&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(Z||(Z="Firefox OS"),L||(L=s[1])):!j||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(j))?(j&&!L&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(j=null),(s=L||F||Z)&&(L||F||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Z))&&(j=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Z)?Z:s)+" Browser")):"Electron"==j&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&R.push("Chromium "+s),M||(M=U(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(j),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==D&&parseFloat(M)>3?"WebKit":/\bOpera\b/.test(j)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(t)&&("Mac OS"==Z?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(j)&&"NetFront")&&(D=[s]),"IE"==j&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(j+=" Mobile",Z="Windows Phone "+(/\+$/.test(s)?s:s+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(j="IE Mobile",Z="Windows Phone 8.x",R.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=j&&"Trident"==D&&(s=/\brv:([\d.]+)/.exec(t))&&(j&&R.push("identifying as "+j+(M?" "+M:"")),j="IE",M=s[1]),P){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}(n,"global"))if(_&&(I=(s=_.lang.System).getProperty("os.arch"),Z=Z||s.getProperty("os.name")+" "+s.getProperty("os.version")),S){try{M=n.require("ringo/engine").version.join("."),j="RingoJS"}catch(z){(s=n.system)&&s.global.system==n.system&&(j="Narwhal",Z||(Z=s[0].os||null))}j||(j="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(R.push("Node "+s.versions.node),j="Electron",M=s.versions.electron):"string"==typeof s.versions.nw&&(R.push("Chromium "+M,"Node "+s.versions.node),j="NW.js",M=s.versions.nw)),j||(j="Node.js",I=s.arch,Z=s.platform,M=(M=/[\d.]+/.exec(s.version))?M[0]:null));else g(s=n.runtime)==d?(j="Adobe AIR",Z=s.flash.system.Capabilities.os):g(s=n.phantom)==w?(j="PhantomJS",M=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof E.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(M=[M,E.documentMode],(s=+s[1]+4)!=M[1]&&(R.push("IE "+M[1]+" mode"),D&&(D[1]=""),M[1]=s),M="IE"==j?String(M[1].toFixed(1)):M[0]):"number"==typeof E.documentMode&&/^(?:Chrome|Firefox)\b/.test(j)&&(R.push("masking as "+j+" "+M),j="IE",M="11.0",D=["Trident"],Z="Windows");Z=Z&&v(Z)}if(M&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(P&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(N=/b/i.test(s)?"beta":"alpha",M=M.replace(RegExp(s+"\\+?$"),"")+("beta"==N?C:T)+(/\d+\+?/.exec(s)||"")),"Fennec"==j||"Firefox"==j&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Z))j="Firefox Mobile";else if("Maxthon"==j&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(Z=null),"Xbox 360"==L&&/\bIEMobile\b/.test(t)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(j)&&(!j||L||/Browser|Mobi/.test(j))||"Windows CE"!=Z&&!/Mobi/i.test(t))if("IE"==j&&P)try{null===n.external&&R.unshift("platform preview")}catch(z){R.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(t))&&(s=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||M)?(Z=((s=[s,/BB10/.test(t)])[1]?(L=null,F="BlackBerry"):"Device Software")+" "+s[0],M=null):this!=m&&"Wii"!=L&&(P&&O||/Opera/.test(j)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==j&&/\bOS X (?:\d+\.){2,}/.test(Z)||"IE"==j&&(Z&&!/^Win/.test(Z)&&M>5.5||/\bWindows XP\b/.test(Z)&&M>8||8==M&&!/\bTrident\b/.test(t)))&&!l.test(s=e.call(m,t.replace(l,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),l.test(j)?(/\bIE\b/.test(s)&&"Mac OS"==Z&&(Z=null),s="identify"+s):(s="mask"+s,j=A?v(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(Z=null),P||(M=null)),D=["Presto"],R.push(s));else j+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==j&&"+"==s[1].slice(-1)?(j="WebKit Nightly",N="alpha",M=s[1].slice(0,-1)):M!=s[1]&&M!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(M=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==D&&(D=["Blink"]),P&&(c||s[1])?(D&&(D[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),D&&(D[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==j&&(!M||parseInt(M)>45)?M=s:"Chrome"==j&&/\bHeadlessChrome/i.test(t)&&R.unshift("headless")),"Opera"==j&&(s=/\bzbov|zvav$/.exec(Z))?(j+=" ",R.unshift("desktop mode"),"zvav"==s?(j+="Mini",M=null):j+="Mobile",Z=Z.replace(RegExp(" *"+s+"$"),"")):"Safari"==j&&/\bChrome\b/.exec(D&&D[1])?(R.unshift("desktop mode"),j="Chrome Mobile",M=null,/\bOS X\b/.test(Z)?(F="Apple",Z="iOS 4.3+"):Z=null):/\bSRWare Iron\b/.test(j)&&!M&&(M=U("Chrome")),M&&0==M.indexOf(s=/[\d.]+$/.exec(Z))&&t.indexOf("/"+s+"-")>-1&&(Z=x(Z.replace(s,""))),Z&&-1!=Z.indexOf(j)&&!RegExp(j+" OS").test(Z)&&(Z=Z.replace(RegExp(" *"+y(j)+" *"),"")),D&&!/\b(?:Avant|Nook)\b/.test(j)&&(/Browser|Lunascape|Maxthon/.test(j)||"Safari"!=j&&/^iOS/.test(Z)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(j)&&D[1])&&(s=D[D.length-1])&&R.push(s),R.length&&(R=["("+R.join("; ")+")"]),F&&L&&L.indexOf(F)<0&&R.push("on "+F),L&&R.push((/^on /.test(R[R.length-1])?"":"on ")+L),Z&&(s=/ ([\d.+]+)$/.exec(Z),u=s&&"/"==Z.charAt(Z.length-s[0].length-1),Z={architecture:32,family:s&&!u?Z.replace(s[0],""):Z,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(Z&&(Z.architecture=64,Z.family=Z.family.replace(RegExp(" *"+s),"")),j&&(/\bWOW64\b/i.test(t)||P&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&R.unshift("32-bit")):Z&&/^OS X/.test(Z.family)&&"Chrome"==j&&parseFloat(M)>=39&&(Z.architecture=64),t||(t=null);var V={};return V.description=t,V.layout=D&&D[0],V.manufacturer=F,V.name=j,V.prerelease=N,V.product=L,V.ua=t,V.version=j&&M,V.os=Z||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=e,V.toString=function(){return this.description||""},V.version&&R.unshift(M),V.name&&R.unshift(j),Z&&j&&(Z!=String(Z).split(" ")[0]||Z!=j.split(" ")[0]&&!L)&&R.push(L?"("+Z+")":"on "+Z),R.length&&(V.description=R.join(" ")),V}();a.platform=k,void 0===(r=function(){return k}.call(t,n,t,e))||(e.exports=r)}.call(this)},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(e,t,n){"use strict";var r=n(72791),i=n(31725),a=n(45296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,d={onError:function(e){u=!0,c=e}};function p(e,t,n,r,i,a,o,l,f){u=!1,c=null,s.apply(d,arguments)}var h=null,v=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,d,h){if(p.apply(this,arguments),u){if(!u)throw Error(o(198));var v=c;u=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function x(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!w[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,u=r;if(_.hasOwnProperty(u))throw Error(o(99,u));_[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&k(c[i],s,u);i=!0}else a.registrationName?(k(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function k(e,t,n){if(S[e])throw Error(o(100,e));S[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],_={},S={},T={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&x()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),O=null,A=null,I=null;function R(e){if(e=v(e)){if("function"!==typeof O)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),O(e.stateNode,e.type,t))}}function N(e){A?I?I.push(e):I=[e]:A=e}function P(){if(A){var e=A,t=I;if(I=A=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function M(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function j(){}var L=M,F=!1,Z=!1;function B(){null===A&&null===I||(j(),P())}function U(e,t,n){if(Z)return e(t,n);Z=!0;try{return L(e,t,n)}finally{Z=!1,B()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},H={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(H,e)||!z.call(W,e)&&(V.test(e)?H[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ue=$?Symbol.for("react.forward_ref"):60112,ce=$?Symbol.for("react.suspense"):60113,le=$?Symbol.for("react.suspense_list"):60120,fe=$?Symbol.for("react.memo"):60115,de=$?Symbol.for("react.lazy"):60116,pe=$?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case pe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Te(e,t){Se(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ee(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ne(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Me="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ze,Be=(Ze=function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ze(e,t)}))}:Ze);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ze={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},We={},He={};function Ge(e){if(We[e])return We[e];if(!ze[e])return e;var t,n=ze[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return We[e]=n[t];return e}E&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var qe=Ge("animationend"),Ke=Ge("animationiteration"),Ye=Ge("animationstart"),Xe=Ge("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function pt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Pn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=it(s,c))}ut(s)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var mt,gt,yt,bt=!1,xt=[],kt=null,wt=null,_t=null,St=new Map,Tt=new Map,Ct=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function It(e,t){switch(e){case"focus":case"blur":kt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Mn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=Pn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Mn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Pt(e)&&n.delete(t)}function Dt(){for(bt=!1;0<xt.length;){var e=xt[0];if(null!==e.blockedOn){null!==(e=Mn(e.blockedOn))&&mt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:xt.shift()}null!==kt&&Pt(kt)&&(kt=null),null!==wt&&Pt(wt)&&(wt=null),null!==_t&&Pt(_t)&&(_t=null),St.forEach(Mt),Tt.forEach(Mt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function Lt(e){function t(t){return jt(t,e)}if(0<xt.length){jt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&jt(kt,e),null!==wt&&jt(wt,e),null!==_t&&jt(_t,e),St.forEach(t),Tt.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Nt(n),null===n.blockedOn&&Ct.shift()}var Ft={},Zt=new Map,Bt=new Map,Ut=["abort","abort",qe,"animationEnd",Ke,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Zt.set(r,a),Ft[i]=a}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var zt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<zt.length;Wt++)Bt.set(zt[Wt],0);var Ht=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,qt=!0;function Kt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Qt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||j();var i=Jt,a=F;F=!0;try{D(i,e,t,n,r)}finally{(F=a)||B()}}function Qt(e,t,n,r){Gt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(qt)if(0<xt.length&&-1<Et.indexOf(e))e=At(null,e,t,n,r),xt.push(e);else{var i=$t(e,t,n,r);if(null===i)It(e,r);else if(-1<Et.indexOf(e))e=At(i,e,t,n,r),xt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return kt=Rt(kt,e,t,n,r,i),!0;case"dragenter":return wt=Rt(wt,e,t,n,r,i),!0;case"mouseover":return _t=Rt(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Rt(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Rt(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){It(e,r),e=pt(e,r,null,t);try{U(ht,e)}finally{dt(e)}}}}function $t(e,t,n,r){if(null!==(n=Pn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{U(ht,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Me;function cn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$",yn="/$",bn="$?",xn="$!",kn=null,wn=null;function _n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tn="function"===typeof setTimeout?setTimeout:void 0,Cn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function On(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn||n===xn||n===bn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),In="__reactInternalInstance$"+An,Rn="__reactEventHandlers$"+An,Nn="__reactContainere$"+An;function Pn(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[In]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=On(e);null!==e;){if(n=e[In])return n;e=On(e)}return t}n=(e=n).parentNode}return null}function Mn(e){return!(e=e[In]||e[Nn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function jn(e){return e[Rn]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Zn(e,t,n){(t=Fn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Zn(n[t],"captured",e);for(t=0;t<n.length;t++)Zn(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Fn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function zn(e){at(e,Bn)}var Wn=null,Hn=null,Gn=null;function qn(){if(Gn)return Gn;var e,t,n=Hn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Gn=i.slice(e,1<t?1-t:void 0)}function Kn(){return!0}function Yn(){return!1}function Xn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Kn:Yn,this.isPropagationStopped=Yn,this}function Qn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Qn,e.release=Jn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){this.isPersistent=Kn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Xn);var er=Xn.extend({data:null}),tr=Xn.extend({data:null}),nr=[9,13,27,32],rr=E&&"CompositionEvent"in window,ir=null;E&&"documentMode"in document&&(ir=document.documentMode);var ar=E&&"TextEvent"in window&&!ir,or=E&&(!rr||ir&&8<ir&&11>=ir),sr=String.fromCharCode(32),ur={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cr=!1;function lr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var pr={eventTypes:ur,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=ur.compositionStart;break e;case"compositionend":a=ur.compositionEnd;break e;case"compositionupdate":a=ur.compositionUpdate;break e}a=void 0}else dr?lr(e,n)&&(a=ur.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=ur.compositionStart);return a?(or&&"ko"!==n.locale&&(dr||a!==ur.compositionStart?a===ur.compositionEnd&&dr&&(i=qn()):(Hn="value"in(Wn=r)?Wn.value:Wn.textContent,dr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=fr(n))&&(a.data=i),zn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return fr(t);case"keypress":return 32!==t.which?null:(cr=!0,sr);case"textInput":return(e=t.data)===sr&&cr?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&lr(e,t)?(e=qn(),Gn=Hn=Wn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(ur.beforeInput,t,n,r)).data=e,zn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(e,t,n){return(e=Xn.getPooled(mr.change,e,t,n)).type="change",N(n),zn(e),e}var yr=null,br=null;function xr(e){ut(e)}function kr(e){if(ke(Dn(e)))return e}function wr(e,t){if("change"===e)return t}var _r=!1;function Sr(){yr&&(yr.detachEvent("onpropertychange",Tr),br=yr=null)}function Tr(e){if("value"===e.propertyName&&kr(br))if(e=gr(br,e,ct(e)),F)ut(e);else{F=!0;try{M(xr,e)}finally{F=!1,B()}}}function Cr(e,t,n){"focus"===e?(Sr(),br=n,(yr=t).attachEvent("onpropertychange",Tr)):"blur"===e&&Sr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return kr(br)}function Or(e,t){if("click"===e)return kr(t)}function Ar(e,t){if("input"===e||"change"===e)return kr(t)}E&&(_r=lt("input")&&(!document.documentMode||9<document.documentMode));var Ir={eventTypes:mr,_isInputEventSupported:_r,extractEvents:function(e,t,n,r){var i=t?Dn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=wr;else if(vr(i))if(_r)o=Ar;else{o=Er;var s=Cr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Or);if(o&&(o=o(e,t)))return gr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ee(i,"number",i.value)}},Rr=Xn.extend({view:null,detail:null}),Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nr[e])&&!!t[e]}function Mr(){return Pr}var Dr=0,jr=0,Lr=!1,Fr=!1,Zr=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=jr;return jr=e.screenY,Fr?"mousemove"===e.type?e.screenY-t:0:(Fr=!0,0)}}),Br=Zr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Pn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Zr,u=Ur.mouseLeave,c=Ur.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Br,u=Ur.pointerLeave,c=Ur.pointerEnter,l="pointer");if(e=null==o?a:Dn(o),a=null==t?a:Dn(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=s=r;e;e=Ln(e))o++;for(e=0,t=c;t;t=Ln(t))e++;for(;0<o-e;)s=Ln(s),o--;for(;0<e-o;)c=Ln(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Ln(s),c=Ln(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Ln(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Ln(l);for(l=0;l<s.length;l++)Un(s[l],"bubbled",u);for(l=r.length;0<l--;)Un(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var zr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function Hr(e,t){if(zr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!zr(e[n[r]],t[n[r]]))return!1;return!0}var Gr=E&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kr=null,Yr=null,Xr=null,Qr=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qr||null==Kr||Kr!==fn(n)?null:("selectionStart"in(n=Kr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Hr(Xr,n)?null:(Xr=n,(e=Xn.getPooled(qr.select,Yr,e,t)).type="select",e.target=Kr,zn(e),e))}var $r={eventTypes:qr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Dn(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Kr=i,Yr=t,Xr=null);break;case"blur":Xr=Yr=Kr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Jr(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Xn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Rr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Rr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),si=Zr.extend({dataTransfer:null}),ui=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mr}),ci=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),li=Zr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ui;break;case qe:case Ke:case Ye:e=ei;break;case Xe:e=ci;break;case"scroll":e=Rr;break;case"wheel":e=li;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Br;break;default:e=Xn}return zn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),h=jn,v=Mn,m=Dn,C({SimpleEventPlugin:fi,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Ir,SelectEventPlugin:$r,BeforeInputEventPlugin:pr});var di=[],pi=-1;function hi(e){0>pi||(e.current=di[pi],di[pi]=null,pi--)}function vi(e,t){pi++,di[pi]=e.current,e.current=t}var mi={},gi={current:mi},yi={current:!1},bi=mi;function xi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ki(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){hi(yi),hi(gi)}function _i(e,t,n){if(gi.current!==mi)throw Error(o(168));vi(gi,t),vi(yi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,bi=gi.current,vi(gi,e),vi(yi,yi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Si(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,hi(yi),hi(gi),vi(gi,e)):hi(yi),vi(yi,n)}var Ei=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Ii=a.unstable_requestPaint,Ri=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Mi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,ji=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},Zi=a.unstable_shouldYield,Bi=void 0!==Ii?Ii:function(){},Ui=null,Vi=null,zi=!1,Wi=Ri(),Hi=1e4>Wi?Ri:function(){return Ri()-Wi};function Gi(){switch(Ni()){case Pi:return 99;case Mi:return 98;case Di:return 97;case ji:return 96;case Li:return 95;default:throw Error(o(332))}}function qi(e){switch(e){case 99:return Pi;case 98:return Mi;case 97:return Di;case 96:return ji;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=qi(e),Ei(e,t)}function Yi(e,t,n){return e=qi(e),Oi(e,t,n)}function Xi(e){return null===Ui?(Ui=[e],Vi=Oi(Pi,Ji)):Ui.push(e),Fi}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ai(e)}Ji()}function Ji(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Oi(Pi,Qi),n}finally{zi=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;hi(ta),e.type._context._currentValue=t}function sa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ua(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(jo=!0),e.firstContext=null)}function ca(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var la=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function pa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&da(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;la=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=a.baseState,l=0,f=null,d=null,p=null;if(null!==u)for(var h=u;;){if((s=h.expirationTime)<r){var v={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=v,f=c):p=p.next=v,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),wu(s,h.suspenseConfig);e:{var m=e,g=h;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(v,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,c,s):m)||void 0===s)break e;c=i({},c,s);break e;case 2:la=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[h]:s.push(h))}if(null===(h=h.next)||h===u){if(null===(s=a.shared.pending))break;h=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===p?f=c:p.next=d,a.baseState=f,a.baseQueue=p,_u(l),e.expirationTime=l,e.memoizedState=c}}function ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ya=X.ReactCurrentBatchConfig,ba=(new r.Component).refs;function xa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ka={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=cu(),i=ya.suspense;(i=pa(r=lu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),fu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=cu(),i=ya.suspense;(i=pa(r=lu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),fu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=cu(),r=ya.suspense;(r=pa(n=lu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ha(e,r),fu(e,n)}};function wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Hr(n,r)||!Hr(i,a))}function _a(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=ca(a):(i=ki(t)?bi:gi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?xi(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ba,fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ca(a):(a=ki(t)?bi:gi.current,i.context=xi(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(xa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ka.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ca=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ba&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Oa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Aa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case te:return(t=qu(t,e.mode,n)).return=e,t}if(Ca(t)||ve(t))return(t=Hu(t,e.mode,n,null)).return=e,t;Oa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Ca(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Oa(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ca(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Oa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=h(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=ve(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Hu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Wu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=qu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Gu(a,e.mode,u)).return=e,e=r),s(e);if(Ca(a))return v(e,r,a,u);if(ve(a))return m(e,r,a,u);if(l&&Oa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ia=Aa(!0),Ra=Aa(!1),Na={},Pa={current:Na},Ma={current:Na},Da={current:Na};function ja(e){if(e===Na)throw Error(o(174));return e}function La(e,t){switch(vi(Da,t),vi(Ma,e),vi(Pa,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Pa),vi(Pa,t)}function Fa(){hi(Pa),hi(Ma),hi(Da)}function Za(e){ja(Da.current);var t=ja(Pa.current),n=Le(t,e.type);t!==n&&(vi(Ma,e),vi(Pa,n))}function Ba(e){Ma.current===e&&(hi(Pa),hi(Ma))}var Ua={current:0};function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===xn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function za(e,t){return{responder:e,props:t}}var Wa=X.ReactCurrentDispatcher,Ha=X.ReactCurrentBatchConfig,Ga=0,qa=null,Ka=null,Ya=null,Xa=!1;function Qa(){throw Error(o(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zr(e[n],t[n]))return!1;return!0}function $a(e,t,n,r,i,a){if(Ga=a,qa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wa.current=null===e||null===e.memoizedState?_o:So,e=n(r,i),t.expirationTime===Ga){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ya=Ka=null,t.updateQueue=null,Wa.current=To,e=n(r,i)}while(t.expirationTime===Ga)}if(Wa.current=wo,t=null!==Ka&&null!==Ka.next,Ga=0,Ya=Ka=qa=null,Xa=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ya?qa.memoizedState=Ya=e:Ya=Ya.next=e,Ya}function to(){if(null===Ka){var e=qa.alternate;e=null!==e?e.memoizedState:null}else e=Ka.next;var t=null===Ya?qa.memoizedState:Ya.next;if(null!==t)Ya=t,Ka=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ka=e).memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},null===Ya?qa.memoizedState=Ya=e:Ya=Ya.next=e}return Ya}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ka,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.expirationTime;if(l<Ga){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,l>qa.expirationTime&&(qa.expirationTime=l,_u(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),wu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,zr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);zr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=ko.bind(null,qa,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qa.updateQueue)?(t={lastEffect:null},qa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function so(){return to().memoizedState}function uo(e,t,n,r){var i=eo();qa.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function co(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Ka){var o=Ka.memoizedState;if(a=o.destroy,null!==r&&Ja(r,o.deps))return void oo(t,n,a,r)}qa.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function lo(e,t){return uo(516,4,e,t)}function fo(e,t){return co(516,4,e,t)}function po(e,t){return co(4,2,e,t)}function ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,ho.bind(null,t,e),n)}function mo(){}function go(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function yo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xo(e,t,n){var r=Gi();Ki(98>r?98:r,(function(){e(!0)})),Ki(97<r?97:r,(function(){var r=Ha.suspense;Ha.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ha.suspense=r}}))}function ko(e,t,n){var r=cu(),i=ya.suspense;i={expirationTime:r=lu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===qa||null!==a&&a===qa)Xa=!0,i.expirationTime=Ga,qa.expirationTime=Ga;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,zr(s,o))return}catch(u){}fu(e,r)}}var wo={readContext:ca,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useResponder:Qa,useDeferredValue:Qa,useTransition:Qa},_o={readContext:ca,useCallback:go,useContext:ca,useEffect:lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,uo(4,2,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uo(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ko.bind(null,qa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:za,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return lo((function(){var n=Ha.suspense;Ha.suspense=void 0===t?null:t;try{i(e)}finally{Ha.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[go(xo.bind(null,t,e),[t,e]),n]}},So={readContext:ca,useCallback:yo,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:po,useMemo:bo,useReducer:ro,useRef:so,useState:function(){return ro(no)},useDebugValue:mo,useResponder:za,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return fo((function(){var n=Ha.suspense;Ha.suspense=void 0===t?null:t;try{i(e)}finally{Ha.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[yo(xo.bind(null,t,e),[t,e]),n]}},To={readContext:ca,useCallback:yo,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:po,useMemo:bo,useReducer:io,useRef:so,useState:function(){return io(no)},useDebugValue:mo,useResponder:za,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return fo((function(){var n=Ha.suspense;Ha.suspense=void 0===t?null:t;try{i(e)}finally{Ha.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[yo(xo.bind(null,t,e),[t,e]),n]}},Co=null,Eo=null,Oo=!1;function Ao(e,t){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ro(e){if(Oo){var t=Eo;if(t){var n=t;if(!Io(e,t)){if(!(t=En(n.nextSibling))||!Io(e,t))return e.effectTag=-1025&e.effectTag|2,Oo=!1,void(Co=e);Ao(Co,n)}Co=e,Eo=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Oo=!1,Co=e}}function No(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Co=e}function Po(e){if(e!==Co)return!1;if(!Oo)return No(e),Oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=Eo;t;)Ao(e,t),t=En(t.nextSibling);if(No(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){Eo=En(e.nextSibling);break e}t--}else n!==gn&&n!==xn&&n!==bn||t++}e=e.nextSibling}Eo=null}}else Eo=Co?En(e.stateNode.nextSibling):null;return!0}function Mo(){Eo=Co=null,Oo=!1}var Do=X.ReactCurrentOwner,jo=!1;function Lo(e,t,n,r){t.child=null===e?Ra(t,null,n,r):Ia(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return ua(t,i),r=$a(e,t,n,r,a,i),null===e||jo?(t.effectTag|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Zo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Vu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Hr)(i,r)&&e.ref===t.ref)?ts(e,t,a):(t.effectTag|=1,(e=zu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){return null!==e&&Hr(e.memoizedProps,r)&&e.ref===t.ref&&(jo=!1,i<a)?(t.expirationTime=e.expirationTime,ts(e,t,a)):Vo(e,t,n,r,a)}function Uo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vo(e,t,n,r,i){var a=ki(n)?bi:gi.current;return a=xi(t,a),ua(t,i),n=$a(e,t,n,r,a,i),null===e||jo?(t.effectTag|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function zo(e,t,n,r,i){if(ki(n)){var a=!0;Ti(t)}else a=!1;if(ua(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_a(t,n,r),Ta(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ca(c):c=xi(t,c=ki(n)?bi:gi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Sa(t,o,r,c),la=!1;var d=t.memoizedState;o.state=d,ma(t,r,o,i),u=t.memoizedState,s!==r||d!==u||yi.current||la?("function"===typeof l&&(xa(t,n,l,r),u=t.memoizedState),(s=la||wa(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,da(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:ea(t.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ca(c):c=xi(t,c=ki(n)?bi:gi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Sa(t,o,r,c),la=!1,u=t.memoizedState,o.state=u,ma(t,r,o,i),d=t.memoizedState,s!==r||u!==d||yi.current||la?("function"===typeof l&&(xa(t,n,l,r),d=t.memoizedState),(l=la||wa(t,n,s,r,u,d,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Uo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ci(t,n,!1),ts(e,t,a);r=t.stateNode,Do.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Lo(e,t,s,a),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),La(e,t.containerInfo)}var Go,qo,Ko,Yo,Xo={dehydrated:null,retryTime:0};function Qo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ua.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(Ua,1&o),null===e){if(void 0!==a.fallback&&Ro(t),s){if(s=a.fallback,(a=Hu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Hu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Xo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Ra(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=zu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=zu(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Xo,t.child=n,i}return n=Ia(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Hu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Hu(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Xo,t.child=a,n}return t.memoizedState=null,t.child=Ia(t,e,a.children,n)}function Jo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),sa(e.return,t)}function $o(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,a,t.lastEffect);break;case"together":$o(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&_u(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ki(t.type)&&wi(),null;case 3:return Fa(),hi(yi),hi(gi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Po(t)||(t.effectTag|=4),qo(t),null;case 5:Ba(t),n=ja(Da.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ko(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=ja(Pa.current),Po(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[In]=t,r[Rn]=s,a){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Kt(Qe[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":_e(r,s),Kt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r),cn(n,"onChange");break;case"textarea":Re(r,s),Kt("invalid",r),cn(n,"onChange")}for(var u in on(a,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&cn(n,u)}switch(a){case"input":xe(r),Ce(r,s,!0);break;case"textarea":xe(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=je(a)),e===un?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[In]=t,e[Rn]=r,Go(e,t,!1,!1),t.stateNode=e,u=sn(a,r),a){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Qe.length;c++)Kt(Qe[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":_e(e,r),c=we(e,r),Kt("invalid",e),cn(n,"onChange");break;case"option":c=Oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":Re(e,r),c=Ie(e,r),Kt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?rn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Be(e,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Ue(e,f):"number"===typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=f&&cn(n,s):null!=f&&Q(e,s,f,u))}switch(a){case"input":xe(e),Ce(e,r,!1);break;case"textarea":xe(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}_n(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=ja(Da.current),ja(Pa.current),Po(t)?(n=t.stateNode,r=t.memoizedProps,n[In]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[In]=t,t.stateNode=n)}return null;case 13:return hi(Ua),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Po(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?zs===Ps&&(zs=js):(zs!==Ps&&zs!==js||(zs=Ls),0!==Ks&&null!==Bs&&(Xu(Bs,Vs),Qu(Bs,Ks)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fa(),qo(t),null;case 10:return oa(t),null;case 19:if(hi(Ua),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)ns(r,!1);else if(zs!==Ps||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Va(s))){for(t.effectTag|=64,ns(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return vi(Ua,1&Ua.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Va(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Hi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Ua.current,vi(Ua,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function is(e){switch(e.tag){case 1:ki(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fa(),hi(yi),hi(gi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ba(e),null;case 13:return hi(Ua),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(Ua),null;case 4:return Fa(),null;case 10:return oa(e),null;default:return null}}function as(e,t){return{value:e,source:t,stack:ge(t)}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Ko=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,c=t.stateNode;switch(ja(Pa.current),e=null,n){case"input":o=we(c,o),r=we(c,r),e=[];break;case"option":o=Oe(c,o),r=Oe(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ie(c,o),r=Ie(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&cn(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Yo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var os="function"===typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function us(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Du(e,n)}else t.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function ls(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function fs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ds(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void fs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ga(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ga(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&_n(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))))}throw Error(o(163))}function ps(e,t,n){switch("function"===typeof Zu&&Zu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ki(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Du(i,a)}}e=e.next}while(e!==r)}))}break;case 1:us(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Du(e,n)}}(t,n);break;case 5:us(t);break;case 4:bs(e,t,n)}}function hs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&hs(t)}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(vs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ys(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,f=c;;)if(ps(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ps(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function xs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ls(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Rn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?rn(n,u):"dangerouslySetInnerHTML"===s?Be(n,u):"children"===s?Ue(n,u):Q(n,s,u,t)}switch(e){case"input":Te(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Xs=Hi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ks(t);case 19:return void ks(t)}throw Error(o(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new os),t.forEach((function(t){var r=Lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ws="function"===typeof WeakMap?WeakMap:Map;function _s(e,t,n){(n=pa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,eu=r),ss(e,t)},n}function Ss(e,t,n){(n=pa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tu?tu=new Set([this]):tu.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ts,Cs=Math.ceil,Es=X.ReactCurrentDispatcher,Os=X.ReactCurrentOwner,As=0,Is=8,Rs=16,Ns=32,Ps=0,Ms=1,Ds=2,js=3,Ls=4,Fs=5,Zs=As,Bs=null,Us=null,Vs=0,zs=Ps,Ws=null,Hs=1073741823,Gs=1073741823,qs=null,Ks=0,Ys=!1,Xs=0,Qs=500,Js=null,$s=!1,eu=null,tu=null,nu=!1,ru=null,iu=90,au=null,ou=0,su=null,uu=0;function cu(){return(Zs&(Rs|Ns))!==As?1073741821-(Hi()/10|0):0!==uu?uu:uu=1073741821-(Hi()/10|0)}function lu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Gi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Zs&Rs)!==As)return Vs;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Bs&&e===Vs&&--e,e}function fu(e,t){if(50<ou)throw ou=0,su=null,Error(o(185));if(null!==(e=du(e,t))){var n=Gi();1073741823===t?(Zs&Is)!==As&&(Zs&(Rs|Ns))===As?mu(e):(hu(e),Zs===As&&Qi()):hu(e),(4&Zs)===As||98!==n&&99!==n||(null===au?au=new Map([[e,t]]):(void 0===(n=au.get(e))||n>t)&&au.set(e,t))}}function du(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Bs===i&&(_u(t),zs===Ls&&Xu(i,Vs)),Qu(i,t)),i}function pu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Yu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function hu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(mu.bind(null,e));else{var t=pu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=cu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(mu.bind(null,e)):Yi(r,vu.bind(null,e),{timeout:10*(1073741821-t)-Hi()}),e.callbackNode=t}}}function vu(e,t){if(uu=0,t)return Ju(e,t=cu()),hu(e),null;var n=pu(e);if(0!==n){if(t=e.callbackNode,(Zs&(Rs|Ns))!==As)throw Error(o(327));if(Nu(),e===Bs&&n===Vs||bu(e,n),null!==Us){var r=Zs;Zs|=Rs;for(var i=ku();;)try{Tu();break}catch(u){xu(e,u)}if(aa(),Zs=r,Es.current=i,zs===Ms)throw t=Ws,bu(e,n),Xu(e,n),hu(e),t;if(null===Us)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=zs,Bs=null,r){case Ps:case Ms:throw Error(o(345));case Ds:Ju(e,2<n?2:n);break;case js:if(Xu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ou(i)),1073741823===Hs&&10<(i=Xs+Qs-Hi())){if(Ys){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,bu(e,n);break}}if(0!==(a=pu(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Tn(Au.bind(null,e),i);break}Au(e);break;case Ls:if(Xu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ou(i)),Ys&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bu(e,n);break}if(0!==(i=pu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Gs?r=10*(1073741821-Gs)-Hi():1073741823===Hs?r=0:(r=10*(1073741821-Hs)-5e3,0>(r=(i=Hi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Tn(Au.bind(null,e),r);break}Au(e);break;case Fs:if(1073741823!==Hs&&null!==qs){a=Hs;var s=qs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Hi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Xu(e,n),e.timeoutHandle=Tn(Au.bind(null,e),r);break}}Au(e);break;default:throw Error(o(329))}if(hu(e),e.callbackNode===t)return vu.bind(null,e)}}return null}function mu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Zs&(Rs|Ns))!==As)throw Error(o(327));if(Nu(),e===Bs&&t===Vs||bu(e,t),null!==Us){var n=Zs;Zs|=Rs;for(var r=ku();;)try{Su();break}catch(i){xu(e,i)}if(aa(),Zs=n,Es.current=r,zs===Ms)throw n=Ws,bu(e,t),Xu(e,t),hu(e),n;if(null!==Us)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Bs=null,Au(e),hu(e)}return null}function gu(e,t){var n=Zs;Zs|=1;try{return e(t)}finally{(Zs=n)===As&&Qi()}}function yu(e,t){var n=Zs;Zs&=-2,Zs|=Is;try{return e(t)}finally{(Zs=n)===As&&Qi()}}function bu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Cn(n)),null!==Us)for(n=Us.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Fa(),hi(yi),hi(gi);break;case 5:Ba(r);break;case 4:Fa();break;case 13:case 19:hi(Ua);break;case 10:oa(r)}n=n.return}Bs=e,Us=zu(e.current,null),Vs=t,zs=Ps,Ws=null,Gs=Hs=1073741823,qs=null,Ks=0,Ys=!1}function xu(e,t){for(;;){try{if(aa(),Wa.current=wo,Xa)for(var n=qa.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ga=0,Ya=Ka=qa=null,Xa=!1,null===Us||null===Us.return)return zs=Ms,Ws=t,Us=null;e:{var i=e,a=Us.return,o=Us,s=t;if(t=Vs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Ua.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(d){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=pa(1073741823,null);g.tag=2,ha(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ws,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var b=ju.bind(null,i,u,o);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}zs!==Fs&&(zs=Ds),s=as(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,va(f,_s(f,u,t));break e;case 1:u=s;var x=f.type,k=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===tu||!tu.has(k)))){f.effectTag|=4096,f.expirationTime=t,va(f,Ss(f,u,t));break e}}f=f.return}while(null!==f)}Us=Eu(Us)}catch(w){t=w;continue}break}}function ku(){var e=Es.current;return Es.current=wo,null===e?wo:e}function wu(e,t){e<Hs&&2<e&&(Hs=e),null!==t&&e<Gs&&2<e&&(Gs=e,qs=t)}function _u(e){e>Ks&&(Ks=e)}function Su(){for(;null!==Us;)Us=Cu(Us)}function Tu(){for(;null!==Us&&!Zi();)Us=Cu(Us)}function Cu(e){var t=Ts(e.alternate,e,Vs);return e.memoizedProps=e.pendingProps,null===t&&(t=Eu(e)),Os.current=null,t}function Eu(e){Us=e;do{var t=Us.alternate;if(e=Us.return,0===(2048&Us.effectTag)){if(t=rs(t,Us,Vs),1===Vs||1!==Us.childExpirationTime){for(var n=0,r=Us.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Us.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Us.firstEffect),null!==Us.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Us.firstEffect),e.lastEffect=Us.lastEffect),1<Us.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Us:e.firstEffect=Us,e.lastEffect=Us))}else{if(null!==(t=is(Us)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Us.sibling))return t;Us=e}while(null!==Us);return zs===Ps&&(zs=Fs),null}function Ou(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Au(e){var t=Gi();return Ki(99,Iu.bind(null,e,t)),null}function Iu(e,t){do{Nu()}while(null!==ru);if((Zs&(Rs|Ns))!==As)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Ou(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Bs&&(Us=Bs=null,Vs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Zs;Zs|=Ns,Os.current=null,kn=qt;var s=vn();if(mn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(C){u=null;break e}var d=0,p=-1,h=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=d+l),g!==f||0!==c&&3!==g.nodeType||(h=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++v===l&&(p=d),y===f&&++m===c&&(h=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===p||-1===h?null:{start:p,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:u},qt=!1,Js=i;do{try{Ru()}catch(C){if(null===Js)throw Error(o(330));Du(Js,C),Js=Js.nextEffect}}while(null!==Js);Js=i;do{try{for(s=e,u=t;null!==Js;){var x=Js.effectTag;if(16&x&&Ue(Js.stateNode,""),128&x){var k=Js.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&x){case 2:ms(Js),Js.effectTag&=-3;break;case 6:ms(Js),Js.effectTag&=-3,xs(Js.alternate,Js);break;case 1024:Js.effectTag&=-1025;break;case 1028:Js.effectTag&=-1025,xs(Js.alternate,Js);break;case 4:xs(Js.alternate,Js);break;case 8:bs(s,l=Js,u),hs(l)}Js=Js.nextEffect}}catch(C){if(null===Js)throw Error(o(330));Du(Js,C),Js=Js.nextEffect}}while(null!==Js);if(w=wn,k=vn(),x=w.focusedElem,u=w.selectionRange,k!==x&&x&&x.ownerDocument&&hn(x.ownerDocument.documentElement,x)){null!==u&&mn(x)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in x?(x.selectionStart=k,x.selectionEnd=Math.min(w,x.value.length)):(w=(k=x.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),l=x.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!w.extend&&s>u&&(l=u,u=s,s=l),l=pn(x,s),f=pn(x,u),l&&f&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((k=k.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s>u?(w.addRange(k),w.extend(f.node,f.offset)):(k.setEnd(f.node,f.offset),w.addRange(k))))),k=[];for(w=x;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<k.length;x++)(w=k[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!kn,wn=kn=null,e.current=n,Js=i;do{try{for(x=e;null!==Js;){var _=Js.effectTag;if(36&_&&ds(x,Js.alternate,Js),128&_){k=void 0;var S=Js.ref;if(null!==S){var T=Js.stateNode;Js.tag,k=T,"function"===typeof S?S(k):S.current=k}}Js=Js.nextEffect}}catch(C){if(null===Js)throw Error(o(330));Du(Js,C),Js=Js.nextEffect}}while(null!==Js);Js=null,Bi(),Zs=a}else e.current=n;if(nu)nu=!1,ru=e,iu=t;else for(Js=i;null!==Js;)t=Js.nextEffect,Js.nextEffect=null,Js=t;if(0===(t=e.firstPendingTime)&&(tu=null),1073741823===t?e===su?ou++:(ou=0,su=e):ou=0,"function"===typeof Fu&&Fu(n.stateNode,r),hu(e),$s)throw $s=!1,e=eu,eu=null,e;return(Zs&Is)!==As||Qi(),null}function Ru(){for(;null!==Js;){var e=Js.effectTag;0!==(256&e)&&cs(Js.alternate,Js),0===(512&e)||nu||(nu=!0,Yi(97,(function(){return Nu(),null}))),Js=Js.nextEffect}}function Nu(){if(90!==iu){var e=97<iu?97:iu;return iu=90,Ki(e,Pu)}}function Pu(){if(null===ru)return!1;var e=ru;if(ru=null,(Zs&(Rs|Ns))!==As)throw Error(o(331));var t=Zs;for(Zs|=Ns,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ls(5,n),fs(5,n)}}catch(r){if(null===e)throw Error(o(330));Du(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Zs=t,Qi(),!0}function Mu(e,t,n){ha(e,t=_s(e,t=as(n,t),1073741823)),null!==(e=du(e,1073741823))&&hu(e)}function Du(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tu||!tu.has(r))){ha(n,e=Ss(n,e=as(t,e),1073741823)),null!==(n=du(n,1073741823))&&hu(n);break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Bs===e&&Vs===n?zs===Ls||zs===js&&1073741823===Hs&&Hi()-Xs<Qs?bu(e,Vs):Ys=!0:Yu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,hu(e)))}function Lu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=lu(t=cu(),e,null)),null!==(e=du(e,t))&&hu(e)}Ts=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)jo=!0;else{if(r<n){switch(jo=!1,t.tag){case 3:Ho(t),Mo();break;case 5:if(Za(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ki(t.type)&&Ti(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Qo(e,t,n):(vi(Ua,1&Ua.current),null!==(t=ts(e,t,n))?t.sibling:null);vi(Ua,1&Ua.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(Ua,Ua.current),!r)return null}return ts(e,t,n)}jo=!1}}else jo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=xi(t,gi.current),ua(t,n),i=$a(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(r)){var a=!0;Ti(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,fa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&xa(t,r,s,e),i.updater=ka,t.stateNode=i,i._reactInternalFiber=t,Ta(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Lo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=ea(i,e),a){case 0:t=Vo(null,t,i,e,n);break e;case 1:t=zo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Zo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,da(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)Mo(),t=ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(Eo=En(t.stateNode.containerInfo.firstChild),Co=t,i=Oo=!0),i)for(n=Ra(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Lo(e,t,r,n),Mo();t=t.child}return t;case 5:return Za(t),null===e&&Ro(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Sn(r,i)?s=null:null!==a&&Sn(r,a)&&(t.effectTag|=16),Uo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Lo(e,t,s,n),t=t.child),t;case 6:return null===e&&Ro(t),null;case 13:return Qo(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(vi(ta,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=zr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!yi.current){t=ts(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=pa(n,null)).tag=2,ha(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),sa(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ua(t,n),r=r(i=ca(i,a.unstable_observedBits)),t.effectTag|=1,Lo(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),Zo(e,t,i,a=ea(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ki(r)?(e=!0,Ti(t)):e=!1,ua(t,n),_a(t,r,i),Ta(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(o(156,t.tag))};var Fu=null,Zu=null;function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Uu(e,t,n,r){return new Bu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Uu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Hu(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Uu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Uu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Uu(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Uu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Hu(e,t,n,r){return(e=Uu(7,e,r,t)).expirationTime=n,e}function Gu(e,t,n){return(e=Uu(6,e,null,t)).expirationTime=n,e}function qu(e,t,n){return(t=Uu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Yu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Xu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Qu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ju(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function $u(e,t,n,r){var i=t.current,a=cu(),s=ya.suspense;a=lu(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ki(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ki(c)){n=Si(n,c,u);break e}}n=u}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=pa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),fu(i,a),a}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=new Ku(e,t,n=null!=n&&!0===n.hydrate),i=Uu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,fa(i),e[Nn]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Et.forEach((function(e){vt(e,t,n)})),Ot.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}$u(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}yu((function(){$u(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rc.prototype.render=function(e){$u(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$u(null,e,null,(function(){t[Nn]=null}))},mt=function(e){if(13===e.tag){var t=$i(cu(),150,100);fu(e,t),nc(e,t)}},gt=function(e){13===e.tag&&(fu(e,3),nc(e,3))},yt=function(e){if(13===e.tag){var t=cu();fu(e,t=lu(t,e,null)),nc(e,t)}},O=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jn(r);if(!i)throw Error(o(90));ke(r),Te(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},M=gu,D=function(e,t,n,r,i){var a=Zs;Zs|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{(Zs=a)===As&&Qi()}},j=function(){(Zs&(1|Rs|Ns))===As&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e,t){Ju(t,e),hu(t)})),Qi()}}(),Nu())},L=function(e,t){var n=Zs;Zs|=2;try{return e(t)}finally{(Zs=n)===As&&Qi()}};var sc={Events:[Mn,Dn,jn,C,_,zn,function(e){at(e,Vn)},N,P,Jt,ut,Nu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Zu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Pn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Zs&(Rs|Ns))!==As)throw Error(o(187));var n=Zs;Zs|=1;try{return Ki(99,e.bind(null,t))}finally{Zs=n,Qi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(yu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Nn]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="16.14.0"},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,d=60115,p=60116,h=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),p=b("react.lazy"),h=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case p:case d:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===g||e===a||e===l||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===h||e[0]===v)},t.typeOf=x},57441:function(e,t,n){"use strict";e.exports=n(11372)},73381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},53813:function(e,t,n){var r=n(73381);e.exports=p,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],p=n.index;if(s+=e.slice(o,p),o=p+f.length,d)s+=d[1];else{var h=e[o],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var k=null!=v&&null!=h&&h!==v,w="+"===b||"*"===b,_="?"===b||"*"===b,S=n[2]||l,T=g||y;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:_,repeat:w,partial:k,asterisk:!!x,pattern:T?c(T):x?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(f=u(d[p]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var d=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+d+p+")*"),o+=p=c.optional?c.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var h=u(n.delimiter||"/"),v=o.slice(-h.length)===h;return i||(o=(v?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+h+"|$)",l(new RegExp("^"+o,f(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(a(e,n),t,n)}(e,t,n)}},29195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===f}},28228:function(e,t,n){"use strict";n(29195)},66374:function(e,t,n){"use strict";var r=n(72791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},59117:function(e,t,n){"use strict";var r=n(31725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function k(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=x.prototype;var _=w.prototype=new k;_.constructor=w,r(_,x.prototype),_.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,I=[];function R(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+D(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+D(i=e[u],u);s+=P(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)s+=P(i=i.value,c=t+D(i,u++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function M(e,t,n){return null==e?0:P(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),M(e,L,t=R(t,a,r,i)),N(t)}var Z={current:null};function B(){var e=Z.current;if(null===e)throw Error(g(321));return e}var U={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,j,t=R(null,null,t,n)),N(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(g(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)T.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},72296:function(e,t,n){var r,i=n(20056),a=n(88688),o=n(27711),s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;e.exports=function(e,t){function n(e,a,u){if(r++>100)throw r=0,new Error("Call stack overflow for "+u);if(""===e)throw new Error(a+"(): '"+u+"' must contain a non-whitespace string");e=function(e,t){e=e.replace(/((?:\-[a-z]+\-)?calc)/g,"");var r,a="",o=e;for(;r=s.exec(o);){r[0].index>0&&(a+=o.substring(0,r[0].index));var u=i("(",")",o.substring([0].index));if(""===u.body)throw new Error("'"+e+"' must contain a non-whitespace string");var c=n(u.body,"",t);a+=u.pre+c,o=u.post}return a+o}(e,u);var c=function(e){var t=[],n=[],r=/[\.0-9]([%a-z]+)/gi,i=r.exec(e);for(;i;)i&&i[1]&&(-1===n.indexOf(i[1].toLowerCase())&&(t.push(i[1]),n.push(i[1].toLowerCase())),i=r.exec(e));return t}(e);if(c.length>1||e.indexOf("var(")>-1)return a+"("+e+")";var l=c[0]||"";"%"===l&&(e=e.replace(/\b[0-9\.]+%/g,(function(e){return.01*parseFloat(e.slice(0,-1))})));var f,d=e.replace(new RegExp(l,"gi"),"");try{f=o.eval(d)}catch(p){return a+"("+e+")"}return"%"===l&&(f*=100),(a.length||"%"===l)&&(f=Math.round(f*t)/t),f+=l}return r=0,t=Math.pow(10,void 0===t?5:t),e=e.replace(/\n+/g," "),a(e,/((?:\-[a-z]+\-)?calc)\(/,n)}},20056:function(e){function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var a=r(e,t,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+e.length,a[1]),post:i.slice(a[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,a,o,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){for(r=[],a=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<a&&(a=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[a,o])}return s}e.exports=t,t.range=r},88688:function(e,t,n){var r=n(14249);function i(e,t,n){var a=e;return function(e,t){var n=[],i="string"===typeof t?new RegExp("\\b("+t+")\\("):t;do{var a=i.exec(e);if(!a)return n;if(void 0===a[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+t);var o=a[1],s=a.index,u=r("(",")",e.substring(s));if(!u||u.start!==a[0].length-1)throw new SyntaxError(o+"(): missing closing ')' in the value '"+e+"'");n.push({matches:u,functionIdentifier:o}),e=u.post}while(i.test(e));return n}(e,t).reduce((function(e,r){return e.replace(r.functionIdentifier+"("+r.matches.body+")",function(e,t,n,r,a){return n(i(e,a,n),t,r)}(r.matches.body,r.functionIdentifier,n,a,t))}),e)}e.exports=i},36813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,u=null,c=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var g=!1,y=null,b=-1,x=5,k=0;a=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+x;try{y(!0,e)?_.postMessage(null):(g=!1,y=null)}catch(n){throw _.postMessage(null),n}}else g=!1},n=function(e){y=e,g||(g=!0,_.postMessage(null))},r=function(e,n){b=p((function(){e(t.unstable_now())}),n)},i=function(){h(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],A=[],I=1,R=null,N=3,P=!1,M=!1,D=!1;function j(e){for(var t=T(A);null!==t;){if(null===t.callback)C(A);else{if(!(t.startTime<=e))break;C(A),t.sortIndex=t.expirationTime,S(O,t)}t=T(A)}}function L(e){if(D=!1,j(e),!M)if(null!==T(O))M=!0,n(F);else{var t=T(A);null!==t&&r(L,t.startTime-e)}}function F(e,n){M=!1,D&&(D=!1,i()),P=!0;var o=N;try{for(j(n),R=T(O);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,N=R.priorityLevel;var u=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?R.callback=u:R===T(O)&&C(O),j(n)}else C(O);R=T(O)}if(null!==R)var c=!0;else{var l=T(A);null!==l&&r(L,l.startTime-n),c=!1}return c}finally{R=null,N=o,P=!1}}function Z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||P||(M=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return T(O)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:Z(e)}else o=Z(e),u=s;return e={id:I++,callback:a,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,S(A,e),null===T(O)&&e===T(A)&&(D?i():D=!0,r(L,u-s))):(e.sortIndex=o,S(O,e),M||P||(M=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=T(O);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},96699:function(e,t,n){var r=n(22501),i=n(69112),a=n(92132),o=n(20890),s=n(94113),u=n(91725),c=n(63411);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c},22501:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},91725:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},69112:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},94113:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},20890:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},92132:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},63411:function(e,t,n){var r;!function(i,a,o){var s,u=256,c=o.pow(u,6),l=o.pow(2,52),f=2*l,d=u-1;function p(e,t,n){var r=[],d=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,y(a)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,g(y(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,p),e.state=function(){return v(p,{})}),n?(o.random=e,t):e})(b,d,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=d&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=d&i+1],n=n*u+o[d&(o[i]=o[a=d&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(m(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function g(e,t){for(var n,r=e+"",i=0;i<r.length;)t[d&i]=d&(n^=19*t[d&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(g(o.random(),a),e.exports){e.exports=p;try{s=n(75042)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},16444:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Ue},StyleSheetConsumer:function(){return ae},StyleSheetContext:function(){return ie},StyleSheetManager:function(){return fe},ThemeConsumer:function(){return Pe},ThemeContext:function(){return Ne},ThemeProvider:function(){return Me},__PRIVATE__:function(){return We},createGlobalStyle:function(){return Ze},css:function(){return ke},default:function(){return He},isStyledComponent:function(){return k},keyframes:function(){return Be},useTheme:function(){return ze},version:function(){return _},withTheme:function(){return Ve}});var r=n(57441),i=n(72791),a=n(79613),o=n.n(a);var s=function(e){function t(e,r,u,c,d){for(var p,h,v,m,x,w=0,_=0,S=0,T=0,C=0,N=0,M=v=p=0,j=0,L=0,F=0,Z=0,B=u.length,U=B-1,V="",z="",W="",H="";j<B;){if(h=u.charCodeAt(j),j===U&&0!==_+T+S+w&&(0!==_&&(h=47===_?10:47),T=S=w=0,B++,U++),0===_+T+S+w){if(j===U&&(0<L&&(V=V.replace(f,"")),0<V.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(j)}h=59}switch(h){case 123:for(p=(V=V.trim()).charCodeAt(0),v=1,Z=++j;j<B;){switch(h=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(j+1)){case 42:case 47:e:{for(M=j+1;M<U;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&j+2!==M){j=M+1;break e}break;case 10:if(47===h){j=M+1;break e}}j=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;j++<U&&u.charCodeAt(j)!==h;);}if(0===v)break;j++}if(v=u.substring(Z,j),0===p&&(p=(V=V.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<L&&(V=V.replace(f,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=R}if(Z=(v=t(r,L,v,h,d+1)).length,0<P&&(x=s(3,v,L=n(R,V,F),r,O,E,Z,h,d,c),V=L.join(""),void 0!==x&&0===(Z=(v=x.trim()).length)&&(h=0,v="")),0<Z)switch(h){case 115:V=V.replace(k,o);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(g,"$1 $2"))+"{"+v+"}",v=1===I||2===I&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,V,F),v,c,d+1);W+=v,v=F=L=M=p=0,V="",h=u.charCodeAt(++j);break;case 125:case 59:if(1<(Z=(V=(0<L?V.replace(f,""):V).trim()).length))switch(0===M&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(Z=(V=V.replace(" ",":")).length),0<P&&void 0!==(x=s(1,V,r,e,O,E,z.length,c,d,c))&&0===(Z=(V=x.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),h=V.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){H+=V+u.charAt(j);break}default:58!==V.charCodeAt(Z-1)&&(z+=i(V,p,h,V.charCodeAt(2)))}F=L=M=p=0,V="",h=u.charCodeAt(++j)}}switch(h){case 13:case 10:47===_?_=0:0===1+p&&107!==c&&0<V.length&&(L=1,V+="\0"),0<P*D&&s(0,V,r,e,O,E,z.length,c,d,c),E=1,O++;break;case 59:case 125:if(0===_+T+S+w){E++;break}default:switch(E++,m=u.charAt(j),h){case 9:case 32:if(0===T+w+_)switch(C){case 44:case 58:case 9:case 32:m="";break;default:32!==h&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+_+w&&(L=F=1,m="\f"+m);break;case 108:if(0===T+_+w+A&&0<M)switch(j-M){case 2:112===C&&58===u.charCodeAt(j-3)&&(A=C);case 8:111===N&&(A=N)}break;case 58:0===T+_+w&&(M=j);break;case 44:0===_+S+T+w&&(L=1,m+="\r");break;case 34:case 39:0===_&&(T=T===h?0:0===T?h:T);break;case 91:0===T+_+S&&w++;break;case 93:0===T+_+S&&w--;break;case 41:0===T+_+w&&S--;break;case 40:if(0===T+_+w){if(0===p)if(2*C+3*N===533);else p=1;S++}break;case 64:0===_+S+T+w+M+v&&(v=1);break;case 42:case 47:if(!(0<T+w+S))switch(_){case 0:switch(2*h+3*u.charCodeAt(j+1)){case 235:_=47;break;case 220:Z=j,_=42}break;case 42:47===h&&42===C&&Z+2!==j&&(33===u.charCodeAt(Z+2)&&(z+=u.substring(Z,j+1)),m="",_=0)}}0===_&&(V+=m)}N=C,C=h,j++}if(0<(Z=z.length)){if(L=r,0<P&&(void 0!==(x=s(2,z,L,e,O,E,Z,c,d,c))&&0===(z=x).length))return H+z+W;if(z=L.join(",")+"{"+z+"}",0!==I*A){switch(2!==I||a(z,2)||(A=0),A){case 111:z=z.replace(b,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}A=0}}return H+z+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===I||2===I&&a(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return p.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(x,"tb");break;case 232:u=o.replace(x,"tb-rl");break;case 220:u=o.replace(x,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,d=0,p=t;d<P;++d)switch(f=N[d].call(c,e,p,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!==typeof e?I=1:(I=2,M=e):I=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,O,E,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,a,r,r,O,E,a.length,0,0,0))&&(a=i)),"",A=0,E=O=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,E=1,O=1,A=0,I=1,R=[],N=[],P=0,M=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:P=N.length=0;break;default:if("function"===typeof t)N[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},u={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function c(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=c((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),d=n(62110),p=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},g=Object.freeze([]),y=Object.freeze({});function b(e){return"function"==typeof e}function x(e){return e.displayName||e.name||"Component"}function k(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",_="5.3.10",S="undefined"!=typeof window&&"HTMLElement"in window,T=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY))),C={};function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var O=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&E(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),A=new Map,I=new Map,R=1,N=function(e){if(A.has(e))return A.get(e);for(;I.has(R);)R++;var t=R++;return A.set(e,t),I.set(t,e),t},P=function(e){return I.get(e)},M=function(e,t){t>=R&&(R=t+1),A.set(e,t),I.set(t,e)},D="style["+w+'][data-styled-version="5.3.10"]',j=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},F=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(j);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(M(c,u),L(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},Z=function(){return n.nc},B=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.10");var o=Z();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},U=function(){function e(e){var t=this.element=B(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}E(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),V=function(){function e(e){var t=this.element=B(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),z=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),W=S,H={isServer:!S,useCSSOMInjection:!T},G=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=h({},H,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&S&&W&&(W=!1,function(e){for(var t=document.querySelectorAll(D),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(F(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return N(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(h({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new z(i):r?new U(i):new V(i),new O(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(N(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(N(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(N(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=P(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=w+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),q=/(a)(d)/gi,K=function(e){return String.fromCharCode(e+(e>25?39:97))};function Y(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=K(t%52)+n;return(K(t%52)+n).replace(q,"$1-$2")}var X=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return X(5381,e)};function J(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(b(n)&&!k(n))return!1}return!0}var $=Q("5.3.10"),ee=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&J(e),this.componentId=t,this.baseHash=X($,t),this.baseStyle=n,G.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=be(this.rules,e,t,n).join(""),o=Y(X(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=X(this.baseHash,n.hash),l="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=be(d,e,t,n),h=Array.isArray(p)?p.join(""):p;c=X(c,h+f),l+=h}}if(l){var v=Y(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),te=/^\s*\/\/.*$/gm,ne=[":","[",".","#"];function re(e){var t,n,r,i,a=void 0===e?y:e,o=a.options,u=void 0===o?y:o,c=a.plugins,l=void 0===c?g:c,f=new s(u),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,r,a){return 0===r&&-1!==ne.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,s){void 0===s&&(s="&");var u=e.replace(te,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||E(15),X(e,t.name)}),5381).toString():"",v}var ie=i.createContext(),ae=ie.Consumer,oe=i.createContext(),se=(oe.Consumer,new G),ue=re();function ce(){return(0,i.useContext)(ie)||se}function le(){return(0,i.useContext)(oe)||ue}function fe(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ce(),s=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return re({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ie.Provider,{value:s},i.createElement(oe.Provider,{value:u},e.children))}var de=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ue);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return E(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ue),this.name+e.hash},e}(),pe=/([A-Z])/,he=/([A-Z])/g,ve=/^ms-/,me=function(e){return"-"+e.toLowerCase()};function ge(e){return pe.test(e)?e.replace(he,me).replace(ve,"-ms-"):e}var ye=function(e){return null==e||!1===e||""===e};function be(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=be(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ye(e)?"":k(e)?"."+e.styledComponentId:b(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:be(e(t),t,n,r):e instanceof de?n?(e.inject(n,r),e.getName(r)):e:m(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ye(t[o])&&(Array.isArray(t[o])&&t[o].isCss||b(t[o])?a.push(ge(o)+":",t[o],";"):m(t[o])?a.push.apply(a,e(t[o],o)):a.push(ge(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var c}var xe=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return b(e)||m(e)?xe(be(v(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:xe(be(v(e,n)))}new Set;var we=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},_e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Se=/(^-|-$)/g;function Te(e){return e.replace(_e,"-").replace(Se,"")}var Ce=function(e){return Y(Q(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var Oe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ae=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ie(e,t,n){var r=e[n];Oe(t)&&Oe(r)?Re(r,t):e[n]=t}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Oe(o))for(var s in o)Ae(s)&&Ie(e,o[s],s)}return e}var Ne=i.createContext(),Pe=Ne.Consumer;function Me(e){var t=(0,i.useContext)(Ne),n=(0,i.useMemo)((function(){return function(e,t){return e?b(e)?e(t):Array.isArray(e)||"object"!=typeof e?E(8):t?h({},t,{},e):e:E(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Ne.Provider,{value:n},e.children):null}var De={};function je(e,t,n){var r=k(e),a=!Ee(e),o=t.attrs,s=void 0===o?g:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Te(e);De[n]=(De[n]||0)+1;var r=n+"-"+Ce("5.3.10"+n+De[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,d=void 0===l?function(e){return Ee(e)?"styled."+e:"Styled("+x(e)+")"}(e):l,v=t.displayName&&t.componentId?Te(t.displayName)+"-"+t.componentId:t.componentId||c,m=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,w=t.shouldForwardProp;r&&e.shouldForwardProp&&(w=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var _,S=new ee(n,v,r?e.componentStyle:void 0),T=S.isStatic&&0===s.length,C=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,d=e.target,p=function(e,t,n){void 0===e&&(e=y);var r=h({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in b(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(we(t,(0,i.useContext)(Ne),s)||y,t,a),v=p[0],m=p[1],g=function(e,t,n,r){var i=ce(),a=le();return t?e.generateAndInjectStyles(y,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,v),x=n,k=m.$as||t.$as||m.as||t.as||d,w=Ee(k),_=m!==t?h({},t,{},m):t,S={};for(var T in _)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?S.as=_[T]:(c?c(T,f,k):!w||f(T))&&(S[T]=_[T]));return t.style&&m.style!==t.style&&(S.style=h({},t.style,{},m.style)),S.className=Array.prototype.concat(u,l,g!==l?g:null,t.className,m.className).filter(Boolean).join(" "),S.ref=x,(0,i.createElement)(k,S)}(_,e,t,T)};return C.displayName=d,(_=i.forwardRef(C)).attrs=m,_.componentStyle=S,_.displayName=d,_.shouldForwardProp=w,_.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,_.styledComponentId=v,_.target=r?e.target:e,_.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ee(e)?e:Te(x(e)));return je(e,h({},i,{attrs:m,componentId:a}),n)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Re({},e.defaultProps,t):t}}),Object.defineProperty(_,"toString",{value:function(){return"."+_.styledComponentId}}),a&&p()(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Le=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!(0,r.isValidElementType)(n))return E(1,String(n));var a=function(){return t(n,i,ke.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,h({},i,{},r))},a.attrs=function(r){return e(t,n,h({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(je,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Le[e]=Le(e)}));var Fe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=J(e),G.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(be(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&G.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=ke.apply(void 0,[e].concat(n)),o="sc-global-"+Ce(JSON.stringify(a)),s=new Fe(a,o);function u(e){var t=ce(),n=le(),r=(0,i.useContext)(Ne),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,C,n,i);else{var a=h({},t,{theme:we(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return i.memo(u)}function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ke.apply(void 0,[e].concat(n)).join(""),a=Ce(i);return new de(a,i)}var Ue=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Z();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.10"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?E(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return E(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.10",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=Z();return r&&(n.nonce=r),[i.createElement("style",h({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new G({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?E(2):i.createElement(fe,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return E(3)},e}(),Ve=function(e){var t=i.forwardRef((function(t,n){var r=(0,i.useContext)(Ne),a=e.defaultProps,o=we(t,r,a);return i.createElement(e,h({},t,{theme:o,ref:n}))}));return p()(t,e),t.displayName="WithTheme("+x(e)+")",t},ze=function(){return(0,i.useContext)(Ne)},We={StyleSheet:G,masterSheet:se},He=Le},94774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65084),n(18116),n(33858),n(87264),n(22583),n(58894),n(44584);var r=n(17156),i=n(56690),a=n(89728),o=n(66115),s=n(61655),u=n(94993),c=n(73808),l=n(38416);n(32463),n(65202),n(67675);var f=n(64687),d=n(18698),p=n(75262),h=n(58868),v=n(33496);n(4778),n(68225),n(89104),n(59147);var m=n(62895);n(49258),n(4772),n(85625);var g=n(27424);n(18887),n(45742),n(81740),n(83265),n(20447),n(86245);var y=n(8645);n(54178);var b=n(39364),x=n(41588);n(30974);var k=n(53912);function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var S=w(r),T=w(i),C=w(a),E=w(o),O=w(s),A=w(u),I=w(c),R=w(l),N=w(f),P=w(d),M=w(v),D=_(m),j=w(g),L=_(b),F=w(x),Z=_(k);function B(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":P.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function U(e,t){if("object"===("undefined"===typeof Reflect?"undefined":P.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function V(){}function z(){z.init.call(this)}function W(e){return void 0===e._maxListeners?z.defaultMaxListeners:e._maxListeners}function H(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new V,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=W(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function G(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function q(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function K(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}V.prototype=Object.create(null),z.EventEmitter=z,z.usingDomains=!1,z.prototype.domain=void 0,z.prototype._events=void 0,z.prototype._maxListeners=void 0,z.defaultMaxListeners=10,z.init=function(){this.domain=null,z.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new V,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},z.prototype.getMaxListeners=function(){return W(this)},z.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=K(e,r),a=0;a<r;++a)i[a].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=K(e,i),o=0;o<i;++o)a[o].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=K(e,a),s=0;s<a;++s)o[s].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=K(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=K(e,i),o=0;o<i;++o)a[o].apply(n,r)}(n,l,this,i)}return!0},z.prototype.addListener=function(e,t){return H(this,e,t,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(e,t){return H(this,e,t,!0)},z.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,G(this,e,t)),this},z.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,G(this,e,t)),this},z.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new V:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new V,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},z.prototype.off=function(e,t){return this.removeListener(e,t)},z.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new V,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new V:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new V,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},z.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},z.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):q.call(e,t)},z.prototype.listenerCount=q,z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Y=function(){function e(t){T.default(this,e),this.base=t,this.args=new Array,this.paths=new Array}return C.default(e,[{key:"pathSegment",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"queryParam",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Q=function(e){O.default(n,e);var t=X(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return T.default(this,n),(r=t.call(this)).name=r.constructor.name,r.message="".concat(e," (status: ").concat(i,", code: ").concat(a,")"),r.status=i,r.code=a,r}return n}(M.default(Error)),J=function(e){O.default(n,e);var t=X(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;return T.default(this,n),(r=t.call(this,e,i,a)).body=o,r}return n}(Q);function $(e){return JSON.parse(JSON.stringify(e))}function ee(e){if(!(void 0===e||te(e)))throw new Q("Invalid pageSize parameter. Expected a positive integer, was '".concat(e,"'."),400,20007)}function te(e){return function(e){return!isNaN(parseInt(e))&&isFinite(e)}(e)&&e>0}var ne=D.getLogger("twilio-sync");function re(e,t){return["".concat((new Date).toISOString()," Sync ").concat(e,":")].concat(Array.from(t))}var ie=function(e){ne.setLevel(e)},ae=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ne.trace.apply(null,re("T",t))},oe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ne.debug.apply(null,re("D",t))},se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ne.warn.apply(null,re("W",t))},ue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ne.error.apply(null,re("E",t))};var ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T.default(this,e);var n,r,i,a=t.region||"us1",o="https://cds.".concat(a,".twilio.com"),s=t.cdsUri||o;this.settings={subscriptionsUri:s+"/v4/Subscriptions",documentsUri:s+"/v3/Documents",listsUri:s+"/v3/Lists",mapsUri:s+"/v3/Maps",streamsUri:s+"/v3/Streams",insightsUri:s+"/v3/Insights",sessionStorageEnabled:(n=t.Sync,r="enableSessionStorage",i=!0,n&&"undefined"!==typeof n[r]?n[r]:i),productId:t.productId}}return C.default(e,[{key:"subscriptionsUri",get:function(){return this.settings.subscriptionsUri}},{key:"documentsUri",get:function(){return this.settings.documentsUri}},{key:"listsUri",get:function(){return this.settings.listsUri}},{key:"mapsUri",get:function(){return this.settings.mapsUri}},{key:"streamsUri",get:function(){return this.settings.streamsUri}},{key:"insightsUri",get:function(){return this.settings.insightsUri}},{key:"backoffConfig",get:function(){return this.settings.backoffConfig||{}}},{key:"sessionStorageEnabled",get:function(){return this.settings.sessionStorageEnabled}},{key:"productId",get:function(){return this.settings.productId}}]),e}();function le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=function(){function e(t){T.default(this,e),this.localObject=t,this.pendingCorrelationId=null,this.pendingAction=null,this.established=!1,this.retryCount=0}return C.default(e,[{key:"sid",get:function(){return this.localObject.sid}},{key:"type",get:function(){return this.localObject.type}},{key:"lastEventId",get:function(){return this.localObject.lastEventId}},{key:"indexName",get:function(){return this.localObject.indexName}},{key:"queryString",get:function(){return this.localObject.queryString}},{key:"isEstablished",get:function(){return this.established}},{key:"update",value:function(e,t){this.localObject._update(e,t)}},{key:"updatePending",value:function(e,t){this.pendingAction=e,this.pendingCorrelationId=t}},{key:"reset",value:function(){this.updatePending(null,null),this.retryCount=0,this.established=!1,this.setSubscriptionState("none")}},{key:"markAsFailed",value:function(e){this.rejectedWithError=e.error,this.updatePending(null,null),this.localObject.reportFailure(new Q("Failed to subscribe on service events: ".concat(e.error.message),e.error.status,e.error.code))}},{key:"complete",value:function(e){this.updatePending(null,null),this.established=!0,this.localObject._advanceLastEventId(e)}},{key:"setSubscriptionState",value:function(e){this.localObject._setSubscriptionState(e)}}]),e}(),pe=function(){function e(t){var n=this;T.default(this,e),R.default(this,"isConnected",!1),R.default(this,"maxBatchSize",100),R.default(this,"subscriptionTtlTimer",null),R.default(this,"pendingPokeReason",null),this.services=t,this.subscriptions=new Map,this.persisted=new Map,this.latestPokeResponseArrivalTimestampByCorrelationId=new Map;this.backoff=y.Backoff.exponential(Object.assign({randomisationFactor:.2,initialDelay:100,maxDelay:12e4},this.services.config.backoffConfig)),this.backoff.on("ready",(function(){var e=n.getSubscriptionUpdateBatch(),t=e.action,r=e.subscriptions;t?n.applyNewSubscriptionUpdateBatch(t,r):(n.backoff.reset(),oe("All subscriptions resolved."))}))}return C.default(e,[{key:"getSubscriptionUpdateBatch",value:function(){function e(e,t,n,r){var i,a=[],o=le(e);try{for(o.s();!(i=o.n()).done;){var s=j.default(i.value,2),u=s[0],c=s[1];if(!t.get(u)&&n!==c.pendingAction&&!c.rejectedWithError&&(a.push(c),r&&a.length>=r))break}}catch(l){o.e(l)}finally{o.f()}return a}var t=e(this.subscriptions,this.persisted,"establish",this.maxBatchSize);if(t.length>0)return{action:"establish",subscriptions:t};var n=e(this.persisted,this.subscriptions,"cancel",this.maxBatchSize);return n.length>0?{action:"cancel",subscriptions:n}:{action:null,subscriptions:null}}},{key:"persist",value:function(){this.backoff.backoff()}},{key:"applyNewSubscriptionUpdateBatch",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p,v,m,g,y=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected){e.next=4;break}return oe("Twilsock connection (required for subscription) not ready; waiting\u2026"),this.backoff.reset(),e.abrupt("return");case 4:n=this.processLocalActions(t,n),r=(new Date).getTime(),i=le(n);try{for(i.s();!(a=i.n()).done;)o=a.value,this.recordActionAttemptOn(o,t,r)}catch(b){i.e(b)}finally{i.f()}return s=this.pendingPokeReason,this.pendingPokeReason=null,e.prev=10,e.next=13,this.request(t,r,s,n);case 13:u=e.sent,c=u.body.max_batch_size,!isNaN(parseInt(c))&&isFinite(c)&&c>0&&(this.maxBatchSize=c),this.subscriptionTtlTimer||(l=u.body.ttl_in_s,f=!isNaN(parseFloat(l))&&isFinite(l),f&&l>0&&(this.subscriptionTtlTimer=setTimeout((function(){return y.onSubscriptionTtlElapsed()}),1e3*l))),"establish"===t&&(d=u.body.estimated_delivery_in_ms,p=!isNaN(parseFloat(d))&&isFinite(d),p&&d>0?setTimeout((function(){return y.verifyPokeDelivery(r,d,n)}),d):ue("Invalid timeout: ".concat(d)),n.filter((function(e){return e.pendingCorrelationId===r})).forEach((function(e){return e.setSubscriptionState("response_in_flight")}))),this.backoff.reset(),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(10),v=le(n);try{for(v.s();!(m=v.n()).done;)g=m.value,this.recordActionFailureOn(g,t)}catch(b){v.e(b)}finally{v.f()}e.t0 instanceof h.TransportUnavailableError?(oe("Twilsock connection (required for subscription) not ready (c:".concat(r,"); waiting\u2026")),this.backoff.reset()):(oe("Failed an attempt to ".concat(t," subscriptions (c:").concat(r,"); retrying"),e.t0),this.persist());case 26:case"end":return e.stop()}}),e,this,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verifyPokeDelivery",value:function(e,t,n){var r=this,i=this.latestPokeResponseArrivalTimestampByCorrelationId.get(e),a=i?(new Date).getTime()-i:t;a>=t?(n.filter((function(t){return t.pendingCorrelationId===e})).forEach((function(e){e.updatePending(null,null),e.retryCount++,r.persisted.delete(e.sid)})),this.persist(),this.latestPokeResponseArrivalTimestampByCorrelationId.delete(e)):setTimeout((function(){return r.verifyPokeDelivery(e,t,n)}),t-a)}},{key:"processLocalActions",value:function(e,t){return"cancel"===e?t.filter((function(e){return!e.rejectedWithError})):t}},{key:"recordActionAttemptOn",value:function(e,t,n){if(e.setSubscriptionState("request_in_flight"),"establish"===t)this.persisted.set(e.sid,e),e.updatePending(t,n);else{var r=this.persisted.get(e.sid);r&&r.updatePending(t,n)}}},{key:"recordActionFailureOn",value:function(e,t){e.setSubscriptionState("none"),e.updatePending(null,null),"establish"===t&&this.persisted.delete(e.sid)}},{key:"request",value:function(e,t,n,r){var i=r.map((function(t){return{object_sid:t.sid,object_type:t.type,last_event_id:"establish"===e?t.lastEventId:void 0,index_name:"establish"===e?t.indexName:void 0,query_string:"establish"===e?t.queryString:void 0}})),a=r.filter((function(e){return e.retryCount>0})).length;oe("Attempting '".concat(e,"' request (c:").concat(t,"):"),i);var o={event_protocol_version:4,action:e,correlation_id:t,retried_requests:a,ttl_in_s:-1,requests:i};return"ttl"===n&&(o.reason=n),this.services.network.post(this.services.config.subscriptionsUri,o)}},{key:"add",value:function(e,t){oe("Establishing intent to subscribe to ".concat(e));var n=this.subscriptions.get(e);n&&t&&n.lastEventId===t.lastEventId||(this.persisted.delete(e),this.subscriptions.set(e,new de(t)),this.persist())}},{key:"remove",value:function(e){oe("Establishing intent to unsubscribe from ".concat(e)),this.subscriptions.delete(e)&&this.persist()}},{key:"acceptMessage",value:function(e,t){ae("Subscriptions received",e);var n=e.event_type,r="undefined"!==typeof e.events?e.events:[e.event],i=e.correlation_id;i&&this.latestPokeResponseArrivalTimestampByCorrelationId.set(i,(new Date).getTime());var a,o=le(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=void 0;switch(e.event_type){case"subscription_established":this.applySubscriptionEstablishedMessage(s,i);break;case"subscription_canceled":this.applySubscriptionCancelledMessage(s,i);break;case"subscription_failed":this.applySubscriptionFailedMessage(s,i);break;case(u=n.match(/^(?:map|list|document|stream|live_query)_/)||{}).input:var c=void 0;switch(u[0]){case"map_":c=s.map_sid;break;case"list_":c=s.list_sid;break;case"document_":c=s.document_sid;break;case"stream_":c=s.stream_sid;break;case"live_query_":c=s.query_id,t=!1,!0===e.strictly_ordered&&(t=!0);break;default:c=void 0}this.applyEventToSubscribedEntity(c,s,n,t);break;default:oe("Dropping unknown message type ".concat(n))}}}catch(l){o.e(l)}finally{o.f()}}},{key:"applySubscriptionEstablishedMessage",value:function(e,t){var n=e.object_sid,r=this.persisted.get(e.object_sid);r&&r.pendingCorrelationId===t?"interrupted"===e.replay_status?(oe("Event Replay for subscription to ".concat(n," (c:").concat(t,") interrupted; continuing eagerly.")),r.updatePending(null,null),this.persisted.delete(r.sid),this.backoff.reset()):"completed"===e.replay_status&&(oe("Event Replay for subscription to ".concat(n," (c:").concat(t,") completed. Subscription is ready.")),r.complete(e.last_event_id),this.persisted.set(e.object_sid,r),r.setSubscriptionState("established"),this.backoff.reset()):oe("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionCancelledMessage",value:function(e,t){var n=this.persisted.get(e.object_sid);n&&n.pendingCorrelationId===t?(n.updatePending(null,null),n.setSubscriptionState("none"),this.persisted.delete(e.object_sid)):oe("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionFailedMessage",value:function(e,t){var n=e.object_sid,r=this.subscriptions.get(n),i=this.persisted.get(n);r&&i?i.pendingCorrelationId===t&&(ue("Failed to subscribe on ".concat(i.sid),e.error),i.markAsFailed(e),i.setSubscriptionState("none")):!r&&i&&(this.persisted.delete(n),i.setSubscriptionState("none")),this.persist()}},{key:"applyEventToSubscribedEntity",value:function(e,t,n,r){var i=this;if(e){r=r||function(){var t=i.persisted.get(e);return t&&t.isEstablished}();var a=this.subscriptions.get(e);a?(t.type=n,a.update(t,r)):oe("Message dropped for SID '".concat(e,"', for which there is no subscription."))}}},{key:"onConnectionStateChanged",value:function(e){this.isConnected=e,e&&this.poke("reconnect")}},{key:"onSubscriptionTtlElapsed",value:function(){this.isConnected&&this.poke("ttl")}},{key:"poke",value:function(e){oe("Triggering event replay for all subscriptions, reason=".concat(e)),this.pendingPokeReason=e,this.subscriptionTtlTimer&&(clearTimeout(this.subscriptionTtlTimer),this.subscriptionTtlTimer=null);var t,n=[],r=le(this.persisted.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.reset(),i.rejectedWithError&&n.push(i)}}catch(u){r.e(u)}finally{r.f()}this.persisted.clear();for(var a=0,o=n;a<o.length;a++){var s=o[a];this.persisted.set(s.sid,s)}this.persist()}},{key:"shutdown",value:function(){this.backoff.reset(),this.subscriptions.clear()}}]),e}();function he(e){if(e.body&&e.body.message)return e.body.message;switch(e.status){case 429:return"Throttled by server";case 404:return"Not found from server";default:return"Error from server"}}function ve(e){return e.body?e.body.code:0}function me(e){return 409===e.status?new J(he(e),e.status,ve(e),e.body):e.status?new Q(he(e),e.status,ve(e)):e instanceof h.TransportUnavailableError?e:new Q(e.message,0,0)}var ge=function(){function e(t,n,r){T.default(this,e),this.clientInfo=t,this.config=n,this.transport=r}return C.default(e,[{key:"createHeaders",value:function(){return{"Content-Type":"application/json","Twilio-Sync-Client-Info":JSON.stringify(this.clientInfo),"Twilio-Request-Id":"RQ"+L.v4().replace(/-/g,"")}}},{key:"backoffConfig",value:function(){return Object.assign({min:4e3,max:6e4,maxAttemptsTime:9e4,randomness:.2},this.config.backoffConfig)}},{key:"executeWithRetry",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r,i){var a=[502,503,504];n&&a.push(429);var o=new y.Retrier(t.backoffConfig());o.on("attempt",(function(){e().then((function(e){return o.succeeded(e)})).catch((function(e){if(a.includes(e.status)){var t=parseInt(e.headers?e.headers["Retry-After"]:null);o.failed(me(e),isNaN(t)?null:1e3*t)}else"Twilsock disconnected"===e.message?o.failed(me(e)):(o.removeAllListeners(),o.cancel(),i(me(e)))}))})),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(me(e))})),o.on("failed",(function(e){return i(me(e))})),o.start()}))}},{key:"get",value:function(e){var t=this,n=this.createHeaders();return oe("GET",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry((function(){return t.transport.get(e,n,t.config.productId)}),!0)}},{key:"post",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(a["If-Match"]=n),oe("POST",e,"ID:",a["Twilio-Request-Id"]),this.executeWithRetry((function(){return r.transport.post(e,a,t,r.config.productId)}),i)}},{key:"put",value:function(e,t,n){var r=this,i=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(i["If-Match"]=n),oe("PUT",e,"ID:",i["Twilio-Request-Id"]),this.executeWithRetry((function(){return r.transport.put(e,i,t,r.config.productId)}),!1)}},{key:"delete",value:function(e){var t=this,n=this.createHeaders();return oe("DELETE",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry((function(){return t.transport.delete(e,n,t.config.productId)}),!1)}}]),e}(),ye=function(){function e(t,n){T.default(this,e),this.config=t,this.storageId=null;try{this.storage=n||sessionStorage}catch(r){}}return C.default(e,[{key:"storageKey",value:function(e,t){return"".concat(this.storageId,"::").concat(e,"::").concat(t)}},{key:"isReady",get:function(){return this.config.sessionStorageEnabled&&!!this.storageId}},{key:"updateStorageId",value:function(e){this.storageId=e}},{key:"store",value:function(e,t,n){return this.isReady?this._store(this.storageKey(e,t),n):null}},{key:"read",value:function(e,t){return this.isReady?this._read(this.storageKey(e,t)):null}},{key:"remove",value:function(e,t,n){if(!this.isReady)return null;try{this.storage.removeItem(this.storageKey(e,t)),n&&this.storage.removeItem(this.storageKey(e,n))}catch(r){}}},{key:"update",value:function(e,t,n,r){if(!this.isReady)return null;this._apply(this.storageKey(e,t),r),n&&this._apply(this.storageKey(e,n),r)}},{key:"_store",value:function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(n){}}},{key:"_read",value:function(e){try{var t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(n){}return null}},{key:"_apply",value:function(e,t){var n=this._read(e);if(!n)return!1;this._store(e,Object.assign(n,t))}}]),e}();function be(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=function(){function e(t,n){T.default(this,e),this.services=t,this.removalHandler=n,this.subscriptionState="none",this._attachedListeners=new Map}return C.default(e,[{key:"_advanceLastEventId",value:function(e,t){}},{key:"reportFailure",value:function(e){404===e.status?this.onRemoved(!1):this.broadcastEventToListeners("failure",e)}},{key:"_subscribe",value:function(){this.services.router._subscribe(this.sid,this)}},{key:"_unsubscribe",value:function(){this.services.router._unsubscribe(this.sid)}},{key:"_setSubscriptionState",value:function(e){this.subscriptionState=e,this.broadcastEventToListeners("_subscriptionStateChanged",e)}},{key:"close",value:function(){this._unsubscribe(),null!=this.removalHandler&&this.removalHandler(this.type,this.sid,this.uniqueName)}},{key:"attach",value:function(e){var t=e.listenerUuid;this._attachedListeners.get(t)||(this._attachedListeners.size||this._subscribe(),this._attachedListeners.set(t,e))}},{key:"detach",value:function(e){this._attachedListeners.delete(e),this._attachedListeners.size||this.close()}},{key:"broadcastEventToListeners",value:function(e,t){var n,r=be(this._attachedListeners.values());try{for(r.s();!(n=r.n()).done;){n.value.emit(e,t)}}catch(i){r.e(i)}finally{r.f()}}}]),e}(),we=function(){function e(t){T.default(this,e),R.default(this,"queuedRequests",[]),R.default(this,"isRequestInFlight",!1),this.inputMergingFunction=t}return C.default(e,[{key:"add",value:function(e,t){var n=this,r=new Promise((function(r,i){return n.queuedRequests.push({input:e,requestFunction:t,resolve:r,reject:i})}));return this.wakeupQueue(),r}},{key:"squashAndAdd",value:function(e,t){var n,r=this.queuedRequests;this.queuedRequests=[],r.length>0?(n=r.map((function(e){return e.input})).reduce(this.inputMergingFunction),n=this.inputMergingFunction(n,e)):n=e;var i=this.add(n,t);return r.forEach((function(e){return i.then(e.resolve,e.reject)})),i}},{key:"isEmpty",value:function(){return 0===this.queuedRequests.length&&!this.isRequestInFlight}},{key:"wakeupQueue",value:function(){var e=this;if(0!==this.queuedRequests.length&&!this.isRequestInFlight){var t=this.queuedRequests.shift();this.isRequestInFlight=!0,t.requestFunction(t.input).then(t.resolve,t.reject).then((function(t){e.isRequestInFlight=!1,e.wakeupQueue()}))}}}]),e}(),_e=function(){function e(t){T.default(this,e),R.default(this,"queueByNamespaceKey",new Map),this.inputReducer=t}return C.default(e,[{key:"add",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,(function(e){return e.add(n,r)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"squashAndAdd",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,(function(e){return e.squashAndAdd(n,r)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"invokeQueueMethod",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.queueByNamespaceKey.has(t)||this.queueByNamespaceKey.set(t,new we(this.inputReducer)),r=this.queueByNamespaceKey.get(t),i=n(r),this.queueByNamespaceKey.get(t).isEmpty()&&this.queueByNamespaceKey.delete(t),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Te=function(e){O.default(n,e);var t=Se(n);function n(){var e;return T.default(this,n),(e=t.call(this)).closed=!1,e.uuid=b.v4(),e}return C.default(n,[{key:"listenerUuid",get:function(){return this.uuid}},{key:"close",value:function(){this.removeAllListeners(),this.closed=!0}},{key:"ensureNotClosed",value:function(){if(this.closed)throw new Error("Invalid operation on closed object")}}]),n}(z);function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ee=function(e){O.default(n,e);var t=Ce(n);function n(e,r,i){var a;T.default(this,n),a=t.call(this,e,i),R.default(E.default(a),"isDeleted",!1);return a.updateMergingQueue=new we((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.descriptor=r,a.descriptor.data=a.descriptor.data||{},a.descriptor.date_updated=new Date(a.descriptor.date_updated),a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"document"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"data",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"_update",value:function(e){switch(e.date_created=new Date(e.date_created),e.type){case"document_updated":if(e.id<=this.lastEventId){ae("Document update skipped, current:",this.lastEventId,", remote:",e.id);break}var t=void 0!==this.descriptor.data?$(this.descriptor.data):null;this.descriptor.last_event_id=e.id,this.descriptor.revision=e.document_revision,this.descriptor.date_updated=e.date_created,this.descriptor.data=e.document_data,this.broadcastEventToListeners("updated",{data:e.document_data,isLocal:!1,previousData:t}),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.id,revision:e.document_revision,date_updated:e.date_created,data:e.document_data});break;case"document_removed":this.onRemoved(!1)}}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(r,(function(e){return i._setUnconditionally(t,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},e.abrupt("return",this.updateMergingQueue.add(r,(function(e){return i._setWithIfMatch(t,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate((function(e){return Object.assign(e,t)}),n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({ttl:t});case 2:n=e.sent,this.descriptor.date_expires=n.date_expires;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({data:t,revision:void 0,ttl:n});case 2:return r=e.sent,this._handleSuccessfulUpdateResult(r),e.abrupt("return",this.descriptor.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t($(this.descriptor.data)))){e.next=22;break}return i=this.revision,e.prev=3,e.next=6,this._postUpdateToServer({data:r,revision:i,ttl:n});case 6:return a=e.sent,this._handleSuccessfulUpdateResult(a),e.abrupt("return",this.descriptor.data);case 11:if(e.prev=11,e.t0=e.catch(3),412!==e.t0.status){e.next=19;break}return e.next=16,this._softSync();case 16:return e.abrupt("return",this._setWithIfMatch(t));case 19:throw e.t0;case 20:e.next=23;break;case 22:return e.abrupt("return",this.descriptor.data);case 23:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_handleSuccessfulUpdateResult",value:function(e){if(!(e.last_event_id<=this.descriptor.last_event_id)){var t=void 0!==this.descriptor.data?$(this.descriptor.data):null;this.descriptor.revision=e.revision,this.descriptor.data=e.data,this.descriptor.last_event_id=e.last_event_id,this.descriptor.date_expires=e.date_expires,this.descriptor.date_updated=new Date(e.date_updated),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.last_event_id,revision:e.revision,date_updated:e.date_updated,data:e.data}),this.broadcastEventToListeners("updated",{data:this.descriptor.data,isLocal:!0,previousData:t})}}},{key:"_postUpdateToServer",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=17;break}return n={data:t.data},void 0!==t.ttl&&(n.ttl=t.ttl),r=t.revision,e.prev=4,e.next=7,this.services.network.post(this.uri,n,r);case 7:return i=e.sent,e.abrupt("return",{revision:i.body.revision,data:t.data,last_event_id:i.body.last_event_id,date_updated:i.body.date_updated,date_expires:i.body.date_expires});case 11:throw e.prev=11,e.t0=e.catch(4),404===e.t0.status&&this.onRemoved(!1),e.t0;case 15:e.next=18;break;case 17:return e.abrupt("return",Promise.reject(new Q("The Document has been removed",404,54100)));case 18:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_softSync",value:function(){var e=S.default(N.default.mark((function e(){var t=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.network.get(this.uri).then((function(e){var n={type:"document_updated",id:e.body.last_event_id,document_revision:e.body.revision,document_data:e.body.data,date_created:e.body.date_updated};return t._update(n),t})).catch((function(e){404===e.status?t.onRemoved(!1):ue("Can't get updates for ".concat(t.sid,":"),e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRemoved",value:function(e){if(!this.isDeleted){var t=void 0!==this.descriptor.data?$(this.descriptor.data):null;this.isDeleted=!0,this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e,previousData:t})}}},{key:"removeDocument",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=6;break}return e.next=3,this.services.network.delete(this.uri);case 3:this.onRemoved(!0),e.next=7;break;case 6:return e.abrupt("return",Promise.reject(new Q("The Document has been removed",404,54100)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"type",get:function(){return"document"}}]),n}(ke),Oe=function(e){O.default(n,e);var t=Ce(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncDocumentImpl=e,r.syncDocumentImpl.attach(E.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncDocumentImpl.uri}},{key:"revision",get:function(){return this.syncDocumentImpl.revision}},{key:"lastEventId",get:function(){return this.syncDocumentImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncDocumentImpl.dateExpires}},{key:"type",get:function(){return Ee.type}},{key:"sid",get:function(){return this.syncDocumentImpl.sid}},{key:"data",get:function(){return this.syncDocumentImpl.data}},{key:"dateUpdated",get:function(){return this.syncDocumentImpl.dateUpdated}},{key:"uniqueName",get:function(){return this.syncDocumentImpl.uniqueName}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.set(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.mutate(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.update(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDocument",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.removeDocument());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncDocumentImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return Ee.type}}]),n}(Te);R.default(Oe,"removed","removed"),R.default(Oe,"updated","updated"),B([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object,Object]),U("design:returntype",Promise)],Oe.prototype,"set",null),B([p.validateTypesAsync("function",["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Function,Object]),U("design:returntype",Promise)],Oe.prototype,"mutate",null),B([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object,Object]),U("design:returntype",Promise)],Oe.prototype,"update",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Oe.prototype,"setTtl",null);var Ae=function(){function e(t){T.default(this,e),this.descriptor=t}return C.default(e,[{key:"uri",get:function(){return this.descriptor.uri}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.lastEventId}},{key:"dateUpdated",get:function(){return this.descriptor.dateUpdated}},{key:"dateExpires",get:function(){return this.descriptor.dateExpires}},{key:"index",get:function(){return this.descriptor.index}},{key:"data",get:function(){return this.descriptor.data}},{key:"update",value:function(e,t,n,r){return this.descriptor.lastEventId=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.dateUpdated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.dateExpires=e}}]),e}(),Ie=function(){function e(t,n,r,i){T.default(this,e),this.prevToken=r,this.nextToken=i,this.items=t,this.source=n}return C.default(e,[{key:"hasNextPage",get:function(){return!!this.nextToken}},{key:"hasPrevPage",get:function(){return!!this.prevToken}},{key:"nextPage",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasNextPage){e.next=2;break}throw new Error("No next page");case 2:return e.abrupt("return",this.source(this.nextToken));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"prevPage",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPrevPage){e.next=2;break}throw new Error("No previous page");case 2:return e.abrupt("return",this.source(this.prevToken));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=function(){function e(t,n){T.default(this,e),this.balanceFactor=0,this.key=t,this.value=n,this.parent=null,this.left=null,this.right=null}return C.default(e,[{key:"isRoot",get:function(){return null===this.parent}},{key:"isLeaf",get:function(){return null===this.left&&null===this.right}},{key:"isLeftChild",get:function(){return this.parent.left===this}},{key:"update",value:function(e){this.value=e}},{key:"replace",value:function(e,t){e&&(this.left===t?this.left=t:this.right===t&&(this.right=t))}}]),e}(),Me=function(){function e(t,n){T.default(this,e),this.isLessThan=t||function(e,t){return e<t},this.isEqual=n||function(e,t){return e===t},this.root=null,this.count=null}return C.default(e,[{key:"size",get:function(){return this.count}},{key:"clear",value:function(){this.root=null,this.count=0}},{key:"set",value:function(e,t){var n=this.getNode(e);n?n.update(t):this.insert(e,t)}},{key:"insert",value:function(e,t){var n=new Pe(e,t);if(this.count++,this.root){for(var r=this.root;;)if(this.isLessThan(e,r.key)){if(!r.left){r.left=n;break}r=r.left}else{if(!r.right){r.right=n;break}r=r.right}for(n.parent=r,r=n;r.parent;){var i=r.parent,a=i.balanceFactor;if(r.isLeftChild?i.balanceFactor++:i.balanceFactor--,Math.abs(i.balanceFactor)<Math.abs(a))break;if(i.balanceFactor<-1||i.balanceFactor>1){this.rebalance(i);break}r=i}}else this.root=n}},{key:"get",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t.value;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"delete",value:function(e){var t=this.getNode(e);if(!t||t.key!==e)return null;var n=t.parent,r=t.left,i=t.right;if(!!r!==!!i){var a=r||i;n||a?n&&!a?this.root=a:(n.replace(t,null),this.rebalance(n)):this.root=null}else{for(var o=t.left;o.right;)o=o.right;if(t.left===o)t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.balanceFactor=t.balanceFactor,t={parent:o,isLeftChild:!0};else{var s=o.parent,u=o.left;s.right=u,u&&(u.parent=s),t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.left=t.left,o.left.parent=o,o.balanceFactor=t.balanceFactor,t={parent:s,isLeftChild:!1}}}for(this.count--;t.parent;){var c=t.parent,l=c.balanceFactor;if(t.isLeftChild?c.balanceFactor-=1:c.balanceFactor+=1,Math.abs(c.balanceFactor)>Math.abs(l)){if(!(c.balanceFactor<-1||c.balanceFactor>1))break;if(this.rebalance(c),0!==c.parent.balanceFactor)break;t=c.parent}else t=c}return null}},{key:"getNode",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"rebalance",value:function(e){e.balanceFactor<0?e.right.balanceFactor>0?(this.rotateRight(e.right),this.rotateLeft(e)):this.rotateLeft(e):e.balanceFactor>0&&(e.left.balanceFactor<0?(this.rotateLeft(e.left),this.rotateRight(e)):this.rotateRight(e))}},{key:"rotateLeft",value:function(e){var t=e.right;e.right=t.left,null!==t.left&&(t.left.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.left=e,e.parent=t,e.balanceFactor=e.balanceFactor+1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor+1-Math.max(e.balanceFactor,0)}},{key:"rotateRight",value:function(e){var t=e.left;e.left=t.right,null!==t.right&&(t.right.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.right=e,e.parent=t,e.balanceFactor=e.balanceFactor-1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor-1-Math.max(e.balanceFactor,0)}},{key:Symbol.iterator,value:N.default.mark((function e(){var t,n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Re(this.getIterator()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getIterator",value:N.default.mark((function e(){var t,n,r,i=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(!this.isEqual(t,n.key)&&(null!==t||n.left)){e.next=5;break}return e.abrupt("break",8);case 5:n=this.isLessThan(t,n.key)||null===t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(!r){e.next=29;break}return e.next=14,[n.key,n.value];case 14:if(r=!1,!n.right){e.next=21;break}for(n=n.right;n.left;)n=n.left;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.left===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.left===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,this)}))},{key:"getReverseIterator",value:N.default.mark((function e(){var t,n,r,i=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(!this.isEqual(t,n.key)&&(null!==t||n.right)){e.next=5;break}return e.abrupt("break",8);case 5:n=this.isLessThan(t,n.key)&&null!==t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(!r){e.next=29;break}return e.next=14,[n.key,n.value];case 14:if(r=!1,!n.left){e.next=21;break}for(n=n.left;n.right;)n=n.right;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.right===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.right===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,this)}))}]),e}();function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=function(){function e(t,n){T.default(this,e),this.value=t,this.revision=n||0}return C.default(e,[{key:"isValid",get:function(){return!0}}]),e}(),Fe=function(){function e(t){T.default(this,e),this.revision=t}return C.default(e,[{key:"isValid",get:function(){return!1}}]),e}(),Ze=function(){function e(){T.default(this,e),this.items=new Me}return C.default(e,[{key:"store",value:function(e,t,n){var r=this.items.get(e);return r&&r.revision>n?r.isValid?r.value:null:(this.items.set(e,new Le(t,n)),t)}},{key:"delete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.items.get(e);(!r||r.revision<t||r&&!0===n)&&this.items.set(e,new Fe(t))}},{key:"isKnown",value:function(e,t){var n=this.items.get(e);return n&&n.revision>=t}},{key:"get",value:function(e){var t=this.items.get(e);return t&&t.isValid?t.value:null}},{key:"has",value:function(e){var t=this.items.get(e);return t&&t.isValid}},{key:"forEach",value:function(e){if(this.items){var t,n=De(this.items);try{for(n.s();!(t=n.n()).done;){var r=j.default(t.value,2),i=r[0],a=r[1];a.isValid&&e(i,a.value)}}catch(o){n.e(o)}finally{n.f()}}}}]),e}();function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ue=function(e){O.default(n,e);var t=Be(n);function n(e,r,i){var a;T.default(this,n);return(a=t.call(this,e,i)).updateMergingQueue=new _e((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.cache=new Ze,a.descriptor=r,a.descriptor.date_updated=new Date(a.descriptor.date_updated),a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"list"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"_addOrUpdateItemOnServer",value:function(){var e=S.default(N.default.mark((function e(t,n,r,i){var a,o;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:n},void 0!==i&&(a.ttl=i),e.next=4,this.services.network.post(t,a,r);case 4:return(o=e.sent).body.data=n,o.body.date_updated=new Date(o.body.date_updated),e.abrupt("return",o.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).ttl,e.next=3,this._addOrUpdateItemOnServer(this.links.items,t,void 0,r);case 3:return i=e.sent,a=Number(i.index),this._handleItemMutated(a,i.url,i.last_event_id,i.revision,t,i.date_updated,i.date_expires,!0,!1),e.abrupt("return",this.cache.get(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,(function(e){return a._updateItemUnconditionally(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_updateItemUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return i=e.sent,e.next=5,this._addOrUpdateItemOnServer(i.uri,n,void 0,r);case 5:return a=e.sent,this._handleItemMutated(t,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_updateItemWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a,o,s;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:if(i=e.sent,!(a=n($(i.data)))){e.next=25;break}return o=i.revision,e.prev=6,e.next=9,this._addOrUpdateItemOnServer(i.uri,a,o,r);case 9:return s=e.sent,this._handleItemMutated(t,s.url,s.last_event_id,s.revision,s.data,s.date_updated,s.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 14:if(e.prev=14,e.t0=e.catch(6),412!==e.t0.status){e.next=22;break}return e.next=19,this._getItemFromServer(t);case 19:return e.abrupt("return",this._updateItemWithIfMatch(t,n,r));case 22:throw e.t0;case 23:e.next=26;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.add(t,i,(function(e){return a._updateItemWithIfMatch(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,(function(e){return Object.assign(e,n)}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,r=$(n.data),e.next=6,this.services.network.delete(n.uri);case 6:i=e.sent,this._handleItemRemoved(t,i.body.last_event_id,r,new Date(i.body.date_updated),!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",this._getItemFromServer(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemFromServer",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({index:t});case 2:if(!((n=e.sent).items.length<1)){e.next=7;break}throw new Q("No item with index ".concat(t," found"),404,54151);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryItems",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new Y(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Index",t.index).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map((function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.index)?o._handleItemMutated(e.index,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(Number(e.index),new Ae({index:Number(e.index),uri:e.url,revision:e.revision,lastEventId:e.last_event_id,dateUpdated:e.date_updated,dateExpires:e.date_expires,data:e.data}),e.last_event_id),o.cache.get(e.index)})),a=r.body.meta,e.abrupt("return",new Ie(i,(function(e){return o.queryItems({pageToken:e})}),a.previous_token,a.next_token));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee((t=t||{}).pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=S.default(N.default.mark((function e(){var t;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,this.services.network.get(this.links.context);case 3:t=e.sent,this._updateContextIfRequired(t.body.data,t.body.last_event_id);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,i={ttl:n},e.next=6,this.services.network.post(r.uri,i);case 6:a=e.sent,r.updateDateExpires(a.body.date_expires);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeList",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){var n=Number(e.item_index);switch(e.date_created=new Date(e.date_created),e.type){case"list_item_added":case"list_item_updated":this._handleItemMutated(n,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"list_item_added"===e.type,!0);break;case"list_item_removed":this._handleItemRemoved(n,e.id,e.item_data,e.date_created,!0);break;case"list_context_updated":this._handleContextUpdate(e.context_data,e.id,e.date_created);break;case"list_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.list_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))ae("Item ".concat(e," update skipped, current: ").concat(this.lastEventId,", remote: ").concat(n));else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(!c){var l=new Ae({index:e,uri:t,lastEventId:n,revision:r,data:i,dateUpdated:a,dateExpires:o});return this.cache.store(e,l,n),void this.emitItemMutationEvent(l,u,s)}var f=$(c.data);c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1,f)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?"itemAdded":"itemUpdated",a={item:e,isLocal:!t};n||(a.previousItemData=r),this.broadcastEventToListeners(i,a)}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{index:e,isLocal:!i,previousItemData:n})}},{key:"_handleContextUpdate",value:function(e,t,n){this._updateRootDateUpdated(n),this._updateContextIfRequired(e,t)&&this.broadcastEventToListeners("contextUpdated",{context:e,isLocal:!1})}},{key:"_updateContextIfRequired",value:function(e,t){return!this.contextEventId||t>this.contextEventId?(this.context=e,this.contextEventId=t,!0):(ae("Context update skipped, current:",this.lastEventId,", remote:",t),!1)}}],[{key:"type",get:function(){return"list"}}]),n}(ke),Ve=function(e){O.default(n,e);var t=Be(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncListImpl=e,r.syncListImpl.attach(E.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncListImpl.uri}},{key:"revision",get:function(){return this.syncListImpl.revision}},{key:"lastEventId",get:function(){return this.syncListImpl.lastEventId}},{key:"links",get:function(){return this.syncListImpl.links}},{key:"dateExpires",get:function(){return this.syncListImpl.dateExpires}},{key:"type",get:function(){return Ue.type}},{key:"sid",get:function(){return this.syncListImpl.sid}},{key:"uniqueName",get:function(){return this.syncListImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncListImpl.dateUpdated}},{key:"push",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.push(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.set(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.mutate(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.update(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.remove(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getContext());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getItems(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeList",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.removeList());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncListImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return Ue.type}}]),n}(Te);R.default(Ve,"itemAdded","itemAdded"),R.default(Ve,"itemUpdated","itemUpdated"),R.default(Ve,"itemRemoved","itemRemoved"),R.default(Ve,"removed","removed"),B([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object,Object]),U("design:returntype",Promise)],Ve.prototype,"push",null),B([p.validateTypesAsync(p.nonNegativeInteger,p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Number,Object,Object]),U("design:returntype",Promise)],Ve.prototype,"set",null),B([p.validateTypesAsync(p.nonNegativeInteger,"function",["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Number,Function,Object]),U("design:returntype",Promise)],Ve.prototype,"mutate",null),B([p.validateTypesAsync(p.nonNegativeInteger,p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Number,Object,Object]),U("design:returntype",Promise)],Ve.prototype,"update",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Ve.prototype,"remove",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Ve.prototype,"get",null),B([p.validateTypesAsync(["undefined",p.objectSchema("query options",{from:[p.nonNegativeInteger,"undefined"],pageSize:[p.custom((function(e){return[te(e),"a positive integer"]})),"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Ve.prototype,"getItems",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Ve.prototype,"setTtl",null),B([p.validateTypesAsync(p.nonNegativeInteger,p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number,Number]),U("design:returntype",Promise)],Ve.prototype,"setItemTtl",null);var ze=function(){function e(t){T.default(this,e),this.descriptor=t}return C.default(e,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"key",get:function(){return this.descriptor.key}},{key:"data",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"update",value:function(e,t,n,r){return this.descriptor.last_event_id=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.date_updated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.date_expires=e}}]),e}();function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var He=function(e){O.default(n,e);var t=We(n);function n(e,r,i){var a;T.default(this,n);return(a=t.call(this,e,i)).updateMergingQueue=new _e((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.cache=new Ze,a.descriptor=r,a.descriptor.date_updated=new Date(a.descriptor.date_updated),r.items&&r.items.forEach((function(e){e.date_updated=new Date(e.date_updated),a.cache.store(e.key,new ze(e),e.last_event_id)})),a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"map"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,(function(e){return a._putItemUnconditionally(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&void 0!==t){e.next=2;break}throw new Q("SyncMapItem key may not be empty",400,54209);case 2:if(!this.cache.has(t)){e.next=6;break}return e.abrupt("return",this.cache.get(t));case 6:return e.abrupt("return",this._getItemFromServer(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemFromServer",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({key:t});case 2:if(!((n=e.sent).items.length<1)){e.next=7;break}throw new Q("The specified Map Item does not exist",404,54201);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.add(t,i,(function(e){return a._putItemWithIfMatch(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,(function(e){return Object.assign(e,n)}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._putItemToServer(t,n,void 0,r);case 2:return i=e.sent,a=i.item,this._handleItemMutated(a.key,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,i.added,!1),e.abrupt("return",this.cache.get(a.key));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a,o,s,u;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t).catch((function(e){if(404===e.status)return new ze({key:t,data:{},last_event_id:-1,revision:"-1",url:null,date_updated:null,date_expires:null});throw e}));case 2:if(i=e.sent,!(a=n($(i.data)))){e.next=26;break}return o=i.revision,e.prev=6,e.next=9,this._putItemToServer(t,a,o,r);case 9:return s=e.sent,u=s.item,this._handleItemMutated(u.key,u.url,u.last_event_id,u.revision,u.data,u.date_updated,u.date_expires,s.added,!1),e.abrupt("return",this.cache.get(u.key));case 15:if(e.prev=15,e.t0=e.catch(6),412!==e.t0.status){e.next=23;break}return e.next=20,this._getItemFromServer(t);case 20:return e.abrupt("return",this._putItemWithIfMatch(t,n,r));case 23:throw e.t0;case 24:e.next=27;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemToServer",value:function(){var e=S.default(N.default.mark((function e(t,n,r,i){var a,o,s,u,c;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Y(this.links.items).pathSegment(t).build(),o={data:n},void 0!==i&&(o.ttl=i),e.prev=3,e.next=6,this.services.network.put(a,o,r);case 6:return s=e.sent,(u=s.body).data=n,u.date_updated=new Date(u.date_updated),c=201===s.status.code,e.abrupt("return",{added:c,item:u});case 14:throw e.prev=14,e.t0=e.catch(3),404===e.t0.status&&this.onRemoved(!1),e.t0;case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,r=$(n.data),e.next=6,this.services.network.delete(n.uri);case 6:i=e.sent,this._handleItemRemoved(t,i.body.last_event_id,r,new Date(i.body.date_updated),!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryItems",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new Y(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Key",t.key).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map((function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.key)?o._handleItemMutated(e.key,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(e.key,new ze(e),e.last_event_id),o.cache.get(e.key)})),a=r.body.meta,e.abrupt("return",new Ie(i,(function(e){return o.queryItems({pageToken:e})}),a.previous_token,a.next_token));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee((t=t||{}).pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){switch(e.date_created=new Date(e.date_created),e.type){case"map_item_added":case"map_item_updated":this._handleItemMutated(e.item_key,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"map_item_added"===e.type,!0);break;case"map_item_removed":this._handleItemRemoved(e.item_key,e.id,e.item_data,e.date_created,!0);break;case"map_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.map_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))ae("SyncMapItem ",e," update skipped, current:",this.lastEventId,", remote:",n);else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(!c){var l=new ze({key:e,url:t,last_event_id:n,revision:r,data:i,date_updated:a,date_expires:o});return this.cache.store(e,l,n),void this.emitItemMutationEvent(l,u,s)}var f=$(c.data);c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1,f)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?"itemAdded":"itemUpdated",a={item:e,isLocal:!t};n||(a.previousItemData=r),this.broadcastEventToListeners(i,a)}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{key:e,isLocal:!i,previousItemData:n})}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,i={ttl:n},e.next=6,this.services.network.post(r.uri,i);case 6:a=e.sent,r.updateDateExpires(a.body.date_expires);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeMap",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"type",get:function(){return"map"}}]),n}(ke),Ge=function(e){O.default(n,e);var t=We(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncMapImpl=e,r.syncMapImpl.attach(E.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncMapImpl.uri}},{key:"links",get:function(){return this.syncMapImpl.links}},{key:"revision",get:function(){return this.syncMapImpl.revision}},{key:"lastEventId",get:function(){return this.syncMapImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncMapImpl.dateExpires}},{key:"type",get:function(){return He.type}},{key:"sid",get:function(){return this.syncMapImpl.sid}},{key:"uniqueName",get:function(){return this.syncMapImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncMapImpl.dateUpdated}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.set(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.mutate(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.update(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.remove(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.getItems(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeMap",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.next=3,this.syncMapImpl.removeMap();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncMapImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return He.type}}]),n}(Te);function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}R.default(Ge,"itemAdded","itemAdded"),R.default(Ge,"itemUpdated","itemUpdated"),R.default(Ge,"itemRemoved","itemRemoved"),R.default(Ge,"removed","removed"),B([p.validateTypesAsync("string",p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[String,Object,Object]),U("design:returntype",Promise)],Ge.prototype,"set",null),B([p.validateTypesAsync("string"),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],Ge.prototype,"get",null),B([p.validateTypesAsync("string","function",["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[String,Function,Object]),U("design:returntype",Promise)],Ge.prototype,"mutate",null),B([p.validateTypesAsync("string",p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[String,Object,Object]),U("design:returntype",Promise)],Ge.prototype,"update",null),B([p.validateTypesAsync("string"),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],Ge.prototype,"remove",null),B([p.validateTypesAsync(["undefined",p.objectSchema("query options",{from:["string","undefined"],pageSize:[p.custom((function(e){return[te(e),"a positive integer"]})),"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Ge.prototype,"getItems",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Ge.prototype,"setTtl",null),B([p.validateTypesAsync("string",p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[String,Number]),U("design:returntype",Promise)],Ge.prototype,"setItemTtl",null);var Ke=function(e){O.default(n,e);var t=qe(n);function n(e,r,i){var a;return T.default(this,n),(a=t.call(this,e,i)).descriptor=r,a}return C.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"stream"}},{key:"lastEventId",get:function(){return null}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"publishMessage",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:t},e.next=3,this.services.network.post(this.links.messages,n);case 3:return r=e.sent,i=r.body,a=this._handleMessagePublished(i.sid,t,!1),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStream",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_update",value:function(e){switch(e.type){case"stream_message_published":this._handleMessagePublished(e.message_sid,e.message_data,!0);break;case"stream_removed":this.onRemoved(!1)}}},{key:"_handleMessagePublished",value:function(e,t,n){var r={sid:e,data:t};return this.broadcastEventToListeners("messagePublished",{message:r,isLocal:!n}),r}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}}],[{key:"type",get:function(){return"stream"}}]),n}(ke);B([p.validateTypesAsync(p.pureObject),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Ke.prototype,"publishMessage",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Ke.prototype,"setTtl",null);var Ye=function(e){O.default(n,e);var t=qe(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncStreamImpl=e,r.syncStreamImpl.attach(E.default(r)),r}return C.default(n,[{key:"uri",get:function(){return this.syncStreamImpl.uri}},{key:"links",get:function(){return this.syncStreamImpl.links}},{key:"dateExpires",get:function(){return this.syncStreamImpl.dateExpires}},{key:"type",get:function(){return Ke.type}},{key:"lastEventId",get:function(){return null}},{key:"sid",get:function(){return this.syncStreamImpl.sid}},{key:"uniqueName",get:function(){return this.syncStreamImpl.uniqueName}},{key:"publishMessage",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.publishMessage(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStream",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.removeStream());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncStreamImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return Ke.type}}]),n}(Te);R.default(Ye,"messagePublished","messagePublished"),R.default(Ye,"removed","removed"),B([p.validateTypesAsync(p.pureObject),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Ye.prototype,"publishMessage",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Ye.prototype,"setTtl",null);var Xe=function e(t){T.default(this,e),this.sdk="js",this.sdkVer=t,this.os=Z.os.family,this.osVer=Z.os.version,this.pl=Z.name,this.plVer=Z.version},Qe=function(){function e(){T.default(this,e),this.names=new Map,this.entities=new Map}return C.default(e,[{key:"store",value:function(e){var t=this.entities.get(e.sid);return t||(this.entities.set(e.sid,e),e.uniqueName&&this.names.set(e.type+"::"+e.uniqueName,e.sid),e)}},{key:"getResolved",value:function(e,t){var n=this.names.get(t+"::"+e);return n?this.entities.get(n):null}},{key:"get",value:function(e,t){return this.entities.get(e)||this.getResolved(e,t)||null}},{key:"remove",value:function(e){var t=this.entities.get(e);t&&(this.entities.delete(e),t.uniqueName&&this.names.delete(t.type+"::"+t.uniqueName))}}]),e}();function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var $e=function(e){O.default(n,e);var t=Je(n);function n(e,r,i,a){var o;return T.default(this,n),(o=t.call(this,r,i)).descriptor=e,o.cache=new Ze,a&&a.forEach((function(e){o.cache.store(e.key,{key:e.key,value:e.data},e.revision)})),o}return C.default(n,[{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return null}},{key:"type",get:function(){return n.type}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"indexName",get:function(){return this.descriptor.indexName}},{key:"queryString",get:function(){return this.descriptor.queryExpression}},{key:"queryUri",get:function(){return this.descriptor.queryUri}},{key:"liveQueryDescriptor",get:function(){return this.descriptor}},{key:"onRemoved",value:function(){}},{key:"getItems",value:function(){var e={};return this.cache.forEach((function(t,n){e[t]=n.value})),e}},{key:"_update",value:function(e,t){switch(e.type){case"live_query_item_updated":this.handleItemMutated(e.item_key,e.item_data,e.item_revision);break;case"live_query_item_removed":this.handleItemRemoved(e.item_key,e.item_revision);break;case"live_query_updated":this.handleBatchUpdate(e.items)}t&&this._advanceLastEventId(e.last_event_id)}},{key:"handleItemMutated",value:function(e,t,n){if(this.shouldIgnoreEvent(e,n))ae("Item ".concat(e," update skipped, revision: ").concat(n));else{var r={key:e,value:t};this.cache.store(e,r,n),this.broadcastEventToListeners("itemUpdated",r)}}},{key:"handleItemRemoved",value:function(e,t){var n=null===t;this.shouldIgnoreEvent(e,t)?ae("Item ".concat(e," delete skipped, revision: ").concat(t)):(this.cache.delete(e,t,n),this.broadcastEventToListeners("itemRemoved",{key:e}))}},{key:"handleBatchUpdate",value:function(e){var t=this,n={};for(var r in null!=e&&e.forEach((function(e){n[e.key]={data:e.data,revision:e.revision}})),this.cache.forEach((function(e,r){var i=n[e];null!=i?t.handleItemMutated(e,i.data,i.revision):t.handleItemRemoved(e,null),delete n[e]})),n)this.handleItemMutated(r,n[r].data,n[r].revision)}},{key:"shouldIgnoreEvent",value:function(e,t){return null!=e&&null!=t&&this.cache.isKnown(e,t)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e)}}],[{key:"type",get:function(){return"live_query"}}]),n}(ke);function et(e){return tt.apply(this,arguments)}function tt(){return(tt=S.default(N.default.mark((function e(t){var n,r,i,a,o,s;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.network,r=t.queryString,i=t.uri,a=t.type,null!=r){e.next=3;break}throw new Q("Invalid query",400,54507);case 3:return o={query_string:r},a===nt.type&&(o.type=a),e.next=7,n.post(i,o,void 0,!0);case 7:return s=e.sent,e.abrupt("return",s.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=function(e){O.default(n,e);var t=Je(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).liveQueryImpl=e,r.liveQueryImpl.attach(E.default(r)),r}return C.default(n,[{key:"type",get:function(){return $e.type}},{key:"lastEventId",get:function(){return this.liveQueryImpl.lastEventId}},{key:"sid",get:function(){return this.liveQueryImpl.sid}},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.liveQueryImpl.detach(this.listenerUuid)}},{key:"getItems",value:function(){return this.ensureNotClosed(),this.liveQueryImpl.getItems()}}],[{key:"type",get:function(){return $e.type}}]),n}(Te);R.default(nt,"itemUpdated","itemUpdated"),R.default(nt,"itemRemoved","itemRemoved");var rt=function(e){O.default(n,e);var t=Je(n);function n(e){var r;return T.default(this,n),r=t.call(this),R.default(E.default(r),"queryExpression",null),R.default(E.default(r),"items",{}),Object.assign(E.default(r),e),r.updateIndexName(e.indexName),r}return C.default(n,[{key:"type",get:function(){return n.type}},{key:"search",value:function(){var e=S.default(N.default.mark((function e(t){var n=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.items={},e.abrupt("return",et({network:this.network,uri:this.queryUri,queryString:t}).then((function(e){n.queryExpression=t,e.items&&e.items.forEach((function(e){n.items[e.key]=e.data})),n.emit("searchResult",n.getItems())})).catch((function(e){throw ue("Error '".concat(e.message,"' while executing query '").concat(t,"'")),n.queryExpression=null,e})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.queryExpression){e.next=2;break}return e.abrupt("return",Promise.reject(new Q("Invalid query",400,54507)));case 2:return e.abrupt("return",this.liveQueryCreator(this.indexName,this.queryExpression));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){return this.items}},{key:"updateIndexName",value:function(e){this.indexName=e,this.queryUri=this.generateQueryUri(this.indexName)}},{key:"generateQueryUri",value:function(e){return new Y(this.insightsUri).pathSegment(e).pathSegment("Items").build()}}],[{key:"type",get:function(){return"instant_query"}}]),n}(z);R.default(rt,"searchResult","searchResult"),B([p.validateTypesAsync("string"),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],rt.prototype,"search",null),B([p.validateTypes(p.nonEmptyString),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],rt.prototype,"updateIndexName",null);function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){R.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st="3.1.0";function ut(e){if(e){if("string"===typeof e)return{id:e,mode:"open_or_create"};var t=e.mode||(e.id?"open_or_create":"create_new");return ot(ot({},e),{},{mode:t})}return{mode:"create_new"}}var ct="com.twilio.rtd.cds.document",lt="com.twilio.rtd.cds.list",ft="com.twilio.rtd.cds.map",dt="twilio.sync.event",pt=function(e){O.default(n,e);var t=it(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(T.default(this,n),r=t.call(this),!e)throw new Error("Sync library needs a valid Twilio token to be passed");i.hasOwnProperty("logLevel")?ie(i.logLevel):ie("silent");var a=i.productId=i.productId||"data_sync";i.clientMetadata=i.clientMetadata||{},i.clientMetadata.hasOwnProperty("type")||(i.clientMetadata.type="sync"),i.clientMetadata.hasOwnProperty("sdk")||(i.clientMetadata.sdk="JS",i.clientMetadata.sdkv=st);var o=!i.twilsockClient;if(!i.initRegistrations){var s=new h.InitRegistration(a);n.populateInitRegistrations(s),i.initRegistrations=[s]}var u=i.twilsockClient=i.twilsockClient||new h.Twilsock(e,a,i);u.on("tokenAboutToExpire",(function(e){return r.emit("tokenAboutToExpire",e)})),u.on("tokenExpired",(function(){return r.emit("tokenExpired")})),u.on("connectionError",(function(e){return r.emit("connectionError",e)})),u.on("stateChanged",(function(e){r.emit("connectionStateChanged",e),r.services.subscriptions.onConnectionStateChanged("connected"===e)})),u.on("message",(function(e,t){return r._routeMessage(e,t)}));var c=new ce(i),l=new ge(new Xe(st),c,u),f=new ye(c);return r.services={config:c,twilsock:u,network:l,storage:f,router:E.default(r),subscriptions:null},r.services.subscriptions=new pe(r.services),r.entities=new Qe,o&&u.connect(),r}return C.default(n,[{key:"_routeMessage",value:function(e,t){switch(ae("Notification type:",e,"content:",t),e){case ct:case lt:case ft:this.services.subscriptions.acceptMessage(t,!1);break;case dt:this.services.subscriptions.acceptMessage(t,!0)}}},{key:"_subscribe",value:function(e,t){this.services.subscriptions.add(e,t)}},{key:"_unsubscribe",value:function(e){this.services.subscriptions.remove(e)}},{key:"connectionState",get:function(){return this.services.twilsock.state}},{key:"ensureReady",value:function(){var e=S.default(N.default.mark((function e(){var t;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.services.config.sessionStorageEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.services.twilsock.storageId();case 5:t=e.sent,this.services.storage.updateStorageId(t.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),se("Failed to initialize storage",e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"storeRootInSessionCache",value:function(e,t,n){if(this.services.config.sessionStorageEnabled&&t){var r=$(n);e!==Ve.type&&e!==Ge.type||(r.last_event_id=null,delete r.items),this.services.storage.store(e,t,r)}}},{key:"readRootFromSessionCache",value:function(e,t){return this.services.config.sessionStorageEnabled&&t?this.services.storage.read(e,t):null}},{key:"_get",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]&&o[2],n){e.next=3;break}throw new Q("Cannot get entity without id",404);case 3:return i=new Y(t).pathSegment(n).queryParam("Include",r?"items":void 0).build(),e.next=6,this.services.network.get(i);case 6:return a=e.sent,e.abrupt("return",a.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_createDocument",value:function(e,t,n){var r={unique_name:e,data:t||{}};return void 0!==n&&(r.ttl=n),this.services.network.post(this.services.config.documentsUri,r).then((function(e){return e.body.data=r.data,e.body}))}},{key:"_getDocument",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(Oe.type,t)||this._get(this.services.config.documentsUri,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createList",value:function(e,t,n,r){var i={unique_name:e,purpose:t,context:n};return void 0!==r&&(i.ttl=r),this.services.network.post(this.services.config.listsUri,i).then((function(e){return e.body}))}},{key:"_getList",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(Ve.type,t)||this._get(this.services.config.listsUri,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createMap",value:function(e,t){var n={unique_name:e};return void 0!==t&&(n.ttl=t),this.services.network.post(this.services.config.mapsUri,n).then((function(e){return e.body}))}},{key:"_getMap",value:function(){var e=S.default(N.default.mark((function e(t){var n,r=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",this.readRootFromSessionCache(Ge.type,t)||this._get(this.services.config.mapsUri,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getStream",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(Ye.type,t)||this._get(this.services.config.streamsUri,t,!1));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createStream",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={unique_name:t},void 0!==n&&(r.ttl=n),e.next=4,this.services.network.post(this.services.config.streamsUri,r);case 4:return i=e.sent,e.abrupt("return",i.body);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getLiveQuery",value:function(e){return this.readRootFromSessionCache(nt.type,e)}},{key:"getCached",value:function(e,t){return e&&this.entities.get(e,t)||null}},{key:"removeFromCacheAndSession",value:function(e,t,n){this.entities.remove(t),this.services.config.sessionStorageEnabled&&this.services.storage.remove(e,t,n)}},{key:"document",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=ut(t)).mode){e.next=9;break}return e.next=6,this._createDocument(n.id,n.data,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,Oe.type))){e.next=14;break}return e.abrupt("return",new Oe(i));case 14:return e.prev=14,e.next=17,this._getDocument(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createDocument(n.id,n.data,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.document(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(Oe.type,n.id,r),a=new Ee(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new Oe(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=ut(t)).mode){e.next=9;break}return e.next=6,this._createMap(n.id,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,Ge.type))){e.next=14;break}return e.abrupt("return",new Ge(i));case 14:return e.prev=14,e.next=17,this._getMap(n.id,n.includeItems);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createMap(n.id,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.map(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(Ge.type,n.id,r),a=new He(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new Ge(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=ut(t)).mode){e.next=9;break}return e.next=6,this._createList(n.id,n.purpose,n.context,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,Ve.type))){e.next=14;break}return e.abrupt("return",new Ve(i));case 14:return e.prev=14,e.next=17,this._getList(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createList(n.id,n.purpose,n.context,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.list(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(Ve.type,n.id,r),a=new Ue(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new Ve(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stream",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o,s=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=ut(t)).mode){e.next=9;break}return e.next=6,this._createStream(n.id,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,Ye.type))){e.next=14;break}return e.abrupt("return",new Ye(i));case 14:return e.prev=14,e.next=17,this._getStream(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createStream(n.id,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.stream(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(Ye.type,n.id,r),a=function(e,t,n){return s.removeFromCacheAndSession(e,t,n)},o=new Ke(this.services,r,a),o=this.entities.store(o),e.abrupt("return",new Ye(o));case 44:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"shutdown",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.subscriptions.shutdown();case 2:return e.next=4,this.services.twilsock.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateToken",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.twilsock.updateToken(t).catch((function(e){var t,n=null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t.status;if(401===(null===n||void 0===n?void 0:n.code)&&"UNAUTHORIZED"===(null===n||void 0===n?void 0:n.status))throw new Q("Updated token was rejected by server",400,51130);throw e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuery",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o,s,u=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return r=new Y(this.services.config.insightsUri).pathSegment(t).pathSegment("Items").build(),e.next=5,et({network:this.services.network,uri:r,queryString:n,type:nt.type});case 5:return i=e.sent,(a=this.getCached(i.query_id,nt.type))||((o=this._getLiveQuery(i.query_id))||(o={indexName:t,queryExpression:n,sid:i.query_id,queryUri:r,last_event_id:i.last_event_id}),s=function(e,t,n){return u.removeFromCacheAndSession(e,t,n)},a=new $e(o,this.services,s,i.items)),this.storeRootInSessionCache(nt.type,i.query_id,a.liveQueryDescriptor),a=this.entities.store(a),e.abrupt("return",new nt(a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"instantQuery",value:function(){var e=S.default(N.default.mark((function e(t){var n,r=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return n=function(e,t){return r.liveQuery(e,t)},e.abrupt("return",new rt({indexName:t,network:this.services.network,insightsUri:this.services.config.insightsUri,liveQueryCreator:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"populateInitRegistrations",value:function(e){e.populateInitRegistrations([dt,ct,lt,ft])}},{key:"version",get:function(){return st}}]),n}(z);R.default(pt,"connectionStateChanged","connectionStateChanged"),R.default(pt,"connectionError","connectionError"),R.default(pt,"tokenAboutToExpire","tokenAboutToExpire"),R.default(pt,"tokenExpired","tokenExpired"),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open document options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],pt.prototype,"document",null),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open map options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)],includeItems:["boolean","undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],pt.prototype,"map",null),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open list options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)],purpose:["string","undefined"],context:[p.pureObject,"undefined"],includeItems:["boolean","undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],pt.prototype,"list",null),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open stream options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],pt.prototype,"stream",null),B([p.validateTypesAsync(p.nonEmptyString),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],pt.prototype,"updateToken",null),B([p.validateTypesAsync(p.nonEmptyString,"string"),U("design:type",Function),U("design:paramtypes",[String,String]),U("design:returntype",Promise)],pt.prototype,"liveQuery",null),B([p.validateTypesAsync(p.nonEmptyString),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],pt.prototype,"instantQuery",null),t.Client=pt,t.InsightsItem=function e(){T.default(this,e)},t.InstantQuery=rt,t.LiveQuery=nt,t.Paginator=Ie,t.SyncClient=pt,t.SyncDocument=Oe,t.SyncList=Ve,t.SyncListItem=Ae,t.SyncMap=Ge,t.SyncMapItem=ze,t.SyncStream=Ye},75262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(49258),n(65202),n(89104),n(59147),n(18116),n(4772),n(85625),n(18887),n(81740);var r=n(18698);n(44105),n(30974);var i=n(27424);n(99238),n(4778),n(44584);var a=n(861),o=n(56690),s=n(61655),u=n(94993),c=n(73808);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(68225),n(67675);var f=l(r),d=l(i),p=l(a),h=l(o),v=l(s),m=l(u),g=l(c),y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{checks:t}};function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=b(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"!==typeof o?(r=r||e instanceof o,i.push("an instance of ".concat(o.name))):(r=r||f.default(e)===o,i.push("of type ".concat(o)))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))};function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=y((function(e){return["string"===typeof e&&e.length>0,"a non-empty string"]})),T=y((function(e){return["number"===typeof e&&Number.isInteger(e)&&e>=0,"a non-negative integer"]})),C=y((function(e){return["object"===f.default(e)&&null!==e&&!Array.isArray(e),"a pure object (non-null and non-array)"]}));function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g.default(e);if(t){var i=g.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m.default(this,n)}}function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e,t){if(t.length>e.length)throw new Error("Expected at most ".concat(e.length," argument(s), but got ").concat(t.length));for(;t.length<e.length;)t.push(void 0);var n,r=O(t.entries());try{for(r.s();!(n=r.n()).done;){var i=d.default(n.value,2),a=i[0],o=i[1],s=M(e[a],o),u=d.default(s,4),c=u[0],l=u[1],f=u[2],p=u[3];if(!c)throw new Error("Argument ".concat(a+1," is expected to be ").concat(f).concat(p," but got ").concat(l))}}catch(h){r.e(h)}finally{r.f()}},R=function(e){var t,n,r;(["undefined","boolean","number","bigint","string"].includes(f.default(e))&&(n="string"===typeof e?'"'.concat(e,'"'):"".concat(e)),"object"===f.default(e)&&"Object"!==(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name))&&(n=null===e?"null":"instance of ".concat(null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name));return n||(n=f.default(e)),n},N=function(e){var t,n=[],r=O(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(P(i))}}catch(a){r.e(a)}finally{r.f()}return n},P=function(e){var t,n=[],r=O(Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;"string"!==typeof i&&"function"!==typeof i?n.push(i):n.push(k(i))}}catch(a){r.e(a)}finally{r.f()}return n},M=function(e,t){var n,r,i=[],a=!1,o=O(e);try{for(o.s();!(r=o.n()).done;){var s,u=O(r.value.checks);try{for(u.s();!(s=u.n()).done;){var c=(0,s.value)(t),l=d.default(c,3),f=l[0],h=l[1],v=l[2];a=a||f,!n&&v&&(n=v),h&&(i=[].concat(p.default(i),"string"===typeof h?[h]:p.default(h)))}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}if(a)return[!0];var m=n||R(t),g=i.length-1;return[!1,m,g>0?"".concat(i.slice(0,g).join(", ")," or ").concat(i[g]):i.join(", "),g>1?";":","]};function D(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.array=function(e,t){return y((function(n){if(!Array.isArray(n))return[!1,"an array of ".concat(e)];var r,i=D(n.entries());try{for(i.s();!(r=i.n()).done;){var a=d.default(r.value,2),o=a[0],s=a[1],u=M(P(t),s),c=d.default(u,3),l=c[0],f=c[1],p=c[2];if(!l)return[!1,"a valid array of ".concat(e," (index ").concat(o," should be ").concat(p,")"),"malformed array of ".concat(e," (index ").concat(o," is ").concat(f,")")]}}catch(h){i.e(h)}finally{i.f()}return[!0]}))},t.custom=y,t.literal=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=w(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=r||e===o,i.push("string"===typeof o?'"'.concat(o,'"'):"".concat(o))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))},t.nonEmptyString=S,t.nonNegativeInteger=T,t.objectSchema=function(e,t){return y((function(n){if("object"!==f.default(n)||null===n||Array.isArray(n))return[!1,"valid ".concat(e," (should be a pure object)")];for(var r=0,i=Object.entries(t);r<i.length;r++){var a=d.default(i[r],2),o=a[0],s=a[1],u=M(P(s),n[o]),c=d.default(u,3),l=c[0],p=c[1],h=c[2];if(!l)return[!1,"valid ".concat(e,' (key "').concat(o,'" should be ').concat(h,")"),"malformed ".concat(e,' (key "').concat(o,'" is ').concat(p,")")]}return[!0]}))},t.pureObject=C,t.runtimeTypeValidation=I,t.stringifyReceivedType=R,t.type=k,t.validateConstructorTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e){return function(e){v.default(n,e);var t=E(n);function n(){h.default(this,n);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return I(r,i),t.call.apply(t,[this].concat(i))}return n}(e)}},t.validateTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypes decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I(r,t),i.apply(this,t)}}},t.validateTypesAsync=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypesAsync decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{I(r,t)}catch(a){return Promise.reject(a)}return i.apply(this,t)}}}},39364:function(e,t,n){var r=n(94301),i=n(11879),a=i;a.v1=r,a.v4=i,e.exports=a},48580:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},52118:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},94301:function(e,t,n){var r,i,a=n(52118),o=n(48580),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=a();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||o(l)}},11879:function(e,t,n){var r=n(52118),i=n(48580);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},57335:function(e,t,n){"use strict";var r=n(38156);e.exports=function(e,t,n,i){var a,o=new Error("Canceled");return new r((function(s,u,c){var l;e((function(e){return c()?r.reject(o):(l=t(e),n(l).then((function(e){if(c())throw o;return a=e()})))})).then((function(e){if(c())throw e.disconnect(),o;s(i(l,e))})).catch((function(e){u(e)}))}),(function(){a&&a.cancel()}))}},70146:function(e,t,n){"use strict";var r=n(25409).MediaStreamTrack,i=n(73348),a=i.guessBrowser,o=i.guessBrowserVersion,s=i.isCodecSupported,u=n(57335),c=n(74905),l=n(63675),f=n(33512),d=n(3137),p=n(66512),h=p.LocalAudioTrack,v=p.LocalDataTrack,m=p.LocalVideoTrack,g=n(42580),y=n(87981),b=n(68179),x=n(58242),k=x.asLocalTrack,w=x.buildLogLevels,_=x.filterObject,S=x.isNonArrayObject,T=n(24657),C=T.DEFAULT_ENVIRONMENT,E=T.DEFAULT_LOG_LEVEL,O=T.DEFAULT_LOGGER_NAME,A=T.DEFAULT_REALM,I=T.DEFAULT_REGION,R=T.WS_SERVER,N=T.SDK_NAME,P=T.SDK_VERSION,M=T.typeErrors,D=n(38156),j=n(16820),L=n(41547),F=n(96340).kG,Z="safari"===a()&&o(),B=0,U=!1,V=!1;if(Z){var z=Z.major,W=Z.minor;V=z<12||12===z&&W<1}var H=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]),G=new Set([{didWarn:!1,shouldDelete:!1,name:"maxTracks",newName:"bandwidthProfile.video.clientTrackSwitchOffControl"},{didWarn:!1,shouldDelete:!1,name:"renderDimensions",newName:"bandwidthProfile.video.contentPreferencesMode"}]);function q(e,t,n){n.forEach((function(n){var r=n.didWarn,i=n.name,a=n.newName,o=n.shouldDelete;i in e&&"undefined"!==typeof e[i]&&(a&&o&&(e[a]=e[i]),o&&delete e[i],r||["error","off"].includes(t.level)||(t.warn('The ConnectOptions "'+i+'" is '+(a?'deprecated and scheduled for removal. Please use "'+a+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))}))}function K(e,t,n,r,i,a){var o=e.createLocalParticipantSignaling(n,r);return t.debug("Creating a new LocalParticipant:",o),new i.LocalParticipant(o,a,i)}function Y(e,t,n){var r=new y(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",(function e(t){"disconnected"===t&&(i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e))})),r}function X(e,t,n,r,i,a){return t.log.debug("Creating a new RoomSignaling"),n.connect(a._signaling,e,r,i,t)}function Q(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then((function(r){var i=t(r);return i.catch((function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach((function(e){e.stop()})))})),i}))}function J(e){var t="string"===typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if("undefined"===typeof t&&(t={}),!S(t))return D.reject(M.INVALID_TYPE("options","object"));var n,i=t.Log||L,a=t.loggerName||O,o=t.logLevel||E,p=w(o),y="[connect #"+ ++B+"]";try{n=new i("default",y,p,a)}catch(ee){return D.reject(ee)}q(t,n,H);var x="auto"===t.preferredVideoCodecs;if(x&&(t.preferredVideoCodecs=[{codec:"VP8",simulcast:!0,adaptiveSimulcast:!0}]),t.maxVideoBitrate&&x)return n.error('ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'),D.reject(M.ILLEGAL_INVOKE("connect",'ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'));var T={};"string"===typeof(t=Object.assign({automaticSubscription:!0,dominantSpeaker:!1,enableDscp:!1,environment:C,eventListener:null,insights:!0,LocalAudioTrack:h,LocalDataTrack:v,LocalParticipant:l,LocalVideoTrack:m,Log:i,MediaStreamTrack:r,loggerName:a,logLevel:o,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:A,region:I,signaling:b},_(t))).wsServerInsights&&(T.gateway=t.wsServerInsights);var Z=new(t.insights?f:d)(e,N,P,t.environment,t.realm,T),z=R(t.environment,t.region),W=new j(Z,Date.now(),n,t.eventListener);if((t=Object.assign({eventObserver:W,wsServer:z},t)).log=n,V&&!U&&"error"!==n.logLevel&&"off"!==n.logLevel&&(U=!0,n.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!==typeof e)return D.reject(M.INVALID_TYPE("token","string"));var $=Object.assign({},t);if(delete $.name,"tracks"in t){if(!Array.isArray(t.tracks))return D.reject(M.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map((function(e){return k(e,$)}))}catch(ee){return D.reject(ee)}}var ee=F(t.bandwidthProfile);if(ee)return D.reject(ee);t.clientTrackSwitchOffControl="disabled",t.contentPreferencesMode="disabled",t.bandwidthProfile&&(t.clientTrackSwitchOffControl="auto",t.contentPreferencesMode="auto",t.bandwidthProfile.video&&(q(t.bandwidthProfile.video,n,G),"maxTracks"in t.bandwidthProfile.video?t.clientTrackSwitchOffControl="disabled":"manual"===t.bandwidthProfile.video.clientTrackSwitchOffControl?t.clientTrackSwitchOffControl="manual":t.clientTrackSwitchOffControl="auto","renderDimensions"in t.bandwidthProfile.video?t.contentPreferencesMode="disabled":"manual"===t.bandwidthProfile.video.contentPreferencesMode?t.contentPreferencesMode="manual":t.contentPreferencesMode="auto"));var te=new(0,t.signaling)(t.wsServer,t);n.info("Connecting to a Room"),n.debug("Options:",t);var ne=new c({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate},x),re={audio:t.preferredAudioCodecs.map(J),video:t.preferredVideoCodecs.map(J)},ie=new g(S(t.networkQuality)?t.networkQuality:{});["audio","video"].forEach((function(e){return re[e].forEach((function(t){var r=t.codec;return s(r,e).then((function(t){return!t&&n.warn("The preferred "+e+' codec "'+r+'" will be ignored as it is not supported by the browser.')}))}))}));var ae=u(Q.bind(null,t),K.bind(null,te,n,ne,ie,t),X.bind(null,e,t,te,ne,re),Y.bind(null,t));return ae.then((function(e){return Z.connect(e.sid,e.localParticipant.sid),n.info("Connected to Room:",e.toString()),n.info("Room name:",e.name),n.debug("Room:",e),e.once("disconnected",(function(){return Z.disconnect()})),e}),(function(e){Z.disconnect(),ae._isCanceled?n.info("Attempt to connect to a Room was canceled"):n.info("Error while connecting to a Room:",e)})),ae}},12804:function(e,t,n){"use strict";var r=n(24657),i=r.DEFAULT_LOG_LEVEL,a=r.DEFAULT_LOGGER_NAME;function o(e,t){t=Object.assign({loggerName:a,logLevel:i},t);var n={};n.loggerName=t.loggerName,n.logLevel=t.logLevel,delete t.loggerName,delete t.logLevel;var r=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,r(n).then((function(e){return e[0]}))}e.exports={audio:function(e){return o("audio",e)},video:function(e){return o("video",e)}}},35166:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalTracks=void 0;var u=n(6727),c=n(58242).buildLogLevels,l=n(25409),f=l.getUserMedia,d=l.MediaStreamTrack,p=n(66512),h=p.LocalAudioTrack,v=p.LocalDataTrack,m=p.LocalVideoTrack,g=n(41547),y=n(24657),b=y.DEFAULT_LOG_LEVEL,x=y.DEFAULT_LOGGER_NAME,k=y.typeErrors.INVALID_VALUE,w=n(21268),_=0;t.createLocalTracks=function(e){return i(this,void 0,void 0,(function(){var t,n,l,p,y,S,T,C,E,O,A,I,R,N=this;return a(this,(function(P){switch(P.label){case 0:if(n=r({audio:t=!(e&&("audio"in e||"video"in e)),getUserMedia:f,loggerName:x,logLevel:b,LocalAudioTrack:h,LocalDataTrack:v,LocalVideoTrack:m,MediaStreamTrack:d,Log:g,video:t},e),l="[createLocalTracks #"+ ++_+"]",p=c(n.logLevel),y=new n.Log("default",l,p,n.loggerName),delete(S=Object.assign({log:y},n)).name,!1===n.audio&&!1===n.video)return y.info("Neither audio nor video requested, so returning empty LocalTracks"),[2,[]];if(n.tracks)return y.info("Adding user-provided LocalTracks"),y.debug("LocalTracks:",n.tracks),[2,n.tracks];if((T={audio:"object"===typeof n.audio&&n.audio.name?{name:n.audio.name}:{defaultDeviceCaptureMode:"auto"},video:"object"===typeof n.video&&n.video.name?{name:n.video.name}:{}}).audio.isCreatedByCreateLocalTracks=!0,T.video.isCreatedByCreateLocalTracks=!0,"object"===typeof n.audio)if("boolean"===typeof n.audio.workaroundWebKitBug1208516&&(T.audio.workaroundWebKitBug1208516=n.audio.workaroundWebKitBug1208516),"noiseCancellationOptions"in n.audio&&(C=n.audio.noiseCancellationOptions,delete n.audio.noiseCancellationOptions),"defaultDeviceCaptureMode"in n.audio){if(["auto","manual"].every((function(e){return e!==n.audio.defaultDeviceCaptureMode})))throw k("CreateLocalAudioTrackOptions.defaultDeviceCaptureMode",["auto","manual"]);T.audio.defaultDeviceCaptureMode=n.audio.defaultDeviceCaptureMode}else T.audio.defaultDeviceCaptureMode="auto";"object"===typeof n.video&&"boolean"===typeof n.video.workaroundWebKitBug1208516&&(T.video.workaroundWebKitBug1208516=n.video.workaroundWebKitBug1208516),"object"===typeof n.audio&&delete n.audio.name,"object"===typeof n.video&&delete n.video.name,E={audio:n.audio,video:n.video},O="object"===typeof n.audio&&n.audio.workaroundWebKitBug180748,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,O?w(y,n.getUserMedia,E):n.getUserMedia(E)];case 2:return A=P.sent(),I=s(s([],o(A.getAudioTracks())),o(A.getVideoTracks())),y.info("Call to getUserMedia successful; got tracks:",I),[4,Promise.all(I.map((function(e){return i(N,void 0,void 0,(function(){var t,n,i;return a(this,(function(a){switch(a.label){case 0:return"audio"===e.kind&&C?[4,u.applyNoiseCancellation(e,C,y)]:[3,2];case 1:return t=a.sent(),n=t.cleanTrack,i=t.noiseCancellation,[2,new S.LocalAudioTrack(n,r(r(r({},T.audio),S),{noiseCancellation:i}))];case 2:if("audio"===e.kind)return[2,new S.LocalAudioTrack(e,r(r({},T.audio),S))];a.label=3;case 3:return[2,new S.LocalVideoTrack(e,r(r({},T.video),S))]}}))}))})))];case 3:return[2,P.sent()];case 4:throw R=P.sent(),y.warn("Call to getUserMedia failed:",R),R;case 5:return[2]}}))}))}},34103:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(95187),a=n(20465),o=function(e){function t(t){var n=e.call(this,t.label,t.maxPacketLifeTime,t.maxRetransmits,t.ordered)||this;return Object.defineProperties(n,{_dataChannel:{value:t}}),t.binaryType="arraybuffer",t.addEventListener("message",(function(e){n.emit("message",e.data)})),t.addEventListener("close",(function(){n.emit("close")})),n}return r(t,e),t.prototype.stop=function(){this._dataChannel.close(),e.prototype.stop.call(this)},t.prototype.toDataTransport=function(){return new a(this._dataChannel)},t}(i);e.exports=o},29701:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(95187),a=n(58242).makeUUID,o=function(e){function t(t,n,r){var i=e.call(this,a(),t,n,r)||this;return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return r(t,e),t.prototype._addClone=function(e){this._clones.add(e)},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.addDataChannel=function(e){return this._dataChannels.add(e),this},t.prototype.clone=function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",(function(){return e.removeClone(n)})),n},t.prototype.removeDataChannel=function(e){return this._dataChannels.delete(e),this},t.prototype.send=function(e){return this._dataChannels.forEach((function(t){try{t.send(e)}catch(n){}})),this._clones.forEach((function(t){try{t.send(e)}catch(n){}})),this},t.prototype.stop=function(){this._dataChannels.forEach((function(e){return e.close()})),this._clones.forEach((function(e){return e.stop()})),e.prototype.stop.call(this)},t}(i);e.exports=o},95187:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){var a=e.call(this,t,"data")||this;return Object.defineProperties(a,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:r},ordered:{enumerable:!0,value:i}}),a}return r(t,e),t}(n(97952));e.exports=i},20465:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_dataChannel:{value:t},_messageQueue:{value:[]}}),t.addEventListener("open",(function(){n._messageQueue.splice(0).forEach((function(e){return n._publish(e)}))})),t.addEventListener("message",(function(e){var t=e.data;try{var r=JSON.parse(t);n.emit("message",r)}catch(i){}})),n.publish({type:"ready"}),n}return r(t,e),t.prototype._publish=function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(n){}},t.prototype.publish=function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))},t}(n(47465).EventEmitter);e.exports=i},74905:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return t=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},t),Object.defineProperties(r,{maxAudioBitrate:{value:t.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:t.maxVideoBitrate,writable:!0},adaptiveSimulcast:{value:n}}),r}return r(t,e),t.prototype.toJSON=function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}},t.prototype.update=function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce((function(n,r){return t[r]!==e[r]&&(t[r]=e[r],n=!0),n}),!1)&&this.emit("changed")},t}(n(47465).EventEmitter);e.exports=i},5887:function(e,t,n){"use strict";var r=n(47465).EventEmitter,i=n(58242).hidePrivateAndCertainPublicPropertiesInClass;e.exports=i(r,["domain"])},29180:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},a=n(47465).EventEmitter,o=function(){function e(){Object.defineProperties(this,{_eventEmitter:{value:new a}})}return e.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},e.prototype.addEventListener=function(){var e;return(e=this._eventEmitter).addListener.apply(e,i([],r(arguments)))},e.prototype.removeEventListener=function(){var e;return(e=this._eventEmitter).removeListener.apply(e,i([],r(arguments)))},e}();e.exports=o},22478:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(35166),a=n(49707),o={connect:n(70146),createLocalAudioTrack:n(12804).audio,createLocalVideoTrack:n(12804).video,isSupported:n(96415)(),version:n(1730).version,Logger:n(48489),LocalAudioTrack:n(66512).LocalAudioTrack,LocalDataTrack:n(66512).LocalDataTrack,LocalVideoTrack:n(66512).LocalVideoTrack};var s=o.isSupported,u=o.version,c=o.Logger,l=o.LocalAudioTrack,f=o.LocalVideoTrack,d=o.LocalDataTrack;e.exports={connect:function(e,t){var n=r({createLocalTracks:i.createLocalTracks},t);return o.connect(e,n)},createLocalAudioTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return o.createLocalAudioTrack(t)},createLocalVideoTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return o.createLocalVideoTrack(t)},createLocalTracks:i.createLocalTracks,runPreflight:a.runPreflight,isSupported:s,version:u,Logger:c,LocalAudioTrack:l,LocalVideoTrack:f,LocalDataTrack:d}},63675:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(25409).MediaStreamTrack,a=n(58242),o=a.asLocalTrack,s=a.asLocalTrackPublication,u=a.trackClass,c=n(24657),l=c.typeErrors,f=c.trackPriority,d=n(96340).Wv,p=n(66512),h=p.LocalAudioTrack,v=p.LocalDataTrack,m=p.LocalVideoTrack,g=n(79674),y=n(44977),b=n(53091),x=function(e){function t(t,n,r){var a=this,o=(r=Object.assign({LocalAudioTrack:h,LocalVideoTrack:m,LocalDataTrack:v,MediaStreamTrack:i,LocalAudioTrackPublication:g,LocalVideoTrackPublication:b,LocalDataTrackPublication:y,shouldStopLocalTracks:!1,tracks:n},r)).shouldStopLocalTracks?new Set(n.filter((function(e){return"data"!==e.kind}))):new Set;return a=e.call(this,t,r)||this,Object.defineProperties(a,{_eventObserver:{value:r.eventObserver},_LocalAudioTrack:{value:r.LocalAudioTrack},_LocalDataTrack:{value:r.LocalDataTrack},_LocalVideoTrack:{value:r.LocalVideoTrack},_MediaStreamTrack:{value:r.MediaStreamTrack},_LocalAudioTrackPublication:{value:r.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:r.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:r.LocalVideoTrackPublication},_tracksToStop:{value:o},signalingRegion:{enumerable:!0,get:function(){return t.signalingRegion}}}),a._handleTrackSignalingEvents(),a}return r(t,e),t.prototype._addTrack=function(t,n,r){var i=e.prototype._addTrack.call(this,t,n);return i&&"disconnected"!==this.state&&this._addLocalTrack(t,r),i},t.prototype._addLocalTrack=function(e,t){var n,r=null===(n=e.noiseCancellation)||void 0===n?void 0:n.vendor;this._signaling.addTrack(e._trackSender,e.name,t,r),this._log.info("Added a new "+u(e,!0)+":",e.id),this._log.debug(u(e,!0)+":",e)},t.prototype._removeTrack=function(t,n){var r=e.prototype._removeTrack.call(this,t,n);return r&&"disconnected"!==this.state&&(this._signaling.removeTrack(t._trackSender),this._log.info("Removed a "+u(t,!0)+":",t.id),this._log.debug(u(t,!0)+":",t)),r},t.prototype._getTrackEvents=function(){return e.prototype._getTrackEvents.call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])},t.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.disable(),t.debug("Disabled the "+u(n,!0)+":",n.id))},r=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.enable(),t.debug("Enabled the "+u(n,!0)+":",n.id))},i=function(t){var n=e._signaling.getPublication(t._trackSender);return n&&n.stop(),n};this.on("trackDisabled",n),this.on("trackEnabled",r),this.on("trackStopped",i),this._signaling.on("stateChanged",(function a(o){t.debug("Transitioned to state:",o),"disconnected"===o?(t.debug("Removing LocalTrack event listeners"),e._signaling.removeListener("stateChanged",a),e.removeListener("trackDisabled",n),e.removeListener("trackEnabled",r),e.removeListener("trackStopped",i),e._tracks.forEach((function(e){var t=i(e);t&&e._trackSender.removeClone(t._trackTransceiver)})),t.info("LocalParticipant disconnected. Stopping "+e._tracksToStop.size+" automatically-acquired LocalTracks"),e._tracksToStop.forEach((function(e){e.stop()}))):"connected"===o&&(t.info("reconnected"),setTimeout((function(){return e.emit("reconnected")}),0))})),this._tracks.forEach((function(n){e._addLocalTrack(n,f.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch((function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)}))}))}},t.prototype._getOrCreateLocalTrackPublication=function(e){var t=k(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,r=this,i=this._signaling.getPublication(e._trackSender);return i?new Promise((function(a,o){i.on("updated",(function c(){var l=i.error;if(l)return i.removeListener("updated",c),n.warn("Failed to publish the "+u(e,!0)+": "+l.message),r._removeTrack(e,e.id),setTimeout((function(){r.emit("trackPublicationFailed",l,e)})),void o(l);if(!r._tracks.has(e.id))return i.removeListener("updated",c),void o(new Error("The "+e+" was unpublished"));if(i.sid){i.removeListener("updated",c);var f={log:n,LocalAudioTrackPublication:r._LocalAudioTrackPublication,LocalDataTrackPublication:r._LocalDataTrackPublication,LocalVideoTrackPublication:r._LocalVideoTrackPublication};t=k(r.tracks,e);var d=function(e){return r.emit("trackWarning",e,t)},p=function(){return r.emit("trackWarningsCleared",t)};t||(t=s(e,i,(function(e){t.removeListener("trackWarning",d),t.removeListener("trackWarningsCleared",p),r.unpublishTrack(e.track)}),f),r._addTrackPublication(t)),t.on("warning",d),t.on("warningsCleared",p);var h=r._signaling.state;"connected"!==h&&"connecting"!==h||(e._processorEventObserver&&e._processorEventObserver.on("event",(function(e){r._eventObserver.emit("event",{name:e.name,payload:e.data,group:"video-processor",level:"info"})})),e.processedTrack&&(e._captureFrames(),e._setSenderMediaStreamTrack(!0))),"connected"===h&&setTimeout((function(){r.emit("trackPublished",t)})),a(t)}}))})):Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"))},t.prototype.publishTrack=function(e,t){var n,r=k(this.tracks,e);if(r)return Promise.resolve(r);t=Object.assign({log:this._log,priority:f.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);try{n=o(e,t)}catch(c){return Promise.reject(c)}var i=n.noiseCancellation,a=this._signaling.audioProcessors;i&&!a.includes(i.vendor)&&(this._log.warn(i.vendor+" is not supported in this room. disabling it permanently"),i.disablePermanently());var s=Object.values(f);if(!s.includes(t.priority))return Promise.reject(l.INVALID_VALUE("LocalTrackPublishOptions.priority",s));var u=this._addTrack(n,n.id,t.priority)||this._tracks.get(n.id);return this._getOrCreateLocalTrackPublication(u)},t.prototype.publishTracks=function(e){if(!Array.isArray(e))throw l.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))},t.prototype.setBandwidthProfile=function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")},t.prototype.setNetworkQualityConfiguration=function(e){if("object"!==typeof e||null===e)throw l.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach((function(t){if(t in e&&("number"!==typeof e[t]||isNaN(e[t])))throw l.INVALID_TYPE("networkQualityConfiguration."+t,"number")})),this._signaling.setNetworkQualityConfiguration(e),this},t.prototype.setParameters=function(e){if("undefined"!==typeof e&&"object"!==typeof e)throw l.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");if(e){if(this._signaling.getParameters().adaptiveSimulcast&&e.maxVideoBitrate)throw l.INVALID_TYPE("encodingParameters",'encodingParameters.maxVideoBitrate is not compatible with "preferredVideoCodecs=auto"');["maxAudioBitrate","maxVideoBitrate"].forEach((function(t){if("undefined"!==typeof e[t]&&"number"!==typeof e[t]&&null!==e[t])throw l.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")}))}else null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null});return this._signaling.setParameters(e),this},t.prototype.unpublishTrack=function(e){d(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=k(this.tracks,t);return n&&this._removeTrackPublication(n),n},t.prototype.unpublishTracks=function(e){var t=this;if(!Array.isArray(e))throw l.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce((function(e,n){var r=t.unpublishTrack(n);return r?e.concat(r):e}),[])},t}(n(241));function k(e,t){return Array.from(e.values()).find((function(e){return e.track===t||e.track.mediaStreamTrack===t}))||null}e.exports=x},64591:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.attach=function(){return e.prototype.attach.apply(this,arguments)},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t}(n(63592));e.exports=i},66512:function(e,t,n){"use strict";e.exports={LocalAudioTrack:n(47825),LocalVideoTrack:n(19826),LocalDataTrack:n(19571)}},47825:function(e,t,n){"use strict";var r=n(78812),i=n(69595);function a(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,a.prototype),n}r(a,i),e.exports=a},19571:function(e,t,n){"use strict";var r=n(78812),i=n(41378);function a(e){var t=new i(e);return Object.setPrototypeOf(t,a.prototype),t}r(a,i),e.exports=a},19826:function(e,t,n){"use strict";var r=n(78812),i=n(36950);function a(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,a.prototype),n}r(a,i),e.exports=a},16753:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(5887),a=n(58242),o=a.buildLogLevels,s=a.valueToJSON,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=0,f=function(e){function t(t,n,r){var i;r=Object.assign({name:t,log:null,logLevel:u},r),i=e.call(this)||this;var a=String(r.name),s=o(r.logLevel),f=r.log?r.log.createLog("media",i):new c("media",i,s,r.loggerName);return Object.defineProperties(i,{_instanceId:{value:++l},_log:{value:f},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:a}}),i}return r(t,e),t.prototype.toJSON=function(){return s(this)},t}(i);e.exports=f},69595:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(39091).isIOS,a=n(64591),o=function(e){function t(t,n){var r=this,a=(null===n||void 0===n?void 0:n.noiseCancellation)||null,o=(r=e.call(this,t,n)||this)._log,s=t.label,u=void 0===s?"":s,c=t.getSettings(),l=c.deviceId,f=void 0===l?"":l,d=c.groupId,p=void 0===d?"":d;return Object.defineProperties(r,{_currentDefaultDeviceInfo:{value:{deviceId:f,groupId:p,label:u},writable:!0},_defaultDeviceCaptureMode:{value:!i()&&r._isCreatedByCreateLocalTracks&&"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.addEventListener&&"function"===typeof navigator.mediaDevices.enumerateDevices?(null===n||void 0===n?void 0:n.defaultDeviceCaptureMode)||"auto":"manual"},_onDeviceChange:{value:function(){navigator.mediaDevices.enumerateDevices().then((function(e){var t=e.find((function(e){var t=e.deviceId;return"audioinput"===e.kind&&"default"!==t}));t&&["deviceId","groupId"].some((function(e){return t[e]!==r._currentDefaultDeviceInfo[e]}))&&(o.info("Default device changed, restarting the LocalAudioTrack"),o.debug('Old default device: "'+r._currentDefaultDeviceInfo.deviceId+'" => "'+r._currentDefaultDeviceInfo.label+'"'),o.debug('New default device: "'+t.deviceId+'" => "'+t.label+'"'),r._currentDefaultDeviceInfo=t,r._restartDefaultDevice().catch((function(e){return o.warn("Failed to restart: "+e.message)})))}),(function(e){o.warn("Failed to run enumerateDevices(): "+e.message)}))}},_restartOnDefaultDeviceChangeCleanup:{value:null,writable:!0},noiseCancellation:{enumerable:!0,value:a,writable:!1}}),o.debug("defaultDeviceCaptureMode:",r._defaultDeviceCaptureMode),r._maybeRestartOnDefaultDeviceChange(),r}return r(t,e),t.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},t.prototype.attach=function(t){return(t=e.prototype.attach.call(this,t)).muted=!0,t},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._maybeRestartOnDefaultDeviceChange=function(){var e=this,t=this,n=t._constraints,r=t._defaultDeviceCaptureMode,i=t._log,a=(this.noiseCancellation?this.noiseCancellation.sourceTrack:this.mediaStreamTrack).getSettings().deviceId,o=function(e){return e!==a||"default"===e},s=function e(t){return void 0===t&&(t={}),"string"===typeof t?o(t):Array.isArray(t)?t.every(o):t.exact?e(t.exact):!t.ideal||e(t.ideal)}(n.deviceId);"auto"===r&&s?this._restartOnDefaultDeviceChangeCleanup||(i.info("LocalAudioTrack will be restarted if the default device changes"),navigator.mediaDevices.addEventListener("devicechange",this._onDeviceChange),this._restartOnDefaultDeviceChangeCleanup=function(){i.info("Cleaning up the listener to restart the LocalAudioTrack if the default device changes"),navigator.mediaDevices.removeEventListener("devicechange",e._onDeviceChange),e._restartOnDefaultDeviceChangeCleanup=null}):(i.info("LocalAudioTrack will NOT be restarted if the default device changes"),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup())},t.prototype._reacquireTrack=function(t){var n=this;return this._log.debug("_reacquireTrack: ",t),this.noiseCancellation?this.noiseCancellation.reacquireTrack((function(){return e.prototype._reacquireTrack.call(n,t)})):e.prototype._reacquireTrack.call(this,t)},t.prototype._restartDefaultDevice=function(){var e=this,t=Object.assign({},this._constraints),n=Object.assign({},t,{deviceId:this._currentDefaultDeviceInfo.deviceId});return this.restart(n).then((function(){e._constraints=t,e._maybeRestartOnDefaultDeviceChange()}))},t.prototype.disable=function(){return e.prototype.disable.apply(this,arguments)},t.prototype.enable=function(){return e.prototype.enable.apply(this,arguments)},t.prototype.restart=function(){return e.prototype.restart.apply(this,arguments)},t.prototype.stop=function(){return this.noiseCancellation&&this.noiseCancellation.stop(),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup(),e.prototype.stop.apply(this,arguments)},t}(n(21760)(a));e.exports=o},79674:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},41378:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(16753),a=n(29701),o=function(e){function t(t){var n,r=new(0,(t=Object.assign({DataTrackSender:a,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},t)).DataTrackSender)(t.maxPacketLifeTime,t.maxRetransmits,t.ordered);return n=e.call(this,r.id,"data",t)||this,Object.defineProperties(n,{_trackSender:{value:r},id:{enumerable:!0,value:r.id},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:null===t.maxPacketLifeTime&&null===t.maxRetransmits}}),n}return r(t,e),t.prototype.send=function(e){this._trackSender.send(e)},t}(i);e.exports=o},44977:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},21760:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(25409).getUserMedia,a=n(39091).isIOS,o=n(58242),s=o.capitalize,u=o.defer,c=o.isUserMediaTrack,l=o.waitForSometime,f=o.waitForEvent,d=n(24657).typeErrors.ILLEGAL_INVOKE,p=n(11060),h=n(43377),v=n(72217),m=n(39271),g=n(21268),y=n(4742);function b(e){var t=e._log,n=e.kind,r={audio:p,video:h}[n],i=e._dummyEl,a=e.mediaStreamTrack,o=null;function s(){var n=e._workaroundWebKitBug1208516Cleanup,a=e.isStopped,s=e.mediaStreamTrack.muted,u=a&&!!n;return Promise.resolve().then((function(){return"visible"===document.visibilityState&&!o&&(s||u||i.play().then((function(){return r(i)})).then((function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e})).catch((function(e){t.warn("Failed to detect silence:",e)})).finally((function(){e.processedTrack||i.pause()})))}))}function c(){return Promise.race([f(a,"unmute"),l(50)]).then((function(){return s()})).then((function(r){return r&&!o&&(o=u(),e._restart().finally((function(){i=e._dummyEl,y(),a=e.mediaStreamTrack,g(),o.resolve(),o=null})).catch((function(e){t.error("failed to restart track: ",e)}))),(o&&o.promise||Promise.resolve()).finally((function(){return m.resolveDeferred(n)}))})).catch((function(e){t.error("error in maybeRestart: "+e.message)}))}function d(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),m.startDeferred(n)}function g(){a.addEventListener("ended",c),a.addEventListener("mute",d),a.addEventListener("unmute",c)}function y(){a.removeEventListener("ended",c),a.removeEventListener("mute",d),a.removeEventListener("unmute",c)}var b=function(e){return!!e&&c()};return v.onVisibilityChange(1,b),g(),function(){v.offVisibilityChange(1,b),y()}}e.exports=function(e){return function(e){function t(t,n){var r=this,o=a()&&c(t)&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState;n=Object.assign({getUserMedia:i,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:o,gUMSilentTrackWorkaround:g},n);var s=new y(t),u=s.kind;return r=e.call(this,s,n)||this,Object.defineProperties(r,{_constraints:{value:"object"===typeof n[u]?n[u]:{},writable:!0},_getUserMedia:{value:n.getUserMedia},_gUMSilentTrackWorkaround:{value:n.gUMSilentTrackWorkaround},_eventsToReemitters:{value:new Map([["muted",function(){return r.emit("muted",r)}],["unmuted",function(){return r.emit("unmuted",r)}]])},_workaroundWebKitBug1208516:{value:n.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:n.isCreatedByCreateLocalTracks},_trackSender:{value:s},id:{enumerable:!0,value:s.id},isEnabled:{enumerable:!0,get:function(){return s.enabled}},isMuted:{enumerable:!0,get:function(){return s.muted}},isStopped:{enumerable:!0,get:function(){return"ended"===s.readyState}}}),r._workaroundWebKitBug1208516&&(r._workaroundWebKitBug1208516Cleanup=b(r)),r._reemitTrackSenderEvents(),r}return r(t,e),t.prototype._end=function(){var t=this;this._didCallEnd||(e.prototype._end.call(this),this._didCallEnd=!0,this._eventsToReemitters.forEach((function(e,n){return t._trackSender.removeListener(n,e)})),this.emit("stopped",this))},t.prototype._initialize=function(){this._didCallEnd&&(this._didCallEnd=!1),this._eventsToReemitters&&this._reemitTrackSenderEvents(),e.prototype._initialize.call(this)},t.prototype._reacquireTrack=function(e){var t,n=this,r=n._getUserMedia,i=n._gUMSilentTrackWorkaround,a=n._log,o=n.mediaStreamTrack.kind;a.info("Re-acquiring the MediaStreamTrack"),a.debug("Constraints:",e);var s=Object.assign({audio:!1,video:!1},((t={})[o]=e,t));return(this._workaroundWebKitBug1208516Cleanup?i(a,r,s):r(s)).then((function(e){return e.getTracks()[0]}))},t.prototype._reemitTrackSenderEvents=function(){var e=this;this._eventsToReemitters.forEach((function(t,n){return e._trackSender.on(n,t)})),this._trackSender.dequeue("muted"),this._trackSender.dequeue("unmuted")},t.prototype._restart=function(e){var t=this,n=this._log;return e=e||this._constraints,this._stop(),this._reacquireTrack(e).catch((function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",{error:t,constraints:e}),t})).then((function(r){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",r),t._constraints=Object.assign({},e),t._setMediaStreamTrack(r)}))},t.prototype._setMediaStreamTrack=function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),(this._unprocessedTrack?Promise.resolve().then((function(){t._unprocessedTrack=e})):this._trackSender.setMediaStreamTrack(e).catch((function(n){t._log.warn("setMediaStreamTrack failed:",{error:n,mediaStreamTrack:e})}))).then((function(){t._initialize(),t._getAllAttachedElements().forEach((function(e){return t._attach(e)}))}))},t.prototype._stop=function(){return this.mediaStreamTrack.stop(),this._end(),this},t.prototype.enable=function(e){return(e="boolean"!==typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this},t.prototype.disable=function(){return this.enable(!1)},t.prototype.restart=function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(d("restart","can only be called on a Local"+s(n)+"Track that is created using createLocalTracks or createLocal"+s(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var r=this._restart(e);return this._workaroundWebKitBug1208516&&(r=r.finally((function(){t._workaroundWebKitBug1208516Cleanup=b(t)}))),r},t.prototype.stop=function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()},t}(e)}},2918:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(54067),s=n(24657),u=s.typeErrors,c=s.trackPriority,l=function(e){function t(t,n,r,o){var s=e.call(this,n.name,t.sid,o)||this;return Object.defineProperties(s,{_reemitSignalingEvent:{value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.emit.apply(s,a([e&&e.length?"warning":"warningsCleared"],i(e)))}},_reemitTrackEvent:{value:function(){return s.emit(s.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:t},_unpublish:{value:r},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return t.updatedPriority}},track:{enumerable:!0,value:n}}),["disabled","enabled"].forEach((function(e){return n.on(e,s._reemitTrackEvent)})),["warning","warningsCleared"].forEach((function(e){return t.on(e,s._reemitSignalingEvent)})),s}return r(t,e),t.prototype.toString=function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype.setPriority=function(e){var t=Object.values(c);if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this},t.prototype.unpublish=function(){var e=this;return["disabled","enabled"].forEach((function(t){return e.track.removeListener(t,e._reemitTrackEvent)})),["warning","warningsCleared"].forEach((function(t){return e._signaling.removeListener(t,e._reemitSignalingEvent)})),this._unpublish(this),this},t}(o);e.exports=l},36950:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(39091).isIOS,a=n(43377),o=n(21760),s=n(79161),u=n(58242).isUserMediaTrack,c=function(e){function t(t,n){var r=this;return n=Object.assign({workaroundSilentLocalVideo:i()&&u(t)&&"undefined"!==typeof document&&"function"===typeof document.createElement},n),r=e.call(this,t,n)||this,Object.defineProperties(r,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?l:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),r._workaroundSilentLocalVideo&&(r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)),r}return r(t,e),t.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},t.prototype._checkIfCanCaptureFrames=function(){return e.prototype._checkIfCanCaptureFrames.call(this,this._trackSender.isPublishing)},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._setSenderMediaStreamTrack=function(e){var t=this,n=this.mediaStreamTrack,r=e?this.processedTrack:n;return this._trackSender.setMediaStreamTrack(r).catch((function(e){return t._log.warn("setMediaStreamTrack failed on LocalVideoTrack RTCRtpSender",{error:e,mediaStreamTrack:r})})).then((function(){t._unprocessedTrack=e?n:null}))},t.prototype.addProcessor=function(){this._log.debug("Adding VideoProcessor to the LocalVideoTrack");var t=e.prototype.addProcessor.apply(this,arguments);return this.processedTrack?(this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0),t):this._log.warn("Unable to add a VideoProcessor to the LocalVideoTrack")},t.prototype.removeProcessor=function(){var t=this;this._log.debug("Removing VideoProcessor from the LocalVideoTrack");var n=e.prototype.removeProcessor.apply(this,arguments);return this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the original MediaStreamTrack"),this._setSenderMediaStreamTrack().then((function(){return t._updateElementsMediaStreamTrack()})),n},t.prototype.disable=function(){var t=e.prototype.disable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=!1),t},t.prototype.enable=function(t){void 0===t&&(t=!0);var n=e.prototype.enable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=t,t&&(this._captureFrames(),this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0))),n},t.prototype.restart=function(){var t=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=e.prototype.restart.apply(this,arguments);return this.processor&&n.then((function(){t._restartProcessor()})),this._workaroundSilentLocalVideo&&n.finally((function(){t._workaroundSilentLocalVideoCleanup=t._workaroundSilentLocalVideo(t,document)})),n},t.prototype.stop=function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),e.prototype.stop.apply(this,arguments)},t}(o(s));function l(e,t){var n=e._log,r=e._dummyEl,i=e.mediaStreamTrack;function o(){e.isEnabled&&(n.info("Unmuted, checking silence"),r.play().then((function(){return a(r,t)})).then((function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")})).catch((function(e){n.warn("Failed to detect silence and restart:",e)})).finally((function(){!(r=e._dummyEl)||r.paused||e.processedTrack||r.pause(),i.removeEventListener("unmute",o),(i=e.mediaStreamTrack).addEventListener("unmute",o)})))}return i.addEventListener("unmute",o),function(){i.removeEventListener("unmute",o)}}e.exports=c},53091:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},63592:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(39091).isIOS,a=n(25409).MediaStream,o=n(58242),s=o.waitForEvent,u=o.waitForSometime,c=n(39271),l=function(e){function t(t,n){var r=this;n=Object.assign({playPausedElementsIfNotBackgrounded:i()&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState},n),r=e.call(this,t.id,t.kind,n)||this;var o=!1;return n=Object.assign({MediaStream:a},n),Object.defineProperties(r,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return o},set:function(e){o=e}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_unprocessedTrack:{value:null,writable:!0},_MediaStream:{value:n.MediaStream},isStarted:{enumerable:!0,get:function(){return o}},mediaStreamTrack:{enumerable:!0,get:function(){return this._unprocessedTrack||t.track}},processedTrack:{enumerable:!0,value:null,writable:!0}}),r._initialize(),r}return r(t,e),t.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)},t.prototype._initialize=function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",(function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)})),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl,this.mediaStreamTrack),this._attachments.delete(this._dummyEl))},t.prototype._end=function(){this._log.debug("Ended"),this._dummyEl&&(this._dummyEl.remove(),this._dummyEl.srcObject=null,this._dummyEl.oncanplay=null,this._dummyEl=null)},t.prototype.attach=function(e){var t=this;if("string"===typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([s(document,"visibilitychange"),u(1e3)]).then((function(){"visible"===document.visibilityState&&c.whenResolved("audio").then((function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()})).then((function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)})).catch((function(r){t.warn("Error while playing unintentionally paused <"+n+"> element:",{error:r,el:e})}))}))}(e,t._log)}:null;this._elShims.set(e,function(e,t){void 0===t&&(t=null);var n=e.pause,r=e.play,i=!1;e.pause=function(){return i=!0,n.call(e)},e.play=function(){return i=!1,r.call(e)};var a=t?function(){i||t()}:null;a&&e.addEventListener("pause",a);return{pausedIntentionally:function(){return i},unShim:function(){e.pause=n,e.play=r,a&&e.removeEventListener("pause",a)}}}(e,n))}return e},t.prototype._attach=function(e,t){void 0===t&&(t=this.processedTrack||this.mediaStreamTrack);var n=e.srcObject;n instanceof this._MediaStream||(n=new this._MediaStream);var r="audio"===t.kind?"getAudioTracks":"getVideoTracks";return n[r]().forEach((function(e){n.removeTrack(e)})),n.addTrack(t),e.srcObject=n,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e},t.prototype._selectElement=function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t},t.prototype._updateElementsMediaStreamTrack=function(){var e=this;this._log.debug("Reattaching all elements to update mediaStreamTrack"),this._getAllAttachedElements().forEach((function(t){return e._attach(t)}))},t.prototype._createElement=function(){return"undefined"!==typeof document?document.createElement(this.kind):null},t.prototype.detach=function(e){var t;return t="string"===typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t},t.prototype._detachElements=function(e){return e.map(this._detachElement.bind(this))},t.prototype._detachElement=function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;(t instanceof this._MediaStream&&t.removeTrack(this.processedTrack||this.mediaStreamTrack),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e))&&(this._elShims.get(e).unShim(),this._elShims.delete(e));return e},t.prototype._getAllAttachedElements=function(){var e=[];return this._attachments.forEach((function(t){e.push(t)})),e},t}(n(16753));e.exports=l},6727:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyNoiseCancellation=t.NoiseCancellationImpl=void 0;var a=n(53143),o=(n(41547),function(){function e(e,t){this._processor=e,this._sourceTrack=t,this._disabledPermanent=!1}return Object.defineProperty(e.prototype,"vendor",{get:function(){return this._processor.vendor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceTrack",{get:function(){return this._sourceTrack},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._processor.isEnabled()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){if(this._disabledPermanent)throw new Error(this.vendor+" noise cancellation is disabled permanently for this track");return this._processor.enable(),Promise.resolve()},e.prototype.disable=function(){return this._processor.disable(),Promise.resolve()},e.prototype.reacquireTrack=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._processor.isEnabled(),this._processor.disconnect(),[4,e()];case 1:return n=i.sent(),this._sourceTrack=n,[4,this._processor.connect(n)];case 2:return r=i.sent(),t?this._processor.enable():this._processor.disable(),[2,r]}}))}))},e.prototype.disablePermanently=function(){return this._disabledPermanent=!0,this.disable()},e.prototype.stop=function(){this._processor.disconnect(),this._sourceTrack.stop()},e}());t.NoiseCancellationImpl=o,t.applyNoiseCancellation=function(e,t,n){return r(this,void 0,void 0,(function(){var r,s,u,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.createNoiseCancellationAudioProcessor(t,n)];case 1:return r=i.sent(),s=r.connect(e),u=new o(r,e),[2,{cleanTrack:s,noiseCancellation:u}];case 2:return c=i.sent(),n.warn("Failed to create noise cancellation. Returning normal audio track: "+c),[2,{cleanTrack:e}];case 3:return[2]}}))}))}},19811:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(33536));e.exports=i},76439:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(64591),a=function(e){function t(t,n,r,i,a,o,s){return e.call(this,t,n,r,i,a,o,s)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype._start=function(){e.prototype._start.call(this),this._dummyEl&&(this._dummyEl.srcObject=null,this._dummyEl=null)},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(n(9212)(i));e.exports=a},37505:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},2897:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(16753),s=n(24657),u=s.typeErrors,c=s.trackPriority,l=function(e){function t(t,n,r){var i=e.call(this,n.id,"data",r)||this;return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:t}}),n.on("message",(function(e){i.emit("message",e,i)})),i}return r(t,e),t.prototype.setPriority=function(e){var t=a([null],i(Object.values(c)));if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._priority=e,this},t.prototype._setEnabled=function(){},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t}(o);e.exports=l},73494:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},9212:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(24657),s=o.typeErrors,u=o.trackPriority,c=n(39091).isIOS,l=n(72217);e.exports=function(e){return function(e){function t(t,n,r,i,a,o,s){var u=this;return s=Object.assign({workaroundWebKitBug212780:c()&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState},s),u=e.call(this,n,s)||this,Object.defineProperties(u,{_isEnabled:{value:r,writable:!0},_isSwitchedOff:{value:i,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:a},_setRenderHint:{value:function(e){u._log.debug("updating render hint:",e),o(e)}},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:t},_workaroundWebKitBug212780:{value:s.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),u}return r(t,e),t.prototype.setPriority=function(e){var t=a([null],i(Object.values(u)));if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this},t.prototype._setEnabled=function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0,this.processedTrack&&(this.processedTrack.enabled=!0),this.processor&&this._captureFrames()),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function r(r){r&&e._attachments.forEach((function(r){var i=e._elShims.get(r);r.paused&&i&&!i.pausedIntentionally()&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e),r.play().then((function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e)})).catch((function(i){t.warn("Error while playing inadvertently paused <"+n+"> element:",{err:i,el:r,remoteMediaTrack:e})})))}))}return l.onVisibilityChange(2,r),function(){l.offVisibilityChange(2,r)}}(this)),n},t.prototype.detach=function(t){var n=e.prototype.detach.call(this,t);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this.processedTrack&&(this.processedTrack.enabled=!1),this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n},t}(e)}},63788:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t.name,t.sid,n)||this;Object.defineProperties(r,{_signaling:{value:t},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return t.isEnabled}},kind:{enumerable:!0,value:t.kind},publishPriority:{enumerable:!0,get:function(){return t.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=t.error,a=t.isEnabled,o=t.isSwitchedOff,s=t.priority;return t.on("updated",(function(){if(i!==t.error)return i=t.error,void r.emit("subscriptionFailed",t.error);a!==t.isEnabled&&(a=t.isEnabled,r.track&&r.track._setEnabled(t.isEnabled),r.emit(t.isEnabled?"trackEnabled":"trackDisabled")),o!==t.isSwitchedOff&&(r._log.debug(r.trackSid+": "+(o?"OFF":"ON")+" => "+(t.isSwitchedOff?"OFF":"ON")),o=t.isSwitchedOff,r.track?(r.track._setSwitchedOff(t.isSwitchedOff),r.emit(o?"trackSwitchedOff":"trackSwitchedOn",r.track)):o&&r._log.warn("Track was not subscribed when switched Off.")),s!==t.priority&&(s=t.priority,r.emit("publishPriorityChanged",s))})),r}return r(t,e),t.prototype.toString=function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype._subscribed=function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))},t.prototype._unsubscribe=function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}},t}(n(54067));e.exports=i},12512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(9212),o=n(79161),s=n(72217),u=n(76770).NullObserver,c=n(91149),l=a(o),f=function(e){function t(t,n,r,i,a,o,s){var l=this;return s=Object.assign({clientTrackSwitchOffControl:"auto",contentPreferencesMode:"auto",enableDocumentVisibilityTurnOff:!0},s),s=Object.assign({IntersectionObserver:"undefined"===typeof IntersectionObserver||"auto"!==s.clientTrackSwitchOffControl?u:IntersectionObserver,ResizeObserver:"undefined"===typeof ResizeObserver||"auto"!==s.contentPreferencesMode?u:ResizeObserver},s),l=e.call(this,t,n,r,i,a,o,s)||this,Object.defineProperties(l,{_enableDocumentVisibilityTurnOff:{value:!0===s.enableDocumentVisibilityTurnOff&&"auto"===s.clientTrackSwitchOffControl},_documentVisibilityTurnOffCleanup:{value:null,writable:!0},_clientTrackSwitchOffControl:{value:s.clientTrackSwitchOffControl},_contentPreferencesMode:{value:s.contentPreferencesMode},_invisibleElements:{value:new WeakSet},_elToPipCallbacks:{value:new WeakMap},_elToPipWindows:{value:new WeakMap},_turnOffTimer:{value:new c((function(){l._setRenderHint({enabled:!1})}),50,!1)},_resizeObserver:{value:new s.ResizeObserver((function(e){e.find((function(e){return!l._invisibleElements.has(e.target)}))&&p(l)}))},_intersectionObserver:{value:new s.IntersectionObserver((function(e){var t=!1;e.forEach((function(e){!l._invisibleElements.has(e.target)!==e.isIntersecting&&(e.isIntersecting?(l._log.debug("intersectionObserver detected: Off => On"),l._invisibleElements.delete(e.target)):(l._log.debug("intersectionObserver detected: On => Off"),l._invisibleElements.add(e.target)),t=!0)})),t&&(d(l),p(l))}),{threshold:.25})}}),l}return r(t,e),t.prototype._start=function(t){var n=e.prototype._start.call(this,t);return d(this),n},t.prototype.switchOn=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!0}),this},t.prototype.switchOff=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOff only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!1}),this},t.prototype.setContentPreferences=function(e){if("manual"!==this._contentPreferencesMode)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.contentPreferencesMode is set to "manual"');return e.renderDimensions&&this._setRenderHint({renderDimensions:e.renderDimensions}),this},t.prototype._unObservePip=function(e){var t=this._elToPipCallbacks.get(e);t&&(e.removeEventListener("enterpictureinpicture",t.onEnterPip),e.removeEventListener("leavepictureinpicture",t.onLeavePip),this._elToPipCallbacks.delete(e))},t.prototype._observePip=function(e){var t=this;if(!this._elToPipCallbacks.get(e)){var n=function(n){return t._onEnterPip(n,e)},r=function(n){return t._onLeavePip(n,e)};e.addEventListener("enterpictureinpicture",n),e.addEventListener("leavepictureinpicture",r),this._elToPipCallbacks.set(e,{onEnterPip:n,onLeavePip:r,onResizePip:function(n){return t._onResizePip(n,e)}})}},t.prototype._onEnterPip=function(e,t){this._log.debug("onEnterPip");var n=e.pictureInPictureWindow;this._elToPipWindows.set(t,n);var r=this._elToPipCallbacks.get(t).onResizePip;n.addEventListener("resize",r),d(this)},t.prototype._onLeavePip=function(e,t){this._log.debug("onLeavePip"),this._elToPipWindows.delete(t);var n=this._elToPipCallbacks.get(t).onResizePip;e.pictureInPictureWindow.removeEventListener("resize",n),d(this)},t.prototype._onResizePip=function(){p(this)},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return"auto"===this._clientTrackSwitchOffControl&&this._invisibleElements.add(n),this._intersectionObserver.observe(n),this._resizeObserver.observe(n),this._enableDocumentVisibilityTurnOff&&(this._documentVisibilityTurnOffCleanup=this._documentVisibilityTurnOffCleanup||function(e){function t(){d(e)}return s.onVisibilityChange(1,t),function(){s.offVisibilityChange(1,t)}}(this)),this._observePip(n),n},t.prototype.detach=function(t){var n=this,r=e.prototype.detach.call(this,t);return(Array.isArray(r)?r:[r]).forEach((function(e){n._intersectionObserver.unobserve(e),n._resizeObserver.unobserve(e),n._invisibleElements.delete(e),n._unObservePip(e)})),0===this._attachments.size&&this._documentVisibilityTurnOffCleanup&&(this._documentVisibilityTurnOffCleanup(),this._documentVisibilityTurnOffCleanup=null),d(this),p(this),r},t.prototype.addProcessor=function(){return e.prototype.addProcessor.apply(this,arguments)},t.prototype.removeProcessor=function(){return e.prototype.removeProcessor.apply(this,arguments)},t.prototype.toString=function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(l);function d(e){if("auto"===e._clientTrackSwitchOffControl){var t=e._getAllAttachedElements().filter((function(t){return!e._invisibleElements.has(t)}));!0===(e._getAllAttachedElements().filter((function(t){return e._elToPipWindows.has(t)})).length>0||"visible"===document.visibilityState&&t.length>0)?(e._turnOffTimer.clear(),e._setRenderHint({enabled:!0})):e._turnOffTimer.isSet||e._turnOffTimer.start()}}function p(e){if("auto"===e._contentPreferencesMode){var t=e._getAllAttachedElements().filter((function(t){return!e._invisibleElements.has(t)})),n=e._getAllAttachedElements().map((function(t){var n=e._elToPipWindows.get(t);return n?{clientHeight:n.height,clientWidth:n.width}:{clientHeight:0,clientWidth:0}})),r=t.concat(n);if(r.length>0){var a=i(r.sort((function(e,t){return t.clientHeight+t.clientWidth-e.clientHeight-e.clientWidth-1})),1)[0],o={height:a.clientHeight,width:a.clientWidth};e._setRenderHint({renderDimensions:o})}}}e.exports=f},60667:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},4742:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=function(e){function t(t){var n=e.call(this,t.id,t)||this;return Object.defineProperties(n,{_clones:{value:new Set},_eventsToReemitters:{value:new Map([["mute",function(){return n.queue("muted")}],["unmute",function(){return n.queue("unmuted")}]])},_senders:{value:new Set},_senderToPublisherHintCallbacks:{value:new Map},isPublishing:{enumerable:!0,get:function(){return!!this._clones.size}},muted:{enumerable:!0,get:function(){return this._track.muted}}}),n._reemitMediaStreamTrackEvents(),n}return r(t,e),t.prototype._reemitMediaStreamTrackEvents=function(e){void 0===e&&(e=this._track);var t=this._eventsToReemitters,n=this._track;(t.forEach((function(t,n){return e.addEventListener(n,t)})),n!==e)&&(t.forEach((function(e,t){return n.removeEventListener(t,e)})),n.muted!==e.muted&&t.get(e.muted?"mute":"unmute")())},t.prototype.clone=function(){var e=new t(this.track.clone());return this._clones.add(e),e},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.setMediaStreamTrack=function(e){var t=this,n=Array.from(this._clones),r=Array.from(this._senders);return Promise.all(n.map((function(t){return t.setMediaStreamTrack(e.clone())})).concat(r.map((function(n){return t._replaceTrack(n,e)})))).finally((function(){t._reemitMediaStreamTrackEvents(e),t._track=e}))},t.prototype.addSender=function(e,t){return this._senders.add(e),t&&this._senderToPublisherHintCallbacks.set(e,t),this},t.prototype.removeSender=function(e){return this._senders.delete(e),this._senderToPublisherHintCallbacks.delete(e),this},t.prototype.setPublisherHint=function(e){var t=i(Array.from(this._senderToPublisherHintCallbacks.values()),1)[0];return t?t(e):Promise.resolve("COULD_NOT_APPLY_HINT")},t.prototype._replaceTrack=function(e,t){var n=this;return e.replaceTrack(t).then((function(e){return n.setPublisherHint(null).catch((function(){})),n.emit("replaced"),e}))},t}(n(33536));e.exports=a},54067:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(5887),a=n(58242),o=a.buildLogLevels,s=a.valueToJSON,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=0,f=function(e){function t(t,n,r){var i=e.call(this)||this;r=Object.assign({logLevel:u},r);var a=o(r.logLevel);return Object.defineProperties(i,{_instanceId:{value:l++},_log:{value:r.log?r.log.createLog("default",i):new c("default",i,a,r.loggerName)},trackName:{enumerable:!0,value:t},trackSid:{enumerable:!0,value:n}}),i}return r(t,e),t.prototype.toJSON=function(){return s(this)},t.prototype.toString=function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(i);e.exports=f},33536:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n.kind)||this;return Object.defineProperties(r,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),r}return r(t,e),t.prototype.stop=function(){this.track.stop(),e.prototype.stop.call(this)},t}(n(97952));e.exports=i},74380:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465).EventEmitter,a=n(24657).DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS,o=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_lastStatsSaveTime:{value:null,writable:!0},_lastStatsPublishTime:{value:null,writable:!0},_log:{value:t},_processorInfo:{value:null,writable:!0},_stats:{value:null,writable:!0}}),n.on("add",(function(e){n._lastStatsSaveTime=Date.now(),n._lastStatsPublishTime=Date.now(),n._processorInfo=e,n._stats=[],n._reemitEvent("add",n._getEventData())})),n.on("remove",(function(){var e=n._getEventData();n._lastStatsSaveTime=null,n._lastStatsPublishTime=null,n._processorInfo=null,n._stats=null,n._reemitEvent("remove",e)})),n.on("start",(function(){n._reemitEvent("start",n._getEventData())})),n.on("stop",(function(e){n._reemitEvent("stop",Object.assign({message:e},n._getEventData()))})),n.on("stats",(function(){return n._maybeEmitStats()})),n}return r(t,e),t.prototype._getEventData=function(){if(!this._processorInfo)return{};var e=this._processorInfo,t=e.processor,n={captureHeight:e.captureHeight,captureWidth:e.captureWidth,inputFrameRate:e.inputFrameRate,isRemoteVideoTrack:e.isRemoteVideoTrack,inputFrameBufferType:e.inputFrameBufferType,outputFrameBufferContextType:e.outputFrameBufferContextType};return n.name=t._name||"VideoProcessor",["assetsPath","blurFilterRadius","debounce","fitType","isSimdEnabled","maskBlurRadius","pipeline","version"].forEach((function(e){var r=t["_"+e];"undefined"!==typeof r&&(n[e]=r)})),Object.keys(n).forEach((function(e){var t=n[e];"boolean"===typeof t&&(n[e]=t?"true":"false")})),n},t.prototype._maybeEmitStats=function(){if(this._stats&&this._processorInfo){var e=this._processorInfo.processor._benchmark;if(e){var t=Date.now();if(!(t-this._lastStatsSaveTime<1e3)){var n={outputFrameRate:e.getRate("totalProcessingDelay")};if(["captureFrameDelay","imageCompositionDelay","inputImageResizeDelay","processFrameDelay","segmentationDelay"].forEach((function(t){n[t]=e.getAverageDelay(t)})),this._lastStatsSaveTime=t,this._stats.push(n),!(t-this._lastStatsPublishTime<a)){this._lastStatsPublishTime=t;var r=this._stats.splice(0).reduce((function(e,t,r){return Object.keys(n).forEach((function(n){e[n]||(e[n]=0),e[n]=(e[n]*r+t[n])/(r+1)})),e}),{});Object.keys(r).forEach((function(e){r[e]=parseFloat(r[e].toFixed(2))})),this._reemitEvent("stats",Object.assign({},r,this._getEventData()))}}}}},t.prototype._reemitEvent=function(e,t){this._log.debug("VideoProcessor:"+e,t),this.emit("event",{name:e,data:t})},t}(i);e.exports=o},79161:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(63592),a=n(74380),o=n(24657).DEFAULT_FRAME_RATE,s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{_captureTimeoutId:{value:null,writable:!0},_isCapturing:{value:!1,writable:!0},_inputFrame:{value:null,writable:!0},_outputFrame:{value:null,writable:!0},_processorEventObserver:{value:null,writable:!0},_processorOptions:{value:{},writable:!0},_unmuteHandler:{value:null,writable:!0},dimensions:{enumerable:!0,value:{width:null,height:null}},processor:{enumerable:!0,value:null,writable:!0}}),r._processorEventObserver=new(n.VideoProcessorEventObserver||a)(r._log),r}return r(t,e),t.prototype._checkIfCanCaptureFrames=function(e){void 0===e&&(e=!1);var t=!0,n="",r=this.mediaStreamTrack;return r.enabled||(t=!1,n="MediaStreamTrack is disabled"),"ended"===r.readyState&&(t=!1,n="MediaStreamTrack is ended"),this.processor||(t=!1,n="VideoProcessor not detected."),this._attachments.size||e||(t=!1,n="VideoTrack is not publishing and there is no attached element."),n&&this._log.debug(n),{canCaptureFrames:t,message:n}},t.prototype._captureFrames=function(){var e=this;if(this._isCapturing)this._log.debug("Ignoring captureFrames call. Capture is already in progress");else{if(!this._checkIfCanCaptureFrames().canCaptureFrames)return this._isCapturing=!1,void this._log.debug("Cannot capture frames. Ignoring captureFrames call.");this._isCapturing=!0,this._processorEventObserver.emit("start"),this._log.debug("Start capturing frames");var t,n=Date.now();this._dummyEl.play().then((function(){var r=function(n){clearTimeout(e._captureTimeoutId);var r=e.mediaStreamTrack.getSettings().frameRate,i=void 0===r?o:r,a=Math.floor(1e3/i)-t;(a<0||"number"!==typeof t)&&(a=0),e._captureTimeoutId=setTimeout(n,a)};r((function i(){var a=e._checkIfCanCaptureFrames();if(!a.canCaptureFrames)return e._isCapturing=!1,e._processorEventObserver.emit("stop",a.message),void e._log.debug("Cannot capture frames. Stopping capturing frames.");n=Date.now();var o=e.mediaStreamTrack.getSettings(),s=o.width,u=void 0===s?0:s,c=o.height,l=void 0===c?0:c;e._outputFrame&&e._outputFrame.width!==u&&(e._outputFrame.width=u,e._outputFrame.height=l),e._inputFrame&&(e._inputFrame.width!==u&&(e._inputFrame.width=u,e._inputFrame.height=l),e._inputFrame.getContext("2d").drawImage(e._dummyEl,0,0,u,l));var f=null;try{var d="video"===e._processorOptions.inputFrameBufferType?e._dummyEl:e._inputFrame;f=e.processor.processFrame(d,e._outputFrame)}catch(p){e._log.debug("Exception detected after calling processFrame.",p)}(f instanceof Promise?f:Promise.resolve(f)).then((function(){e._outputFrame&&("function"===typeof e.processedTrack.requestFrame&&e.processedTrack.requestFrame(),e._processorEventObserver.emit("stats"))})).finally((function(){t=Date.now()-n,r(i)}))}))})).catch((function(t){return e._log.error("Video element cannot be played",{error:t,track:e})}))}},t.prototype._initialize=function(){var n=this;e.prototype._initialize.call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){u(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight)},this._dummyEl.onresize=function(){u(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight,n.isStarted&&(n._log.debug("Dimensions changed:",n.dimensions),n.emit(t.DIMENSIONS_CHANGED,n)))})},t.prototype._restartProcessor=function(){var e=this.processor;if(e){var t=Object.assign({},this._processorOptions);this.removeProcessor(e),this.addProcessor(e,t)}},t.prototype._start=function(n){return this.dimensions.width=n.videoWidth,this.dimensions.height=n.videoHeight,this._log.debug("Dimensions:",this.dimensions),this.emit(t.DIMENSIONS_CHANGED,this),e.prototype._start.call(this,n)},t.prototype.addProcessor=function(e,t){var n=this;if(!e||"function"!==typeof e.processFrame)throw new Error("Received an invalid VideoProcessor from addProcessor.");if(this.processor)throw new Error("A VideoProcessor has already been added.");if(!this._dummyEl)throw new Error("VideoTrack has not been initialized.");this._log.debug("Adding VideoProcessor to the VideoTrack",e),this._unmuteHandler||(this._unmuteHandler=function(){n._log.debug("mediaStreamTrack unmuted"),n.processedTrack.muted&&(n._log.debug("mediaStreamTrack is unmuted but processedTrack is muted. Restarting processor."),n._restartProcessor())},this.mediaStreamTrack.addEventListener("unmute",this._unmuteHandler)),this._processorOptions=t||{};var r=this._processorOptions,i=r.inputFrameBufferType,a=r.outputFrameBufferContextType;if("undefined"===typeof OffscreenCanvas&&"offscreencanvas"===i)throw new Error("OffscreenCanvas is not supported by this browser.");if(i&&"video"!==i&&"canvas"!==i&&"offscreencanvas"!==i)throw new Error("Invalid inputFrameBufferType of "+i);i||(i="undefined"===typeof OffscreenCanvas?"canvas":"offscreencanvas");var s=this.mediaStreamTrack.getSettings(),u=s.width,c=void 0===u?0:u,l=s.height,f=void 0===l?0:l,d=s.frameRate,p=void 0===d?o:d;if("offscreencanvas"===i&&(this._inputFrame=new OffscreenCanvas(c,f)),"canvas"===i&&(this._inputFrame=document.createElement("canvas")),this._inputFrame&&(this._inputFrame.width=c,this._inputFrame.height=f),this._outputFrame=document.createElement("canvas"),this._outputFrame.width=c,this._outputFrame.height=f,a=a||"2d",!this._outputFrame.getContext(a))throw new Error("Cannot get outputFrameBufferContextType: "+a+".");var h="undefined"!==typeof CanvasCaptureMediaStreamTrack&&CanvasCaptureMediaStreamTrack.prototype&&"function"===typeof CanvasCaptureMediaStreamTrack.prototype.requestFrame?0:void 0;return this.processedTrack=this._outputFrame.captureStream(h).getTracks()[0],this.processedTrack.enabled=this.mediaStreamTrack.enabled,this.processor=e,this._processorEventObserver.emit("add",{processor:e,captureHeight:f,captureWidth:c,inputFrameRate:p,isRemoteVideoTrack:this.toString().includes("RemoteVideoTrack"),inputFrameBufferType:i,outputFrameBufferContextType:a}),this._updateElementsMediaStreamTrack(),this._captureFrames(),this},t.prototype.attach=function(){var t=e.prototype.attach.apply(this,arguments);return this.processor&&this._captureFrames(),t},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t.prototype.removeProcessor=function(e){if(!e)throw new Error("Received an invalid VideoProcessor from removeProcessor.");if(!this.processor)throw new Error("No existing VideoProcessor detected.");if(e!==this.processor)throw new Error("The provided VideoProcessor is different than the existing one.");return this._processorEventObserver.emit("remove"),this._log.debug("Removing VideoProcessor from the VideoTrack",e),clearTimeout(this._captureTimeoutId),this.mediaStreamTrack.removeEventListener("unmute",this._unmuteHandler),this._processorOptions={},this._unmuteHandler=null,this._isCapturing=!1,this.processor=null,this.processedTrack=null,this._inputFrame=null,this._outputFrame=null,this._updateElementsMediaStreamTrack(),this},t}(i);function u(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}s.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=s},42580:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(47465).EventEmitter,o=n(24657),s=o.DEFAULT_NQ_LEVEL_LOCAL,u=o.DEFAULT_NQ_LEVEL_REMOTE,c=o.MAX_NQ_LEVEL,l=n(58242).inRange,f=function(e){function t(t){var n=e.call(this)||this;return t=Object.assign({local:s,remote:u},t),Object.defineProperties(n,{local:{value:l(t.local,s,c)?t.local:s,writable:!0},remote:{value:l(t.remote,u,c)?t.remote:u,writable:!0}}),n}return r(t,e),t.prototype.update=function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",s,3],["remote",u,3]].forEach((function(n){var r=i(n,3),a=r[0],o=r[1],s=r[2];t[a]="number"===typeof e[a]&&l(e[a],o,s)?e[a]:o}))},t}(a);e.exports=f},53143:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createNoiseCancellationAudioProcessor=void 0;var a=n(3035),o=(n(41547),{krisp:{supportedVersion:"1.0.0",pluginFile:"krispsdk.mjs"},rnnoise:{supportedVersion:"0.6.0",pluginFile:"rnnoise_sdk.mjs"}}),s=new Map;t.createNoiseCancellationAudioProcessor=function(e,t){return r(this,void 0,void 0,(function(){var n,r,u,c,l,f,d,p,h;return i(this,(function(i){switch(i.label){case 0:if(n=s.get(e.vendor))return[3,6];if(!(r=o[e.vendor]))throw new Error("Unsupported NoiseCancellationOptions.vendor: "+e.vendor);u=r.supportedVersion,c=r.pluginFile,l=e.sdkAssetsPath,f=l+"/"+c,i.label=1;case 1:return i.trys.push([1,5,,6]),t.debug("loading noise cancellation sdk: ",f),[4,a(f)];case 2:return d=i.sent(),t.debug("Loaded noise cancellation sdk:",d),p=d.default,function(e){var t=e.supportedVersion,n=e.plugin,r=e.log;if(!n.getVersion||!n.isSupported)throw new Error("Plugin does not export getVersion/isSupported api. Are you using old version of the plugin ?");var i=n.getVersion();r.debug("Plugin Version = "+i);var a=t.split(".").map((function(e){return Number(e)})),o=i.split(".").map((function(e){return Number(e)}));if(3!==a.length||3!==o.length)throw new Error("Unsupported Plugin version format: "+t+", "+i);if(a[0]!==o[0])throw new Error("Major version mismatch: [Plugin version "+i+"],  [Supported Version "+t+"]");if(o[1]<a[1])throw new Error("Minor version mismatch: [Plugin version "+i+"] < [Supported Version "+t+"]");var s=new AudioContext,u=n.isSupported(s);if(s.close(),!u)throw new Error("Noise Cancellation plugin is not supported on your browser")}({supportedVersion:u,plugin:p,log:t}),p.isInitialized()?[3,4]:(t.debug("initializing noise cancellation sdk: ",l),[4,p.init({rootDir:l})]);case 3:i.sent(),t.debug("noise cancellation sdk initialized!"),i.label=4;case 4:return n={vendor:e.vendor,isInitialized:function(){return p.isInitialized()},isConnected:function(){return p.isConnected()},isEnabled:function(){return p.isEnabled()},disconnect:function(){return p.disconnect()},enable:function(){return p.enable()},disable:function(){return p.disable()},destroy:function(){return p.destroy()},setLogging:function(e){return p.setLogging(e)},connect:function(e){t.debug("connect: ",e.id),p.isConnected()&&p.disconnect();var n=p.connect(new MediaStream([e]));if(!n)throw new Error("Error connecting with noise cancellation sdk");var r=n.getAudioTracks()[0];if(!r)throw new Error("Error getting clean track from noise cancellation sdk");return p.enable(),r}},s.set(e.vendor,n),[3,6];case 5:throw h=i.sent(),t.error("Error loading noise cancellation sdk:"+f,h),h;case 6:return[2,n]}}))}))}},241:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(5887),s=n(76439),u=n(37505),c=n(2897),l=n(73494),f=n(12512),d=n(60667),p=n(58242),h=0,v=function(e){function t(t,n){var r=e.call(this)||this,i=function(e){var t=e.map((function(e){return[e.id,e]})),n=t.filter((function(e){return"audio"===e[1].kind})),r=t.filter((function(e){return"video"===e[1].kind})),i=t.filter((function(e){return"data"===e[1].kind}));return{audioTracks:n,dataTracks:i,tracks:t,videoTracks:r}}((n=Object.assign({RemoteAudioTrack:s,RemoteAudioTrackPublication:u,RemoteDataTrack:c,RemoteDataTrackPublication:l,RemoteVideoTrack:f,RemoteVideoTrackPublication:d,tracks:[]},n)).tracks),a=n.log.createLog("default",r),o=new Map(i.audioTracks),p=new Map(i.dataTracks),v=new Map(i.tracks),g=new Map(i.videoTracks);return Object.defineProperties(r,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:o},_dataTracks:{value:p},_instanceId:{value:++h},_clientTrackSwitchOffControl:{value:n.clientTrackSwitchOffControl},_contentPreferencesMode:{value:n.contentPreferencesMode},_log:{value:a},_signaling:{value:t},_tracks:{value:v},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:g},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return t.identity}},networkQualityLevel:{enumerable:!0,get:function(){return t.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return t.networkQualityStats}},sid:{enumerable:!0,get:function(){return t.sid}},state:{enumerable:!0,get:function(){return t.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),r._tracks.forEach(m.bind(null,r)),t.on("networkQualityLevelChanged",(function(){return r.emit("networkQualityLevelChanged",r.networkQualityLevel,r.networkQualityStats&&(r.networkQualityStats.audio||r.networkQualityStats.video)?r.networkQualityStats:null)})),function(e,t){var n=e._log;if("disconnected"===e.state)return;t.on("stateChanged",(function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),e._tracks.forEach((function(t){var n=e._trackEventReemitters.get(t.id);t&&n&&n.forEach((function(e,n){t.removeListener(n,e)}))})),t.tracks.forEach((function(t){var n=e._tracks.get(t.id),r=e._trackEventReemitters.get(t.id);n&&r&&r.forEach((function(e,t){n.removeListener(t,e)}))})),e._trackEventReemitters.clear(),e.tracks.forEach((function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach((function(e,n){t.removeListener(n,e)}))})),e._trackPublicationEventReemitters.clear())}))}(r,t),a.info("Created a new Participant"+(r.identity?": "+r.identity:"")),r}return r(t,e),t.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]},t.prototype._getTrackPublicationEvents=function(){return[]},t.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},t.prototype._addTrack=function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),m(this,e,t),n.info("Added a new "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e)},t.prototype._addTrackPublication=function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var n=new Map;if("disconnected"===e.state)return;e._getTrackPublicationEvents().forEach((function(r){var o=i(r,2),s=o[0],u=o[1];n.set(s,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.emit.apply(e,a(a([u],i(n)),[t]))})),t.on(s,n.get(s))})),e._trackPublicationEventReemitters.set(t.trackSid,n)}(this,e),t.info("Added a new "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e)},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=e._log,n=e._clientTrackSwitchOffControl,r=e._contentPreferencesMode,a=this;if("disconnected"!==this.state){var o=this._RemoteAudioTrack,s=this._RemoteAudioTrackPublication,u=this._RemoteVideoTrack,c=this._RemoteVideoTrackPublication,l=this._RemoteDataTrack,f=this._RemoteDataTrackPublication,d=this._signaling;d.on("trackAdded",p),d.on("trackRemoved",h),d.tracks.forEach(p),d.on("stateChanged",(function e(n){"disconnected"===n?(t.debug("Removing event listeners"),d.removeListener("stateChanged",e),d.removeListener("trackAdded",p),d.removeListener("trackRemoved",h)):"connected"===n&&(t.info("reconnected"),setTimeout((function(){return a.emit("reconnected")}),0))}))}function p(e){var n=new(0,{audio:s,data:f,video:c}[e.kind])(e,{log:t});a._addTrackPublication(n);var r=e.isSubscribed;r&&v(e),a._trackSignalingUpdatedEventCallbacks.set(e.sid,(function(){if(r!==e.isSubscribed){if(r=e.isSubscribed)return void v(e);!function(e){var t=i(Array.from(a._tracks.entries()).find((function(t){return i(t,2)[1].sid===e.sid})),2),n=t[0],r=t[1],o=a.tracks.get(e.sid);r&&a._removeTrack(r,o,n)}(e)}})),e.on("updated",a._trackSignalingUpdatedEventCallbacks.get(e.sid))}function h(e){e.isSubscribed&&e.setTrackTransceiver(null);var t=a._trackSignalingUpdatedEventCallbacks.get(e.sid);t&&(e.removeListener("updated",t),a._trackSignalingUpdatedEventCallbacks.delete(e.sid));var n=a.tracks.get(e.sid);n&&a._removeTrackPublication(n)}function v(e){var i=e.isEnabled,s=e.name,c=e.kind,f=e.sid,p=e.trackTransceiver,h=e.isSwitchedOff,v={audio:o,video:u,data:l}[c],m=a.tracks.get(f);if(v&&c===p.kind){var g={log:t,name:s,clientTrackSwitchOffControl:n,contentPreferencesMode:r},y="data"===c?new v(f,p,g):new v(f,p,i,h,(function(e){return d.updateSubscriberTrackPriority(f,e)}),(function(t){e.isSubscribed&&d.updateTrackRenderHint(f,t)}),g);a._addTrack(y,m,p.id)}}},t.prototype._removeTrack=function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var n=this._log;return n.info("Removed a "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e},t.prototype._removeTrackPublication=function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var t=this._log;return t.info("Removed a "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e},t.prototype.toJSON=function(){return p.valueToJSON(this)},t}(o);function m(e,t,n){var r=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach((function(n){var o=n[0],s=n[1];r.set(o,(function(){var t=[s].concat([].slice.call(arguments));return e.emit.apply(e,a([],i(t)))})),t.on(o,r.get(o))})),e._trackEventReemitters.set(n,r))}e.exports=v},12364:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function a(e,t,n,r){var i=[];return e.forEach((function(e){0!==r.length&&!r.includes(e.type)||0!==n.length&&!n.includes(e.kind)||"number"!==typeof e[t]||i.push(e[t])})),i}function o(e){return[{key:"transportId",type:"string"},{key:"candidateType",type:"string"},{key:"port",altKeys:["portNumber"],type:"number"},{key:"address",altKeys:["ip","ipAddress"],type:"string"},{key:"priority",type:"number"},{key:"protocol",altKeys:["transport"],type:"string"},{key:"url",type:"string"},{key:"relayProtocol",type:"string"}].reduce((function(t,n){var r=[n.key];n.altKeys&&(r=r.concat(n.altKeys));var i=r.find((function(t){return t in e}));return i&&typeof e[i]===n.type&&(t[n.key]=e[i]),t}),{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCombinedConnectionStats=void 0,t.getCombinedConnectionStats=function(e){var t=e.publisher,s=e.subscriber;return n(this,void 0,void 0,(function(){var e,n,u,c,l,f,d,p,h,v,m,g,y,b,x;return r(this,(function(r){switch(r.label){case 0:return[4,Promise.all([t,s].map((function(e){return e.getStats()})))];case 1:return e=i.apply(void 0,[r.sent(),2]),n=e[0],u=e[1],c=a(u,"timestamp",["audio"],["inbound-rtp"]),l=c.length>0?c[0]:0,f=a(u,"jitter",["audio"],["inbound-rtp"]).reduce((function(e,t){return Math.max(e,t)}),0),d=a(u,"packetsReceived",["audio","video"],["inbound-rtp"]).reduce((function(e,t){return e+t}),0),p=a(u,"packetsLost",["audio","video"],["inbound-rtp"]).reduce((function(e,t){return e+t}),0),h=a(n,"roundTripTime",["audio","video"],["remote-inbound-rtp"]).reduce((function(e,t){return Math.max(e,t)}),0),v=a(u,"currentRoundTripTime",[],["candidate-pair"]).reduce((function(e,t){return Math.max(e,t)}),0),m=1e3*(v||h),g=a(n,"bytesSent",[],["candidate-pair"]).reduce((function(e,t){return e+t}),0),y=a(u,"bytesReceived",[],["candidate-pair"]).reduce((function(e,t){return e+t}),0),b=function(e){var t=null,n=[];e.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId?t=e.selectedCandidatePairId:"candidate-pair"===e.type&&n.push(e)}));var r=n.find((function(e){return e.selected||t&&e.id===t}));if(!r)return null;var i=r,a=e.get(i.localCandidateId),s=e.get(i.remoteCandidateId);if(!a||!s)return null;return{localCandidate:o(a),remoteCandidate:o(s)}}(u),x=[],u.forEach((function(e){"local-candidate"!==e.type&&"remote-candidate"!==e.type||x.push(o(e))})),[2,{timestamp:l,jitter:f,packets:d,packetsLost:p,roundTripTime:m,bytesSent:g,bytesReceived:y,selectedIceCandidatePairStats:b,iceCandidateStats:x}]}}))}))}},29816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTurnCredentials=void 0;var r=n(49536),i=n(24657).ICE_VERSION,a=n(89752),o=a.createTwilioError,s=a.SignalingConnectionError,u=n(47465);t.getTurnCredentials=function(e,t){return new Promise((function(n,a){var c=new u.EventEmitter,l=new r(t,{networkMonitor:null,eventObserver:c,helloBody:{edge:"roaming",preflight:!0,token:e,type:"ice",version:i}}),f=!1;l.once("close",(function(){f||(f=!0,a(new s))})),l.on("message",(function(e){var t=e.code,r=e.message,i=e.ice_servers,s=e.type;"iced"!==s&&"error"!==s||f||(f=!0,"iced"===s?n(i):a(o(t,r)),l.close())}))}))}},41358:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeStat=void 0,t.makeStat=function(e){return e&&e.length?{min:Math.min.apply(Math,r([],n(e))),max:Math.max.apply(Math,r([],n(e))),average:e.reduce((function(e,t){return e+t}),0)/e.length}:null}},22167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mosToScore=t.calculateMOS=void 0;var n=94.768;t.calculateMOS=function(e,t,r){var i=e+2*t+10,a=0;switch(!0){case i<160:a=n-i/40;break;case i<1e3:a=n-(i-120)/10}if(!0===r<=a/2.5)a=Math.max(a-2.5*r,6.52);else a=0;return 1+.035*a+7e-6*a*(a-60)*(100-a)},t.mosToScore=function(e){return e?e>4.2?5:e>4?4:e>3.6?3:e>3?2:1:0}},49707:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.runPreflight=t.PreflightTest=void 0;var s=n(24657),u=n(38756),c=n(22167),l=n(12364),f=n(29816),d=n(41358),p=n(38678),h=n(47554),v=n(58242),m=n(24657).WS_SERVER,g=n(41547),y=n(5887),b=n(21288),x=n(16820),k=n(33512),w=n(22243),_=w.createSID,S=w.sessionSID,T=n(89752),C=T.SignalingConnectionTimeoutError,E=T.MediaConnectionError,O="mediaAcquired",A="connected",I="mediaSubscribed",R="mediaStarted",N="dtlsConnected",P="peerConnectionConnected",M="iceConnected";function D(e){return null!==e&&"undefined"!==typeof e}var j=0,L=function(e){function t(t,n){var r=e.call(this)||this;r._testTiming=new u.Timer,r._dtlsTiming=new u.Timer,r._iceTiming=new u.Timer,r._peerConnectionTiming=new u.Timer,r._mediaTiming=new u.Timer,r._connectTiming=new u.Timer,r._sentBytesMovingAverage=new b,r._packetLossMovingAverage=new b,r._progressEvents=[],r._receivedBytesMovingAverage=new b;var i=n,a=i.environment,o=void 0===a?"prod":a,c=i.region,l=void 0===c?"gll":c,f=i.duration,d=void 0===f?1e4:f,p=i.wsServer||m(o,l);return r._log=new g("default",r,s.DEFAULT_LOG_LEVEL,s.DEFAULT_LOGGER_NAME),r._testDuration=d,r._instanceId=j++,r._testTiming.start(),r._runPreflightTest(t,o,p),r}return r(t,e),t.prototype.toString=function(){return"[Preflight #"+this._instanceId+"]"},t.prototype.stop=function(){this._stopped=!0},t.prototype._generatePreflightReport=function(e){return this._testTiming.stop(),{testTiming:this._testTiming.getTimeMeasurement(),networkTiming:{dtls:this._dtlsTiming.getTimeMeasurement(),ice:this._iceTiming.getTimeMeasurement(),peerConnection:this._peerConnectionTiming.getTimeMeasurement(),connect:this._connectTiming.getTimeMeasurement(),media:this._mediaTiming.getTimeMeasurement()},stats:{jitter:d.makeStat(null===e||void 0===e?void 0:e.jitter),rtt:d.makeStat(null===e||void 0===e?void 0:e.rtt),packetLoss:d.makeStat(null===e||void 0===e?void 0:e.packetLoss)},selectedIceCandidatePairStats:e?e.selectedIceCandidatePairStats:null,iceCandidateStats:e?e.iceCandidateStats:[],progressEvents:this._progressEvents,mos:d.makeStat(null===e||void 0===e?void 0:e.mos)}},t.prototype._executePreflightStep=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:if(this._log.debug("Executing step: ",e),r=this._testDuration+1e4,this._stopped)throw new Error("stopped");i=Promise.resolve().then(t),a=null,s=new Promise((function(t,i){a=setTimeout((function(){i(n||new Error(e+" timeout."))}),r)})),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,Promise.race([s,i])];case 2:return[2,o.sent()];case 3:return null!==a&&clearTimeout(a),[7];case 4:return[2]}}))}))},t.prototype._collectNetworkTimings=function(e){var t=this;return new Promise((function(n){var r;e.addEventListener("iceconnectionstatechange",(function(){"checking"===e.iceConnectionState&&t._iceTiming.start(),"connected"===e.iceConnectionState&&(t._iceTiming.stop(),t._updateProgress(M),(!r||r&&"connected"===r.state)&&n())})),e.addEventListener("connectionstatechange",(function(){"connecting"===e.connectionState&&t._peerConnectionTiming.start(),"connected"===e.connectionState&&(t._peerConnectionTiming.stop(),t._updateProgress(P))}));var i=e.getSenders().map((function(e){return e.transport})).find(D);"undefined"!==typeof i&&(r=i).addEventListener("statechange",(function(){"connecting"===r.state&&t._dtlsTiming.start(),"connected"===r.state&&(t._dtlsTiming.stop(),t._updateProgress(N),"connected"===e.iceConnectionState&&n())}))}))},t.prototype._setupInsights=function(e){var t=e.token,n=e.environment,r=void 0===n?s.DEFAULT_ENVIRONMENT:n,i=e.realm,a=void 0===i?s.DEFAULT_REALM:i,o=new k(t,s.SDK_NAME,s.SDK_VERSION,r,a,{});o.connect("PREFLIGHT_ROOM_SID","PREFLIGHT_PARTICIPANT");var u=new x(o,Date.now(),this._log),c=void 0;return{reportToInsights:function(e){var t,n,r=e.report,i=r.stats.jitter||c,a=r.stats.rtt||c,s=r.stats.packetLoss||c,l=r.mos||c,f=new Map;r.iceCandidateStats.forEach((function(e){if(e.candidateType&&e.protocol){var t=f.get(e.candidateType)||[];t.indexOf(e.protocol)<0&&t.push(e.protocol),f.set(e.candidateType,t)}}));var d=JSON.stringify(Object.fromEntries(f)),p={name:"report",group:"preflight",level:r.error?"error":"info",payload:{sessionSID:S,preflightSID:_("PF"),progressEvents:JSON.stringify(r.progressEvents),testTiming:r.testTiming,dtlsTiming:r.networkTiming.dtls,iceTiming:r.networkTiming.ice,peerConnectionTiming:r.networkTiming.peerConnection,connectTiming:r.networkTiming.connect,mediaTiming:r.networkTiming.media,selectedLocalCandidate:null===(t=r.selectedIceCandidatePairStats)||void 0===t?void 0:t.localCandidate,selectedRemoteCandidate:null===(n=r.selectedIceCandidatePairStats)||void 0===n?void 0:n.remoteCandidate,iceCandidateStats:d,jitterStats:i,rttStats:a,packetLossStats:s,mosStats:l,error:r.error}};u.emit("event",p),setTimeout((function(){return o.disconnect()}),2e3)}}},t.prototype._runPreflightTest=function(e,t,n){return a(this,void 0,void 0,(function(){var r,s,u,c,l,d,v,m,g,y,b,x,k=this;return o(this,(function(w){switch(w.label){case 0:r=[],s=[],u=this._setupInsights({token:e,environment:t}).reportToInsights,w.label=1;case 1:return w.trys.push([1,8,9,10]),c=[],[4,this._executePreflightStep("Acquire media",(function(){return[p.syntheticAudio(),h.syntheticVideo({width:640,height:480})]}))];case 2:return r=w.sent(),this._updateProgress(O),this.emit("debug",{localTracks:r}),this._connectTiming.start(),[4,this._executePreflightStep("Get turn credentials",(function(){return f.getTurnCredentials(e,n)}),new C)];case 3:return l=w.sent(),this._connectTiming.stop(),this._updateProgress(A),d=new RTCPeerConnection({iceServers:l,iceTransportPolicy:"relay",bundlePolicy:"max-bundle"}),v=new RTCPeerConnection({iceServers:l,bundlePolicy:"max-bundle"}),s.push(d),s.push(v),this._mediaTiming.start(),[4,this._executePreflightStep("Setup Peer Connections",(function(){return a(k,void 0,void 0,(function(){var e,t,n,i;return o(this,(function(a){switch(a.label){case 0:return d.addEventListener("icecandidate",(function(e){return e.candidate&&v.addIceCandidate(e.candidate)})),v.addEventListener("icecandidate",(function(e){return e.candidate&&d.addIceCandidate(e.candidate)})),r.forEach((function(e){return d.addTrack(e)})),e=new Promise((function(e){var t=[];v.addEventListener("track",(function(n){t.push(n.track),t.length===r.length&&e(t)}))})),[4,d.createOffer()];case 1:return t=a.sent(),n=t,[4,d.setLocalDescription(n)];case 2:return a.sent(),[4,v.setRemoteDescription(n)];case 3:return a.sent(),[4,v.createAnswer()];case 4:return i=a.sent(),[4,v.setLocalDescription(i)];case 5:return a.sent(),[4,d.setRemoteDescription(i)];case 6:return a.sent(),[4,this._collectNetworkTimings(d)];case 7:return a.sent(),[2,e]}}))}))}),new E)];case 4:return m=w.sent(),this.emit("debug",{remoteTracks:m}),m.forEach((function(e){e.addEventListener("ended",(function(){return k._log.warn(e.kind+":ended")})),e.addEventListener("mute",(function(){return k._log.warn(e.kind+":muted")})),e.addEventListener("unmute",(function(){return k._log.warn(e.kind+":unmuted")}))})),this._updateProgress(I),[4,this._executePreflightStep("Wait for tracks to start",(function(){return new Promise((function(e){var t=document.createElement("video");t.autoplay=!0,t.playsInline=!0,t.muted=!0,t.srcObject=new MediaStream(m),c.push(t),k.emit("debugElement",t),t.oncanplay=e}))}),new E)];case 5:return w.sent(),this._mediaTiming.stop(),this._updateProgress(R),[4,this._executePreflightStep("Collect stats for duration",(function(){return k._collectRTCStatsForDuration(k._testDuration,{mos:[],jitter:[],rtt:[],outgoingBitrate:[],incomingBitrate:[],packetLoss:[],selectedIceCandidatePairStats:null,iceCandidateStats:[]},d,v)}))];case 6:return g=w.sent(),[4,this._executePreflightStep("Generate report",(function(){return k._generatePreflightReport(g)}))];case 7:return y=w.sent(),u({report:y}),this.emit("completed",y),[3,10];case 8:return b=w.sent(),x=this._generatePreflightReport(),u({report:i(i({},x),{error:null===b||void 0===b?void 0:b.toString()})}),this.emit("failed",b,x),[3,10];case 9:return s.forEach((function(e){return e.close()})),r.forEach((function(e){return e.stop()})),[7];case 10:return[2]}}))}))},t.prototype._collectRTCStats=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,a,s,u,f,d,p,h,v,m,g,y,b;return o(this,(function(o){switch(o.label){case 0:return[4,l.getCombinedConnectionStats({publisher:t,subscriber:n})];case 1:return r=o.sent(),i=r.timestamp,a=r.bytesSent,s=r.bytesReceived,u=r.packets,f=r.packetsLost,d=r.roundTripTime,p=r.jitter,h=r.selectedIceCandidatePairStats,v=r.iceCandidateStats,m=e.jitter.length>0,e.jitter.push(p),e.rtt.push(d),this._sentBytesMovingAverage.putSample(a,i),this._receivedBytesMovingAverage.putSample(s,i),this._packetLossMovingAverage.putSample(f,u),m&&(e.outgoingBitrate.push(1e3*this._sentBytesMovingAverage.get()*8),e.incomingBitrate.push(1e3*this._receivedBytesMovingAverage.get()*8),g=this._packetLossMovingAverage.get(),y=Math.min(100,100*g),e.packetLoss.push(y),b=c.calculateMOS(d,p,g),e.mos.push(b)),e.selectedIceCandidatePairStats||(e.selectedIceCandidatePairStats=h),0===e.iceCandidateStats.length&&(e.iceCandidateStats=v),[2]}}))}))},t.prototype._collectRTCStatsForDuration=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:return i=Date.now(),a=Math.min(1e3,e),[4,v.waitForSometime(a)];case 1:return o.sent(),[4,this._collectRTCStats(t,n,r)];case 2:return o.sent(),(s=e-(Date.now()-i))>0?[4,this._collectRTCStatsForDuration(s,t,n,r)]:[3,4];case 3:t=o.sent(),o.label=4;case 4:return[2,t]}}))}))},t.prototype._updateProgress=function(e){var t=Date.now()-this._testTiming.getTimeMeasurement().start;this._progressEvents.push({duration:t,name:e}),this.emit("progress",e)},t}(y);t.PreflightTest=L,t.runPreflight=function(e,t){return void 0===t&&(t={}),new L(e,t)}},38678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticAudio=void 0,t.syntheticAudio=function(){var e=n(63074),t={},r=e.getOrCreate(t),i=r.createOscillator(),a=i.connect(r.createMediaStreamDestination());i.start();var o=a.stream.getAudioTracks()[0],s=o.stop;return o.stop=function(){s.call(o),e.release(t)},o}},47554:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticVideo=void 0,t.syntheticVideo=function(e){var t=void 0===e?{}:e,n=t.width,r=void 0===n?640:n,i=t.height,a=void 0===i?480:i,o=Object.assign(document.createElement("canvas"),{width:r,height:a}),s=o.getContext("2d");s.fillStyle="green",s.fillRect(0,0,o.width,o.height);var u=!1;requestAnimationFrame((function e(){if(!u){var t=Math.round(255*Math.random()),n=Math.round(255*Math.random()),i=Math.round(255*Math.random()),o=Math.round(255*Math.random());s.fillStyle="rgba("+t+", "+n+", "+i+", "+o+")",s.fillRect(Math.random()*r,Math.random()*a,50,50),requestAnimationFrame(e)}}));var c=o.captureStream(30).getTracks()[0],l=c.stop;return c.stop=function(){u=!0,l.call(c)},c}},38756:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(){this._end=void 0,this.start()}return e.prototype.start=function(){return this._start=Date.now(),this},e.prototype.stop=function(){return this._end=Date.now(),this},e.prototype.getTimeMeasurement=function(){return{start:this._start,end:this._end,duration:void 0===this._end?void 0:this._end-this._start}},e}();t.Timer=n},16233:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_queuedEvents:{value:new Map}}),t}return r(t,e),t.prototype.dequeue=function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach((function(e,t){n=this.dequeue(t)&&n}),this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce((function(n,r){return t.emit.apply(t,a([],i([e].concat(r))))&&n}),n)},t.prototype.queue=function(){var e=[].slice.call(arguments);if(this.emit.apply(this,a([],i(e))))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1},t}(n(47465).EventEmitter);e.exports=o},75856:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._handleTrackSignalingEvents(),r.once("disconnected",r._unsubscribeTracks.bind(r)),r}return r(t,e),t.prototype.toString=function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._addTrack=function(t,n,r){return e.prototype._addTrack.call(this,t,r)?(n._subscribed(t),this.emit("trackSubscribed",t,n),t):null},t.prototype._addTrackPublication=function(t){var n=e.prototype._addTrackPublication.call(this,t);return n?(this.emit("trackPublished",n),n):null},t.prototype._getTrackPublicationEvents=function(){return a(a([],i(e.prototype._getTrackPublicationEvents.call(this))),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])},t.prototype._unsubscribeTracks=function(){var e=this;this.tracks.forEach((function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}}))},t.prototype._removeTrack=function(t,n,r){var i=this._tracks.get(r);return i?(e.prototype._removeTrack.call(this,i,r),n._unsubscribe(),this.emit("trackUnsubscribed",i,n),i):null},t.prototype._removeTrackPublication=function(t){this._signaling.clearTrackHint(t.trackSid);var n=e.prototype._removeTrackPublication.call(this,t);return n?(this.emit("trackUnpublished",n),n):null},t}(n(241));e.exports=o},87981:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(5887),s=n(75856),u=n(68182),c=n(58242),l=c.flatMap,f=c.valueToJSON,d=0,p=function(e){function t(t,n,r){var o,s,u=e.call(this)||this,c=r.log.createLog("default",u),l=new Map;return Object.defineProperties(u,{_log:{value:c},_clientTrackSwitchOffControl:{value:r.clientTrackSwitchOffControl||"disabled"},_contentPreferencesMode:{value:r.contentPreferencesMode||"disabled"},_instanceId:{value:++d},_options:{value:r},_participants:{value:l},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:l},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),function(e,t){var n=["trackWarning","trackWarningsCleared"].map((function(n){return{eventName:n,handler:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e.emit.apply(e,a([n],i(a(a([],i(r)),[t]))))}}}));n.forEach((function(e){var n=e.eventName,r=e.handler;return t.on(n,r)})),e.once("disconnected",(function(){return n.forEach((function(e){var n=e.eventName,r=e.handler;return t.removeListener(n,r)}))}))}(u,t),o=u,(s=n.recording).on("updated",(function(){var e=s.isEnabled;o._log.info("Recording "+(e?"started":"stopped")),o.emit("recording"+(e?"Started":"Stopped"))})),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(v.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",v.bind(null,e)),t.on("dominantSpeakerChanged",(function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)})),t.on("stateChanged",(function r(i,a){switch(n.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach((function(e){e._unsubscribeTracks()})),e.emit(i,e,a),e.localParticipant.tracks.forEach((function(e){e.unpublish()})),t.removeListener("stateChanged",r);break;case"reconnecting":setTimeout((function(){return e.emit("reconnecting",a)}),0);break;default:setTimeout((function(){return e.emit("reconnected")}),0)}}))}(u,n),function(e){var t=e.localParticipant._signaling.audioProcessors;e.localParticipant.audioTracks.forEach((function(n){var r=n.track.noiseCancellation;r&&!t.includes(r.vendor)&&(e._log.warn(r.vendor+" is not supported in this room. disabling it permanently"),r.disablePermanently())}))}(u),c.info("Created a new Room:",u.name),c.debug("Initial RemoteParticipants:",Array.from(u._participants.values())),u}return r(t,e),t.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},t.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},t.prototype.getStats=function(){var e=this;return this._signaling.getStats().then((function(t){return Array.from(t).map((function(t){var n=i(t,2),r=n[0],a=n[1];return new u(r,Object.assign({},a,{localAudioTrackStats:h(e,a.localAudioTrackStats),localVideoTrackStats:h(e,a.localVideoTrackStats)}))}))}))},t.prototype.refreshInactiveMedia=function(){var e=this.localParticipant.tracks,t=Array.from(e.values()).filter((function(e){return"data"!==e.track.kind})).map((function(e){return e.track})),n=l(this.participants,(function(e){return Array.from(e.tracks.values())})).filter((function(e){var t=e.track;return t&&"data"!==t.kind})).map((function(e){return e.track})),r=t.concat(n),i=new Event("unmute");t.forEach((function(e){var t=e.isMuted,n=e.mediaStreamTrack;t&&n.dispatchEvent(i)}));var a=new Event("pause");return r.forEach((function(e){var t=e._attachments,n=e._elShims;return t.forEach((function(e){var t=n.get(e);e.paused&&t&&!t.pausedIntentionally()&&e.dispatchEvent(a)}))})),this},t.prototype.toJSON=function(){return f(this)},t}(o);function h(e,t){var n=e.localParticipant._signaling;return t.reduce((function(e,t){var r=n.tracks.get(t.trackId),i=n.getSender(r);return i?[Object.assign({},t,{trackId:i.id})].concat(e):e}),[])}function v(e,t){var n=e._log,r=e._clientTrackSwitchOffControl,o=e._contentPreferencesMode,u=new s(t,{log:n,clientTrackSwitchOffControl:r,contentPreferencesMode:o});n.info("A new RemoteParticipant connected:",u),e._participants.set(u.sid,u),e.emit("participantConnected",u);var c=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map((function(t){var n=i(Array.isArray(t)?t:[t,t],2),r=n[0],o=n[1];function s(){var t=[].slice.call(arguments);t.unshift(o),t.push(u),e.emit.apply(e,a([],i(t)))}return u.on(r,s),[r,s]}));u.once("disconnected",(function(){var t=e.dominantSpeaker;n.info("RemoteParticipant disconnected:",u),e._participants.delete(u.sid),c.forEach((function(e){u.removeListener(e[0],e[1])})),e.emit("participantDisconnected",u),u===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)}))}e.exports=p},32472:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85166),a=n(7590),o=n(68021),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},u=function(e){function t(){return e.call(this,"closed",s)||this}return r(t,e),t.prototype._close=function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)},t.prototype._connect=function(e,t,n,r,i){e.connect("PA00000000000000000000000000000000","test");var o=Promise.resolve(new a(e,"RM00000000000000000000000000000000",i));return o.cancel=function(){},o},t.prototype._open=function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)},t.prototype.close=function(){var e=this;return this.bracket("close",(function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))},t.prototype.connect=function(e,t,n,r,i){var a=this;return this.bracket("connect",(function o(s){switch(a.state){case"closed":return a._open(s).then(o.bind(null,s));case"open":return a.releaseLockCompletely(s),a._connect(e,t,n,r,i);default:throw new Error('Unexpected Signaling state "'+a.state+'"')}}))},t.prototype.createLocalParticipantSignaling=function(){return new i},t.prototype.open=function(){var e=this;return this.bracket("open",(function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))},t}(o);e.exports=u},23544:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),t}return r(t,e),t.prototype.addTrack=function(t,n,r,i){void 0===i&&(i=null);var a=this._createLocalTrackPublicationSignaling(t,n,r,i);return this._trackSendersToPublications.set(t,a),this._publicationsToTrackSenders.set(a,t),e.prototype.addTrack.call(this,a),this},t.prototype.getPublication=function(e){return this._trackSendersToPublications.get(e)||null},t.prototype.getSender=function(e){return this._publicationsToTrackSenders.get(e)||null},t.prototype.removeTrack=function(t){var n=this._trackSendersToPublications.get(t);return n?(this._trackSendersToPublications.delete(t),this._publicationsToTrackSenders.delete(n),e.prototype.removeTrack.call(this,n)&&n.stop(),n):null},t}(n(85166));e.exports=i},50402:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=this,a="data"===(t=t.clone()).kind||t.track.enabled;return(i=e.call(this,n,t.kind,a,r)||this).setTrackTransceiver(t),Object.defineProperties(i,{_updatedPriority:{value:r,writable:!0},id:{enumerable:!0,value:t.id}}),i}return r(t,e),Object.defineProperty(t.prototype,"updatedPriority",{get:function(){return this._updatedPriority},enumerable:!1,configurable:!0}),t.prototype.enable=function(t){return t="boolean"!==typeof t||t,this.trackTransceiver.track.enabled=t,e.prototype.enable.call(this,t)},t.prototype.publishFailed=function(e){return function(e,t){if(null!==e._sid||e._error)return!1;return e._error=t,!0}(this,e)&&this.emit("updated"),this},t.prototype.setPriority=function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this},t.prototype.setSid=function(t){return this._error?this:e.prototype.setSid.call(this,t)},t.prototype.stop=function(){this.trackTransceiver.stop()},t}(n(68837));e.exports=i},85166:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(68021),a=n(7427),o={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},s=function(e){function t(){var t=e.call(this,"connecting",o)||this;return Object.defineProperties(t,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),t}return r(t,e),Object.defineProperty(t.prototype,"networkQualityLevel",{get:function(){return this._networkQualityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkQualityStats",{get:function(){return this._networkQualityStats},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this},t.prototype.disconnect=function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)},t.prototype.removeTrack=function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null},t.prototype.setNetworkQualityLevel=function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new a(t):null,this.emit("networkQualityLevelChanged"))},t.prototype.connect=function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)},t.prototype.reconnecting=function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)},t}(i);e.exports=s},9330:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),t}return r(t,e),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!==typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t}(n(47465).EventEmitter);e.exports=i},72502:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return r.connect(t,n),r}return r(t,e),t}(n(85166));e.exports=i},27534:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i,a,o){var s=e.call(this,n,r,i,a)||this;return Object.defineProperties(s,{_isSwitchedOff:{value:o,writable:!0}}),s.setSid(t),s}return r(t,e),Object.defineProperty(t.prototype,"isSubscribed",{get:function(){return!!this.trackTransceiver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSwitchedOff",{get:function(){return this._isSwitchedOff},enumerable:!1,configurable:!0}),t.prototype.subscribeFailed=function(e){return this.error||(this._error=e,this.emit("updated")),this},t.prototype.setPriority=function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this},t.prototype.setSwitchedOff=function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this},t}(n(68837));e.exports=i},7590:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(9330),a=n(68021),o=n(91149),s=n(58242).buildLogLevels,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=n(89752),f=l.MediaConnectionError,d=l.MediaDTLSTransportFailedError,p=l.SignalingConnectionDisconnectedError,h=0,v={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},m=function(e){function t(t,n,r,a){var l=this;a=Object.assign({logLevel:u,RecordingSignaling:i,Timeout:o},a);var f=s(a.logLevel);l=e.call(this,"connected",v)||this;var p=a.RecordingSignaling,m=new a.Timeout((function(){l._disconnect(l._reconnectingError)}),a.sessionTimeout,!1);return Object.defineProperties(l,{_instanceId:{value:h++},_log:{value:a.log?a.log.createLog("default",l):new c("default",l,f,a.loggerName)},_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:a},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:m},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new p},sid:{enumerable:!0,value:n}}),l.on("connectionStateChanged",(function(){"failed"!==l.connectionState||["disconnected","failed"].includes(l.iceConnectionState)||l._disconnect(new d)})),l.on("iceConnectionStateChanged",(function(){return g(l)})),l.on("signalingConnectionStateChanged",(function(){return g(l)})),setTimeout((function(){return g(l)})),l}return r(t,e),t.prototype._disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)},t.prototype.toString=function(){return"[RoomSignaling #"+this._instanceId+": "+(this.localParticipant?this.localParticipant.sid:"null")+"]"},t.prototype.connectParticipant=function(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",(function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))})),this.emit("participantConnected",e),!0))},t.prototype.disconnect=function(){return this._disconnect()},t.prototype.setDominantSpeaker=function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")},t}(a);function g(e){var t;"disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState?("reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new p:new f,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))):e._sessionTimeout.clear()}e.exports=m},68837:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){var a=e.call(this)||this,o=null;return Object.defineProperties(a,{_error:{value:null,writable:!0},_isEnabled:{value:r,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return o},set:function(e){null===o&&(o=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:t}}),a}return r(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sid",{get:function(){return this._sid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackTransceiver",{get:function(){return this._trackTransceiver},enumerable:!1,configurable:!0}),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!==typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t.prototype.setTrackTransceiver=function(e){return e=e||null,this.trackTransceiver!==e&&(this._trackTransceiver=e,this.emit("updated")),this},t.prototype.setSid=function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this},t}(n(47465).EventEmitter);e.exports=i},49220:function(e,t,n){"use strict";var r=n(38156),i=n(52051),a=n(49609),o=n(1963),s=n(89752),u=s.SignalingConnectionDisconnectedError,c=s.SignalingIncomingMessageInvalidError,l=n(58242),f=l.flatMap,d=l.createRoomConnectEventPayload;e.exports=function(e,t,n,s,l,p){p=Object.assign({PeerConnectionManager:i,RoomV2:a,Transport:o},p);var h=l.video[0]&&!0===l.video[0].adaptiveSimulcast,v=p.PeerConnectionManager,m=p.RoomV2,g=p.Transport,y=p.iceServers,b=p.log,x=new v(s,l,p),k=f(n.tracks,(function(e){return[e.trackTransceiver]}));x.setTrackSenders(k);var w,_=new Error("Canceled"),S=new r((function(r,i,a){var o=p.automaticSubscription,s=p.bandwidthProfile,l=p.dominantSpeaker,f=p.environment,v=p.eventObserver,k=p.loggerName,S=p.logLevel,T=p.name,C=p.networkMonitor,E=p.networkQuality,O=p.notifyWarnings,A=p.realm,I=p.sdpSemantics,R=!!s,N=!!s,P=!!s&&("disabled"!==p.clientTrackSwitchOffControl||"disabled"!==p.contentPreferencesMode),M=Object.assign({adaptiveSimulcast:h,automaticSubscription:o,dominantSpeaker:l,environment:f,eventObserver:v,loggerName:k,logLevel:S,networkMonitor:C,networkQuality:E,notifyWarnings:O,iceServers:y,onIced:function(e){return a()?(i(_),Promise.reject(_)):(b.debug("Got ICE servers:",e),p.iceServers=e,x.setConfiguration(p),x.createAndOffer().then((function(){if(a())throw i(_),_;b.debug("createAndOffer() succeeded."),x.dequeue("description")})).catch((function(e){throw b.error("createAndOffer() failed:",e),i(e),e})))},realm:A,renderHints:P,sdpSemantics:I,trackPriority:R,trackSwitchOff:N},s?{bandwidthProfile:s}:{});w=new g(T,e,n,x,t,M);var D=d(p);v.emit("event",D),w.once("connected",(function(e){(b.debug("Transport connected:",e),a())?i(_):e.participant?r(new m(n,e,w,x,p)):i(new c)})),w.once("stateChanged",(function(e,t){"disconnected"===e?(w=null,i(t||new u)):b.debug("Transport state changed:",e)}))}),(function(){w&&(w.disconnect(),w=null)}));return S.catch((function(){w&&(w.disconnect(),w=null),x.close()})),S}},84253:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"active_speaker",n)||this;return Object.defineProperties(r,{_loudestParticipantSid:{value:null,writable:!0}}),r.on("ready",(function(e){e.on("message",(function(e){if("active_speaker"===e.type)r._setLoudestParticipantSid(e.participant)}))})),r}return r(t,e),Object.defineProperty(t.prototype,"loudestParticipantSid",{get:function(){return this._loudestParticipantSid},enumerable:!1,configurable:!0}),t.prototype._setLoudestParticipantSid=function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))},t}(n(85663));e.exports=i},82034:function(e,t,n){"use strict";var r=n(93307),i=function(){function e(){Object.defineProperties(this,{_filter:{value:new r({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return e.prototype.setUfrag=function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},e.prototype.update=function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]},e}();e.exports=i},50474:function(e,t,n){"use strict";var r=n(24657),i=r.ICE_ACTIVITY_CHECK_PERIOD_MS,a=r.ICE_INACTIVITY_THRESHOLD_MS,o=function(){function e(e,t){t=Object.assign({activityCheckPeriodMs:i,inactivityThresholdMs:a},t),Object.defineProperties(this,{_activityCheckPeriodMs:{value:t.activityCheckPeriodMs},_inactivityThresholdMs:{value:t.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:e},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return e.prototype._getActivePairStat=function(e){return Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}))||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}},e.prototype._getIceConnectionStats=function(){var e=this;return this._peerConnection.getStats().then((function(t){return e._getActivePairStat(t)})).catch((function(){return null}))},e.prototype._scheduleInactivityCallback=function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)},e.prototype.start=function(e){var t=this;this.stop(),this._timer=setInterval((function(){t._getIceConnectionStats().then((function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))}))}),this._activityCheckPeriodMs)},e.prototype.stop=function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)},e}();e.exports=o},68179:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(49220),a=n(57175),o=function(e){function t(t,n){var r;return n=Object.assign({createCancelableRoomSignalingPromise:i},n),r=e.call(this)||this,Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:t}}),r}return r(t,e),t.prototype._connect=function(e,t,n,r,i){return i=Object.assign({},this._options,i),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,r,i)},t.prototype.createLocalParticipantSignaling=function(e,t){return new a(e,t)},t}(n(32472));e.exports=o},57175:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(23544),a=n(98803),o=n(24657).DEFAULT_LOG_LEVEL,s=n(41547),u=n(58242),c=u.buildLogLevels,l=u.isDeepEqual,f=function(e){function t(t,n,r){var i;r=Object.assign({logLevel:o,LocalTrackPublicationV2:a},r),i=e.call(this)||this;var u=c(r.logLevel);return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:t},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:r.LocalTrackPublicationV2},_log:{value:r.log?r.log.createLog("default",i):new s("default",i,u,r.loggerName)},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},audioProcessors:{value:[],writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return r(t,e),t.prototype.toString=function(){return"[LocalParticipantSignaling: "+this.sid+"]"},t.prototype.setSignalingRegion=function(e){this._signalingRegion||(this._signalingRegion=e)},t.prototype.setBandwidthProfile=function(e){l(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())},t.prototype.setAudioProcessors=function(e){this.audioProcessors=e},t.prototype.getParameters=function(){return this._encodingParameters},t.prototype.setParameters=function(e){return this._encodingParameters.update(e),this},t.prototype.update=function(e){return this._publishedRevision>=e.revision||(this._publishedRevision=e.revision,e.tracks.forEach((function(e){var t=this.tracks.get(e.id);t&&t.update(e)}),this)),this},t.prototype.updateMediaStates=function(e){return e&&e.tracks?(Array.from(this.tracks.values()).forEach((function(t){var n=e.tracks[t.sid];n&&t.updateMediaStates(n)})),this):this},t.prototype._createLocalTrackPublicationSignaling=function(e,t,n,r){return new this._LocalTrackPublicationV2(e,t,n,r,{log:this._log})},t.prototype.addTrack=function(t,n,r,i){var a=this;e.prototype.addTrack.call(this,t,n,r,i);var o=this.getPublication(t),s=o.isEnabled,u=o.updatedPriority,c=function(){s===o.isEnabled&&u===o.updatedPriority||(a.didUpdate(),s=o.isEnabled,u=o.updatedPriority)};return o.on("updated",c),this._removeListener(o),this._removeListeners.set(o,(function(){return o.removeListener("updated",c)})),this.didUpdate(),this},t.prototype._removeListener=function(e){var t=this._removeListeners.get(e);t&&t()},t.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map((function(e){return e.getState()}))}},t.prototype.didUpdate=function(){this._revision++,this.emit("updated")},t.prototype.removeTrack=function(t){var n=e.prototype.removeTrack.call(this,t);return n&&(t.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n},t.prototype.setNetworkQualityConfiguration=function(e){this.networkQualityConfiguration.update(e)},t.prototype.setPublisherHint=function(e,t){var n=Array.from(this.tracks.values()).find((function(t){return t.sid===e}));return n?n.trackTransceiver.setPublisherHint(t):(this._log.warn("track:"+e+" not found"),Promise.resolve("UNKNOWN_TRACK"))},t}(i);e.exports=f},98803:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(50402),a=n(94438),o=n(89752).createTwilioError,s=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return Object.defineProperties(o,{_log:{value:a.log.createLog("default",o)},_mediaStates:{value:{recordings:null},writable:!0},_noiseCancellationVendor:{value:i}}),o}return r(t,e),t.prototype.getState=function(){var e={enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority};return this._noiseCancellationVendor&&(e.audio_processor=this._noiseCancellationVendor),e},t.prototype.toString=function(){return"[LocalTrackPublicationV2: "+this.sid+"]"},t.prototype.update=function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(o(t.code,t.message))}return this},t.prototype.updateMediaStates=function(e){if(!e||!e.recordings||this._mediaStates.recordings===e.recordings)return this;switch(this._mediaStates.recordings=e.recordings,this._mediaStates.recordings){case"OK":this._log.info("Warnings have cleared."),this.emit("warningsCleared");break;case"NO_MEDIA":this._log.warn("Recording media lost."),this.emit("warning",a.recordingMediaLost);break;default:this._log.warn("Unknown media state detected: "+this._mediaStates.recordings)}return this},t}(i);e.exports=s},85663:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465),a=0,o=function(e){function t(t,n,r){var i=e.call(this)||this;return Object.defineProperties(i,{_instanceId:{value:a++},channel:{value:n},_log:{value:r.log.createLog("default",i)},_getReceiver:{value:t},_receiverPromise:{value:null,writable:!0},_transport:{value:null,writable:!0}}),i}return r(t,e),Object.defineProperty(t.prototype,"isSetup",{get:function(){return!!this._receiverPromise},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[MediaSignaling #"+this._instanceId+":"+this.channel+"]"},t.prototype.setup=function(e){var t=this;this._teardown(),this._log.info("setting up msp transport for id:",e);var n=this._getReceiver(e).then((function(e){if("data"!==e.kind&&t._log.error("Expected a DataTrackReceiver"),t._receiverPromise===n){try{t._transport=e.toDataTransport(),t.emit("ready",t._transport)}catch(r){t._log.error("Failed to toDataTransport: "+r.message)}e.once("close",(function(){return t._teardown()}))}}));this._receiverPromise=n},t.prototype._teardown=function(){this._transport&&(this._log.info("Tearing down"),this._transport=null,this._receiverPromise=null,this.emit("teardown"))},t}(i);e.exports=o},11330:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(47465),o=n(37809),s=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{_factories:{value:new WeakMap},_manager:{value:t},_signaling:{value:n}}),n.on("updated",(function(){return r.emit("updated")})),r}return r(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._signaling.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._signaling.levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._signaling.remoteLevels},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=this;this.stop();var t=setTimeout((function(){e._timeout===t&&function(e){var t=(e._manager._peerConnections?Array.from(e._manager._peerConnections.values()):[]).map((function(e){return e._peerConnection})).filter((function(e){return"closed"!==e.signalingState})).map((function(t){if(e._factories.has(t))return e._factories.get(t);var n=new o(t);return e._factories.set(t,n),n})).map((function(e){return e.next().catch((function(){return null}))}));return Promise.all(t).then((function(e){return e.filter((function(e){return e})).map((function(e){return e.summarize()}))}))}(e).then((function(n){if(e._timeout===t){if(n.length){var r=i(n,1)[0];e._signaling.put(r)}e.start()}}))}),200);this._timeout=t},t.prototype.stop=function(){clearTimeout(this._timeout),this._timeout=null},t}(a);e.exports=s},4721:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=n(14477),o=n(91149),s=function(e){function t(t,n,r){var i=e.call(this,t,"network_quality",r)||this;return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_networkQualityInputs:{value:new a},_resendTimer:{value:new o((function(){i._resendTimer.setDelay(1.5*i._resendTimer.delay),i._sendNetworkQualityInputs()}),5e3,!1)},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),i.on("ready",(function(e){e.on("message",(function(e){if(i._log.debug("Incoming: ",e),"network_quality"===e.type)i._handleNetworkQualityMessage(e)}))})),i._sendNetworkQualityInputs(),i}return r(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._remoteLevels},enumerable:!1,configurable:!0}),t.prototype._handleNetworkQualityMessage=function(e){var t=this,n=!1,r=null,i=e?e.local:null;"number"===typeof i?(r=i,this._levels=null):"object"===typeof i&&i&&(this._levels=i,r="number"===typeof i.level?i.level:Math.min(i.audio.send,i.audio.recv,i.video.send,i.video.recv)),null!==r&&this.level!==r&&(this._level=r,n=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce((function(e,r){return(t._remoteLevels.get(r.sid)||{}).level!==r.level&&(n=!0),e.set(r.sid,r)}),new Map):this._remoteLevels,n&&this.emit("updated"),this._resendTimer.setDelay(5e3),this._resendTimer.isSet&&setTimeout((function(){return t._sendNetworkQualityInputs()}),1e3)},t.prototype._sendNetworkQualityInputs=function(){var e=this;return this._resendTimer.clear(),this._networkQualityInputs.take().then((function(t){e._transport&&e._transport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))})).finally((function(){e._resendTimer.start()}))},t.prototype.put=function(e){this._networkQualityInputs.put(e)},t}(i);e.exports=s},14014:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(26937),s=n(25409),u=s.RTCIceCandidate,c=s.RTCPeerConnection,l=s.RTCSessionDescription,f=s.getStats,d=n(73348),p=n(24657),h=p.DEFAULT_ICE_GATHERING_TIMEOUT_MS,v=p.DEFAULT_LOG_LEVEL,m=p.DEFAULT_SESSION_TIMEOUT_SEC,g=p.iceRestartBackoffConfig,y=n(2283),b=y.addOrRewriteNewTrackIds,x=y.addOrRewriteTrackIds,k=y.createCodecMapForMediaSection,w=y.disableRtx,_=y.enableDtxForOpus,S=y.filterLocalCodecs,T=y.getMediaSections,C=y.removeSSRCAttributes,E=y.revertSimulcast,O=y.setCodecPreferences,A=y.setSimulcast,I=n(91149),R=n(89752),N=R.MediaClientLocalDescFailedError,P=R.MediaClientRemoteDescFailedError,M=n(58242),D=M.buildLogLevels,j=M.getPlatform,L=M.isChromeScreenShareTrack,F=M.oncePerTick,Z=M.defer,B=n(82034),U=n(50474),V=n(34103),z=n(19811),W=n(68021),H=n(41547),G=n(51173),q=n(93202),K=d.guessBrowser(),Y=j(),X=/android/.test(Y),Q="chrome"===K,J="firefox"===K,$="safari"===K,ee=0,te={open:["closed","updating"],updating:["closed","open"],closed:[]},ne=function(e){function t(t,n,r,i){var a=e.call(this,"open",te)||this,s=oe(i=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:L,iceServers:[],logLevel:v,offerOptions:{},revertSimulcast:E,sessionTimeout:1e3*m,setCodecPreferences:O,setSimulcast:A,Backoff:o,IceConnectionMonitor:U,RTCIceCandidate:u,RTCPeerConnection:c,RTCSessionDescription:l,Timeout:I},i)),f=D(i.logLevel),d=i.RTCPeerConnection;!0===i.enableDscp&&(i.chromeSpecificConstraints=i.chromeSpecificConstraints||{},i.chromeSpecificConstraints.optional=i.chromeSpecificConstraints.optional||[],i.chromeSpecificConstraints.optional.push({googDscp:!0}));var p=i.log?i.log.createLog("webrtc",a):new H("webrtc",a,f,i.loggerName),y=new d(s,i.chromeSpecificConstraints);i.dummyAudioMediaStreamTrack&&y.addTrack(i.dummyAudioMediaStreamTrack),Object.defineProperties(a,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:i.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:i.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new i.Timeout((function(){return a._handleIceGatheringTimeout()}),h,!1)},_iceRestartBackoff:{value:new i.Backoff(g)},_instanceId:{value:++ee},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_log:{value:p},_eventObserver:{value:i.eventObserver},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_rtpNewSenders:{value:new Set},_iceConnectionMonitor:{value:new i.IceConnectionMonitor(y)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:i.offerOptions},_onEncodingParametersChanged:{value:F((function(){a._needsAnswer||ce(a)}))},_peerConnection:{value:y},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplyDtx:{value:r.audio.every((function(e){return"opus"!==e.codec}))||r.audio.some((function(e){var t=e.codec,n=e.dtx;return"opus"===t&&n}))},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new i.Timeout((function(){p.debug("ICE reconnect timed out"),a.close()}),i.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new B},_setCodecPreferences:{value:J&&X&&r.video[0]&&"h264"!==r.video[0].codec.toLowerCase()?function(e){return e}:i.setCodecPreferences},_setSimulcast:{value:i.setSimulcast},_revertSimulcast:{value:i.revertSimulcast},_RTCIceCandidate:{value:i.RTCIceCandidate},_RTCPeerConnection:{value:i.RTCPeerConnection},_RTCSessionDescription:{value:i.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},_mediaTrackSenderToPublisherHints:{value:new Map},id:{enumerable:!0,value:t}}),n.on("changed",a._onEncodingParametersChanged),y.addEventListener("connectionstatechange",a._handleConnectionStateChange.bind(a)),y.addEventListener("datachannel",a._handleDataChannelEvent.bind(a)),y.addEventListener("icecandidate",a._handleIceCandidateEvent.bind(a)),y.addEventListener("iceconnectionstatechange",a._handleIceConnectionStateChange.bind(a)),y.addEventListener("icegatheringstatechange",a._handleIceGatheringStateChange.bind(a)),y.addEventListener("signalingstatechange",a._handleSignalingStateChange.bind(a)),y.addEventListener("track",a._handleTrackEvent.bind(a));var b=a;return a.on("stateChanged",(function e(t){"closed"===t&&(b.removeListener("stateChanged",e),b._dataChannels.forEach((function(e,t){b.removeDataTrackSender(t)})))})),a}return r(t,e),t.prototype.toString=function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"},t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._log.debug("Setting setEffectiveAdaptiveSimulcast: ",e),this._preferredVideoCodecs.forEach((function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)}))},Object.defineProperty(t.prototype,"_shouldApplySimulcast",{get:function(){return!(!Q&&!$)&&this._preferredVideoCodecs.some((function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast&&!1!==e.adaptiveSimulcast}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isApplicationSectionNegotiated",{get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&T(this._peerConnection.localDescription.sdp,"application").length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isAdaptiveSimulcastEnabled",{get:function(){var e=this._preferredVideoCodecs.find((function(e){return"adaptiveSimulcast"in e}));return e&&!0===e.adaptiveSimulcast},enumerable:!1,configurable:!0}),t.prototype._maybeUpdateEncodings=function(e,t,n){if(void 0===n&&(n=!1),"video"!==e.kind||"ended"===e.readyState)return!1;var r=e.getSettings(),i=r.height,a=r.width;if("number"!==typeof i||"number"!==typeof a)return!1;var o=d.guessBrowser();return!!("safari"===o||"chrome"===o&&this._isAdaptiveSimulcastEnabled)&&(this._updateEncodings(e,t,n),!0)},t.prototype._updateEncodings=function(e,t,n){if(this._isChromeScreenShareTrack(e)){var r=[{scaleResolutionDownBy:1},{scaleResolutionDownBy:1}];t.forEach((function(e,t){var i=r[t];i?(e.scaleResolutionDownBy=i.scaleResolutionDownBy,n&&delete e.active):(e.active=!1,delete e.scaleResolutionDownBy)}))}else{var i=e.getSettings(),a=i.width*i.height,o=[{pixels:518400,maxActiveLayers:3},{pixels:129600,maxActiveLayers:2},{pixels:0,maxActiveLayers:1}].find((function(e){return a>=e.pixels})),s=Math.min(t.length,o.maxActiveLayers);t.forEach((function(e,t){t<s?(e.scaleResolutionDownBy=1<<s-t-1,n&&(e.active=!0)):(e.active=!1,delete e.scaleResolutionDownBy)}))}this._log.debug("_updateEncodings:",t.map((function(e,t){return"["+t+": "+e.active+", "+(e.scaleResolutionDownBy||0)+"]"})).join(", "))},t.prototype._addIceCandidate=function(e){var t=this;return Promise.resolve().then((function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)})).catch((function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)}))},t.prototype._addIceCandidates=function(e){return Promise.all(e.map(this._addIceCandidate,this)).then((function(){}))},t.prototype._addOrUpdateTransceiver=function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map((function(e){return e.codec.toLowerCase()})),video:e._preferredVideoCodecs.map((function(e){return e.codec.toLowerCase()}))}[t],r=e._recycledTransceivers[t],i=n.find((function(t){return e._localCodecs.has(t)}));if(!i)return r.shift();var a=r.find((function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(i)}));a&&r.splice(r.indexOf(a),1);return a}(this,e.kind);if(n&&n.sender){var r=n.sender.track?n.sender.track.id:null;return r&&this._log.warn("Reusing transceiver: "+n.mid+"] "+r+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then((function(){n.direction="sendrecv"}),(function(){})).finally((function(){t._replaceTrackPromises.delete(n)}))),n}return this._peerConnection.addTransceiver(e)},t.prototype._checkIceBox=function(e){var t=ae(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)},t.prototype._answer=function(e){var t=this;return Promise.resolve().then((function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)})).catch((function(){throw new P})).then((function(){return t._peerConnection.createAnswer()})).then((function(n){n=J?new t._RTCSessionDescription({sdp:w(n.sdp),type:n.type}):q(n);var r=C(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var i=r;r=t._setSimulcast(i,t._trackIdsToAttributes),r=t._revertSimulcast(r,i,e.sdp)}return r=r.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:r})})).then((function(){return t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)})).catch((function(e){var n=e instanceof P?e:new N;throw t._publishMediaWarning({message:"Failed to _answer",code:n.code,error:e}),n}))},t.prototype._close=function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0)},t.prototype._handleConnectionStateChange=function(){this.emit("connectionStateChanged")},t.prototype._handleDataChannelEvent=function(e){var t=this,n=e.channel,r=new V(n);this._dataTrackReceivers.add(r),n.addEventListener("close",(function(){t._dataTrackReceivers.delete(r)})),this.emit("trackAdded",r)},t.prototype._handleGlare=function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then((function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})})).then((function(){return t._needsAnswer=!1,t._answer(e)})).then((function(e){return e?Promise.resolve():t._offer()}))},t.prototype._publishMediaWarning=function(e){var t=e.message,n=e.code,r=e.error,i=e.sdp;this._eventObserver.emit("event",{level:"warning",name:"error",group:"media",payload:{message:t,code:n,context:JSON.stringify({error:r.message,sdp:i})}})},t.prototype._handleIceCandidateEvent=function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))},t.prototype._handleIceConnectionStateChange=function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),r=this._log;r.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&r.debug("ICE reconnected"):(r.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start((function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(r.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))}))):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")},t.prototype._handleIceGatheringTimeout=function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")},t.prototype._handleIceGatheringStateChange=function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout,r=n.delay,i=n.isSet;"gathering"!==e||this._didGenerateLocalCandidates||i||(t.debug("Starting ICE gathering timeout: "+r),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())},t.prototype._handleSignalingStateChange=function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))},t.prototype._handleTrackEvent=function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher=this._trackMatcher||new G,this._trackMatcher.update(n);var r=e.track,i=this._trackMatcher.match(e)||r.id,a=new z(i,r);this._mediaTrackReceivers.forEach((function(e){e.track.id===a.track.id&&t._mediaTrackReceivers.delete(e)})),this._mediaTrackReceivers.add(a),r.addEventListener("ended",(function(){return t._mediaTrackReceivers.delete(a)})),this.emit("trackAdded",a)},t.prototype._initiateIceRestart=function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout,n=t.delay;t.isSet||(e.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer().catch((function(t){e.error("offer failed in _initiateIceRestart with: "+t.message)}))}},t.prototype._initiateIceRestartBackoff=function(){var e=this;"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff((function(){return e._initiateIceRestart()})))},t.prototype._maybeReoffer=function(e){var t=this._shouldOffer;if(e&&e.sdp){var n=this._peerConnection.getSenders().filter((function(e){return e.track}));t=["audio","video"].reduce((function(t,r){var i=T(e.sdp,r,"(sendrecv|sendonly)"),a=n.filter(se.bind(null,r));return t||i.length<a.length}),t);var r=this._dataChannels.size>0,i=T(e.sdp,"application").length>0;t=t||r&&!i}return(t?this._offer():Promise.resolve()).then((function(){return t}))},t.prototype._offer=function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then((function(){return e._peerConnection.createOffer(t)})).catch((function(t){var n=new N;throw e._publishMediaWarning({message:"Failed to create offer",code:n.code,error:t}),n})).then((function(t){t=J?new e._RTCSessionDescription({sdp:w(t.sdp),type:t.type}):q(t);var n=C(t.sdp,["mslabel","label"]);n=e._peerConnection.remoteDescription?S(n,e._peerConnection.remoteDescription.sdp):n;var r=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:r},r=e._setSimulcast(r,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:r})}))},t.prototype._getMediaTrackSenderId=function(e){var t=Array.from(this._rtpSenders.keys()).find((function(t){return t.track.id===e}));return t?t.id:e},t.prototype._addOrRewriteLocalTrackIds=function(e){var t=this,n=this._peerConnection.getTransceivers().filter((function(e){var t=e.sender;return!e.stopped&&t&&t.track})),r=n.filter((function(e){return e.mid})),i=new Map(r.map((function(e){var n=e.mid,r=e.sender;return[n,t._getMediaTrackSenderId(r.track.id)]}))),a=x(e.sdp,i),o=n.filter((function(e){return!e.mid})),s=new Map(["audio","video"].map((function(e){return[e,o.filter((function(t){return t.sender.track.kind===e})).map((function(e){var n=e.sender;return t._getMediaTrackSenderId(n.track.id)}))]}))),u=b(a,i,s);return new this._RTCSessionDescription({sdp:u,type:e.type})},t.prototype._rollbackAndApplyOffer=function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then((function(){return t._setLocalDescription(e)}))},t.prototype._setLocalDescription=function(e){var t=this;return"rollback"!==e.type&&this._shouldApplyDtx&&(e=new this._RTCSessionDescription({sdp:_(e.sdp),type:e.type})),this._peerConnection.setLocalDescription(e).catch((function(n){t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n);var r=new N,i={message:'Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n};throw e.sdp&&(t._log.warn("The SDP was "+e.sdp),i.sdp=e.sdp),t._publishMediaWarning(i),r})).then((function(){"rollback"!==e.type&&(t._localDescription=t._addOrRewriteLocalTrackIds(e),t._shouldApplyDtx&&(t._localDescription=new t._RTCSessionDescription({sdp:_(t._localDescription.sdp,[]),type:t._localDescription.type})),t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ue(t)),t._localUfrag=ae(e),t.emit("description",t.getState()))}))},t.prototype._setRemoteDescription=function(e){var t=this;return e.sdp&&(e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?e.sdp=_(e.sdp):e.sdp=_(e.sdp,[]),J&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then((function(){if("answer"===e.type&&t._localDescriptionWithoutSimulcast){var n=t._preferredVideoCodecs.find((function(e){return"adaptiveSimulcast"in e})),r=!!n&&!1===n.adaptiveSimulcast,i=t._revertSimulcast(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp,r);if(t._localDescriptionWithoutSimulcast=null,i!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:i})}})).then((function(){return t._peerConnection.setRemoteDescription(e)})).then((function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ue(t))}),(function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n),e.sdp&&t._log.warn("The SDP was "+e.sdp),n}))},t.prototype._updateDescription=function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then((function(){})))}var n=e.revision;return Promise.resolve().then((function(){return t._setRemoteDescription(e)})).catch((function(n){var r=new P;throw t._publishMediaWarning({message:'Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n,sdp:e.sdp}),r})).then((function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then((function(){}))}))},t.prototype._updateIce=function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)},t.prototype.addDataTrackSender=function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(r){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+r.message)}},t.prototype._handleQueuedPublisherHints=function(){var e=this;"stable"===this._peerConnection.signalingState&&this._mediaTrackSenderToPublisherHints.forEach((function(t,n){var r=t.deferred,i=t.encodings;e._mediaTrackSenderToPublisherHints.delete(n),e._setPublisherHint(n,i).then((function(e){return r.resolve(e)})).catch((function(e){return r.reject(e)}))}))},t.prototype._setPublisherHint=function(e,t){var n=this;if(J)return Promise.resolve("COULD_NOT_APPLY_HINT");this._mediaTrackSenderToPublisherHints.has(e)&&(this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("REQUEST_SKIPPED"),this._mediaTrackSenderToPublisherHints.delete(e));var r=this._rtpSenders.get(e);if(!r)return this._log.warn("Could not apply publisher hint because RTCRtpSender was not found"),Promise.resolve("UNKNOWN_TRACK");if("closed"===this._peerConnection.signalingState)return this._log.warn('Could not apply publisher hint because signalingState was "closed"'),Promise.resolve("COULD_NOT_APPLY_HINT");if("stable"!==this._peerConnection.signalingState){this._log.debug("Queuing up publisher hint because signalingState:",this._peerConnection.signalingState);var i=Z();return this._mediaTrackSenderToPublisherHints.set(e,{deferred:i,encodings:t}),i.promise}var a=r.getParameters();return null!==t&&t.forEach((function(e){var t=e.enabled,r=e.layer_index;a.encodings.length>r?(n._log.debug("layer:"+r+", active:"+a.encodings[r].active+" => "+t),a.encodings[r].active=t):n._log.warn("invalid layer:"+r+", active:"+t)})),this._maybeUpdateEncodings(r.track,a.encodings,null===t),r.setParameters(a).then((function(){return"OK"})).catch((function(e){return n._log.error("Failed to apply publisher hints:",e),"COULD_NOT_APPLY_HINT"}))},t.prototype.addMediaTrackSender=function(e){var t=this;if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var n=this._addOrUpdateTransceiver(e.track).sender;e.addSender(n,(function(n){return t._setPublisherHint(e,n)})),this._rtpNewSenders.add(n),this._rtpSenders.set(e,n)}},t.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},t.prototype.getTrackReceivers=function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))},t.prototype.getState=function(){if(!this._localDescription)return null;var e="answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision,t={type:this._localDescription.type,revision:e};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}},t.prototype.offer=function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",(function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then((function(){e.tryTransition("open",t)}),(function(n){throw e.tryTransition("open",t),n}))}))},t.prototype.removeDataTrackSender=function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())},t.prototype.removeMediaTrackSender=function(e){var t=this._rtpSenders.get(e);if(t){if("closed"!==this._peerConnection.signalingState&&this._peerConnection.removeTrack(t),e.removeSender(t),this._mediaTrackSenderToPublisherHints.has(e))this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("UNKNOWN_TRACK"),this._mediaTrackSenderToPublisherHints.delete(e);this._rtpNewSenders.delete(t),this._rtpSenders.delete(e)}},t.prototype.setConfiguration=function(e){"function"===typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(oe(e))},t.prototype.setIceReconnectTimeout=function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this},t.prototype.update=function(e){var t=this;return this.bracket("updating",(function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then((function(){t.tryTransition("open",n)}),(function(e){throw t.tryTransition("open",n),e}))}))},t.prototype.getStats=function(){var e=this;return f(this._peerConnection).then((function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map((function(t){return ie(e,t)})),remoteVideoTrackStats:t.remoteVideoTrackStats.map((function(t){return ie(e,t)})),localAudioTrackStats:t.localAudioTrackStats.map((function(t){return re(e,t)})),localVideoTrackStats:t.localVideoTrackStats.map((function(t){return re(e,t)}))})}(e,t)}))},t}(W);function re(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function ie(e,t){var n=a([],i(e._mediaTrackReceivers)).find((function(e){return e.track.id===t.trackId})),r=n?n.id:null;return Object.assign(t,{trackId:r})}function ae(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function oe(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function se(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}function ue(e){!function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach((function(t){if(function(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)}(t,e)){var n=t.receiver.track;e._recycledTransceivers[n.kind].push(t)}}))}(e),function(e){var t=e._peerConnection.localDescription;t&&t.sdp&&T(t.sdp).forEach((function(t){k(t).forEach((function(t,n){return e._localCodecs.add(n)}))}))}(e),function(e){var t=e._peerConnection.remoteDescription;t&&t.sdp&&T(t.sdp).forEach((function(t){var n=t.match(/^a=mid:(.+)$/m);if(n&&n[1]){var r=n[1],i=k(t);e._remoteCodecMaps.set(r,i)}}))}(e),ce(e).then((function(){e._handleQueuedPublisherHints()}))}function ce(e){var t=e._encodingParameters,n=t.maxAudioBitrate,r=t.maxVideoBitrate,i=new Map([["audio",n],["video",r]]),a=[];return e._peerConnection.getSenders().filter((function(e){return e.track})).forEach((function(t){var n=i.get(t.track.kind),r=t.getParameters();null===n||0===n?function(e){Array.isArray(e.encodings)&&e.encodings.forEach((function(e){return delete e.maxBitrate}))}(r):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){J?e.encodings=[{maxBitrate:t}]:e.encodings.forEach((function(e){e.maxBitrate=t}))}(r,n),!J&&r.encodings.length>0&&("audio"===t.track.kind?r.encodings[0].priority="high":e._isChromeScreenShareTrack(t.track)&&(r.encodings[0].priority="medium"),e._enableDscp&&(r.encodings[0].networkPriority="high"));var o=e._rtpNewSenders.has(t);e._maybeUpdateEncodings(t.track,r.encodings,o),e._rtpNewSenders.delete(t);var s=t.setParameters(r).catch((function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))}));a.push(s)})),Promise.all(a)}e.exports=ne},52051:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(73348).guessBrowser,s=n(14014),u=n(4742),c=n(16233),l=n(58242),f=n(89752).MediaConnectionError,d="firefox"===o(),p=function(e){function t(t,r,i){var a=e.call(this)||this,o=(i=Object.assign({audioContextFactory:d?n(63074):null,PeerConnectionV2:s},i)).audioContextFactory?i.audioContextFactory.getOrCreate(a):null,c=o?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(a,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:l.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:o?new u(h(o)):null},_encodingParameters:{value:t},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:c},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),a}return r(t,e),t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._peerConnections.forEach((function(t){return t.setEffectiveAdaptiveSimulcast(e)})),this._preferredCodecs.video.forEach((function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)}))},Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._closeAbsentPeerConnections=function(e){var t=new Set(e.map((function(e){return e.id})));return this._peerConnections.forEach((function(e){t.has(e.id)||e._close()})),this},t.prototype._getConfiguration=function(){return this._configurationDeferred.promise},t.prototype._getOrCreate=function(e,t){var n=this,r=this,i=this._peerConnections.get(e);if(!i){var a=this._PeerConnectionV2,o=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{i=new a(e,this._encodingParameters,this._preferredCodecs,o)}catch(s){throw new f}this._peerConnections.set(i.id,i),i.on("candidates",this.queue.bind(this,"candidates")),i.on("description",this.queue.bind(this,"description")),i.on("trackAdded",this.queue.bind(this,"trackAdded")),i.on("stateChanged",(function e(t){"closed"===t&&(i.removeListener("stateChanged",e),r._dataTrackSenders.forEach((function(e){return i.removeDataTrackSender(e)})),r._mediaTrackSenders.forEach((function(e){return i.removeMediaTrackSender(e)})),r._peerConnections.delete(i.id),r._closedPeerConnectionIds.add(i.id),k(r),x(r))})),i.on("connectionStateChanged",(function(){return k(n)})),i.on("iceConnectionStateChanged",(function(){return x(n)})),this._dataTrackSenders.forEach(i.addDataTrackSender,i),this._mediaTrackSenders.forEach(i.addMediaTrackSender,i),x(this)}return i},t.prototype.close=function(){return this._peerConnections.forEach((function(e){e.close()})),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),x(this),this},t.prototype.createAndOffer=function(){var e=this;return this._getConfiguration().then((function(t){var n;do{n=l.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)})).then((function(e){return e.offer()})).then((function(){return e}))},t.prototype.getTrackReceivers=function(){return l.flatMap(this._peerConnections,(function(e){return e.getTrackReceivers()}))},t.prototype.getStates=function(){var e=[];return this._peerConnections.forEach((function(t){var n=t.getState();n&&e.push(n)})),e},t.prototype.setConfiguration=function(e){return this._configuration&&(this._configurationDeferred=l.defer(),this._peerConnections.forEach((function(t){t.setConfiguration(e)}))),this._configuration=e,this._configurationDeferred.resolve(e),this},t.prototype.setIceReconnectTimeout=function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach((function(t){t.setIceReconnectTimeout(e)})),this._sessionTimeout=e),this},t.prototype.setTrackSenders=function(e){var t=new Set(e.filter((function(e){return"data"===e.kind}))),n=new Set(e.filter((function(e){return e&&("audio"===e.kind||"video"===e.kind)}))),r=function(e,t,n){return{data:v(e,t),media:m(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach((function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()}))}(this,r),this},t.prototype.update=function(e,t){var n=this;return void 0===t&&(t=!1),t&&this._closeAbsentPeerConnections(e),this._getConfiguration().then((function(t){return Promise.all(e.map((function(e){return n._closedPeerConnectionIds.has(e.id)?null:n._getOrCreate(e.id,t).update(e)})))})).then((function(){return n}))},t.prototype.getStats=function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map((function(e){return e.getStats().then((function(t){return[e.id,t]}))}))).then((function(e){return new Map(e)}))},t}(c);function h(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}function v(e,t){return{add:l.difference(t,e._dataTrackSenders),remove:l.difference(e._dataTrackSenders,t)}}function m(e,t){return{add:l.difference(t,e._mediaTrackSenders),remove:l.difference(e._mediaTrackSenders,t)}}var g,y={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3};function b(e){return e.length?(g=g||Object.keys(y).reduce((function(e,t){var n;return Object.assign(e,((n={})[y[t]]=t,n))}),{}),e.reduce((function(e,t){return g[Math.max(y[e],y[t])]}))):"new"}function x(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=b(a([],i(e._peerConnections.values())).map((function(e){return e.iceConnectionState}))),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function k(e){e._lastConnectionState=e.connectionState,e._connectionState=b(a([],i(e._peerConnections.values())).map((function(e){return e.connectionState}))),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=p},7684:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=1,o=function(e){function t(t,n){var r=e.call(this,t,"publisher_hints",n)||this;return r.on("ready",(function(e){r._log.debug("publisher_hints transport ready:",e),e.on("message",(function(e){if(r._log.debug("Incoming: ",e),"publisher_hints"===e.type)e.publisher&&e.publisher.hints&&e.publisher.id&&r._processPublisherHints(e.publisher.hints,e.publisher.id);else r._log.warn("Unknown message type: ",e.type)}))})),r}return r(t,e),t.prototype.sendTrackReplaced=function(e){var t=e.trackSid;if(this._transport){var n={type:"client_reset",track:t,id:a++};this._log.debug("Outgoing: ",n),this._transport.publish(n)}},t.prototype.sendHintResponse=function(e){var t=e.id,n=e.hints;if(this._transport){var r={type:"publisher_hints",id:t,hints:n};this._log.debug("Outgoing: ",r),this._transport.publish(r)}},t.prototype._processPublisherHints=function(e,t){try{this.emit("updated",e,t)}catch(n){this._log.error("error processing hints:",n)}},t}(i);e.exports=o},20437:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_revision:{value:1,writable:!0}}),t}return r(t,e),t.prototype.update=function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.is_recording))},t}(n(9330));e.exports=i},46061:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(72502),a=n(88439),o=function(e){function t(t,n,r,i,o,s){var u=e.call(this,t.sid,t.identity)||this;return s=Object.assign({RemoteTrackPublicationV2:a},s),Object.defineProperties(u,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:s.RemoteTrackPublicationV2},_getInitialTrackSwitchOffState:{value:n},updateSubscriberTrackPriority:{value:function(e,t){return r(e,t)}},updateTrackRenderHint:{value:function(e,t){return i(e,t)}},clearTrackHint:{value:function(e){return o(e)}},revision:{enumerable:!0,get:function(){return this._revision}}}),u.update(t)}return r(t,e),t.prototype._getOrCreateTrack=function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);n||(n=new t(e,this._getInitialTrackSwitchOffState(e.sid)),this.addTrack(n));return n},t.prototype.update=function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach((function(e){var r=t._getOrCreateTrack(e);r.update(e),n.add(r)})),this.tracks.forEach((function(e){n.has(e)||t.removeTrack(e)})),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this},t}(i);e.exports=o},88439:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t.sid,t.name,t.kind,t.enabled,t.priority,n)||this}return r(t,e),t.prototype.update=function(e){return this.enable(e.enabled),this.setPriority(e.priority),this},t}(n(27534));e.exports=i},97309:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=n(91149),o=n(58242).isDeepEqual,s=1,u=function(e){function t(t,n){var r=e.call(this,t,"render_hints",n)||this;return Object.defineProperties(r,{_trackSidsToRenderHints:{value:new Map},_responseTimer:{value:new a((function(){r._sendAllHints(),r._responseTimer.setDelay(2*r._responseTimer.delay)}),2e3,!1)}}),r.on("ready",(function(e){e.on("message",(function(e){if(r._log.debug("Incoming: ",e),"render_hints"===e.type)r._processHintResults(e&&e.subscriber&&e.subscriber.hints||[]);else r._log.warn("Unknown message type: ",e.type)})),r._sendAllHints()})),r}return r(t,e),t.prototype._sendAllHints=function(){var e=this;Array.from(this._trackSidsToRenderHints.keys()).forEach((function(t){var n=e._trackSidsToRenderHints.get(t);n.renderDimensions&&(n.isDimensionDirty=!0),"enabled"in n&&(n.isEnabledDirty=!0)})),this._sendHints()},t.prototype._processHintResults=function(e){var t=this;this._responseTimer.clear(),this._responseTimer.setDelay(2e3),e.forEach((function(e){"OK"!==e.result&&t._log.debug("Server error processing hint:",e)})),this._sendHints()},t.prototype._sendHints=function(){var e=this;if(this._transport&&!this._responseTimer.isSet){var t=[];if(Array.from(this._trackSidsToRenderHints.keys()).forEach((function(n){var r=e._trackSidsToRenderHints.get(n);if(r.isEnabledDirty||r.isDimensionDirty){var i={track:n};r.isEnabledDirty&&(i.enabled=r.enabled,r.isEnabledDirty=!1),r.isDimensionDirty&&(i.render_dimensions=r.renderDimensions,r.isDimensionDirty=!1),t.push(i)}})),t.length>0){var n={type:"render_hints",subscriber:{id:s++,hints:t}};this._log.debug("Outgoing: ",n),this._transport.publish(n),this._responseTimer.start()}}},t.prototype.setTrackHint=function(e,t){var n=this._trackSidsToRenderHints.get(e)||{isEnabledDirty:!1,isDimensionDirty:!1};"enabled"in t&&n.enabled!==t.enabled&&(n.enabled=!!t.enabled,n.isEnabledDirty=!0),t.renderDimensions&&!o(t.renderDimensions,n.renderDimensions)&&(n.renderDimensions=t.renderDimensions,n.isDimensionDirty=!0),this._trackSidsToRenderHints.set(e,n),this._sendHints()},t.prototype.clearTrackHint=function(e){this._trackSidsToRenderHints.delete(e)},t}(i);e.exports=u},49609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(84253),o=n(11330),s=n(4721),u=n(20437),c=n(7590),l=n(46061),f=n(68182),d=n(52442),p=n(86775),h=n(97309),v=n(7684),m=n(58242),g=m.constants.DEFAULT_SESSION_TIMEOUT_SEC,y=m.createBandwidthProfilePayload,b=m.defer,x=m.difference,k=m.filterObject,w=m.flatMap,_=m.oncePerTick,S=n(21288),T=n(89752).createTwilioError,C=function(e){function t(t,n,r,i,c){var m=this;n.options=Object.assign({session_timeout:g},n.options),c=Object.assign({DominantSpeakerSignaling:a,NetworkQualityMonitor:o,NetworkQualitySignaling:s,RecordingSignaling:u,RemoteParticipantV2:l,TrackPrioritySignaling:d,TrackSwitchOffSignaling:p,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:1e4},c),t.setBandwidthProfile(c.bandwidthProfile);var y=n.options,b=y.signaling_region,S=y.audio_processors,T=void 0===S?[]:S;t.setSignalingRegion(b),T.includes("krisp")&&T.push("rnnoise"),t.setAudioProcessors(T),i.setIceReconnectTimeout(c.sessionTimeout);var C=function(e){return m._getTrackReceiver(e)},E=(m=e.call(this,t,n.sid,n.name,c)||this)._log;return Object.defineProperties(m,{_disconnectedParticipantRevisions:{value:new Map},_NetworkQualityMonitor:{value:c.NetworkQualityMonitor},_lastBandwidthProfileRevision:{value:t.bandwidthProfileRevision,writable:!0},_mediaStatesWarningsRevision:{value:0,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityConfiguration:{value:t.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:c.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_dominantSpeakerSignaling:{value:new c.DominantSpeakerSignaling(C,{log:E})},_networkQualitySignaling:{value:new c.NetworkQualitySignaling(C,t.networkQualityConfiguration,{log:E})},_renderHintsSignaling:{value:new h(C,{log:E})},_publisherHintsSignaling:{value:new v(C,{log:E})},_trackPrioritySignaling:{value:new c.TrackPrioritySignaling(C,{log:E})},_trackSwitchOffSignaling:{value:new c.TrackSwitchOffSignaling(C,{log:E})},_pendingSwitchOffStates:{value:new Map},_transport:{value:r},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),m._initTrackSwitchOffSignaling(),m._initDominantSpeakerSignaling(),m._initNetworkQualityMonitorSignaling(),m._initPublisherHintSignaling(),function(e,t){var n=_((function(){e._publishNewLocalParticipantState()})),r=_((function(){var n=w(t.tracks,(function(e){return e.trackTransceiver}));e._peerConnectionManager.setTrackSenders(n)}));t.on("trackAdded",r),t.on("trackRemoved",r),t.on("updated",n),e.on("stateChanged",(function i(a){"disconnected"===a&&(t.removeListener("trackAdded",r),t.removeListener("trackRemoved",r),t.removeListener("updated",n),e.removeListener("stateChanged",i),t.disconnect())})),e.on("signalingConnectionStateChanged",(function(){var t=e.localParticipant,n=e.signalingConnectionState,r=t.identity,i=t.sid;switch(n){case"connected":t.connect(i,r);break;case"reconnecting":t.reconnecting()}}))}(m,t),function(e,t){t.on("description",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("description"),t.on("candidates",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",(function(){e.emit("connectionStateChanged")})),t.on("iceConnectionStateChanged",(function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach((function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)})))}))}(m,i),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",(function n(r,i){"disconnected"===r&&("disconnected"!==e.state&&e._disconnect(i),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")}))}(m,r),function(e,t,n){var r=new Map,i=!1,a=setInterval((function(){e.getStats().then((function(e){i=!i,e.forEach((function(e,n){var a=new f(n,e,!0);t.publishEvent("quality","stats-report","info",{audioTrackStats:a.remoteAudioTrackStats.map((function(t,n){return R(t,e.remoteAudioTrackStats[n],r)})),localAudioTrackStats:a.localAudioTrackStats.map((function(t,n){return I(t,e.localAudioTrackStats[n],r)})),localVideoTrackStats:a.localVideoTrackStats.map((function(t,n){return I(t,e.localVideoTrackStats[n],r)})),peerConnectionId:a.peerConnectionId,videoTrackStats:a.remoteVideoTrackStats.map((function(t,n){return R(t,e.remoteVideoTrackStats[n],r)}))});var o=w(["localAudioTrackStats","localVideoTrackStats","remoteAudioTrackStats","remoteVideoTrackStats"],(function(e){return a[e].map((function(e){var t=e.ssrc;return e.trackSid+"+"+t}))}));if(x(Array.from(r.keys()),o).forEach((function(e){return r.delete(e)})),i){var s=function(e,t){return e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},k(e||{},null)),e.localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,a.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair","info",s)}}))}),(function(){}))}),n);e.on("stateChanged",(function t(n){"disconnected"===n&&(clearInterval(a),e.removeListener("stateChanged",t))}))}(m,r,c.statsPublishIntervalMs),m._update(n),m._peerConnectionManager.setEffectiveAdaptiveSimulcast(m._publisherHintsSignaling.isSetup),m}return r(t,e),Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._peerConnectionManager.connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingConnectionState",{get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._peerConnectionManager.iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._deleteTrackReceiverDeferred=function(e){return this._trackReceiverDeferreds.delete(e)},t.prototype._getOrCreateTrackReceiverDeferred=function(e){var t=this._trackReceiverDeferreds.get(e)||b(),n=this._peerConnectionManager.getTrackReceivers().find((function(t){return t.id===e&&"ended"!==t.readyState}));return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t},t.prototype._addTrackReceiver=function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this},t.prototype._disconnect=function(t){var n=e.prototype._disconnect.call(this,t);return n&&(this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach((function(e){e.publishFailed(t||new Error("LocalParticipant disconnected"))})),n},t.prototype._getTrackReceiver=function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then((function(n){return t._deleteTrackReceiverDeferred(e),n}))},t.prototype._getInitialTrackSwitchOffState=function(e){var t=this._pendingSwitchOffStates.get(e)||!1;return this._pendingSwitchOffStates.delete(e),t&&this._log.warn("["+e+"] was initially switched off! "),t},t.prototype._getTrackSidsToTrackSignalings=function(){var e=w(this.participants,(function(e){return Array.from(e.tracks)}));return new Map(e)},t.prototype._getOrCreateRemoteParticipant=function(e){var t=this,n=this._RemoteParticipantV2,r=this.participants.get(e.sid),i=this;return r||((r=new n(e,(function(e){return t._getInitialTrackSwitchOffState(e)}),(function(e,n){return t._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",n)}),(function(e,n){return t._renderHintsSignaling.setTrackHint(e,n)}),(function(e){return t._renderHintsSignaling.clearTrackHint(e)}))).on("stateChanged",(function e(t){"disconnected"===t&&(r.removeListener("stateChanged",e),i.participants.delete(r.sid),i._disconnectedParticipantRevisions.set(r.sid,r.revision))})),this.connectParticipant(r)),r},t.prototype._getState=function(){return{participant:this.localParticipant.getState()}},t.prototype._maybeAddBandwidthProfile=function(e){var t=this.localParticipant,n=t.bandwidthProfile,r=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<r?(this._lastBandwidthProfileRevision=r,Object.assign({bandwidth_profile:y(n)},e)):e},t.prototype._publishNewLocalParticipantState=function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))},t.prototype._publishPeerConnectionState=function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))},t.prototype._update=function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach((function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)}));var n=new Set(e.subscribed.tracks.filter((function(e){return!!e.id})).map((function(e){return e.sid})));this._subscribed.forEach((function(e,r){n.has(r)||t._subscribed.delete(r)}))}var r=new Set;return(e.participants||[]).forEach((function(e){if(e.sid!==t.localParticipant.sid){var n=t._disconnectedParticipantRevisions.get(e.sid);if(!(n&&e.revision<=n)){n&&t._disconnectedParticipantRevisions.delete(e.sid);var i=t._getOrCreateRemoteParticipant(e);i.update(e),r.add(i)}}})),"synced"===e.type&&this.participants.forEach((function(e){r.has(e)||e.disconnect()})),function(e){var t=e._getTrackSidsToTrackSignalings();e._subscriptionFailures.forEach((function(n,r){var i=t.get(r);i&&(e._subscriptionFailures.delete(r),i.subscribeFailed(T(n.code,n.message)))})),t.forEach((function(t){var n=e._subscribed.get(t.sid);(!n||t.isSubscribed&&t.trackTransceiver.id!==n)&&t.setTrackTransceiver(null),n&&e._getTrackReceiver(n).then((function(e){return t.setTrackTransceiver(e)}))}))}(this),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach((function(e){e.sid&&t._published.set(e.id,e.sid)})),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),[this._dominantSpeakerSignaling,this._networkQualitySignaling,this._trackPrioritySignaling,this._trackSwitchOffSignaling,this._renderHintsSignaling,this._publisherHintsSignaling].forEach((function(t){var n=t.channel;!t.isSetup&&e.media_signaling&&e.media_signaling[n]&&e.media_signaling[n].transport&&"data-channel"===e.media_signaling[n].transport.type&&t.setup(e.media_signaling[n].transport.label)})),"warning"===e.type&&e.states&&e.states.revision>this._mediaStatesWarningsRevision&&(this._mediaStatesWarningsRevision=e.states.revision,this.localParticipant.updateMediaStates(e.states)),this},t.prototype._initPublisherHintSignaling=function(){var e=this;this._publisherHintsSignaling.on("updated",(function(t,n){Promise.all(t.map((function(t){return e.localParticipant.setPublisherHint(t.track,t.encodings).then((function(e){return{track:t.track,result:e}}))}))).then((function(t){e._publisherHintsSignaling.sendHintResponse({id:n,hints:t})}))}));var t=function(t){"video"===t.kind&&t.trackTransceiver.on("replaced",(function(){e._publisherHintsSignaling.sendTrackReplaced({trackSid:t.sid})}))};Array.from(this.localParticipant.tracks.values()).forEach((function(e){return t(e)})),this.localParticipant.on("trackAdded",(function(e){return t(e)}))},t.prototype._initTrackSwitchOffSignaling=function(){var e=this;this._trackSwitchOffSignaling.on("updated",(function(t,n){try{e._log.debug("received trackSwitch: ",{tracksOn:n,tracksOff:t});var r=new Map;n.forEach((function(e){return r.set(e,!0)})),t.forEach((function(t){r.get(t)&&e._log.warn(t+" is DUPLICATED in both tracksOff and tracksOn list"),r.set(t,!1)})),e.participants.forEach((function(e){e.tracks.forEach((function(e){var t=r.get(e.sid);"undefined"!==typeof t&&(e.setSwitchedOff(!t),r.delete(e.sid))}))})),r.forEach((function(t,n){return e._pendingSwitchOffStates.set(n,!t)}))}catch(i){e._log.error("error processing track switch off:",i)}}))},t.prototype._initDominantSpeakerSignaling=function(){var e=this;this._dominantSpeakerSignaling.on("updated",(function(){return e.setDominantSpeaker(e._dominantSpeakerSignaling.loudestParticipantSid)}))},t.prototype._initNetworkQualityMonitorSignaling=function(){var e=this;this._networkQualitySignaling.on("ready",(function(){var t=new e._NetworkQualityMonitor(e._peerConnectionManager,e._networkQualitySignaling);e._networkQualityMonitor=t,t.on("updated",(function(){"failed"!==e.iceConnectionState&&(e.localParticipant.setNetworkQualityLevel(t.level,t.levels),e.participants.forEach((function(e){var n=t.remoteLevels.get(e.sid);n&&e.setNetworkQualityLevel(n.level,n)})))})),t.start()})),this._networkQualitySignaling.on("teardown",(function(){return e._teardownNetworkQualityMonitor()}))},t.prototype._teardownNetworkQualityMonitor=function(){this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)},t.prototype.getStats=function(){var e=this;return this._peerConnectionManager.getStats().then((function(t){return new Map(Array.from(t).map((function(t){var n=i(t,2),r=n[0],a=n[1];return[r,Object.assign({},a,{localAudioTrackStats:O(e,a.localAudioTrackStats),localVideoTrackStats:O(e,a.localVideoTrackStats),remoteAudioTrackStats:A(e,a.remoteAudioTrackStats),remoteVideoTrackStats:A(e,a.remoteVideoTrackStats)})]})))}))},t}(c);function E(e,t){return t.reduce((function(t,n){var r=e.get(n.trackId);return r?[Object.assign({},n,{trackSid:r})].concat(t):t}),[])}function O(e,t){return E(e._published,t)}function A(e,t){var n=new Map(Array.from(e._subscribed.entries()).map((function(e){var t=i(e,2),n=t[0];return[t[1],n]})));return E(n,t)}function I(e,t,n){var r=t.framesEncoded,i=t.packetsSent,a=t.totalEncodeTime,o=t.totalPacketSendDelay,s=Object.assign({},e),u=e.trackSid+"+"+e.ssrc,c=n.get(u)||new Map;if("number"===typeof a&&"number"===typeof r){var l=c.get("avgEncodeDelay")||new S;l.putSample(1e3*a,r),s.avgEncodeDelay=Math.round(l.get()),c.set("avgEncodeDelay",l)}if("number"===typeof o&&"number"===typeof i){var f=c.get("avgPacketSendDelay")||new S;f.putSample(1e3*o,i),s.avgPacketSendDelay=Math.round(f.get()),c.set("avgPacketSendDelay",f)}return n.set(u,c),s}function R(e,t,n){var r=t.estimatedPlayoutTimestamp,i=t.framesDecoded,a=t.jitterBufferDelay,o=t.jitterBufferEmittedCount,s=t.totalDecodeTime,u=Object.assign({},e),c=e.trackSid+"+"+e.ssrc,l=n.get(c)||new Map;if("number"===typeof r&&(u.estimatedPlayoutTimestamp=r),"number"===typeof i&&"number"===typeof s){var f=l.get("avgDecodeDelay")||new S;f.putSample(1e3*s,i),u.avgDecodeDelay=Math.round(f.get()),l.set("avgDecodeDelay",f)}if("number"===typeof a&&"number"===typeof o){var d=l.get("avgJitterBufferDelay")||new S;d.putSample(1e3*a,o),u.avgJitterBufferDelay=Math.round(d.get()),l.set("avgJitterBufferDelay",d)}return n.set(c,l),u}e.exports=C},52442:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"track_priority",n)||this;return Object.defineProperties(r,{_enqueuedPriorityUpdates:{value:new Map}}),r.on("ready",(function(e){Array.from(r._enqueuedPriorityUpdates.keys()).forEach((function(t){e.publish({type:"track_priority",track:t,subscribe:r._enqueuedPriorityUpdates.get(t)})}))})),r}return r(t,e),t.prototype.sendTrackPriorityUpdate=function(e,t,n){if("subscribe"!==t)throw new Error("only subscribe priorities are supported, found: "+t);this._enqueuedPriorityUpdates.set(e,n),this._transport&&this._transport.publish({type:"track_priority",track:e,subscribe:n})},t}(n(85663));e.exports=i},86775:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"track_switch_off",n)||this;return r.on("ready",(function(e){e.on("message",(function(e){if("track_switch_off"===e.type)r._setTrackSwitchOffUpdates(e.off||[],e.on||[])}))})),r}return r(t,e),t.prototype._setTrackSwitchOffUpdates=function(e,t){this.emit("updated",e,t)},t}(n(85663));e.exports=i},1963:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(68021),a=n(49536),o=n(26937),s=n(24657).reconnectBackoffConfig,u=n(91149),c=n(24657),l=c.SDK_NAME,f=c.SDK_VERSION,d=c.SDP_FORMAT,p=n(58242),h=p.createBandwidthProfilePayload,v=p.createMediaSignalingPayload,m=p.createMediaWarningsPayload,g=p.createSubscribePayload,y=p.getUserAgent,b=p.isNonArrayObject,x=n(89752),k=x.createTwilioError,w=x.RoomCompletedError,_=x.SignalingConnectionError,S=x.SignalingServerBusyError,T={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},C=function(e){function t(t,n,r,i,u,c){var l;return c=Object.assign({Backoff:o,TwilioConnection:a,iceServers:null,trackPriority:!0,trackSwitchOff:!0,renderHints:!0,userAgent:y()},c),l=e.call(this,"connecting",T)||this,Object.defineProperties(l,{_accessToken:{value:n},_automaticSubscription:{value:c.automaticSubscription},_bandwidthProfile:{value:c.bandwidthProfile},_dominantSpeaker:{value:c.dominantSpeaker},_adaptiveSimulcast:{value:c.adaptiveSimulcast},_eventObserver:{value:c.eventObserver,writable:!1},_renderHints:{value:c.renderHints},_iceServersStatus:{value:Array.isArray(c.iceServers)?"overrode":"acquire"},_localParticipant:{value:r},_name:{value:t},_networkQuality:{value:b(c.networkQuality)||c.networkQuality},_notifyWarnings:{value:c.notifyWarnings},_options:{value:c},_peerConnectionManager:{value:i},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:new c.Backoff(s)},_session:{value:null,writable:!0},_trackPriority:{value:c.trackPriority},_trackSwitchOff:{value:c.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:c.userAgent},_wsServer:{value:u}}),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",r);var t=e._iceServersStatus,i=e._options,a=e._wsServer,o=e.state,s=i.TwilioConnection,u=new s(a,Object.assign({helloBody:"connecting"===o&&"acquire"===t?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},i));u.once("close",(function(e){e===s.CloseReason.LOCAL?n():n(new Error(e))})),u.on("message",r),e._twilioConnection=u}}function n(n){if("disconnected"!==e.state)if(n){var r=e._getReconnectTimer();if(r)"connected"===e.state&&e.preempt("syncing"),r.then(t);else{var i=n.message===a.CloseReason.BUSY?new S:new _;e.disconnect(i)}}else e.disconnect()}function r(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":case"warning":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then((function(){e._sendConnectOrSyncOrDisconnectMessage()}));case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}default:return}else e.disconnect(k(t.code,t.message))}e.on("stateChanged",(function t(n){switch(n){case"connected":var i=e._updatesToSend.splice(0);return i.length&&e.publish(function(e){return e.reduce((function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=E(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=E(e.peer_connections.concat(t.peer_connections))),e}),{})}(i)),void e._updatesReceived.splice(0).forEach((function(t){return e.emit("message",t)}));case"disconnected":return e._twilioConnection.removeListener("message",r),void e.removeListener("stateChanged",t);default:return}}));var i=e._options,o=e._iceServersStatus,s=i.iceServers,u=i.onIced;"overrode"===o?u(s).then(t):t()}(l),l}return r(t,e),t.prototype._createConnectOrSyncOrDisconnectMessage=function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};return"connect"===t.type?(t.ice_servers=this._iceServersStatus,t.publisher={name:l,sdk_version:f,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=h(this._bandwidthProfile)),this._notifyWarnings&&(t.participant.media_warnings=m(this._notifyWarnings)),t.media_signaling=v(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff,this._adaptiveSimulcast,this._renderHints),t.subscribe=g(this._automaticSubscription),t.format=d,t.token=this._accessToken):"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session),t},t.prototype._createIceMessage=function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}},t.prototype._sendConnectOrSyncOrDisconnectMessage=function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)},t.prototype.disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),!0)},t.prototype.publish=function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;default:return!1}},t.prototype.publishEvent=function(e,t,n,r){this._eventObserver.emit("event",{group:e,name:t,level:n,payload:r})},t.prototype.sync=function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)},t.prototype._setSession=function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t},t.prototype._getReconnectTimer=function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new u((function(){e._sessionTimer&&(e._sessionTimeoutMS=0)}),this._sessionTimeoutMS)),new Promise((function(t){e._reconnectBackoff.backoff(t)})))},t.prototype._clearReconnectTimer=function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)},t}(i);function E(e){return Array.from(e.reduce((function(e,t){var n=e.get(t.id)||t;return(!n.description&&t.description||n.description&&t.description&&t.description.revision>n.description.revision)&&(n.description=t.description),(!n.ice&&t.ice||n.ice&&t.ice&&t.ice.revision>n.ice.revision)&&(n.ice=t.ice),e.set(n.id,n),e}),new Map).values())}e.exports=C},68021:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(47465).EventEmitter,s=n(58242),u=function(e){function t(t,n){var r,i=e.call(this)||this,a=null,o=t;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(i,{_lock:{get:function(){return a},set:function(e){a=e}},_reachableStates:{value:(r=n,Array.from(r.keys()).reduce((function(e,t){return e.set(t,l(r,t))}),new Map))},_state:{get:function(){return o},set:function(e){o=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==a}},state:{enumerable:!0,get:function(){return o}}}),i.on("stateChanged",(function(e){i._whenDeferreds.forEach((function(t){t.when(e,t.resolve,t.reject)}))})),i}return r(t,e),t.prototype._whenPromise=function(e){var t=this;if("function"!==typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=s.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then((function(e){return t._whenDeferreds.delete(n),e}),(function(e){throw t._whenDeferreds.delete(n),e}))},t.prototype.bracket=function(e,t){var n,r=this;function i(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then((function(e){return t(n=e)})).then((function(e){return i(),e}),i)},t.prototype.hasLock=function(e){return this._lock===e},t.prototype.preempt=function(e,t,n){if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var a=i?null:this.takeLockSync("preemption");return this.transition(e,i||a,n),r&&r.resolve(),a&&this.releaseLock(a),i},t.prototype.releaseLock=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--},t.prototype.releaseLockCompletely=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()},t.prototype.takeLock=function(e){var t=this;if("object"===typeof e){var n=e;return new Promise((function(e){e(t.takeLockSync(n))}))}var r=e;if(this.isLocked){var i=this.takeLock.bind(this,r);return this._lock.promise.then(i)}return Promise.resolve(this.takeLockSync(r))},t.prototype.takeLockSync=function(e){var t="string"===typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=function(e){var t=s.defer();return t.name=e,t.depth=0,t}(n);return this._lock=r,r},t.prototype.transition=function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,a([],i(["stateChanged",e].concat(n))))},t.prototype.tryTransition=function(e,t,n){try{this.transition(e,t,n)}catch(r){return!1}return!0},t.prototype.when=function(e){var t=this;return this.state===e?Promise.resolve(this):c(this._reachableStates,this.state,e)?this._whenPromise((function(n,r,i){n===e?r(t):c(t._reachableStates,n,e)||i(f(n,e))})):Promise.reject(f(this.state,e))},t}(o);function c(e,t,n){return e.get(t).has(n)}function l(e,t,n){return n=n||new Set,e.get(t).forEach((function(t){n.has(t)||(n.add(t),l(e,t,n).forEach(n.add,n))})),n}function f(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=u},36657:function(e){"use strict";e.exports=function(e){return(e=e.filter((function(e){return"number"===typeof e}))).length<1?void 0:e.reduce((function(e,t){return t+e}))/e.length}},33070:function(e){"use strict";var t=function(){function e(e,t,n,r){Object.defineProperties(this,{availableSend:{enumerable:!0,value:n},recv:{enumerable:!0,value:t},rtt:{enumerable:!0,value:r},send:{enumerable:!0,value:e}})}return e.of=function(t,n){var r=(n.timestamp-t.timestamp)/1e3,i=n.bytesSent-t.bytesSent,a=n.bytesReceived-t.bytesReceived;return new e(r>0?i/r*8:0,r>0?a/r*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)},e}();e.exports=t},1492:function(e,t,n){"use strict";var r=n(33070),i=function(){function e(){Object.defineProperties(this,{lastReport:{enumerable:!0,value:new r(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?r.of(t,e):new r(0,0);this.lastReport=n}return this.lastReport},e}();e.exports=i},77299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return Object.defineProperties(i,{audioLevel:{value:"number"===typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"===typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return r(t,e),t}(n(70283));e.exports=i},70283:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return Object.defineProperties(i,{bytesSent:{value:"number"===typeof n.bytesSent?n.bytesSent:r?0:null,enumerable:!0},packetsSent:{value:"number"===typeof n.packetsSent?n.packetsSent:r?0:null,enumerable:!0},roundTripTime:{value:"number"===typeof n.roundTripTime?n.roundTripTime:r?0:null,enumerable:!0}}),i}return r(t,e),t}(n(85031));e.exports=i},7151:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,a=null;"number"===typeof n.frameWidthInput&&"number"===typeof n.frameHeightInput&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var o=null;return"number"===typeof n.frameWidthSent&&"number"===typeof n.frameHeightSent&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:a,enumerable:!0},dimensions:{value:o,enumerable:!0},captureFrameRate:{value:"number"===typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"===typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return r(t,e),t}(n(70283));e.exports=i},60705:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(37167));e.exports=i},11759:function(e){"use strict";var t=function(e){var t=e.actual,n=void 0===t?null:t,r=e.available,i=void 0===r?null:r,a=e.level,o=void 0===a?null:a;Object.defineProperties(this,{actual:{value:n,enumerable:!0},available:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})};e.exports=t},22278:function(e){"use strict";var t=function(e){var t=e.fractionLost,n=void 0===t?null:t,r=e.level,i=void 0===r?null:r;Object.defineProperties(this,{fractionLost:{value:n,enumerable:!0},level:{value:i,enumerable:!0}})};e.exports=t},16888:function(e){"use strict";var t=function(e){var t=e.jitter,n=void 0===t?null:t,r=e.rtt,i=void 0===r?null:r,a=e.level,o=void 0===a?null:a;Object.defineProperties(this,{jitter:{value:n,enumerable:!0},rtt:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})};e.exports=t},37167:function(e,t,n){"use strict";var r=n(22228),i=n(34295),a=function(e){var t=e.send,n=e.recv,a=e.sendStats,o=void 0===a?null:a,s=e.recvStats,u=void 0===s?null:s;Object.defineProperties(this,{send:{value:t,enumerable:!0},recv:{value:n,enumerable:!0},sendStats:{value:o?new r(o):null,enumerable:!0},recvStats:{value:u?new i(u):null,enumerable:!0}})};e.exports=a},34295:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(87315));e.exports=i},87315:function(e,t,n){"use strict";var r=n(11759),i=n(22278),a=n(16888),o=function(e){var t=e.bandwidth,n=void 0===t?null:t,o=e.fractionLost,s=void 0===o?null:o,u=e.latency,c=void 0===u?null:u;Object.defineProperties(this,{bandwidth:{value:n?new r(n):null,enumerable:!0},fractionLost:{value:s?new i(s):null,enumerable:!0},latency:{value:c?new a(c):null,enumerable:!0}})};e.exports=o},22228:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(87315));e.exports=i},7427:function(e,t,n){"use strict";var r=n(60705),i=n(10654),a=function(e){var t=e.level,n=e.audio,a=e.video;Object.defineProperties(this,{level:{value:t,enumerable:!0},audio:{value:n?new r(n):null,enumerable:!0},video:{value:a?new i(a):null,enumerable:!0}})};e.exports=a},10654:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(37167));e.exports=i},14301:function(e,t,n){"use strict";var r=n(67696),i=n(78924),a=function(){function e(e,t,n){Object.defineProperties(this,{ice:{enumerable:!0,value:e},audio:{enumerable:!0,value:t},video:{enumerable:!0,value:n}})}return e.prototype.summarize=function(){var e=this.audio.send.concat(this.video.send),t=i.summarize(e),n=this.audio.recv.concat(this.video.recv),a=r.summarize(n);return{ice:this.ice,send:t,recv:a,audio:{send:i.summarize(this.audio.send),recv:r.summarize(this.audio.recv)},video:{send:i.summarize(this.video.send),recv:r.summarize(this.video.recv)}}},e}();e.exports=a},37809:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=n(73348).guessBrowser,s=n(1492),u=n(14301),c=n(22421),l=n(6781),f=function(){function e(e){Object.defineProperties(this,{pc:{enumerable:!0,value:e},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(){var e,t=this,n="firefox"===o()?function(e){var t=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track})).map((function(e){return e.sender})),n=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/recv/)})).map((function(e){return e.receiver}));return Promise.all([d(t),d(n),e.pc.getStats()]).then((function(t){var n=r(t,3),i=n[0],a=n[1],o=n[2],s=h(e),u=y(e);i.forEach((function(t,n){return x(e,t,u,n)})),w(s,u);var c=v(e),l=b(e);a.forEach((function(t,n){return k(e,t,l,n)})),w(c,l),_(e.ice,o)}))}(this):(e=this).pc.getStats().then((function(t){var n=h(e),r=y(e);x(e,t,r),w(n,r);var i=v(e),a=b(e);k(e,t,a),w(i,a),_(e.ice,t)}));return n.then((function(){var e=i([],r(t.audio.send.values())),n=i([],r(t.video.send.values())),a=i([],r(t.audio.recv.values())),o=i([],r(t.video.recv.values())),s=new u(t.ice.lastReport,{send:e.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:a.map((function(e){return e.lastReport})).filter((function(e){return e}))},{send:n.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:o.map((function(e){return e.lastReport})).filter((function(e){return e}))});return t.lastReport=s,s}))},e}();function d(e){return Promise.all(e.map((function(e){var t=e.track.id;return e.getStats().then((function(e){var n,r;try{for(var i=a(e.values()),o=i.next();!o.done;o=i.next()){var s=o.value;"inbound-rtp"===s.type&&(s.id=t+"-"+s.id)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[t,e]}))}))).then((function(e){return new Map(e)}))}function p(e,t,n,r,i){var a=t[r.mediaType];if(!i){var o=n.get(r.trackId);o&&(i=o.trackIdentifier)}if(a&&i){if(a.has(r.id))return a.get(r.id);var s=new e(i,r);a.set(r.id,s)}return null}function h(e){return{audio:e.audio.send,video:e.video.send}}function v(e){return{audio:e.audio.recv,video:e.video.recv}}function m(e,t,n,r){return p(l,h(e),t,n,r)}function g(e,t,n,r){return p(c,v(e),t,n,r)}function y(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function b(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function x(e,t,n,r){var i,s;try{for(var u=a(t.values()),c=u.next();!c.done;c=u.next()){var l=c.value;if("outbound-rtp"===l.type&&!l.isRemote){if("firefox"!==o()&&!l.trackId)continue;var f=n[l.mediaType];f&&f.delete(l.id);var d=m(e,t,l,r);if(d){var p=t.get(l.remoteId);d.next(r||d.trackId,l,p)}}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}function k(e,t,n,r){var i,o;try{for(var s=a(t.values()),u=s.next();!u.done;u=s.next()){var c=u.value;if("inbound-rtp"===c.type&&!c.isRemote){var l=n[c.mediaType];l&&l.delete(c.id);var f=g(e,t,c,r);f&&f.next(r||f.trackId,c)}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}function w(e,t){var n=function(n){var r=e[n];t[n].forEach((function(e){return r.delete(e)}))};for(var r in t)n(r)}function _(e,t){var n,r,i,o,s;try{for(var u=a(t.values()),c=u.next();!c.done;c=u.next()){"transport"===(d=c.value).type&&(s=t.get(d.selectedCandidatePairId))}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(s)e.next(s);else try{for(var l=a(t.values()),f=l.next();!f.done;f=l.next()){var d;"candidate-pair"!==(d=f.value).type||!d.nominated||"selected"in d&&!d.selected||e.next(d)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}e.exports=f},67696:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(36657),a=n(51666),o=n(65503),s=function(e){function t(t,n,r,i,a,o,s){var u=e.call(this,t,n,r)||this,c=a>0?i/a:0;return Object.defineProperties(u,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:a},fractionLost:{enumerable:!0,value:o},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:c}}),u}return r(t,e),t.of=function(e,n,r){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var i=(r.timestamp-n.timestamp)/1e3,a=r.bytesReceived-n.bytesReceived,o=i>0?a/i*8:0,s=Math.max(r.packetsLost-n.packetsLost,0),u=r.packetsReceived-n.packetsReceived,c=r.fractionLost,l=r.jitter;return new t(n.id,e,o,s,u,c,l)},t.summarize=function(e){var t=e.map((function(e){return e.summarize()}));return{bitrate:o(t.map((function(e){return e.bitrate}))),fractionLost:i(t.map((function(e){return e.fractionLost}))),jitter:i(t.map((function(e){return e.jitter})))}},t.prototype.summarize=function(){return{bitrate:this.bitrate,fractionLost:"number"===typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}},t}(a);e.exports=s},22421:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(67696),a=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return r(t,e),t.prototype.next=function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=i.of(e,n,t);return this.lastReport=r,r},t}(n(63431));e.exports=a},31825:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{audioLevel:{value:"number"===typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"===typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return r(t,e),t}(n(1040));e.exports=i},1040:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{bytesReceived:{value:"number"===typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"===typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),r}return r(t,e),t}(n(85031));e.exports=i},4700:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=null;return"number"===typeof n.frameWidthReceived&&"number"===typeof n.frameHeightReceived&&(i={},Object.defineProperties(i,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(r,{dimensions:{value:i,enumerable:!0},frameRate:{value:"number"===typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),r}return r(t,e),t}(n(1040));e.exports=i},51666:function(e){"use strict";var t=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e},trackId:{enumerable:!0,value:t},bitrate:{enumerable:!0,value:n}})};e.exports=t},63431:function(e){"use strict";var t=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e,writable:!0},trackId:{enumerable:!0,value:t,writable:!0},lastStats:{enumerable:!0,value:n,writable:!0}})};e.exports=t},78924:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(36657),a=n(51666),o=n(65503),s=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r)||this;return Object.defineProperties(a,{rtt:{enumerable:!0,value:i}}),a}return r(t,e),t.of=function(e,n,r,i){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var a=(r.timestamp-n.timestamp)/1e3,o=r.bytesSent-n.bytesSent,s=a>0?o/a*8:0,u=i&&"number"===typeof i.roundTripTime?i.roundTripTime/1e3:void 0;return new t(n.id,e,s,u)},t.summarize=function(e){return{bitrate:o(e.map((function(e){return e.bitrate}))),rtt:i(e.map((function(e){return e.rtt})))}},t}(a);e.exports=s},6781:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(63431),a=n(78924),o=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return r(t,e),t.prototype.next=function(e,t,n){var r=this.lastStats;this.lastStats=t,this.trackId=e;var i=a.of(e,r,t,n);return this.lastReport=i,i},t}(i);e.exports=o},68182:function(e,t,n){"use strict";var r=n(77299),i=n(7151),a=n(31825),o=n(4700),s=function(e,t,n){if("string"!==typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map((function(e){return new r(e.trackId,e,n)})),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map((function(e){return new i(e.trackId,e,n)})),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map((function(e){return new a(e.trackId,e)})),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map((function(e){return new o(e.trackId,e)})),enumerable:!0}})};e.exports=s},65503:function(e){"use strict";e.exports=function(e){return e.reduce((function(e,t){return"number"===typeof t?t+e:e}),0)}},85031:function(e){"use strict";var t=function(e,t){if("string"!==typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},trackSid:{value:t.trackSid,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:"number"===typeof t.packetsLost?t.packetsLost:null,enumerable:!0},codec:{value:"string"===typeof t.codecName?t.codecName:null,enumerable:!0}})};e.exports=t},97952:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{id:{enumerable:!0,value:t},kind:{enumerable:!0,value:n}}),r}return r(t,e),t.prototype.stop=function(){this.emit("stopped")},t}(n(16233));e.exports=i},49536:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(68021),s=n(58242),u=s.buildLogLevels,c=s.makeUUID,l=n(41547),f=n(82909),d=n(91149),p=0,h={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},v={closed:"close",open:"open",waiting:"waiting"},m=3e3,g=3001,y=3002,b=3003,x=3005,k=3006,w=globalThis,_=w.WebSocket?w.WebSocket:n(10057),S={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},T=new Map([[m,S.TIMEOUT],[g,S.TIMEOUT],[y,S.FAILED],[b,S.FAILED],[3004,S.TIMEOUT],[k,S.BUSY],[3007,S.TIMEOUT]]),C=function(e){function t(t,n){var r=e.call(this,"early",h)||this;n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:3,maxConsecutiveMissedHeartbeats:3,requestedHeartbeatTimeout:5e3,openTimeout:15e3,welcomeTimeout:5e3,Log:l,WebSocket:_},n);var o=u(n.logLevel),s=new n.Log("default",r,o,n.loggerName),c=n.networkMonitor?new f((function(){var e=c.type,t="Network changed"+(e?" to "+e:"");s.debug(t),r._close({code:3004,reason:t})})):null;Object.defineProperties(r,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++p},_log:{value:s},_messageQueue:{value:[]},_networkMonitor:{value:c},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:t},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var d={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return r.on("stateChanged",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e in v&&r.emit.apply(r,a([v[e]],i(t)));var o={name:e,group:"signaling",level:d[r.state]};if("closed"===e){var s=i(t,1)[0];o.payload={reason:s},o.level=s===S.LOCAL?"info":"error"}r._eventObserver.emit("event",o)})),r._eventObserver.emit("event",{name:r.state,group:"signaling",level:d[r.state]}),r._connect(),r}return r(t,e),t.prototype.toString=function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"},t.prototype._close=function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&t!==x&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var r=this._log;1e3===t?(r.debug("Closed"),this.transition("closed",null,[S.LOCAL])):(r.warn("Closed: "+t+" - "+n),t!==x&&this.transition("closed",null,[T.get(t)||S.REMOTE]));var i=this._ws.readyState,a=this._options.WebSocket;i!==a.CLOSING&&i!==a.CLOSED&&this._ws.close(t,n)}},t.prototype._connect=function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",(function(t){return e._close(t)}));var r=this._options.openTimeout;this._openTimeout=new d((function(){var t="Failed to open in "+r+" ms";e._close({code:3007,reason:t})}),r),n.addEventListener("open",(function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()})),n.addEventListener("message",(function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(r){return void e.emit("error",r)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}}))},t.prototype._handleBad=function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:y,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')},t.prototype._handleBusy=function(e){var t=this,n=e.cookie,r=e.keepAlive,i=e.retryAfter,a=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var o=i<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+i+" ms";if(i<0)return a.warn("Closing: 3006 - "+o),void this._close({code:k,reason:o});var s=this._options.maxConsecutiveFailedHellos;this._hellosLeft=s,this._cookie=n||null,r?(a.warn(o),this._busyWaitTimeout=new d((function(){return t._startHandshake()}),i)):(a.warn("Closing: 3005 - "+o),this._close({code:x,reason:o}),this._busyWaitTimeout=new d((function(){return t._connect()}),i)),this.transition("waiting",null,[r,i])}else a.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')},t.prototype._handleHeartbeat=function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')},t.prototype._handleHeartbeatTimeout=function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:g,reason:n})}},t.prototype._handleMessage=function(e){var t=e.body;"open"===this.state?this.emit("message",t):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')},t.prototype._handleWelcome=function(e){var t=this,n=e.negotiatedTimeout,r=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(r.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var i=n*this._options.maxConsecutiveMissedHeartbeats,a=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new d((function(){return t._handleHeartbeatTimeout()}),i),this._messageQueue.splice(0).forEach((function(e){return t._send(e)})),this._sendHeartbeatTimeout=new d((function(){return t._sendHeartbeat()}),a),this.transition("open")}else r.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')},t.prototype._handleWelcomeTimeout=function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:m,reason:t})}var n=this._options.maxConsecutiveFailedHellos;e.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}},t.prototype._send=function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(r){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:b,reason:n})}}},t.prototype._sendHeartbeat=function(){"closed"!==this.state&&this._send({type:"heartbeat"})},t.prototype._sendHello=function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,r={id:c(),timeout:n,type:"hello",version:2};this._cookie&&(r.cookie=this._cookie),t&&(r.body=t),this._send(r)},t.prototype._sendOrEnqueue=function(e){var t=this;if("closed"!==this.state){var n="open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)};n(e)}},t.prototype._startHandshake=function(){var e=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state){this._hellosLeft--,this._sendHello();var t=this._options.welcomeTimeout;this._welcomeTimeout=new d((function(){return e._handleWelcomeTimeout()}),t)}},t.prototype.close=function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))},t.prototype.sendMessage=function(e){this._sendOrEnqueue({body:e,type:"msg"})},t}(o);C.CloseReason=S,e.exports=C},14477:function(e,t,n){"use strict";var r=n(58242).defer,i=function(){function e(){Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return e.prototype.put=function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this},e.prototype.take=function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=r();return this._deferreds.push(t),t.promise.then((function(t){return e._hasValue=!1,t}))},e}();e.exports=i},26937:function(e){var t=function(){function e(e){Object.defineProperties(this,{_min:{value:e.min||100},_max:{value:e.max||1e4},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_factor:{value:e.factor||2},_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var e=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var t=Math.random(),n=Math.floor(t*this._jitter*e);e=0===(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this._max)}},_timeoutID:{value:null,writable:!0}})}return e.prototype.backoff=function(e){var t=this,n=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this._timeoutID=setTimeout((function(){t._attempts++,e()}),n)},e.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},e}();e.exports=t},39091:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function n(){return!!(navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)}function r(){return n()&&window.screen.width>=744&&(/Macintosh/i.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPad/.test(navigator.platform))}function i(){return n()&&window.screen.width<=476&&(/Macintosh/i.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform))}e.exports={isAndroid:function(){return/Android/.test(navigator.userAgent)},isIOS:function(){return r()||i()},isIpad:r,isIphone:i,isMobile:function(){return/Mobi/.test(navigator.userAgent)},isNonChromiumEdge:function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"===typeof chrome||"undefined"===typeof chrome.runtime)},mobileWebKitBrowser:function(e){return"safari"!==e?null:"brave"in navigator?"brave":["edge","edg"].find((function(e){return navigator.userAgent.toLowerCase().includes(e)}))||null},rebrandedChromeBrowser:function(e){if("chrome"!==e)return null;if("brave"in navigator)return"brave";var n=function(e){for(var t=[],n=[],r=0;r<e.length;r++)if("("===e[r])t.push(r);else if(")"===e[r]&&t.length>0){var i=t.pop();0===t.length&&n.push(e.substring(i,r+1))}return n}(navigator.userAgent).reduce((function(e,t){return e.replace(t,"")}),navigator.userAgent).match(/[^\s]+/g)||[];return t(n.map((function(e){return e.split("/")[0].toLowerCase()}))).slice(2).find((function(e){return!["chrome","mobile","safari"].includes(e)}))||null}}},38156:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},n=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},r=function(){function e(e,t){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise((function(t,r){e((function(e){n._isCancelable=!1,t(e)}),(function(e){n._isCancelable=!1,r(e)}),(function(){return n._isCanceled}))}))})}return e.reject=function(t){return new e((function(e,n){n(t)}),(function(){}))},e.resolve=function(t){return new e((function(e){e(t)}),(function(){}))},e.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},e.prototype.catch=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.catch.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e.prototype.then=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.then.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e.prototype.finally=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.finally.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e}();e.exports=r},24657:function(e,t,n){"use strict";var r=n(1730);e.exports.SDK_NAME=r.name+".js",e.exports.SDK_VERSION=r.version,e.exports.SDP_FORMAT="unified",e.exports.hardwareDevicePublisheriPad={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPad",hwDeviceType:"tablet",platformName:"iOS"},e.exports.hardwareDevicePublisheriPhone={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPhone",hwDeviceType:"mobile",platformName:"iOS"},e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.DEFAULT_LOGGER_NAME="twilio-video",e.exports.WS_SERVER=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.typeErrors={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+((["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" ")+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},e.exports.DEFAULT_FRAME_RATE=24,e.exports.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS=1e4,e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,min:1,max:1e3*e.exports.DEFAULT_SESSION_TIMEOUT_SEC,jitter:1},e.exports.reconnectBackoffConfig={factor:1.5,min:80,jitter:1},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"},e.exports.clientTrackSwitchOffControl={MODE_AUTO:"auto",MODE_MANUAL:"manual"},e.exports.videoContentPreferencesMode={MODE_AUTO:"auto",MODE_MANUAL:"manual"}},11060:function(e,t,n){"use strict";var r=n(88467);e.exports=function(e){var t=n(63074),i={},a=t.getOrCreate(i),o=3;return function t(){return o--,r(a,e.srcObject,250).then((function(e){return!!e&&(!(o>0)||t())})).catch((function(){return!0}))}().finally((function(){t.release(i)}))}},43377:function(e){"use strict";var t=null,n=50,r=50;e.exports=function(e){return t=t||document.createElement("canvas"),new Promise((function(i){var a=3;setTimeout((function o(){return a--,function(e){try{var i=t.getContext("2d");i.drawImage(e,0,0,r,n);var a=i.getImageData(0,0,r,n).data.filter((function(e,t){return(t+1)%4}));return 0===Math.max.apply(Math,a)}catch(o){return console.log("Error checking silence: ",o),!1}}(e)?a>0?setTimeout(o,250):i(!0):i(!1)}),250)}))}},72217:function(e){"use strict";var t=function(){function e(e){var t=this;void 0===e&&(e=1),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){t._emitVisible("visible"===document.visibilityState)}}});for(var n=0;n<e;n++)this._listeners.push([])}return e.prototype.clear=function(){for(var e=this._listeners.length,t=0;t<e;t++)this._listeners[t]=[]},e.prototype._listenerCount=function(){return this._listeners.reduce((function(e,t){return e+t.length}),0)},e.prototype._emitVisible=function(e){for(var t=this,n=Promise.resolve(),r=function(r){n=n.then((function(){return t._emitVisiblePhase(r,e)}))},i=1;i<=this._listeners.length;i++)r(i);return n},e.prototype._emitVisiblePhase=function(e,t){var n=this._listeners[e-1];return Promise.all(n.map((function(e){var n=e(t);return n instanceof Promise?n:Promise.resolve(n)})))},e.prototype._start=function(){document.addEventListener("visibilitychange",this._onVisibilityChange)},e.prototype._stop=function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)},e.prototype.onVisibilityChange=function(e,t){if("number"!==typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this},e.prototype.offVisibilityChange=function(e,t){if("number"!==typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],r=n.indexOf(t);return-1!==r&&(n.splice(r,1),0===this._listenerCount()&&this._stop()),this},e}();e.exports=new t(2)},3035:function(e){"use strict";e.exports=function(e){var t=e.location,n=e.URL;return[t,n].some((function(e){return!e}))?function(e){return Promise.reject(new Error("Failed to import: "+e+": dynamicImport is not supported"))}:(e.__twilioVideoImportedModules={},function(r){return r in e.__twilioVideoImportedModules?Promise.resolve(e.__twilioVideoImportedModules[r]):new Function("scope","return import('"+new n(r,t)+"').then(m => scope.__twilioVideoImportedModules['"+r+"'] = m);")(e)})}(globalThis)},16820:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465).EventEmitter,a=["signaling","room","media","quality","video-processor","preflight"],o=["debug","error","info","warning"],s=function(e){function t(t,n,r,i){void 0===i&&(i=null);var s=e.call(this)||this;return s.on("event",(function(e){var s=e.name,u=e.group,c=e.level,l=e.payload;if("string"!==typeof s)throw r.error("Unexpected name: ",s),new Error("Unexpected name: ",s);if(!a.includes(u))throw r.error("Unexpected group: ",u),new Error("Unexpected group: ",u);if(!o.includes(c))throw r.error("Unexpected level: ",c),new Error("Unexpected level: ",c);var f=Date.now(),d=f-n,p=Object.assign({elapsedTime:d,level:c},l||{});t.publish(u,s,p);var h=Object.assign({elapsedTime:d,group:u,level:c,name:s,timestamp:f},l?{payload:l}:{});r[{debug:"debug",error:"error",info:"info",warning:"warn"}[c]]("event",h),i&&"signaling"===u&&i.emit("event",h)})),s}return r(t,e),t}(i);e.exports=s},93307:function(e){"use strict";var t=function(){function e(e){e=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}return e.prototype.toMap=function(){return new Map(this._map)},e.prototype.updateAndFilter=function(e){return e.filter(this.update,this)},e.prototype.update=function(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)},e}();e.exports=t},58242:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(24657),s=o.typeErrors,u=o.trackPriority,c=n(73348),l=n(22243).sessionSID,f=n(94438);function d(){return"undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"}function p(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var o;try{o=typeof e[r]}catch(s){}"function"===o&&(t[r]=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return(e=this[n])[r].apply(e,a([],i(t)))})}}function h(e){return"object"===typeof e&&!Array.isArray(e)}function v(e){Object.getOwnPropertyNames(e).forEach((function(t){t.startsWith("_")&&m(e,t)}))}function m(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function g(e){return e.map(y)}function y(e){return Array.isArray(e)?g(e):e instanceof Set?g(a([],i(e))):e instanceof Map?a([],i(e.entries())).reduce((function(e,t){var n,r=i(t,2),a=r[0],o=r[1];return Object.assign(((n={})[a]=y(o),n),e)}),{}):e&&"object"===typeof e?(t=e,Object.entries(t).reduce((function(e,t){var n,r=i(t,2),a=r[0],o=r[1];return Object.assign(((n={})[a]=y(o),n),e)}),{})):e;var t}function b(e){return w(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:k},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function x(e){return w(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function k(e){return w(e,[{prop:u.PRIORITY_HIGH,type:"object",transform:x},{prop:u.PRIORITY_LOW,type:"object",transform:x},{prop:u.PRIORITY_STANDARD,type:"object",transform:x}])}function w(e,t){return t.reduce((function(t,n){var r,i=n.prop,a=n.type,o=n.payloadProp,s=void 0===o?i:o,u=n.transform,c=void 0===u?function(e){return e}:u;return typeof e[i]===a?Object.assign(((r={})[s]=c(e[i]),r),t):t}),{})}t.constants=o,t.createBandwidthProfilePayload=function(e){return w(e,[{prop:"video",type:"object",transform:b}])},t.createMediaSignalingPayload=function(e,t,n,r,i,a){var o={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:o}:{},t?{network_quality:o}:{},a?{render_hints:o}:{},i?{publisher_hints:o}:{},n?{track_priority:o}:{},r?{track_switch_off:o}:{})},t.createMediaWarningsPayload=function(e){var t,n=((t={})[f.recordingMediaLost]="recordings",t);return e.map((function(e){return n[e]})).filter((function(e){return!!e}))},t.createRoomConnectEventPayload=function(e){function t(e){return e?"true":"false"}var n={sessionSID:l,iceServers:(e.iceServers||[]).length,audioTracks:(e.tracks||[]).filter((function(e){return"audio"===e.kind})).length,videoTracks:(e.tracks||[]).filter((function(e){return"video"===e.kind})).length,dataTracks:(e.tracks||[]).filter((function(e){return"data"===e.kind})).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach((function(r){var a=i(r,2),o=a[0],s=a[1];n[s=s||o]=t(!!e[o])})),[["maxVideoBitrate"],["maxAudioBitrate"]].forEach((function(t){var r=i(t,2),a=r[0],o=r[1];o=o||a,"number"===typeof e[a]?n[o]=e[a]:isNaN(Number(e[a]))||(n[o]=Number(e[a]))})),[["iceTransportPolicy"],["region"],["name","roomName"]].forEach((function(t){var r=i(t,2),a=r[0],o=r[1];o=o||a,"string"===typeof e[a]?n[o]=e[a]:"number"===typeof e[a]&&"name"===a&&(n[o]=e[a].toString())})),["preferredAudioCodecs","preferredVideoCodecs"].forEach((function(t){t in e&&(n[t]=JSON.stringify(e[t]))})),"networkQuality"in e&&(n.networkQualityConfiguration={},h(e.networkQuality)?["local","remote"].forEach((function(t){"number"===typeof e.networkQuality[t]&&(n.networkQualityConfiguration[t]=e.networkQuality[t])})):(n.networkQualityConfiguration.remote=0,n.networkQualityConfiguration.local=e.networkQuality?1:0)),e.bandwidthProfile&&e.bandwidthProfile.video){var r=e.bandwidthProfile.video||{};n.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate","renderDimensions","contentPreferencesMode","clientTrackSwitchOffControl"].forEach((function(e){"number"===typeof r[e]||"string"===typeof r[e]?n.bandwidthProfileOptions[e]=r[e]:"boolean"===typeof r[e]?n.bandwidthProfileOptions[e]=t(r[e]):"object"===typeof r[e]&&(n.bandwidthProfileOptions[e]=JSON.stringify(r[e]))}))}return{group:"room",name:"connect",level:"info",payload:n}},t.createSubscribePayload=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},t.asLocalTrack=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw s.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.asLocalTrackPublication=function(e,t,n,r){return new(0,{audio:r.LocalAudioTrackPublication,video:r.LocalVideoTrackPublication,data:r.LocalDataTrackPublication}[e.kind])(t,e,n,r)},t.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},t.deprecateEvents=function(e,t,n,r){var i=new Set;t.on("newListener",(function a(o){n.has(o)&&!i.has(o)&&(r.deprecated(e+"#"+o+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(o)?" Use "+e+"#"+n.get(o)+" instead.":"")),i.add(o)),i.size>=n.size&&t.removeListener("newListener",a)}))},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},t.filterObject=function(e,t){return Object.keys(e).reduce((function(n,r){return e[r]!==t&&(n[r]=e[r]),n}),{})},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce((function(e,n){var r=t(n);return e.concat(r)}),[])},t.getPlatform=function(){var e=d(),t=i(e.match(/\(([^)]+)\)/)||[],2)[1];return i((void 0===t?"unknown":t).split(";").map((function(e){return e.trim()})),1)[0].toLowerCase()},t.getUserAgent=d,t.hidePrivateProperties=v,t.hidePrivateAndCertainPublicPropertiesInClass=function(e,t){return function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,a([],i(n)))||this;return v(o),function(e,t){void 0===t&&(t=[]);t.forEach((function(t){e.hasOwnProperty(t)&&m(e,t)}))}(o,t),o}return r(n,e),n}(e)},t.isDeepEqual=function e(t,n){if(t===n)return!0;if(typeof t!==typeof n)return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t){var r=Object.keys(t).sort(),i=Object.keys(n).sort();return!Array.isArray(n)&&e(r,i)&&r.every((function(r){return e(t[r],n[r])}))}return!1},t.isNonArrayObject=h,t.inRange=function(e,t,n){return t<=e&&e<=n},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.oncePerTick=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},t.promiseFromEvents=function(e,t,n,r){return new Promise((function(o,s){function u(){var e=[].slice.call(arguments);r&&t.removeListener(r,c),o.apply(void 0,a([],i(e)))}function c(){var e=[].slice.call(arguments);t.removeListener(n,u),s.apply(void 0,a([],i(e)))}t.once(n,u),r&&t.once(r,c),e()}))},t.getOrNull=function(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:null}),e)},t.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},t.delegateMethods=function(e,t,n){for(var r in e)p(e,t,n,r)},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,n,r){if(r in t)return;if(r.match(/^on[a-z]+$/))return Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.dispatchEvent.apply(t,a([],i(e)))}));Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)}))},t.legacyPromise=function(e,t,n){return t?e.then((function(e){t(e)}),(function(e){n(e)})):e},t.buildLogLevels=function(e){return"string"===typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},t.trackClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"Track"},t.trackPublicationClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"TrackPublication"},t.valueToJSON=y,t.withJitter=function(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)},t.isChromeScreenShareTrack=function(e){return"chrome"===c.guessBrowser()&&"video"===e.kind&&"displaySurface"in e.getSettings()},t.isUserMediaTrack=function(e){return"string"===typeof e.getSettings().deviceId},t.waitForSometime=function(e){return void 0===e&&(e=10),new Promise((function(t){return setTimeout(t,e)}))},t.waitForEvent=function(e,t){return new Promise((function(n){e.addEventListener(t,(function r(i){e.removeEventListener(t,r),n(i)}))}))}},33512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=n(47465).EventEmitter,o=n(58242).getUserAgent,s=1e3,u=globalThis,c=u.WebSocket?u.WebSocket:n(10057),l=n(24657),f=l.hardwareDevicePublisheriPad,d=l.hardwareDevicePublisheriPhone,p=n(58242),h=n(39091),v=function(e){function t(t,n,r,i,a,s){var u=e.call(this)||this;return s=Object.assign({gateway:g(i,a)+"/v1/VideoEvents",maxReconnectAttempts:5,reconnectIntervalMs:50,userAgent:o(),WebSocket:c},s),Object.defineProperties(u,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:p.defer()},_reconnectAttemptsLeft:{value:s.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:s.WebSocket}}),u._readyToConnect.promise.then((function(e){var i=e.roomSid,a=e.participantSid,o=u;u.on("disconnected",(function e(u){if(o._session=null,u&&o._reconnectAttemptsLeft>0)return o.emit("reconnecting"),void function(e,t,n,r,i,a,o){var s=Date.now()-e._connectTimestamp,u=o.reconnectIntervalMs-s;if(u>0)return void setTimeout((function(){m(e,t,n,r,i,a,o)}),u);m(e,t,n,r,i,a,o)}(o,t,n,r,i,a,s);o.removeListener("disconnected",e)})),m(u,t,n,r,i,a,s)})).catch((function(){})),u}return r(t,e),t.prototype.connect=function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})},t.prototype._publish=function(e){e.session=this._session,this._ws.send(JSON.stringify(e))},t.prototype.disconnect=function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0},t.prototype.publish=function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"===typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)},t}(a);function m(e,t,n,r,a,o,u){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new u.WebSocket(u.gateway);var c=e._ws;c.addEventListener("close",(function(t){t.code!==s?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")})),c.addEventListener("message",(function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),u)})),c.addEventListener("open",(function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:u.userAgent,participantSid:o,roomSid:a},h.isIpad()?e.publisher=i(i({},e.publisher),f):h.isIphone()&&(e.publisher=i(i({},e.publisher),d)),c.send(JSON.stringify(e))}))}function g(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}e.exports=v},3137:function(e){"use strict";var t=function(){function e(){Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return e.prototype.connect=function(){},e.prototype.disconnect=function(){return!!this._connected&&(this._connected=!1,!0)},e.prototype.publish=function(){return this._connected},e}();e.exports=t},39271:function(e,t,n){"use strict";var r=n(58242).defer,i=function(){function e(){Object.defineProperties(this,{_audio:{value:r(),writable:!0},_video:{value:r(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return e.prototype.resolveDeferred=function(e){"audio"===e?this._audio.resolve():this._video.resolve()},e.prototype.startDeferred=function(e){"audio"===e?this._audio=r():this._video=r()},e.prototype.whenResolved=function(e){return"audio"===e?this._audio.promise:this._video.promise},e}();e.exports=new i},41547:function(e,t,n){"use strict";var r,i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(48489).getLogger,s=n(24657),u=s.DEFAULT_LOG_LEVEL,c=s.DEFAULT_LOGGER_NAME,l=n(24657).typeErrors;var f=function(){function e(t,n,r,i,a){if("string"!==typeof t)throw l.INVALID_TYPE("moduleName","string");if(!n)throw l.REQUIRED_ARGUMENT("component");"object"!==typeof r&&(r={}),a=a||o,m(r),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:r},_warnings:{value:new Set},_loggerName:{get:function(){var e=i&&"string"===typeof i?i:c;return this._logLevelsEqual||(e=e+"-"+t),e}},_logger:{get:function(){var e=a(this._loggerName),n=this._logLevels[t]||u;return n="off"===n?"silent":n,e.setDefaultLevel(n),e}},_logLevelsEqual:{get:function(){return 1===new Set(Object.values(this._logLevels)).size}},logLevel:{get:function(){return e.getLevelByName(r[t]||u)}},name:{get:n.toString.bind(n)}})}return e.getLevelByName=function(t){return isNaN(t)?(v(t=t.toUpperCase()),e[t]):parseInt(t,10)},e.prototype.createLog=function(t,n){var r=this._loggerName;return this._logLevelsEqual||(r=r.substring(0,r.lastIndexOf("-"))),new e(t,n,this._logLevels,r)},e.prototype.setLevels=function(e){return m(e),Object.assign(this._logLevels,e),this},e.prototype.log=function(t,n){var r=e._levels[t];if(!r)throw l.INVALID_VALUE("logLevel",p);r=r.toLowerCase();var o=[(new Date).toISOString(),r,this.name];return(this._logger[r]||function(){}).apply(void 0,a([],i(o.concat(n)))),this},e.prototype.debug=function(){return this.log(e.DEBUG,[].slice.call(arguments))},e.prototype.deprecated=function(e){var t=function(e){if((r=r||new Map).has(e))return r.get(e);var t=new Set;return r.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))},e.prototype.info=function(){return this.log(e.INFO,[].slice.call(arguments))},e.prototype.warn=function(){return this.log(e.WARN,[].slice.call(arguments))},e.prototype.warnOnce=function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))},e.prototype.error=function(){return this.log(e.ERROR,[].slice.call(arguments))},e.prototype.throw=function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t},e}();Object.defineProperties(f,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var d={},p=[],h=f._levels.map((function(e,t){return d[e]=!0,p.push(t),e}));function v(e){if(!(e in d))throw l.INVALID_VALUE("level",h)}function m(e){Object.keys(e).forEach((function(t){v(e[t].toUpperCase())}))}e.exports=f},21288:function(e){"use strict";var t=function(){function e(){Object.defineProperties(this,{_samples:{value:[{denominator:0,numerator:0},{denominator:0,numerator:0}]}})}return e.prototype.get=function(){var e=this._samples,t=e[1].denominator-e[0].denominator||1/0;return(e[1].numerator-e[0].numerator)/t},e.prototype.putSample=function(e,t){var n=this._samples;n.shift(),n.push({denominator:t,numerator:e})},e}();e.exports=t},82909:function(e){"use strict";var t=function(){function e(e,t){var n=this,r=(t=Object.assign({navigator:navigator,window:window},t)).navigator,i=r.connection||{type:null},a=i.type,o=i.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var t=a!==n.type&&n.isOnline;a=n.type,t&&e()}},_target:{value:i}}:{_events:{value:["online"]},_listener:{value:e},_target:{value:t.window}},s=o._events,u=o._listener,c=o._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!==typeof r.onLine||r.onLine}},type:{enumerable:!0,get:function(){return i.type||null}},_listener:u,_events:s,_target:c})}return e.prototype.start=function(){var e=this;this._events.forEach((function(t){e._target.addEventListener(t,e._listener)}))},e.prototype.stop=function(){var e=this;this._events.forEach((function(t){e._target.removeEventListener(t,e._listener)}))},e}();e.exports=t},76770:function(e){"use strict";var t=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=function(){function e(e){Object.defineProperties(this,{_callback:{value:e}})}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.makeVisible=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},e.prototype.makeInvisible=function(e){var t=this._makeFakeEntry(e,!1);this._callback([t])},e.prototype._makeFakeEntry=function(e,t){return{target:e,isIntersecting:t}},e}(),r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(n),i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.resize=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},n}(n);e.exports={NullIntersectionObserver:r,NullResizeObserver:i,NullObserver:n}},2283:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(58242),a=i.difference,o=i.flatMap,s=n(8293),u={0:"PCMU",8:"PCMA"};function c(e){return Array.from(f(e)).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))}),new Map)}function l(e){return h(e).reduce((function(e,t){var n=p(t);return n?e.set(n,t):e}),new Map)}function f(e){return v(e).reduce((function(t,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),i=e.match(r),a=i?i[1].toLowerCase():u[n]?u[n].toLowerCase():"";return t.set(n,a)}),new Map)}function d(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce((function(e,t){var n=r(t.split("="),2),i=n[0],a=n[1];return e[i]=isNaN(a)?a:parseInt(a,10),e}),{})}function p(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function h(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)}))}function v(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map((function(e){return parseInt(e,10)})):[]}function m(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return[r=r.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(i).join("\r\n")}function g(e,t,n){if(!/^m=(audio|video)/.test(e))return e;var i=p(e),a=i&&t.get(i);if(!a)return e;var s=f(a),u=c(e),l=o(Array.from(s),(function(t){var i=r(t,2),o=i[0],s=i[1];return"rtx"===s||n.includes(s)?[]:function(e,t,n,r,i){var a=n.get(e)||[];if(a.length<=1)return a;var o=d(t,i);if(!o)return a;var s=a.find((function(e){var t=d(e,r);return t&&Object.keys(o).every((function(e){return o[e]===t[e]}))}));return"number"===typeof s?[s]:a}(s,o,u,e,a)})),h=u.get("rtx")||[];l=l.concat(h.filter((function(t){var n=d(t,e);return n&&l.includes(n.apt)})));var g=e.split("\r\n").filter((function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&l.includes(parseInt(n,10))}));return m(v(e).filter((function(e){return l.includes(e)})),g.join("\r\n"))}function y(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var n=p(e);if(!n)return e;var i=t.get(n);if(!i)return e;var a=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!a)return e;var o=r(a.split(" "),2),s=o[0],u=o[1],c=new RegExp("msid:"+s+(u?" "+u:"")+"$","gm");return e.replace(c,"msid:"+s+" "+i)}))).join("\r\n")}function b(e,t){var n=Object.entries(t).map((function(e){var t=r(e,2);return t[0]+"="+t[1]})).join(";");return"a=fmtp:"+e+" "+n}t.addOrRewriteNewTrackIds=function(e,t,n){var i=Array.from(n).reduce((function(n,i){var a=r(i,2),o=a[0],s=a[1];return h(e,o,"send(only|recv)").map(p).filter((function(e){return!t.has(e)})).forEach((function(e,t){return n.set(e,s[t])})),n}),new Map);return y(e,i)},t.addOrRewriteTrackIds=y,t.createCodecMapForMediaSection=c,t.createPtToCodecName=f,t.disableRtx=function(e){var t=h(e);return[e.split("\r\nm=")[0]].concat(t.map((function(e){if(!/^m=video/.test(e))return e;var t=c(e).get("rtx");if(!t)return e;var n=new Set(v(e));t.forEach((function(e){return n.delete(e)}));var r=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),i=r&&r[1],a=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(i?[new RegExp("^a=ssrc:"+i+" .+$")]:[]);return e=e.split("\r\n").filter((function(e){return a.every((function(t){return!t.test(e)}))})).join("\r\n"),m(Array.from(n),e)}))).join("\r\n")},t.enableDtxForOpus=function(e,t){var n=h(e),r=e.split("\r\nm=")[0];return t=t||n.filter((function(e){return/^m=audio/.test(e)})).map(p),[r].concat(n.map((function(e){if(!/^m=audio/.test(e))return e;var n=c(e).get("opus");if(!n)return e;var r=d(n,e);if(!r)return e;var i=b(n,r),a=new RegExp(i),o=p(e);t.includes(o)?r.usedtx=1:delete r.usedtx;var s=b(n,r);return e.replace(a,s)}))).join("\r\n")},t.filterLocalCodecs=function(e,t){var n=h(e),r=e.split("\r\nm=")[0],i=l(t);return[r].concat(n.map((function(e){return g(e,i,[])}))).join("\r\n")},t.getMediaSections=h,t.removeSSRCAttributes=function(e,t){return e.split("\r\n").filter((function(e){return!t.find((function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)}))})).join("\r\n")},t.revertSimulcast=function(e,t,n,r){void 0===r&&(r=!1);var i=l(n),a=l(t),o=h(e);return[e.split("\r\nm=")[0]].concat(o.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var o=i.get(n),s=f(o),u=v(o),c=u.length&&"vp8"===s.get(u[0]);return r||!c?a.get(n).replace(/\r\n$/,""):e}))).concat("").join("\r\n")},t.setCodecPreferences=function(e,t,n){var r=h(e);return[e.split("\r\nm=")[0]].concat(r.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1],i=c(e),s=function(e,t){t=t.map((function(e){return e.codec.toLowerCase()}));var n=o(t,(function(t){return e.get(t)||[]})),r=a(Array.from(e.keys()),t),i=o(r,(function(t){return e.get(t)}));return n.concat(i)}(i,"audio"===r?t:n),u=m(s,e),l=i.get("pcma")||[],f=i.get("pcmu")||[];return("audio"===r?new Set(l.concat(f)):new Set).has(s[0])?u.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):u}))).join("\r\n")},t.setSimulcast=function(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var n=c(e),r=v(e),i=new Set(n.get("vp8")||[]);return r.some((function(e){return i.has(e)}))?s(e,t):e}))).concat("").join("\r\n")}},93202:function(e,t,n){"use strict";var r=n(25409).RTCSessionDescription,i=n(2283),a=i.createPtToCodecName,o=i.getMediaSections;function s(e){var t=a(e);e=function(e,t){return Array.from(t.keys()).reduce((function(e,n){var r=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(r)||[]).slice("rtx"===t.get(n)?1:0).reduce((function(e,t){var r=new RegExp("\r\n"+t),i=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(r,"").replace(i,"")}),e)}),e)}(e,t);var n=function(e){var t=new Map;return e.forEach((function(e,n){var r=t.get(e)||new Set;return t.set(e,r.add(n))})),t}(t),r=n.get("rtx")||new Set,i=new Set,o=function(e,t,n,r){return Array.from(n).reduce((function(n,i){var a=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),o=e.match(a);if(!o)return r.add(i),n;var s=Number.parseInt(o[1]);return t.has(s)?"rtx"===t.get(s)?(r.add(i),n):n.set(i,s):(r.add(i),n)}),new Map)}(e,t,r,i),s=function(e,t){var n=Array.from(e).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||new Set;return e.set(r,i.add(n))}),new Map);return Array.from(n).reduce((function(e,n){var r=n[0],i=Array.from(n[1]);return i.length>1?(i.forEach((function(e){t.add(e)})),e):e.set(r,i[0])}),new Map)}(o,i),c=Array.from(i);return["h264","vp8","vp9"].reduce((function(e,t){var r=n.get(t)||new Set;return Array.from(r).reduce((function(e,t){return s.has(t)?e:e.add(t)}),e)}),new Set).forEach((function(t){if(c.length){var n=c.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=u(e,n),n,t)}})),c.forEach((function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=u(e,t),t)})),e}function u(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t={type:e.type};return"rollback"!==e.type&&(t.sdp=function(e){var t=o(e);return[e.split("\r\nm=")[0]].concat(t.map(s)).join("\r\n")}(e.sdp)),new r(t)}},8293:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(58242),a=i.difference,o=i.flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var u=function(){function e(e,t,n){Object.defineProperties(this,{cName:{enumerable:!0,value:n},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:t},trackId:{enumerable:!0,value:e}})}return e.prototype.addSimulcastSSRCs=function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach((function(e){this.primarySSRCs.add(e)}),this),this.rtxPairs.size&&e.forEach((function(e){this.rtxPairs.set(s(),e)}),this)}},e.prototype.addSSRC=function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n},e.prototype.toSdpLines=function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map((function(e){return e.reverse()})),r=Array.from(this.primarySSRCs.values()),i=n.length?o(n):r,a=o(i,(function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]})),s=n.map((function(e){return"a=ssrc-group:FID "+e.join(" ")})),u=["a=ssrc-group:SIM "+r.join(" ")];return s.concat(a).concat(u)},e}();function c(e,t){return(e.match(new RegExp(t,"gm"))||[]).map((function(e){return(e.match(new RegExp(t))||[]).slice(1)}))}function l(e){var t=function(e){return new Set(o(c(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),n=function(e){return new Map(c(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map((function(e){return e.reverse()})))}(e),i=function(e){var t=r(o(c(e,"^a=msid:(.+) (.+)$")),2),n=t[0],i=t[1];return o(c(e,"^a=ssrc:(.+) cname:.+$")).map((function(e){return[e,n,i]}))}(e);return i.reduce((function(r,i){var a=i[0],o=i[1],s=i[2],c=r.get(s)||new u(s,o,function(e,t,n){var r="a=ssrc:"+t+" "+n+":(.+)";return e.match(new RegExp(r))[1]}(e,a,"cname")),l=n.get(a)||null;return c.addSSRC(a,l,t.has(a)),r.set(s,c)}),new Map)}e.exports=function(e,t){var n=l(e),r=Array.from(n.keys()),i=Array.from(t.keys()),s=a(r,i),u=a(i,r);o(s,(function(e){return n.get(e)})).forEach((function(e){e.addSimulcastSSRCs(),t.set(e.trackId,e)})),i=Array.from(t.keys());var c=a(i,u),f=o(c,(function(e){return t.get(e)})),d=!e.match(/a=rtpmap:[0-9]+ rtx/),p=o(f,(function(e){return e.toSdpLines(d)})),h=o(new Set(e.split("\r\n").concat(p))),v="a=x-google-flag:conference";return e.match(v)||h.push(v),h.join("\r\n")}},51173:function(e,t,n){"use strict";var r=n(2283).getMediaSections,i=function(){function e(){Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return e.prototype.match=function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null},e.prototype.update=function(e){var t=r(e,"(audio|video)");this._midsToTrackIds=t.reduce((function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],r=t.match(/^a=msid:.+ (.+)$/m)||[],i=n[1],a=r[1];return i&&a?e.set(i,a):e}),this._midsToTrackIds)},e}();e.exports=i},22243:function(e,t){var n="1234567890abcdef";function r(e){for(var t="",r=0;r<32;r++)t+=n.charAt(Math.floor(16*Math.random()));return""+e+t}t.sessionSID=r("SS"),t.createSID=r},96415:function(e,t,n){"use strict";var r=n(73348),i=r.guessBrowser,a=r.support,o=n(90878).getSdpFormat,s=n(39091),u=s.isAndroid,c=s.isMobile,l=s.isNonChromiumEdge,f=s.rebrandedChromeBrowser,d=s.mobileWebKitBrowser,p=["crios","edg","edge","electron","headlesschrome"],h=["chrome","firefox"],v=["chrome","safari"],m=[];e.exports=function(){var e=i();if(!e)return!1;var t=f(e),n=d(e),r=u()?h:v;return!!e&&a()&&"unified"===o()&&(!t||p.includes(t))&&!l(e)&&(!n||m.includes(n))&&(!c()||r.includes(e))}},91149:function(e){"use strict";var t=function(){function e(e,t,n){void 0===n&&(n=!0),Object.defineProperties(this,{_delay:{value:t,writable:!0},_fn:{value:e},_timeout:{value:null,writable:!0}}),n&&this.start()}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSet",{get:function(){return!!this._timeout},enumerable:!1,configurable:!0}),e.prototype.setDelay=function(e){this._delay=e},e.prototype.start=function(){var e=this;this.isSet||(this._timeout=setTimeout((function(){var t=e._fn;e.clear(),t()}),this._delay))},e.prototype.clear=function(){clearTimeout(this._timeout),this._timeout=null},e.prototype.reset=function(){this.clear(),this.start()},e}();e.exports=t},89752:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(86520),a={};t.createTwilioError=function(e,t){return t="string"===typeof t&&t?t:"Unknown error",a[e="number"===typeof e?e:0]?new a[e]:new i(e,t)};var o=function(e){function t(){var n=e.call(this,20101,"Invalid Access Token")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenInvalidError=o,Object.defineProperty(a,20101,{value:o});var s=function(e){function t(){var n=e.call(this,20102,"Invalid Access Token header")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenHeaderInvalidError=s,Object.defineProperty(a,20102,{value:s});var u=function(e){function t(){var n=e.call(this,20103,"Invalid Access Token issuer/subject")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenIssuerInvalidError=u,Object.defineProperty(a,20103,{value:u});var c=function(e){function t(){var n=e.call(this,20104,"Access Token expired or expiration date invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenExpiredError=c,Object.defineProperty(a,20104,{value:c});var l=function(e){function t(){var n=e.call(this,20105,"Access Token not yet valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenNotYetValidError=l,Object.defineProperty(a,20105,{value:l});var f=function(e){function t(){var n=e.call(this,20106,"Invalid Access Token grants")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenGrantsInvalidError=f,Object.defineProperty(a,20106,{value:f});var d=function(e){function t(){var n=e.call(this,20107,"Invalid Access Token signature")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenSignatureInvalidError=d,Object.defineProperty(a,20107,{value:d});var p=function(e){function t(){var n=e.call(this,53e3,"Signaling connection error")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionError=p,Object.defineProperty(a,53e3,{value:p});var h=function(e){function t(){var n=e.call(this,53001,"Signaling connection disconnected")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionDisconnectedError=h,Object.defineProperty(a,53001,{value:h});var v=function(e){function t(){var n=e.call(this,53002,"Signaling connection timed out")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionTimeoutError=v,Object.defineProperty(a,53002,{value:v});var m=function(e){function t(){var n=e.call(this,53003,"Client received an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingIncomingMessageInvalidError=m,Object.defineProperty(a,53003,{value:m});var g=function(e){function t(){var n=e.call(this,53004,"Client sent an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingOutgoingMessageInvalidError=g,Object.defineProperty(a,53004,{value:g});var y=function(e){function t(){var n=e.call(this,53006,"Video server is busy")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingServerBusyError=y,Object.defineProperty(a,53006,{value:y});var b=function(e){function t(){var n=e.call(this,53100,"Room name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameInvalidError=b,Object.defineProperty(a,53100,{value:b});var x=function(e){function t(){var n=e.call(this,53101,"Room name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameTooLongError=x,Object.defineProperty(a,53101,{value:x});var k=function(e){function t(){var n=e.call(this,53102,"Room name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameCharsInvalidError=k,Object.defineProperty(a,53102,{value:k});var w=function(e){function t(){var n=e.call(this,53103,"Unable to create Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomCreateFailedError=w,Object.defineProperty(a,53103,{value:w});var _=function(e){function t(){var n=e.call(this,53104,"Unable to connect to Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomConnectFailedError=_,Object.defineProperty(a,53104,{value:_});var S=function(e){function t(){var n=e.call(this,53105,"Room contains too many Participants")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMaxParticipantsExceededError=S,Object.defineProperty(a,53105,{value:S});var T=function(e){function t(){var n=e.call(this,53106,"Room not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNotFoundError=T,Object.defineProperty(a,53106,{value:T});var C=function(e){function t(){var n=e.call(this,53107,"MaxParticipants is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMaxParticipantsOutOfRangeError=C,Object.defineProperty(a,53107,{value:C});var E=function(e){function t(){var n=e.call(this,53108,"RoomType is not valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTypeInvalidError=E,Object.defineProperty(a,53108,{value:E});var O=function(e){function t(){var n=e.call(this,53109,"Timeout is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTimeoutOutOfRangeError=O,Object.defineProperty(a,53109,{value:O});var A=function(e){function t(){var n=e.call(this,53110,"StatusCallbackMethod is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusCallbackMethodInvalidError=A,Object.defineProperty(a,53110,{value:A});var I=function(e){function t(){var n=e.call(this,53111,"StatusCallback is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusCallbackInvalidError=I,Object.defineProperty(a,53111,{value:I});var R=function(e){function t(){var n=e.call(this,53112,"Status is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusInvalidError=R,Object.defineProperty(a,53112,{value:R});var N=function(e){function t(){var n=e.call(this,53113,"Room exists")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomRoomExistsError=N,Object.defineProperty(a,53113,{value:N});var P=function(e){function t(){var n=e.call(this,53114,"Room creation parameter(s) incompatible with the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomInvalidParametersError=P,Object.defineProperty(a,53114,{value:P});var M=function(e){function t(){var n=e.call(this,53115,"MediaRegion is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMediaRegionInvalidError=M,Object.defineProperty(a,53115,{value:M});var D=function(e){function t(){var n=e.call(this,53116,"There are no media servers available in the MediaRegion")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMediaRegionUnavailableError=D,Object.defineProperty(a,53116,{value:D});var j=function(e){function t(){var n=e.call(this,53117,"The subscription operation requested is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomSubscriptionOperationNotSupportedError=j,Object.defineProperty(a,53117,{value:j});var L=function(e){function t(){var n=e.call(this,53118,"Room completed")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomCompletedError=L,Object.defineProperty(a,53118,{value:L});var F=function(e){function t(){var n=e.call(this,53124,"The AudioOnly flag is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomAudioOnlyFlagNotSupportedError=F,Object.defineProperty(a,53124,{value:F});var Z=function(e){function t(){var n=e.call(this,53125,"The track kind is not supported by the Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTrackKindNotSupportedError=Z,Object.defineProperty(a,53125,{value:Z});var B=function(e){function t(){var n=e.call(this,53200,"Participant identity is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityInvalidError=B,Object.defineProperty(a,53200,{value:B});var U=function(e){function t(){var n=e.call(this,53201,"Participant identity is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityTooLongError=U,Object.defineProperty(a,53201,{value:U});var V=function(e){function t(){var n=e.call(this,53202,"Participant identity contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityCharsInvalidError=V,Object.defineProperty(a,53202,{value:V});var z=function(e){function t(){var n=e.call(this,53203,"The maximum number of published tracks allowed in the Room at the same time has been reached")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantMaxTracksExceededError=z,Object.defineProperty(a,53203,{value:z});var W=function(e){function t(){var n=e.call(this,53204,"Participant not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantNotFoundError=W,Object.defineProperty(a,53204,{value:W});var H=function(e){function t(){var n=e.call(this,53205,"Participant disconnected because of duplicate identity")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantDuplicateIdentityError=H,Object.defineProperty(a,53205,{value:H});var G=function(e){function t(){var n=e.call(this,53300,"Track is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackInvalidError=G,Object.defineProperty(a,53300,{value:G});var q=function(e){function t(){var n=e.call(this,53301,"Track name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameInvalidError=q,Object.defineProperty(a,53301,{value:q});var K=function(e){function t(){var n=e.call(this,53302,"Track name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameTooLongError=K,Object.defineProperty(a,53302,{value:K});var Y=function(e){function t(){var n=e.call(this,53303,"Track name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameCharsInvalidError=Y,Object.defineProperty(a,53303,{value:Y});var X=function(e){function t(){var n=e.call(this,53304,"Track name is duplicated")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameIsDuplicatedError=X,Object.defineProperty(a,53304,{value:X});var Q=function(e){function t(){var n=e.call(this,53305,"The server has reached capacity and cannot fulfill this request")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackServerTrackCapacityReachedError=Q,Object.defineProperty(a,53305,{value:Q});var J=function(e){function t(){var n=e.call(this,53400,"Client is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaClientLocalDescFailedError=J,Object.defineProperty(a,53400,{value:J});var $=function(e){function t(){var n=e.call(this,53401,"Server is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaServerLocalDescFailedError=$,Object.defineProperty(a,53401,{value:$});var ee=function(e){function t(){var n=e.call(this,53402,"Client is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaClientRemoteDescFailedError=ee,Object.defineProperty(a,53402,{value:ee});var te=function(e){function t(){var n=e.call(this,53403,"Server is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaServerRemoteDescFailedError=te,Object.defineProperty(a,53403,{value:te});var ne=function(e){function t(){var n=e.call(this,53404,"No supported codec")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaNoSupportedCodecError=ne,Object.defineProperty(a,53404,{value:ne});var re=function(e){function t(){var n=e.call(this,53405,"Media connection failed or Media activity ceased")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaConnectionError=re,Object.defineProperty(a,53405,{value:re});var ie=function(e){function t(){var n=e.call(this,53407,"Media connection failed due to DTLS handshake failure")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaDTLSTransportFailedError=ie,Object.defineProperty(a,53407,{value:ie});var ae=function(e){function t(){var n=e.call(this,53500,"Unable to acquire configuration")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ConfigurationAcquireFailedError=ae,Object.defineProperty(a,53500,{value:ae});var oe=function(e){function t(){var n=e.call(this,53501,"Unable to acquire TURN credentials")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ConfigurationAcquireTurnFailedError=oe,Object.defineProperty(a,53501,{value:oe})},86520:function(e){"use strict";var t=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=function(e){function i(t){var a,o=[].slice.call(arguments,1);a=e.apply(this,r([],n(o)))||this,Object.setPrototypeOf(a,i.prototype);var s=Error.apply(a,o);return s.name="TwilioError",Object.defineProperty(a,"code",{value:t,enumerable:!0}),Object.getOwnPropertyNames(s).forEach((function(e){Object.defineProperty(this,e,{value:s[e],enumerable:!0})}),a),a}return t(i,e),i.prototype.toString=function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e},i}(Error);e.exports=i},94438:function(e){"use strict";e.exports={recordingMediaLost:"recording-media-lost"}},96340:function(e,t,n){"use strict";var r=n(58242).isNonArrayObject,i=n(24657),a=i.typeErrors,o=i.clientTrackSwitchOffControl,s=i.videoContentPreferencesMode,u=i.subscriptionMode,c=i.trackPriority,l=i.trackSwitchOffMode;function f(e,t,n){return void 0===n&&(n=[]),"undefined"===typeof e?null:null!==e&&r(e)?n.reduce((function(n,r){var i=r.prop,o=r.type,s=r.values;if(n||!(i in e))return n;var u=e[i];return o&&typeof u!==o||"number"===o&&isNaN(u)?a.INVALID_TYPE(t+"."+i,o):Array.isArray(s)&&!s.includes(u)?a.INVALID_VALUE(t+"."+i,s):n}),null):a.INVALID_TYPE(t,"object")}t.kG=function(e){var t=f(e,"options.bandwidthProfile");return!e||t?t:(t=f(e.video,"options.bandwidthProfile.video",[{prop:"contentPreferencesMode",values:Object.values(s)},{prop:"dominantSpeakerPriority",values:Object.values(c)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(u)},{prop:"clientTrackSwitchOffControl",values:Object.values(o)},{prop:"trackSwitchOffMode",values:Object.values(l)}]))||(e.video?"maxTracks"in e.video&&"clientTrackSwitchOffControl"in e.video?new TypeError("options.bandwidthProfile.video.maxTracks is deprecated. Use options.bandwidthProfile.video.clientTrackSwitchOffControl instead."):"renderDimensions"in e.video&&"contentPreferencesMode"in e.video?new TypeError("options.bandwidthProfile.video.renderDimensions is deprecated. Use options.bandwidthProfile.video.contentPreferencesMode instead."):function(e){var t="options.bandwidthProfile.video.renderDimensions",n=f(e,t);return e?n||Object.values(c).reduce((function(n,r){return n||f(e[r],t+"."+r,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}),null):n}(e.video.renderDimensions):null)},t.Wv=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw a.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}},78812:function(e){e.exports=function(e,t){if(e&&t)if(e.super_=t,"function"===typeof Object.create)e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},48489:function(e){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(e,n){for(var r=0;r<i.length;r++){var a=i[r];this[a]=r<e?t:this.methodFactory(a,e,n)}this.log=this.debug}function u(e,t,r){return function(){typeof console!==n&&(s.call(this,t,r),this[e].apply(this,arguments))}}function c(e,i,s){return function(e){return"debug"===e&&(e="log"),typeof console!==n&&("trace"===e&&r?o:void 0!==console[e]?a(console,e):void 0!==console.log?a(console,"log"):t)}(e)||u.apply(this,arguments)}function l(e,t,r){var a,o=this,u="loglevel";function l(){var e;if(typeof window!==n&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===n)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(u)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}"string"===typeof e?u+=":"+e:"symbol"===typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||c,o.getLevel=function(){return a},o.setLevel=function(t,r){if("string"===typeof t&&void 0!==o.levels[t.toUpperCase()]&&(t=o.levels[t.toUpperCase()]),!("number"===typeof t&&t>=0&&t<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(a=t,!1!==r&&function(e){var t=(i[e]||"silent").toUpperCase();if(typeof window!==n&&u){try{return void(window.localStorage[u]=t)}catch(r){}try{window.document.cookie=encodeURIComponent(u)+"="+t+";"}catch(r){}}}(t),s.call(o,t,e),typeof console===n&&t<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){l()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var f=l();null==f&&(f=null==t?"WARN":t),o.setLevel(f,!1)}var f=new l,d={};f.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new l(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==n?window.log:void 0;f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f.default=f,e.exports=f},63074:function(e){"use strict";var t="undefined"!==typeof AudioContext?AudioContext:"undefined"!==typeof webkitAudioContext?webkitAudioContext:null,n=function(){function e(n){n=Object.assign({AudioContext:t},n),Object.defineProperties(this,{_AudioContext:{value:n.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return e.prototype.getOrCreate=function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(t){}return this._audioContext},e.prototype.release=function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))},e}();e.exports=new n},88467:function(e){"use strict";e.exports=function(e,t,n){n="number"===typeof n?n:250;var r=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,r.connect(i);var a=new Uint8Array(i.fftSize),o=!1;return setTimeout((function(){o=!0}),n),function e(){return o?Promise.resolve(!0):(i.getByteTimeDomainData(a),a.some((function(e){return 128!==e&&0!==e}))?Promise.resolve(!1):function(e){return e="number"===typeof e?e:0,new Promise((function(t){return setTimeout(t,e)}))}().then(e))}().then((function(e){return r.disconnect(),e}),(function(e){throw r.disconnect(),e}))}},21268:function(e,t,n){"use strict";var r=n(88467);e.exports=function(e,t,i,a,o){a="number"===typeof a?a:3;var s=0,u=n(63074),c={},l=u.getOrCreate(c);return function n(){return t(i).then((function(t){return(i.audio?r(l,t,o).catch((function(t){return e.warn("Encountered an error while detecting silence",t),!0})):Promise.resolve(!1)).then((function(r){return r?a<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),t.getTracks().forEach((function(e){return e.stop()})),a--,n()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)}))}))}().then((function(e){return u.release(c),e}),(function(e){throw u.release(c),e}))}},44519:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(73348),a=i.flatMap,o=i.guessBrowser,s=i.guessBrowserVersion,u=n(90878).getSdpFormat,c=o(),l=s(),f="chrome"===c,d="firefox"===c,p="safari"===c,h=f?l.major:null,v=32767;function m(e){var t=Array.from(e.values()).find((function(e){var t=e.nominated;return"candidate-pair"===e.type&&t}));if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o=n?a.reduce((function(e,t){var r=t.key,i=t.type;return e[r]=typeof n[r]===i?n[r]:"deleted"!==r&&null,e}),{}):null,s=r?i.reduce((function(e,t){var n=t.key,i=t.type;return e[n]=typeof r[n]===i?r[n]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){var r=n.key,i=n.type,a=n.fixup;return e[r]=typeof t[r]===i?a?a(t[r]):t[r]:null,e}),{localCandidate:o,remoteCandidate:s})}function g(e){var t=Array.from(e.values()).find((function(e){var t=e.nominated;return"candidate-pair"===e.type&&t}));if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?a.reduce((function(e,t){var r=t.ffKeys,i=t.key,a=t.type,s=r&&r.find((function(e){return e in n}))||i;return e[i]=typeof n[s]===a?"candidateType"===s&&o[n[s]]||n[s]:"deleted"!==s&&null,e}),{}):null,u=r?i.reduce((function(e,t){var n=t.ffKeys,i=t.key,a=t.type,s=n&&n.find((function(e){return e in r}))||i;return e[i]=typeof r[s]===a?"candidateType"===s&&o[r[s]]||r[s]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){var r=n.key,i=n.type;return e[r]=typeof t[r]===i?t[r]:null,e}),{localCandidate:s,remoteCandidate:u})}function y(e,t,n){var r="local"===n?"getSenders":"getReceivers";if(e[r])return e[r]().map((function(e){return e.track})).filter((function(e){return e&&e.kind===t}));var i="audio"===t?"getAudioTracks":"getVideoTracks";return a(e["local"===n?"getLocalStreams":"getRemoteStreams"](),(function(e){return e[i]()}))}function b(e,t,n){return h&&h<67?new Promise((function(n,r){e.getStats((function(e){n([x(e,t)])}),null,r)})):e.getStats(t).then((function(e){return function(e,t){var n=t.simulateExceptionWhileStandardizingStats;if(void 0!==n&&n)throw new Error("Error while gathering stats");var r=null,i=[],a=null,o=null,s=null,u=null,c=null;e.forEach((function(e){switch(e.type){case"inbound-rtp":r=e;break;case"outbound-rtp":i.push(e);break;case"media-source":c=e;break;case"track":s=e;break;case"codec":u=e;break;case"remote-inbound-rtp":a=e;break;case"remote-outbound-rtp":o=e}}));var l=s?s.remoteSource:!c,f=[],d=l?o:a;return(l?[r]:i).forEach((function(e){var t={},n=[e,c,s,u,d&&d.ssrc===e.ssrc?d:null];function r(e){var t=n.find((function(t){return t&&"undefined"!==typeof t[e]}))||null;return t?t[e]:null}var i=r("ssrc");"number"===typeof i&&(t.ssrc=String(i));var a=r("timestamp");t.timestamp=Math.round(a);var o=r("mimeType");"string"===typeof o&&(o=o.split("/"),t.codecName=o[o.length-1]);var p=r("roundTripTime");"number"===typeof p&&(t.roundTripTime=Math.round(1e3*p));var h=r("jitter");"number"===typeof h&&(t.jitter=Math.round(1e3*h));var m=r("frameWidth");"number"===typeof m&&(l?t.frameWidthReceived=m:(t.frameWidthSent=m,t.frameWidthInput=s?s.frameWidth:c.width));var g=r("frameHeight");"number"===typeof g&&(l?t.frameHeightReceived=g:(t.frameHeightSent=g,t.frameHeightInput=s?s.frameHeight:c.height));var y=r("framesPerSecond");"number"===typeof y&&(t[l?"frameRateReceived":"frameRateSent"]=y);var b=r("bytesReceived");"number"===typeof b&&(t.bytesReceived=b);var x=r("bytesSent");"number"===typeof x&&(t.bytesSent=x);var k=r("packetsLost");"number"===typeof k&&(t.packetsLost=k);var w=r("packetsReceived");"number"===typeof w&&(t.packetsReceived=w);var _=r("packetsSent");"number"===typeof _&&(t.packetsSent=_);var S=r("audioLevel");"number"===typeof S&&(S=Math.round(S*v),l?t.audioOutputLevel=S:t.audioInputLevel=S);var T=r("totalPacketSendDelay");"number"===typeof T&&(t.totalPacketSendDelay=T);var C=r("totalEncodeTime");"number"===typeof C&&(t.totalEncodeTime=C);var E=r("framesEncoded");"number"===typeof E&&(t.framesEncoded=E);var O=r("estimatedPlayoutTimestamp");"number"===typeof O&&(t.estimatedPlayoutTimestamp=O);var A=r("totalDecodeTime");"number"===typeof A&&(t.totalDecodeTime=A);var I=r("framesDecoded");"number"===typeof I&&(t.framesDecoded=I);var R=r("jitterBufferDelay");"number"===typeof R&&(t.jitterBufferDelay=R);var N=r("jitterBufferEmittedCount");"number"===typeof N&&(t.jitterBufferEmittedCount=N),f.push(t)})),f}(e,n)}))}function x(e,t){var n=e.result().find((function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id})),r={};return n&&(r.timestamp=Math.round(Number(n.timestamp)),r=n.names().reduce((function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e}),r)),r}function k(e,t){void 0===e&&(e=new Map);var n=t.isRemote,r=t.simulateExceptionWhileStandardizingStats;if(void 0!==r&&r)throw new Error("Error while gathering stats");var i=null,a=null;e.forEach((function(t){var n=t.isRemote,r=t.remoteId,o=t.type;if(!n)switch(o){case"inbound-rtp":i=t,a=e.get(r);break;case"outbound-rtp":a=t,i=e.get(r)}}));var o=n?i:a,s=n?a:i;function u(e){return o&&"undefined"!==typeof o[e]?o[e]:s&&"undefined"!==typeof s[e]?s[e]:null}var c={},l=u("timestamp");c.timestamp=Math.round(l);var f=u("ssrc");"number"===typeof f&&(c.ssrc=String(f));var d=u("bytesSent");"number"===typeof d&&(c.bytesSent=d);var p=u("packetsLost");"number"===typeof p&&(c.packetsLost=p);var h=u("packetsSent");"number"===typeof h&&(c.packetsSent=h);var v=u("roundTripTime");"number"===typeof v&&(c.roundTripTime=Math.round(1e3*v));var m=u("jitter");"number"===typeof m&&(c.jitter=Math.round(1e3*m));var g=u("framerateMean");"number"===typeof g&&(c.frameRateSent=Math.round(g));var y=u("bytesReceived");"number"===typeof y&&(c.bytesReceived=y);var b=u("packetsReceived");"number"===typeof b&&(c.packetsReceived=b);var x=u("framerateMean");"number"===typeof x&&(c.frameRateReceived=Math.round(x));var k=u("totalPacketSendDelay");"number"===typeof k&&(c.totalPacketSendDelay=k);var w=u("totalEncodeTime");"number"===typeof w&&(c.totalEncodeTime=w);var _=u("framesEncoded");"number"===typeof _&&(c.framesEncoded=_);var S=u("estimatedPlayoutTimestamp");"number"===typeof S&&(c.estimatedPlayoutTimestamp=S);var T=u("totalDecodeTime");"number"===typeof T&&(c.totalDecodeTime=T);var C=u("framesDecoded");"number"===typeof C&&(c.framesDecoded=C);var E=u("jitterBufferDelay");"number"===typeof E&&(c.jitterBufferDelay=E);var O=u("jitterBufferEmittedCount");return"number"===typeof O&&(c.jitterBufferEmittedCount=O),c}e.exports=function(e,t){return e&&"function"===typeof e.getStats?function(e,t){var n=y(e,"audio","local"),i=y(e,"video","local"),o=y(e,"audio"),s=y(e,"video"),c={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},l=a([[n,"localAudioTrackStats",!1],[i,"localVideoTrackStats",!1],[o,"remoteAudioTrackStats",!0],[s,"remoteVideoTrackStats",!0]],(function(n){var i=r(n,3),a=i[0],o=i[1],s=i[2];return a.map((function(n){return function(e,t,n){void 0===n&&(n={});if("undefined"!==typeof n.testForChrome||f)return b(e,t,n);if("undefined"!==typeof n.testForFirefox||d)return function(e,t,n){return e.getStats(t).then((function(e){return[k(e,n)]}))}(e,t,n);if("undefined"!==typeof n.testForSafari||p)return"undefined"!==typeof n.testForSafari||"unified"===u()?b(e,t,n):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" ")));return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:s},t)).then((function(e){e.forEach((function(e){e.trackId=n.id,c[o].push(e)}))}))}))}));return Promise.all(l).then((function(){return function(e,t){void 0===t&&(t={});if("undefined"!==typeof t.testForChrome||f||"undefined"!==typeof t.testForSafari||p)return e.getStats().then(m);if("undefined"!==typeof t.testForFirefox||d)return e.getStats().then(g);return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)})).then((function(e){return c.activeIceCandidatePair=e,c}))}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},15749:function(e){"use strict";e.exports=function(e){return void 0===e&&(e={audio:!0,video:!0}),"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e):Promise.reject(new Error("getUserMedia is not supported"))}},25409:function(e,t,n){"use strict";var r={};Object.defineProperties(r,{getStats:{enumerable:!0,value:n(44519)},getUserMedia:{enumerable:!0,value:n(15749)},MediaStream:{enumerable:!0,value:n(64693)},MediaStreamTrack:{enumerable:!0,value:n(66786)},RTCIceCandidate:{enumerable:!0,value:n(6189)},RTCPeerConnection:{enumerable:!0,value:n(88581)},RTCSessionDescription:{enumerable:!0,value:n(71135)}}),e.exports=r},64693:function(e){"use strict";"function"===typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("MediaStream is not supported")}},66786:function(e){"use strict";"function"===typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("MediaStreamTrack is not supported")}},6189:function(e){"use strict";"function"===typeof RTCIceCandidate?e.exports=RTCIceCandidate:e.exports=function(){throw new Error("RTCIceCandidate is not supported")}},21754:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(6595),s=n(29180),u=n(1790),c=n(64693),l=n(57248),f=n(90878),d=f.getSdpFormat,p=f.updatePlanBTrackIdsToSSRCs,h=f.updateUnifiedPlanTrackIdsToSSRCs,v=n(73348),m=v.delegateMethods,g=v.interceptEvent,y=v.isIOSChrome,b=v.legacyPromise,x=v.proxyProperties,k="unified"===d(),w=function(e){function t(t,n){void 0===t&&(t={});var r=e.call(this)||this,o=Object.assign(t.iceTransportPolicy?{iceTransports:t.iceTransportPolicy}:{},t);g(r,"datachannel"),g(r,"signalingstatechange");var s=d(o.sdpSemantics),l=new RTCPeerConnection(o,n);return Object.defineProperties(r,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new c},_peerConnection:{value:l},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:s},_senders:{value:new Map},_signalingStateLatch:{value:new u},_tracksToSSRCs:{value:new Map,writable:!0}}),l.addEventListener("datachannel",(function(e){E(e.channel),r.dispatchEvent(e)})),l.addEventListener("signalingstatechange",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"stable"===l.signalingState&&(r._appliedTracksToSSRCs=new Map(r._tracksToSSRCs)),r._pendingLocalOffer||r._pendingRemoteOffer||r.dispatchEvent.apply(r,a([],i(e)))})),l.ontrack=function(){},"function"!==typeof l.addTrack&&l.addStream(r._localStream),x(RTCPeerConnection.prototype,r,l),r}return r(t,e),Object.defineProperty(t.prototype,"localDescription",{get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if("function"===typeof this._peerConnection.addTrack)return(t=this._peerConnection).addTrack.apply(t,a([e],i(n)));if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+e.id+", \n        "+e.kind+"]: RTCPeerConnection is closed");var o=this._senders.get(e);if(o&&o.track)throw new Error("Cannot add MediaStreamTrack ['"+e.id+", \n        "+e.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(e),this._peerConnection.addStream(this._localStream),o=new l(e),this._senders.set(e,o),o},t.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");if("function"===typeof this._peerConnection.addTrack)try{return this._peerConnection.removeTrack(e)}catch(n){}else{var t=e.track;if(!t)return;(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))}},t.prototype.getSenders=function(){return"function"===typeof this._peerConnection.addTrack?this._peerConnection.getSenders():Array.from(this._senders.values())},t.prototype.addIceCandidate=function(e){for(var t,n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return n._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e),r.length>0?b.apply(void 0,a([t],i(r))):t},t.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},t.prototype.createAnswer=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()})).then((function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),new o({type:"answer",sdp:O(t._sdpFormat,t._tracksToSSRCs,e.sdp)})}),(function(e){throw t._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer().then((function(e){return t._rolledBackTracksToSSRCs.clear(),new o({type:"answer",sdp:O(t._sdpFormat,t._tracksToSSRCs,e.sdp)})})),n.length>1?b.apply(void 0,a([e],i(n))):e},t.prototype.createOffer=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=i(t,3),a=r[0],s=r[1],u=r[2]||a||{};if(y()){if(u.offerToReceiveVideo&&!this._audioTransceiver&&(!k||!S(this,"audio"))){delete u.offerToReceiveAudio;try{this._audioTransceiver=k?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(l){return Promise.reject(l)}}if(u.offerToReceiveVideo&&!this._videoTransceiver&&(!k||!S(this,"video"))){delete u.offerToReceiveVideo;try{this._videoTransceiver=k?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(l){return Promise.reject(l)}}}var c=this._peerConnection.createOffer(u).then((function(t){return e._rolledBackTracksToSSRCs.clear(),new o({type:t.type,sdp:O(e._sdpFormat,e._tracksToSSRCs,t.sdp)})}));return t.length>1?b(c,a,s):c},t.prototype.createDataChannel=function(e,t){t=function(e){e=Object.assign({},e),C()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime);return e}(t);var n=this._peerConnection.createDataChannel(e,t);return E(n),n},t.prototype.setLocalDescription=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i(e,3),r=n[0],a=n[1],o=n[2];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var s=_(this,!0,r);return e.length>1?b(s,a,o):s},t.prototype.setRemoteDescription=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i(e,3),r=n[0],a=n[1],o=n[2];this._rolledBackTracksToSSRCs.clear();var s=_(this,!1,r);return e.length>1?b(s,a,o):s},t}(s);function _(e,t,n){var r,i,a=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,s=t?"have-local-offer":"have-remote-offer",u=t?"setLocalDescription":"setRemoteDescription";if(!t&&o&&"answer"===n.type)r=function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));a||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;i=T(n),t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,r=Promise.resolve(),e.signalingState!==c&&r.then((function(){return e.dispatchEvent(new Event("signalingstatechange"))}))}else"rollback"===n.type&&(e.signalingState!==s?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(r=Promise.resolve()).then((function(){return e.dispatchEvent(new Event("signalingstatechange"))}))));return r||e._peerConnection[u](T(n))}function S(e,t){return!!e.getTransceivers().find((function(e){var n=e.receiver,r=(void 0===n?{}:n).track;return(void 0===r?{}:r).kind===t}))}function T(e){return e instanceof o&&e._description?e._description:new RTCSessionDescription(e)}function C(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function E(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),C()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function O(e,t,n){return"unified"===e?h(t,n):p(t,n)}m(RTCPeerConnection.prototype,w.prototype,"_peerConnection"),e.exports=w},24814:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(29180),s=n(14929),u=n(90878).updateUnifiedPlanTrackIdsToSSRCs,c=n(73348),l=c.delegateMethods,f=c.interceptEvent,d=c.legacyPromise,p=c.proxyProperties,h=function(e){function t(t){var n=e.call(this)||this;f(n,"signalingstatechange");var r,o=new RTCPeerConnection(t);return Object.defineProperties(n,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:o},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},peerIdentity:{enumerable:!0,value:Promise.resolve({idp:"",name:""})}}),o.addEventListener("signalingstatechange",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._rollingBack||n.signalingState===r||(r=n.signalingState,n._isClosed?setTimeout((function(){return n.dispatchEvent.apply(n,a([],i(e)))})):n.dispatchEvent.apply(n,a([],i(e))))})),p(RTCPeerConnection.prototype,n,o),n}return r(t,e),Object.defineProperty(t.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localDescription",{get:function(){return g(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),t.prototype.createAnswer=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e=this._peerConnection.createAnswer().then((function(e){return m(t,e),g(e,t._initiallyNegotiatedDtlsRole)})),"function"===typeof n[0]?d.apply(void 0,a([e],i(n))):e},t.prototype.createOffer=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,a=i(t,3),o=a[0],c=a[1],l=a[2]||o||{};"have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState?r=v(this,"have-local-offer"===this.signalingState,(function(){return e.createOffer(l)})):r=this._peerConnection.createOffer(l);return r=r.then((function(t){return new s({type:t.type,sdp:u(e._tracksToSSRCs,t.sdp)})})),t.length>1?d(r,o,c):r},t.prototype.setLocalDescription=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,o=i(t),s=o[0],u=o.slice(1);return s&&"answer"===s.type&&"have-local-offer"===this.signalingState&&(r=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),r?t.length>1?d.apply(void 0,a([r],i(u))):r:(e=this._peerConnection).setLocalDescription.apply(e,a([],i(t)))},t.prototype.setRemoteDescription=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,o=i(t),s=o[0],u=o.slice(1);return s&&"have-remote-offer"===this.signalingState&&("answer"===s.type?r=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===s.type&&(r=v(this,!1,(function(){return e._peerConnection.setRemoteDescription(s)})))),r||(r=this._peerConnection.setRemoteDescription(s)),r=r.then((function(){return m(e,s,!0)})),t.length>1?d.apply(void 0,a([r],i(u))):r},t.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},t}(o);function v(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new s({type:"rollback"})).then(n).then((function(t){return e._rollingBack=!1,t}),(function(t){throw e._rollingBack=!1,t}))}function m(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function g(e,t){return e&&"answer"===e.type&&t?new s({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}l(RTCPeerConnection.prototype,h.prototype,"_peerConnection"),e.exports=h},88581:function(e,t,n){"use strict";if("function"===typeof RTCPeerConnection)switch((0,n(73348).guessBrowser)()){case"chrome":e.exports=n(21754);break;case"firefox":e.exports=n(24814);break;case"safari":e.exports=n(38522);break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}},38522:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(29180),s=n(1790),u=n(90878),c=u.getSdpFormat,l=u.updatePlanBTrackIdsToSSRCs,f=u.updateUnifiedPlanTrackIdsToSSRCs,d=n(73348),p=d.delegateMethods,h=d.interceptEvent,v=d.proxyProperties,m="unified"===c(),g=m?f:l,y=function(e){function t(t){var n=e.call(this)||this;h(n,"datachannel"),h(n,"iceconnectionstatechange"),h(n,"signalingstatechange"),h(n,"track");var r=new RTCPeerConnection(t);return Object.defineProperties(n,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:r},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new s},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0}}),r.addEventListener("datachannel",(function(e){k(e.channel),n.dispatchEvent(e)})),r.addEventListener("iceconnectionstatechange",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._isClosed||n.dispatchEvent.apply(n,a([],i(e)))})),r.addEventListener("signalingstatechange",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._isClosed||("stable"===r.signalingState&&(n._appliedTracksToSSRCs=new Map(n._tracksToSSRCs)),n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,a([],i(e))))})),r.addEventListener("track",(function(e){n._pendingRemoteOffer=null,n.dispatchEvent(e)})),v(RTCPeerConnection.prototype,n,r),n}return r(t,e),Object.defineProperty(t.prototype,"localDescription",{get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),t.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return t._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e)},t.prototype.createOffer=function(e){var t=this;if((e=Object.assign({},e)).offerToReceiveVideo&&!this._audioTransceiver&&(!m||!x(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=m?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(n){return Promise.reject(n)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!m||!x(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=m?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(n){return Promise.reject(n)}}return this._peerConnection.createOffer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:g(t._tracksToSSRCs,e.sdp)})}))},t.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()})).then((function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),m?new RTCSessionDescription({type:e.type,sdp:g(t._tracksToSSRCs,e.sdp)}):e}),(function(e){throw t._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),m?new RTCSessionDescription({type:e.type,sdp:g(t._tracksToSSRCs,e.sdp)}):e}))},t.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return k(n),n},t.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},t.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),b(this,!0,e)},t.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),b(this,!1,e)},t.prototype.close=function(){var e=this;this._isClosed||(this._isClosed=!0,this._peerConnection.close(),setTimeout((function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))})))},t}(o);function b(e,t,n){var r,i=t?e._pendingLocalOffer:e._pendingRemoteOffer,a=t?e._pendingRemoteOffer:e._pendingLocalOffer,o=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&a&&"answer"===n.type)return function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){return e._signalingStateLatch.lower()}))}(e,n);if("offer"===n.type){if(e.signalingState!==o&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+"\n        offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var u=e.signalingState;return r=n,t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,e.signalingState!==u?Promise.resolve().then((function(){return e.dispatchEvent(new Event("signalingstatechange"))})):Promise.resolve()}return"rollback"===n.type?e.signalingState!==o?Promise.reject(new Error("Cannot rollback \n        "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then((function(){return e.dispatchEvent(new Event("signalingstatechange"))}))):e._peerConnection[s](n)}function x(e,t){return!!e.getTransceivers().find((function(e){var n=e.receiver,r=(void 0===n?{}:n).track;return(void 0===r?{}:r).kind===t}))}function k(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}p(RTCPeerConnection.prototype,y.prototype,"_peerConnection"),e.exports=y},57248:function(e){"use strict";var t=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})};e.exports=t},6595:function(e){"use strict";var t=function(){function e(e){this.descriptionInitDict=e;var t=e&&"rollback"===e.type?null:new RTCSessionDescription(e);Object.defineProperties(this,{_description:{get:function(){return t}}})}return Object.defineProperty(e.prototype,"sdp",{get:function(){return this._description?this._description.sdp:this.descriptionInitDict.sdp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._description?this._description.type:this.descriptionInitDict.type},enumerable:!1,configurable:!0}),e}();e.exports=t},14929:function(e){"use strict";e.exports=RTCSessionDescription},71135:function(e,t,n){"use strict";if("function"===typeof RTCSessionDescription)switch((0,n(73348).guessBrowser)()){case"chrome":e.exports=n(6595);break;case"firefox":e.exports=n(14929);break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}},73348:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function i(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var i=!1;try{var a=Object.getOwnPropertyDescriptor(e,r);i=a&&!!a.get}catch(s){}if(!i){var o;try{o=typeof e[r]}catch(s){}"function"===o&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:null}function o(e){return"undefined"===typeof e&&(e=a()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari|iPhone|iPad|iPod/.test(e)?"safari":null}var s=new Map;t.clearCachedSupportedCodecs=function(){s.clear()},t.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},t.delegateMethods=function(e,t,n){for(var r in e)i(e,t,n,r)},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},t.flatMap=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce((function(e,n){return e.concat(t(n))}),[])},t.guessBrowser=o,t.guessBrowserVersion=function(e){"undefined"===typeof e&&(e=a());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[o(e)];if(!t)return null;var r=new RegExp("("+t+")/([^\\s]+)"),i=n(e.match(r)||[],3)[2];if(!i)return null;var s=i.split(".").map(Number);return{major:isNaN(s[0])?null:s[0],minor:isNaN(s[1])?null:s[1]}},t.isCodecSupported=function(e,t){var n=s.get(t);return n?Promise.resolve(n.has(e.toLowerCase())):function(e){if("undefined"!==typeof RTCRtpSender&&"function"===typeof RTCRtpSender.getCapabilities)return Promise.resolve(new Set(RTCRtpSender.getCapabilities(e).codecs.map((function(e){return e.mimeType.split("/")[1].toLowerCase()}))));if("undefined"===typeof RTCPeerConnection||"undefined"===typeof RTCPeerConnection.prototype||"function"!==typeof RTCPeerConnection.prototype.addTransceiver||"function"!==typeof RTCPeerConnection.prototype.close||"function"!==typeof RTCPeerConnection.prototype.createOffer)return Promise.resolve(new Set);var t=new RTCPeerConnection;return t.addTransceiver(e),t.createOffer().then((function(e){var n=e.sdp;return t.close(),new Set((n.match(/^a=rtpmap:.+$/gm)||[]).map((function(e){return e.match(/^a=rtpmap:.+ ([^/]+)/)[1].toLowerCase()})))}),(function(){return t.close(),new Set}))}(t).then((function(n){return s.set(t,n),n.has(e.toLowerCase())}))},t.isIOSChrome=function(e){return"undefined"===typeof e&&(e=a()),/Mobi/.test(e)&&"chrome"===o()&&/iPad|iPhone|iPod/.test(e)},t.interceptEvent=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"===typeof e?(n=e,this.addEventListener(t,n)):n=null}})},t.legacyPromise=function(e,t,n){return t?e.then(t,n):e},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.proxyProperties=function(e,t,i){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,i,a){if(a in t)return;if(a.match(/^on[a-z]+$/))return Object.defineProperty(t,a,{value:null,writable:!0}),void i.addEventListener(a.slice(2),(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.dispatchEvent.apply(t,r([],n(e)))}));Object.defineProperty(t,a,{enumerable:!0,get:function(){return i[a]}})}(0,t,i,e)}))},t.support=function(){return"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia&&"function"===typeof RTCPeerConnection}},1790:function(e,t,n){"use strict";var r=n(73348).defer,i={high:new Set(["low"]),low:new Set(["high"])},a=function(){function e(e){void 0===e&&(e="low");var t=e;Object.defineProperties(this,{_state:{set:function(e){var n=this;if(t!==e){t=e;var r=this._whenDeferreds.get(t);r.forEach((function(e){return e.resolve(n)})),r.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])}})}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.lower=function(){return this.transition("low")},e.prototype.raise=function(){return this.transition("high")},e.prototype.transition=function(e){if(!i[this.state].has(e))throw o(this.state,e);return this._state=e,this},e.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(o(this.state,e));var t=r();return this._whenDeferreds.get(e).add(t),t.promise},e}();function o(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}e.exports=a},90878:function(e,t,n){"use strict";var r=n(73348),i=r.flatMap,a=r.guessBrowser,o=null;var s=null;function u(e){return e&&function(){if("boolean"===typeof o)return o;if("undefined"===typeof RTCPeerConnection)return o=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),o=!1}catch(e){o=!0}return o}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!s)if("undefined"!==typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype){var e=new RTCPeerConnection;try{e.addTransceiver("audio"),s="unified"}catch(t){s="planb"}e.close()}else s="planb";return s}()}function c(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce((function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t}),new Set)}function l(e,t){return c(e,t)}function f(e){return l("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function d(e){return l("^a=msid:.+ +(.+) *$",e)}function p(e,t){return c("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function h(e,t,n){return void 0===t&&(t=".*"),void 0===n&&(n=".*"),e.split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+t,"gm"),i=new RegExp("a="+n,"gm");return r.test(e)&&i.test(e)}))}function v(e){return Array.from(c("^a=ssrc:([0-9]+) +.*$",e))}function m(e,t){var n=h(e),r=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),a=n.filter((function(e){return e.match(r)}));return new Set(i(a,v))}function g(e,t,n){return new Map(Array.from(e(n)).map((function(e){return[e,t(n,e)]})))}function y(e){return g(f,p,e)}function b(e){return g(d,m,e)}function x(e,t,n){var r=e(n),i=new Map;r.forEach((function(e,r){if(t.has(r)){var a=Array.from(t.get(r)),o=Array.from(e);a.forEach((function(e,t){var r=o[t];i.set(r,e);var a="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(a,"gm"),s)}))}else t.set(r,e)}));var a="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(a,"gm"))||[]).forEach((function(e){var t=e.match(new RegExp(a));if(t){var r=t[1],o=t[2].split(" ").map((function(e){var t=i.get(e);return t||e})).join(" ");n=n.replace(t[0],r+o)}})),n}t.clearChromeCachedSdpFormat=function(){s=null},t.getSdpFormat=function(e){return{chrome:u(e),firefox:"unified",safari:"undefined"!==typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[a()]||null},t.getMediaSections=h,t.getPlanBTrackIds=f,t.getUnifiedPlanTrackIds=d,t.getPlanBSSRCs=p,t.getUnifiedPlanSSRCs=m,t.updatePlanBTrackIdsToSSRCs=function(e,t){return x(y,e,t)},t.updateUnifiedPlanTrackIdsToSSRCs=function(e,t){return x(b,e,t)}},10057:function(e){e.exports=WebSocket},58868:function(e,t,n){"use strict";var r="undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var i=n(17156),a=n(89728),o=n(66115),s=n(41588),u=n(61655),c=n(94993),l=n(73808),f=n(56690),d=n(38416),p=n(64687);n(4778),n(65202),n(84208),n(32463);var h=n(18698),v=n(20930);n(89104),n(59147);var m=n(62895);n(18887),n(36669),n(81740),n(18116),n(4772),n(67675);var g=n(78566),y=n(45318);n(20447),n(54178),n(30974),n(73966),n(55790),n(56678),n(74847),n(48884),n(67582),n(15669),n(40014),n(45927),n(78850),n(697),n(53517),n(68591),n(44516),n(51937),n(5977),n(71283),n(86332),n(32040),n(20718),n(54777),n(31447),n(44319),n(52872);var b=n(33496);n(65084),n(33858),n(87264),n(22583),n(58894);var x=n(8645);n(45742);var k=n(53912);function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}n(86245),n(9994),n(45327);var S=w(i),T=w(a),C=w(o),E=w(s),O=w(u),A=w(c),I=w(l),R=w(f),N=w(d),P=w(p),M=w(h),D=_(m),j=_(g),L=w(b),F=_(k);function Z(){}function B(){B.init.call(this)}function U(e){return void 0===e._maxListeners?B.defaultMaxListeners:e._maxListeners}function V(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new Z,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=U(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function z(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function W(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function H(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}Z.prototype=Object.create(null),B.EventEmitter=B,B.usingDomains=!1,B.prototype.domain=void 0,B.prototype._events=void 0,B.prototype._maxListeners=void 0,B.defaultMaxListeners=10,B.init=function(){this.domain=null,B.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Z,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},B.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},B.prototype.getMaxListeners=function(){return U(this)},B.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=H(e,r),a=0;a<r;++a)i[a].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=H(e,i),o=0;o<i;++o)a[o].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=H(e,a),s=0;s<a;++s)o[s].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=H(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=H(e,i),o=0;o<i;++o)a[o].apply(n,r)}(n,l,this,i)}return!0},B.prototype.addListener=function(e,t){return V(this,e,t,!1)},B.prototype.on=B.prototype.addListener,B.prototype.prependListener=function(e,t){return V(this,e,t,!0)},B.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,z(this,e,t)),this},B.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,z(this,e,t)),this},B.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new Z:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new Z,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},B.prototype.off=function(e,t){return this.removeListener(e,t)},B.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Z,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new Z:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Z,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},B.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},B.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):W.call(e,t)},B.prototype.listenerCount=W,B.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var G=D.getLogger("twilsock");function q(e,t){return["".concat((new Date).toISOString()," Twilsock ").concat(e,":")].concat(Array.from(t))}var K=function(){function e(t){R.default(this,e),N.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?" "+t+":":""}return T.default(e,[{key:"setLevel",value:function(e){G.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.trace.apply(null,q("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.debug.apply(null,q("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.info.apply(null,q("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.warn.apply(null,q("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.error.apply(null,q("E",t))}}],[{key:"setLevel",value:function(e){G.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.trace.apply(null,q("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.debug.apply(null,q("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.info.apply(null,q("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.warn.apply(null,q("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];G.error.apply(null,q("E",t))}}]),e}(),Y=new K(""),X="0.12.2",Q=function(){function e(t,n,r){R.default(this,e),N.default(this,"confirmedCapabilities",new Set),this.activeGrant=n,this._token=t;var i=r.region||"us1",a="wss://tsock.".concat(i,".twilio.com/v3/wsconnect"),o=r.twilsock||r.Twilsock||{};this.url=o.uri||a,this._continuationToken=r.continuationToken?r.continuationToken:null,this.logLevel=r.logLevel?r.logLevel:"error",this.retryPolicy=r.retryPolicy?r.retryPolicy:{min:1e3,max:12e4,randomness:.2},this.clientMetadata=r.clientMetadata?r.clientMetadata:{},this.clientMetadata.ver=X,this.initRegistrations=r.initRegistrations?r.initRegistrations:null,this.tweaks=r.tweaks?r.tweaks:null}return T.default(e,[{key:"token",get:function(){return this._token}},{key:"continuationToken",get:function(){return this._continuationToken}},{key:"updateToken",value:function(e){this._token=e}},{key:"updateContinuationToken",value:function(e){this._continuationToken=e}}]),e}(),J=function e(t){R.default(this,e),this.id=t||"TM".concat(y.v4())};function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ee=function(e){O.default(n,e);var t=$(n);function n(e,r,i,a,o){var s;return R.default(this,n),s=t.call(this),N.default(C.default(s),"method","init"),s.token=e,s.continuation_token=r,s.metadata=i,s.registrations=a,s.tweaks=o,s.capabilities=["client_update","offline_storage","telemetry.v1"],s}return n}(J);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ne=function(e){O.default(n,e);var t=te(n);function n(e,r,i,a,o,s,u){var c;return R.default(this,n),(c=t.call(this,e)).continuationToken=r,c.continuationTokenStatus=a,c.offlineStorage=o,c.initRegistrations=s,c.debugInfo=u,c.confirmedCapabilities=i,c}return n}(J);function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ie=function(e){O.default(n,e);var t=re(n);function n(e){var r;return R.default(this,n),r=t.call(this),N.default(C.default(r),"method","update"),r.token=e,r}return n}(J);function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var oe=function(e){O.default(n,e);var t=ae(n);function n(e,r,i){var a;return R.default(this,n),a=t.call(this),N.default(C.default(a),"method","message"),a.active_grant=e,a.payload_type=r,a.http_request=i,a}return n}(J);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ue=function(e){O.default(n,e);var t=se(n);function n(e){var r;return R.default(this,n),r=t.call(this,e),N.default(C.default(r),"method","reply"),N.default(C.default(r),"payload_type","application/json"),N.default(C.default(r),"status",{code:200,status:"OK"}),r}return n}(J);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var le=function(e){O.default(n,e);var t=ce(n);function n(){var e;return R.default(this,n),e=t.call(this),N.default(C.default(e),"method","close"),e}return n}(J);function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var de=function e(t,n,r,i,a,o){R.default(this,e),this.start=t,this.end=n,this.title=r,this.details=i,this.id=a,this.type=o},pe=function(e){O.default(n,e);var t=fe(n);function n(e){var r;return R.default(this,n),r=t.call(this),N.default(C.default(r),"method","telemetry.v1"),r.events=e,r}return n}(J);function he(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})).length}function ve(e){var t=Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("").replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}));return decodeURIComponent(t)}function me(e){return JSON.parse(ve(e))}var ge=function(){function e(){R.default(this,e)}return T.default(e,null,[{key:"parse",value:function(e){var t,n,r=new Uint8Array(e),i=function(e){for(var t="",n=0;n<e.length;++n){var r=String.fromCharCode(e[n]);if(t+=r,"\r"===r){n+=2;break}}var i=t.split(" ");return{size:n,protocol:i[0],version:i[1],headerSize:Number(i[2])}}(r);if("TWILSOCK"!==i.protocol||"V3.0"!==i.version)return Y.error("unsupported protocol: ".concat(i.protocol," ver ").concat(i.version)),null;try{t=me(r.subarray(i.size,i.size+i.headerSize))}catch(s){return Y.error("failed to parse message header",s,e),null}if(Y.debug("message received: ",t.method),Y.trace("message received: ",t),t.payload_size>0){var a=2+i.size+i.headerSize,o=t.payload_size;if(t.hasOwnProperty("payload_type")&&0!==t.payload_type.indexOf("application/json"))0===t.payload_type.indexOf("text/plain")&&(n=ve(r.subarray(a,a+o)));else try{n=me(r.subarray(a,a+o))}catch(s){return Y.error("failed to parse message body",s,e),null}}return{method:t.method,header:t,payload:n}}},{key:"createPacket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.payload_size=he(t);var n=JSON.stringify(e),r="TWILSOCK V3.0 "+he(n);return Y.debug("send request:",r+n+t),function(e){var t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})),n=new Uint8Array(t.length);return Array.prototype.forEach.call(t,(function(e,t){n[t]=e.charCodeAt(0)})),n}(r+"\r\n"+n+"\r\n"+t).buffer}}]),e}();function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var be=function(e){O.default(n,e);var t=ye(n);function n(e){return R.default(this,n),t.call(this,e)}return n}(L.default(Error));function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ke=function(e){O.default(n,e);var t=xe(n);function n(e,r){var i;return R.default(this,n),(i=t.call(this,e)).reply=r,i}return n}(be);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){N.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Te=function(e){O.default(n,e);var t=Se(n);function n(e){var r;return R.default(this,n),r=t.call(this),N.default(C.default(r),"newBackoff",null),N.default(C.default(r),"usedBackoff",null),N.default(C.default(r),"retrier",null),r.options=e?_e({},e):{},r}return T.default(n,[{key:"inProgress",get:function(){return!!this.retrier}},{key:"start",value:function(){if(this.inProgress)throw new Error("Already waiting for next attempt, call finishAttempt(success : boolean) to finish it");this.createRetrier()}},{key:"stop",value:function(){this.cleanRetrier(),this.newBackoff=null,this.usedBackoff=null}},{key:"modifyBackoff",value:function(e){this.newBackoff=e}},{key:"attemptFailed",value:function(){if(!this.inProgress)throw new Error("No attempt is in progress");var e,t;this.newBackoff?!this.usedBackoff||this.usedBackoff<this.newBackoff?this.createRetrier():null===(e=this.retrier)||void 0===e||e.failed(new Error):null===(t=this.retrier)||void 0===t||t.failed(new Error)}},{key:"cancel",value:function(){var e;null===(e=this.retrier)||void 0===e||e.cancel()}},{key:"cleanRetrier",value:function(){var e,t;null===(e=this.retrier)||void 0===e||e.removeAllListeners(),null===(t=this.retrier)||void 0===t||t.cancel(),this.retrier=null}},{key:"getRetryPolicy",value:function(){var e=_e({},this.options);return this.newBackoff&&(e.min=this.newBackoff,e.max=this.options.max&&this.options.max>this.newBackoff?this.options.max:this.newBackoff),e.maxAttemptsCount=this.options.maxAttemptsCount?this.options.maxAttemptsCount+1:void 0,e}},{key:"createRetrier",value:function(){var e=this;this.cleanRetrier();var t=this.getRetryPolicy();this.retrier=new x.Retrier(t),this.retrier.once("attempt",(function(){var t,n;null===(t=e.retrier)||void 0===t||t.on("attempt",(function(){return e.emit("attempt")})),null===(n=e.retrier)||void 0===n||n.failed(new Error("Skipping first attempt"))})),this.retrier.on("failed",(function(t){return e.emit("failed",t)})),this.usedBackoff=this.newBackoff,this.newBackoff=null,this.retrier.start()}}]),n}(B);function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ee=function(e){O.default(n,e);var t=Ce(n);function n(e,r,i){var a;R.default(this,n),a=t.call(this),N.default(C.default(a),"disconnectingTimer",null),N.default(C.default(a),"disconnectedPromiseResolve",null),N.default(C.default(a),"terminalStates",["disconnected","rejected"]),N.default(C.default(a),"tokenExpiredSasCode",20104),N.default(C.default(a),"terminationReason","Connection is not initialized"),a.websocket=e,a.websocket.on("connected",(function(){return a.fsm.socketConnected()})),a.websocket.on("disconnected",(function(){return a.fsm.socketClosed()})),a.websocket.on("message",(function(e){return a.onIncomingMessage(e)})),a.websocket.on("socketError",(function(e){return a.emit("connectionError",{terminal:!1,message:"Socket error: ".concat(e.message),httpStatusCode:null,errorCode:null})})),a.transport=r,a.config=i,a.retrier=new Te(i.retryPolicy),a.retrier.on("attempt",(function(){return a.retry()})),a.retrier.on("failed",(function(e){Y.warn("Retrying failed: ".concat(e.message)),a.disconnect()})),"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&(window.addEventListener("online",(function(){Y.debug("Browser reported connectivity state: online"),a.resetBackoff(),a.fsm.systemOnline()})),window.addEventListener("offline",(function(){Y.debug("Browser reported connectivity state: offline"),a.websocket.close(),a.fsm.socketClosed()})));var o=j.factory({init:"disconnected",transitions:[{name:"userConnect",from:["disconnected","rejected"],to:"connecting"},{name:"userConnect",from:["connecting","connected"]},{name:"userDisconnect",from:["connecting","initialising","connected","updating","retrying","rejected","waitSocketClosed","waitOffloadSocketClosed"],to:"disconnecting"},{name:"userRetry",from:["retrying"],to:"connecting"},{name:"socketConnected",from:["connecting"],to:"initialising"},{name:"socketClosed",from:["connecting","initialising","connected","updating","error","waitOffloadSocketClosed"],to:"retrying"},{name:"socketClosed",from:["disconnecting"],to:"disconnected"},{name:"socketClosed",from:["waitSocketClosed"],to:"disconnected"},{name:"socketClosed",from:["rejected"],to:"rejected"},{name:"initSuccess",from:["initialising"],to:"connected"},{name:"initError",from:["initialising"],to:"error"},{name:"tokenRejected",from:["initialising","updating"],to:"rejected"},{name:"protocolError",from:["initialising","connected","updating"],to:"error"},{name:"receiveClose",from:["initialising","connected","updating"],to:"waitSocketClosed"},{name:"receiveOffload",from:["initialising","connected","updating"],to:"waitOffloadSocketClosed"},{name:"unsupportedProtocol",from:["initialising","connected","updating"],to:"unsupported"},{name:"receiveFatalClose",from:["initialising","connected","updating"],to:"unsupported"},{name:"userUpdateToken",from:["disconnected","rejected","connecting","retrying"],to:"connecting"},{name:"userUpdateToken",from:["connected"],to:"updating"},{name:"updateSuccess",from:["updating"],to:"connected"},{name:"updateError",from:["updating"],to:"error"},{name:"userSend",from:["connected"],to:"connected"},{name:"systemOnline",from:["retrying"],to:"connecting"}],methods:{onConnecting:function(){a.setupSocket(),a.emit("connecting")},onEnterInitialising:function(){a.sendInit()},onLeaveInitialising:function(){a.cancelInit()},onEnterUpdating:function(){a.sendUpdate()},onLeaveUpdating:function(){a.cancelUpdate()},onEnterRetrying:function(){a.initRetry(),a.emit("connecting")},onEnterConnected:function(){a.resetBackoff(),a.onConnected()},onUserUpdateToken:function(){a.resetBackoff()},onTokenRejected:function(){a.resetBackoff(),a.closeSocket(!0),a.finalizeSocket()},onUserDisconnect:function(){a.closeSocket(!0)},onEnterDisconnecting:function(){a.startDisconnectTimer()},onLeaveDisconnecting:function(){a.cancelDisconnectTimer()},onEnterWaitSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitSocketClosed:function(){a.cancelDisconnectTimer()},onEnterWaitOffloadSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitOffloadSocketClosed:function(){a.cancelDisconnectTimer()},onDisconnected:function(){a.resetBackoff(),a.finalizeSocket()},onReceiveClose:function(){a.onCloseReceived()},onReceiveOffload:function(e,t){Y.debug("onreceiveoffload: ",t),a.modifyBackoff(t.body),a.onCloseReceived()},onUnsupported:function(){a.closeSocket(!0),a.finalizeSocket()},onError:function(e,t){a.closeSocket(t),a.finalizeSocket()},onEnterState:function(e){"none"!==e.from&&a.changeState(e)},onInvalidTransition:function(e,t,n){Y.warn("FSM: unexpected transition",t,n)}}});return a.fsm=new o,a}return T.default(n,[{key:"changeState",value:function(e){Y.debug("FSM: ".concat(e.transition,": ").concat(e.from," --\x3e ").concat(e.to)),this.lastEmittedState!==this.state&&(this.lastEmittedState=this.state,this.emit("stateChanged",this.state))}},{key:"resetBackoff",value:function(){Y.trace("resetBackoff"),this.retrier.stop()}},{key:"modifyBackoff",value:function(e){Y.trace("modifyBackoff",e);var t=e?e.backoff_policy:null;t&&"number"===typeof t.reconnect_min_ms&&this.retrier.modifyBackoff(t.reconnect_min_ms)}},{key:"startDisconnectTimer",value:function(){var e=this;Y.trace("startDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null),this.disconnectingTimer=setTimeout((function(){Y.debug("disconnecting is timed out"),e.closeSocket(!0)}),3e3)}},{key:"cancelDisconnectTimer",value:function(){Y.trace("cancelDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null)}},{key:"isConnected",get:function(){return"connected"===this.state&&this.websocket.isConnected}},{key:"state",get:function(){switch(this.fsm.state){case"connecting":case"initialising":case"retrying":case"error":return"connecting";case"updating":case"connected":return"connected";case"rejected":return"denied";case"disconnecting":case"waitSocketClosed":case"waitOffloadSocketClosed":return"disconnecting";default:return"disconnected"}}},{key:"initRetry",value:function(){Y.debug("initRetry"),this.retrier.inProgress?this.retrier.attemptFailed():this.retrier.start()}},{key:"retry",value:function(){"connecting"!=this.fsm.state?(Y.trace("retry"),this.websocket.close(),this.fsm.userRetry()):Y.trace("can\t retry as already connecting")}},{key:"onConnected",value:function(){this.emit("connected")}},{key:"finalizeSocket",value:function(){Y.trace("finalizeSocket"),this.websocket.close(),this.emit("disconnected"),this.disconnectedPromiseResolve&&(this.disconnectedPromiseResolve(),this.disconnectedPromiseResolve=null)}},{key:"setupSocket",value:function(){Y.trace("setupSocket:",this.config.token),this.emit("beforeConnect"),this.websocket.connect()}},{key:"onIncomingMessage",value:function(e){var t=ge.parse(e);if(t){var n=t.method,r=t.header,i=t.payload;if("reply"!==n&&this.confirmReceiving(r),"notification"===n)this.emit("message",r.message_type,i);else if("reply"===r.method)this.transport.processReply({id:r.id,status:r.status,header:r,body:i});else if("client_update"===r.method)"token_about_to_expire"===r.client_update_type&&this.emit("tokenAboutToExpire");else if("close"===r.method)if(308===r.status.code)Y.debug("Connection has been offloaded"),this.fsm.receiveOffload({status:r.status.status,body:i});else if(406===r.status.code){var a="Server closed connection because can't parse protocol: ".concat(JSON.stringify(r.status));this.emitReplyConnectionError(a,r,!0),Y.error(a),this.fsm.receiveFatalClose()}else 417===r.status.code?(Y.error("Server closed connection because can't parse client reply: ".concat(JSON.stringify(r.status))),this.fsm.receiveFatalClose(r.status.status)):410===r.status.code?(Y.warn("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status),this.emit("tokenExpired")):401===r.status.code?(Y.error("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status)):(Y.warn("unexpected message: ",r.status),this.fsm.receiveOffload({status:r.status.status,body:null}))}}},{key:"sendInit",value:function(){var e=S.default(P.default.mark((function e(){var t,n;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.trace("sendInit"),e.prev=1,this.emit("beforeSendInit"),e.next=5,this.transport.sendInit();case 5:t=e.sent,this.config.updateContinuationToken(t.continuationToken),this.config.confirmedCapabilities=t.confirmedCapabilities,this.fsm.initSuccess(t),this.emit("initialized",t),this.emit("tokenUpdated"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0 instanceof ke?(n=!1,Y.warn("Init rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),this.emit("sendInitFailed"),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(n=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.initError(!0)):500===e.t0.reply.status.code?this.fsm.initError(!1):this.fsm.initError(!0),this.emitReplyConnectionError(e.t0.message,e.t0.reply,n)):(this.terminationReason=e.t0.message,this.emit("connectionError",{terminal:!0,message:"Unknown error during connection initialisation: ".concat(e.t0.message,"\n").concat(JSON.stringify(e.t0,null,2)),httpStatusCode:null,errorCode:null}),this.fsm.initError(!0)),this.emit("tokenUpdated",e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendUpdate",value:function(){var e=S.default(P.default.mark((function e(){var t,n,r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.trace("sendUpdate"),t=new ie(this.config.token),e.prev=2,e.next=5,this.transport.sendWithReply(t);case 5:n=e.sent,this.fsm.updateSuccess(n.body),this.emit("tokenUpdated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0 instanceof ke?(r=!1,Y.warn("Token update rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(r=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.updateError(e.t0.reply.status)):this.fsm.updateError(e.t0.reply.status),this.emitReplyConnectionError(e.t0.message,e.t0.reply,r)):(this.emit("error",!1,e.t0.message,null,null),this.fsm.updateError(e.t0)),this.emit("tokenUpdated",e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"emitReplyConnectionError",value:function(e,t,n){var r=t.status&&t.status.description?t.status.description:e,i=t.status.code,a=t.status&&t.status.errorCode?t.status.errorCode:null;n&&(this.terminationReason=r),this.emit("connectionError",{terminal:n,message:"Connection error: ".concat(r),httpStatusCode:i,errorCode:a})}},{key:"cancelInit",value:function(){Y.trace("cancelInit")}},{key:"cancelUpdate",value:function(){Y.trace("cancelUpdate")}},{key:"confirmReceiving",value:function(e){Y.trace("confirmReceiving");try{this.transport.send(new ue(e.id))}catch(t){Y.debug("failed to confirm packet receiving",t)}}},{key:"closeSocket",value:function(e){var t=this;Y.trace("closeSocket (graceful: ".concat(e,")")),e&&this.transport.isConnected&&this.transport.sendClose(),this.websocket.close(),setTimeout((function(){return t.fsm.socketClosed()}),0)}},{key:"connect",value:function(){Y.trace("connect"),this.fsm.userConnect()}},{key:"disconnect",value:function(){var e=this;return Y.trace("disconnect"),this.fsm.is("disconnected")?Promise.resolve():new Promise((function(t){e.disconnectedPromiseResolve=t,e.fsm.userDisconnect()}))}},{key:"updateToken",value:function(e){var t=this;return Y.trace("updateToken:",e),new Promise((function(e,n){t.once("tokenUpdated",(function(t){t?n(t):e()})),t.fsm.userUpdateToken()}))}},{key:"isTerminalState",get:function(){return-1!==this.terminalStates.indexOf(this.fsm.state)}},{key:"getTerminationReason",get:function(){return this.terminationReason}},{key:"onCloseReceived",value:function(){this.websocket.close()}}]),n}(B),Oe=function(){function e(){R.default(this,e)}return T.default(e,null,[{key:"getMetadata",value:function(e){var t,n,r,i,a,o,s,u,c=e&&e.clientMetadata?e.clientMetadata:{},l={env:null!==(t=F.name)&&void 0!==t?t:"unknown",envv:null!==(n=F.version)&&void 0!==n?n:"unknown",os:null!==(r=null===(i=F.os)||void 0===i?void 0:i.family)&&void 0!==r?r:"unknown",osv:null!==(a=null===(o=F.os)||void 0===o?void 0:o.version)&&void 0!==a?a:"unknown",osa:null!==(s=null===(u=F.os)||void 0===u?void 0:u.architecture)&&void 0!==s?s:"unknown",sdk:"js-default"},f={};return["ver","env","envv","os","osv","osa","type","sdk","sdkv","dev","devv","devt","app","appv"].filter((function(e){return e in c||e in l})).forEach((function(e){return f[e]=e in c?c[e]:l[e]})),f}}]),e}();var Ae=function(){function e(t,n){var r=this;R.default(this,e),this.config=n,this.activeRequests=new Map,this.channel=t,this.channel.on("reply",(function(e){return r.processReply(e)})),this.channel.on("disconnected",(function(){r.activeRequests.forEach((function(e){clearTimeout(e.timeout),e.reject(new be("disconnected"))})),r.activeRequests.clear()}))}return T.default(e,[{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"processReply",value:function(e){var t,n=this.activeRequests.get(e.id);n&&(clearTimeout(n.timeout),this.activeRequests.delete(e.id),(t=e.status.code)>=200&&t<300?n.resolve(e):(n.reject(new ke("Transport failure: "+e.status.status,e)),Y.trace("message rejected")))}},{key:"storeRequest",value:function(e,t,n){var r={resolve:t,reject:n,timeout:setTimeout((function(){Y.trace("request",e,"is timed out"),n(new be("Twilsock: request timeout: "+e))}),3e4)};this.activeRequests.set(e,r)}},{key:"shutdown",value:function(){this.activeRequests.forEach((function(e){clearTimeout(e.timeout),e.reject(new be("Twilsock: request cancelled by user"))})),this.activeRequests.clear()}},{key:"sendInit",value:function(){var e=S.default(P.default.mark((function e(){var t,n,r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.trace("sendInit"),t=Oe.getMetadata(this.config),n=new ee(this.config.token,this.config.continuationToken,t,this.config.initRegistrations,this.config.tweaks),e.next=5,this.sendWithReply(n);case 5:return r=e.sent,e.abrupt("return",new ne(r.id,r.header.continuation_token,new Set(r.header.capabilities),r.header.continuation_token_status,r.header.offline_storage,r.header.init_registrations,r.header.debug_info));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendClose",value:function(){var e=new le;this.send(e)}},{key:"sendWithReply",value:function(e,t){var n=this;return new Promise((function(r,i){var a=n.send(e,t);n.storeRequest(a,r,i)}))}},{key:"send",value:function(e,t){e.id=e.id||"TM".concat(y.v4());var n=ge.createPacket(e,function(e){switch(M.default(e)){case"undefined":return"";case"object":return JSON.stringify(e);default:return e}}(t));try{return this.channel.send(n),e.id}catch(r){throw Y.debug("failed to send ",e,r),Y.trace(r.stack),r}}}]),e}();function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Re=function(e){O.default(n,e);var t=Ie(n);function n(e){var i;return R.default(this,n),i=t.call(this),N.default(C.default(i),"socket",null),i.url=e,i.url=e,i.WebSocket=r.WebSocket||r.MozWebSocket||{},i}return T.default(n,[{key:"isConnected",get:function(){return!!this.socket&&1===this.socket.readyState}},{key:"connect",value:function(){var e,t=this;Y.trace("connecting to socket");try{e=new this.WebSocket(this.url)}catch(n){return Y.debug("Socket error: ".concat(this.url)),void this.emit("socketError",n)}e.binaryType="arraybuffer",e.onopen=function(){Y.debug("socket opened ".concat(t.url)),t.emit("connected")},e.onclose=function(e){Y.debug("socket closed",e),t.emit("disconnected",e)},e.onerror=function(e){Y.debug("Socket error:",e),t.emit("socketError",e)},e.onmessage=function(e){t.emit("message",e.data)},this.socket=e}},{key:"send",value:function(e){return this.socket&&this.socket.send(e)}},{key:"close",value:function(){if(Y.trace("closing socket"),this.socket){this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null;try{this.socket.close()}finally{}}}}]),n}(B);function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Pe=function(e){O.default(n,e);var t=Ne(n);function n(e){var r;return R.default(this,n),(r=t.call(this)).transport=e,r.registrations=new Map,r.registrationsInProgress=new Map,r}return T.default(n,[{key:"putNotificationContext",value:function(){var e=S.default(P.default.mark((function e(t,n){var r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(r,n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteNotificationContext",value:function(){var e=S.default(P.default.mark((function e(t){var n;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"delete_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRegistration",value:function(){var e=S.default(P.default.mark((function e(t,n){var r,i;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.debug("update registration for context",t),(r=this.registrationsInProgress.get(t))||(r=new Set,this.registrationsInProgress.set(t,r)),i=y.v4(),r.add(i),e.prev=5,e.next=8,this.putNotificationContext(t,n);case 8:Y.debug("registration attempt succeeded for context",n),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registered",t)),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(5),Y.warn("registration attempt failed for context",n),Y.debug(e.t0),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registrationFailed",t,e.t0));case 19:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateRegistrations",value:function(){var e=S.default(P.default.mark((function e(){var t,n=this;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y.trace("refreshing ".concat(this.registrations.size," registrations")),t=[],this.registrations.forEach((function(e,r){t.push(n.updateRegistration(r,e))})),e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t,n){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new be("Invalid arguments provided");case 2:return this.registrations.set(t,n),e.next=5,this.updateRegistration(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrations.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.deleteNotificationContext(t);case 4:this.transport.isConnected&&this.registrations.delete(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(B);function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var De=function(e){O.default(n,e);var t=Me(n);function n(e,r,i){var a;return R.default(this,n),(a=t.call(this,r)).status=e,a.description=r,a.body=i,a}return n}(be);function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Le=function(e){O.default(n,e);var t=je(n);function n(e){return R.default(this,n),t.call(this,e)}return n}(be);function Fe(e,t){var n=function(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7],params:{}};if(n.search.length>0){var r=n.search.substring(1);n.params=r.split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return e.hasOwnProperty(t[0])?Array.isArray(e[t[0]])?e[t[0]].push(t[1]):e[t[0]]=[e[t[0]],t[1]]:e[t[0]]=t[1],e}),{})}return n}throw new be("Incorrect URI: "+e)}(t),r={method:e,host:n.host,path:n.pathname};return n.params&&(r.params=n.params),r}var Ze=function(){function e(t,n,r){R.default(this,e),this.config=r,this.transport=t,this.pendingMessages=[],this.twilsock=n}return T.default(e,[{key:"saveMessage",value:function(e){var t=this;return new Promise((function(n,r){var i={message:e,resolve:n,reject:r,alreadyRejected:!1,timeout:setTimeout((function(){Y.debug("request is timed out"),r(new be("request '".concat(e.to.method,"' to '").concat(e.to.host,"' timed out"))),i.alreadyRejected=!0}),2e4)};t.pendingMessages.push(i)}))}},{key:"sendPendingMessages",value:function(){for(var e=this,t=function(){var t=e.pendingMessages[0];if(!t.alreadyRejected)try{var n=t.message;e.actualSend(n).then((function(e){return t.resolve(e)})).catch((function(e){return t.reject(e)})),clearTimeout(t.timeout)}catch(r){return Y.debug("Failed to send pending message",r),"break"}e.pendingMessages.splice(0,1)};this.pendingMessages.length>0;){if("break"===t())break}}},{key:"rejectPendingMessages",value:function(){var e=this;this.pendingMessages.forEach((function(t){t.reject(new Le("Unable to connect: "+e.twilsock.getTerminationReason)),t.alreadyRejected=!0,clearTimeout(t.timeout)})),this.pendingMessages.splice(0,this.pendingMessages.length)}},{key:"actualSend",value:function(){var e=S.default(P.default.mark((function e(t){var n,r,i,a,o,s,u,c;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.to,i=t.headers,a=t.body,o=null!==(n=t.grant)&&void 0!==n?n:this.config.activeGrant,s={host:r.host,path:r.path,method:r.method,params:r.params,headers:i},u=new oe(o,i["Content-Type"]||"application/json",s),Y.trace("Sending upstream message",u),e.next=9,this.transport.sendWithReply(u,a);case 9:if(c=e.sent,Y.trace("Received upstream message response",c),!((f=c)&&f.header&&f.header.http_status)||(l=c.header.http_status.code)>=200&&l<300){e.next=13;break}throw new De(c.header.http_status.code,c.header.http_status.status,c.body);case 13:return e.abrupt("return",{status:c.header.http_status,headers:c.header.http_headers,body:c.body});case 14:case"end":return e.stop()}var l,f}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(this.twilsock.isTerminalState)return Promise.reject(new Le("Unable to connect: "+this.twilsock.getTerminationReason));var a=function(e,t,n,r,i){return{to:Fe(e,t),headers:n,body:r,grant:i}}(e,t,n,r,i);return this.twilsock.isConnected?this.actualSend(a):this.saveMessage(a)}}]),e}(),Be=function(){function e(){var t=this;R.default(this,e),this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return T.default(e,[{key:"promise",get:function(){return this._promise}},{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}}]),e}(),Ue=function(){function e(t){R.default(this,e),this.id=t}return T.default(e,null,[{key:"create",value:function(t){if(t instanceof Object&&"storage_id"in t)return new e(t.storage_id);throw new be('Field "storage_id" is missing')}}]),e}(),Ve=function(){function e(){return R.default(this,e),N.default(this,"initializedFlag","twilio_twilsock_token_storage"),N.default(this,"tokenStoragePrefix","twilio_continuation_token_"),e._instance||(this.initialize(),e._instance=this),e._instance}return T.default(e,[{key:"sessionStorage",value:function(){try{return r.sessionStorage}catch(e){return null}}},{key:"window",value:function(){try{return r.window}catch(e){return null}}},{key:"storeToken",value:function(e,t){this.canStore()&&this.sessionStorage.setItem(this.getKeyName(t),e)}},{key:"getStoredToken",value:function(e){return this.canStore()?this.sessionStorage.getItem(this.getKeyName(e)):null}},{key:"initialize",value:function(){var e=this;if(this.canStore()){this.sessionStorage.getItem(this.initializedFlag)&&this.clear(),this.sessionStorage.setItem(this.initializedFlag,"true");var t=this.sessionStorage.removeItem;this.window.addEventListener("unload",(function(){t(e.initializedFlag)}))}}},{key:"clear",value:function(){if(this.canStore()){for(var e=[],t=0;t<this.sessionStorage.length;t++){var n=this.sessionStorage.key(t);n&&0===n.indexOf(this.tokenStoragePrefix)&&e.push(n)}var r=this.sessionStorage.removeItem;e.forEach((function(e){return r(e)})),r(this.initializedFlag)}}},{key:"getKeyName",value:function(e){return"".concat(this.tokenStoragePrefix).concat(e)}},{key:"canStore",value:function(){return!!(this.sessionStorage&&this.sessionStorage.length&&this.window)}}]),e}();N.default(Ve,"_instance",null);var ze,We,He=new Ve,Ge=function(){function e(t,n,r,i,a,o){R.default(this,e),this.title=t,this.details=n,this.start=r,this.type=a,this.id=o,this.end=i}return T.default(e,[{key:"toTelemetryEvent",value:function(){var e=new Date,t=this.start,n=this.end?this.end:e;if(n<t){var r=n;n=t,t=r}var i=t.getTime()-e.getTime(),a=n.getTime()-e.getTime();return new de(i,a,this.title,this.details,this.id,this.type)}}]),e}();t.TelemetryPoint=void 0,(ze=t.TelemetryPoint||(t.TelemetryPoint={}))[ze.Start=0]="Start",ze[ze.End=1]="End",t.EventSendingLimitation=void 0,(We=t.EventSendingLimitation||(t.EventSendingLimitation={}))[We.MinEventsPortion=0]="MinEventsPortion",We[We.AnyEvents=1]="AnyEvents",We[We.AnyEventsIncludingUnfinished=2]="AnyEventsIncludingUnfinished";var qe=function(){function e(t,n){R.default(this,e),N.default(this,"minEventsPortionToSend",50),N.default(this,"maxEventsPortionToSend",100),N.default(this,"pendingEvents",new Map),N.default(this,"readyEvents",[]),N.default(this,"hasInitializationFinished",!1),N.default(this,"_canSendTelemetry",!1),this.config=t,this.packetInterface=n}return T.default(e,[{key:"isTelemetryEnabled",get:function(){return this.config.confirmedCapabilities.has("telemetry.v1")}},{key:"canSendTelemetry",get:function(){return this._canSendTelemetry&&this.isTelemetryEnabled},set:function(e){Y.debug("TelemetryTracker.canSendTelemetry: ".concat(e," TelemetryTracker.isTelemetryEnabled: ").concat(this.isTelemetryEnabled)),this._canSendTelemetry&&!e&&(this.pendingEvents.clear(),this.readyEvents=[]),this._canSendTelemetry=e,e&&this.sendTelemetry(t.EventSendingLimitation.AnyEvents),e&&!this.hasInitializationFinished&&(this.hasInitializationFinished=!0)}},{key:"addTelemetryEvent",value:function(e){!this.canSendTelemetry&&this.hasInitializationFinished||this.readyEvents.push(e)}},{key:"addPartialEvent",value:function(e,n,r){Y.debug("Adding ".concat(r===t.TelemetryPoint.Start?"starting":"ending"," timepoint for '").concat(n,"' event"));var i=this.pendingEvents.has(n);if(r===t.TelemetryPoint.Start)i&&Y.debug("Overwriting starting point for '".concat(n,"' event")),this.pendingEvents.set(n,e);else{if(!i)return void Y.info("Could not find started event for '".concat(n,"' event"));this.addTelemetryEvent(this.merge(this.pendingEvents.get(n),e)),this.pendingEvents.delete(n)}}},{key:"getTelemetryToSend",value:function(e){return this.canSendTelemetry&&0!=this.readyEvents.length?e==t.EventSendingLimitation.MinEventsPortion&&this.readyEvents.length<this.minEventsPortionToSend?[]:this.getTelemetryPortion(e==t.EventSendingLimitation.AnyEventsIncludingUnfinished):[]}},{key:"getTelemetryPortion",value:function(e){var t=this,n=Math.min(this.readyEvents.length,this.maxEventsPortionToSend),r=this.readyEvents.splice(0,n);return e&&r.length<this.maxEventsPortionToSend&&this.pendingEvents.forEach((function(e,n){if(!(r.length>=t.maxEventsPortionToSend)){var i=t.pendingEvents.get(n);t.pendingEvents.delete(n),r.push(new Ge("[UNFINISHED] ".concat(i.title),i.details,i.start,null,i.type,i.id))}})),r}},{key:"merge",value:function(e,t){return new Ge(t.title?t.title:e.title,t.details?t.details:e.details,e.start,t.end,t.type?t.type:e.type,t.id?t.id:e.id)}},{key:"sendTelemetryIfMinimalPortionCollected",value:function(){this.sendTelemetry(t.EventSendingLimitation.MinEventsPortion)}},{key:"sendTelemetry",value:function(e){var t=this.getTelemetryToSend(e);if(0!==t.length)try{this.packetInterface.send(new pe(t.map((function(e){return e.toTelemetryEvent()}))))}catch(n){Y.debug("Error while sending ".concat(t.length," telemetry events due to ").concat(n,"; they will be resubmitted")),this.readyEvents=this.readyEvents.concat(t)}}}]),e}();function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ye=function e(){R.default(this,e)};N.default(Ye,"TWILSOCK_CONNECT","twilsock.sdk.connect"),N.default(Ye,"TWILSOCK_INIT","twilsock.sdk.init"),t.TwilsockClient=function(e){O.default(r,e);var n=Ke(r);function r(e,i,a){var o;R.default(this,r),o=n.call(this),N.default(C.default(o),"version",X),N.default(C.default(o),"offlineStorageDeferred",new Be),a.continuationToken=a.continuationToken?a.continuationToken:He.getStoredToken(i);var s=o.config=new Q(e,i,a);Y.setLevel(s.logLevel);var u=new Re(s.url),c=new Ae(u,s);return o.channel=new Ee(u,c,s),o.registrations=new Pe(c),o.upstream=new Ze(c,o.channel,s),o.telemetryTracker=new qe(s,c),o.channel.on("initialized",(function(){return o.telemetryTracker.canSendTelemetry=!0})),u.on("disconnected",(function(){return o.telemetryTracker.canSendTelemetry=!1})),o.registrations.on("registered",(function(e){return o.emit("registered",e)})),o.channel.on("message",(function(e,t){return setTimeout((function(){return o.emit("message",e,t)}),0)})),o.channel.on("stateChanged",(function(e){return setTimeout((function(){return o.emit("stateChanged",e)}),0)})),o.channel.on("connectionError",(function(e){return setTimeout((function(){return o.emit("connectionError",e)}),0)})),o.channel.on("tokenAboutToExpire",(function(){return setTimeout((function(){return o.emit("tokenAboutToExpire")}),0)})),o.channel.on("tokenExpired",(function(){return setTimeout((function(){return o.emit("tokenExpired")}),0)})),o.channel.on("connected",(function(){return o.registrations.updateRegistrations()})),o.channel.on("connected",(function(){return o.upstream.sendPendingMessages()})),o.channel.on("connected",(function(){return setTimeout((function(){return o.emit("connected")}),0)})),o.channel.on("beforeConnect",(function(){return o.telemetryTracker.addPartialEvent(new Ge("Establish WebSocket connection","",new Date),Ye.TWILSOCK_CONNECT,t.TelemetryPoint.Start)})),o.channel.on("connected",(function(){return o.telemetryTracker.addPartialEvent(new Ge("Establish WebSocket connection","",new Date,new Date),Ye.TWILSOCK_CONNECT,t.TelemetryPoint.End)})),o.channel.on("beforeSendInit",(function(){return o.telemetryTracker.addPartialEvent(new Ge("Send Twilsock init","",new Date),Ye.TWILSOCK_INIT,t.TelemetryPoint.Start)})),o.channel.on("initialized",(function(){return o.telemetryTracker.addPartialEvent(new Ge("Send Twilsock init","Succeeded",new Date,new Date),Ye.TWILSOCK_INIT,t.TelemetryPoint.End)})),o.channel.on("sendInitFailed",(function(){return o.telemetryTracker.addPartialEvent(new Ge("Send Twilsock init","Failed",new Date,new Date),Ye.TWILSOCK_INIT,t.TelemetryPoint.End)})),o.channel.on("initialized",(function(e){o.handleStorageId(i,e),He.storeToken(e.continuationToken,i),setTimeout((function(){return o.emit("initialized",e)}),0)})),o.channel.on("disconnected",(function(){return setTimeout((function(){return o.emit("disconnected")}),0)})),o.channel.on("disconnected",(function(){return o.upstream.rejectPendingMessages()})),o.channel.on("disconnected",(function(){return o.offlineStorageDeferred.fail(new be("Client disconnected"))})),o.offlineStorageDeferred.promise.catch((function(){})),o}return T.default(r,[{key:"emit",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return Y.debug("Emitting ".concat(e.toString(),"(").concat(i.map((function(e){return JSON.stringify(e)})).join(", "),")")),(t=E.default(I.default(r.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"handleStorageId",value:function(e,t){if(t.offlineStorage)if(t.offlineStorage.hasOwnProperty(e))try{this.offlineStorageDeferred.set(Ue.create(t.offlineStorage[e])),Y.debug("Offline storage for '".concat(e,"' product: ").concat(JSON.stringify(t.offlineStorage[e]),"."))}catch(n){this.offlineStorageDeferred.fail(new be("Failed to parse offline storage for ".concat(e," ").concat(JSON.stringify(t.offlineStorage[e]),". ").concat(n,".")))}else this.offlineStorageDeferred.fail(new be("No offline storage id for '".concat(e,"' product: ").concat(JSON.stringify(t.offlineStorage))));else this.offlineStorageDeferred.fail(new be("No offline storage id"))}},{key:"storageId",value:function(){return this.offlineStorageDeferred.promise}},{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"state",get:function(){return this.channel.state}},{key:"updateToken",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y.trace("updating token '".concat(t,"'")),this.config.token!==t){e.next=3;break}return e.abrupt("return");case 3:return this.config.updateToken(t),e.next=6,this.channel.updateToken(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t,n){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrations.setNotificationsContext(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrations.removeNotificationsContext(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){return this.channel.connect()}},{key:"disconnect",value:function(){var e=S.default(P.default.mark((function e(){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEventsIncludingUnfinished),e.next=3,this.channel.disconnect();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(P.default.mark((function e(n,r,i){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("GET",n,r,void 0,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("POST",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("PUT",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("DELETE",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"addTelemetryEvent",value:function(e){this.telemetryTracker.addTelemetryEvent(e),this.telemetryTracker.sendTelemetryIfMinimalPortionCollected()}},{key:"addPartialTelemetryEvent",value:function(e,n,r){this.telemetryTracker.addPartialEvent(e,n,r),r===t.TelemetryPoint.End&&this.telemetryTracker.sendTelemetryIfMinimalPortionCollected()}}]),r}(B),t.TwilsockClient=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":M.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([v.validateConstructorTypes(v.nonEmptyString,v.nonEmptyString,[v.pureObject,"undefined",v.literal(null)]),function(e,t){if("object"===("undefined"===typeof Reflect?"undefined":M.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[String,String,Object])],t.TwilsockClient);var Xe=function(){function e(t){R.default(this,e),this.product=t,this.type="ers",this.notification_protocol_version=0,this.message_types=[]}return T.default(e,[{key:"populateInitRegistrations",value:function(e){var t=new Set(this.message_types);for(var n in e)t.add(e[n]);this.message_types=Array.from(t)}}]),e}();t.InitRegistration=Xe,t.TelemetryEventDescription=Ge,t.TelemetryTracker=qe,t.TransportUnavailableError=Le,t.Twilsock=t.TwilsockClient,t.TwilsockError=be},20930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(49258),n(65202),n(89104),n(59147),n(18116),n(4772),n(85625),n(18887),n(81740);var r=n(18698);n(44105),n(30974);var i=n(27424);n(99238),n(4778),n(44584);var a=n(861),o=n(56690),s=n(61655),u=n(94993),c=n(73808);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(68225),n(67675);var f=l(r),d=l(i),p=l(a),h=l(o),v=l(s),m=l(u),g=l(c),y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{checks:t}};function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=b(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"!==typeof o?(r=r||e instanceof o,i.push("an instance of ".concat(o.name))):(r=r||f.default(e)===o,i.push("of type ".concat(o)))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))};function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=y((function(e){return["string"===typeof e&&e.length>0,"a non-empty string"]})),T=y((function(e){return["number"===typeof e&&Number.isInteger(e)&&e>=0,"a non-negative integer"]})),C=y((function(e){return["object"===f.default(e)&&null!==e&&!Array.isArray(e),"a pure object (non-null and non-array)"]}));function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g.default(e);if(t){var i=g.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m.default(this,n)}}function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e,t){if(t.length>e.length)throw new Error("Expected at most ".concat(e.length," argument(s), but got ").concat(t.length));for(;t.length<e.length;)t.push(void 0);var n,r=O(t.entries());try{for(r.s();!(n=r.n()).done;){var i=d.default(n.value,2),a=i[0],o=i[1],s=M(e[a],o),u=d.default(s,4),c=u[0],l=u[1],f=u[2],p=u[3];if(!c)throw new Error("Argument ".concat(a+1," is expected to be ").concat(f).concat(p," but got ").concat(l))}}catch(h){r.e(h)}finally{r.f()}},R=function(e){var t,n,r;(["undefined","boolean","number","bigint","string"].includes(f.default(e))&&(n="string"===typeof e?'"'.concat(e,'"'):"".concat(e)),"object"===f.default(e)&&"Object"!==(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name))&&(n=null===e?"null":"instance of ".concat(null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name));return n||(n=f.default(e)),n},N=function(e){var t,n=[],r=O(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(P(i))}}catch(a){r.e(a)}finally{r.f()}return n},P=function(e){var t,n=[],r=O(Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;"string"!==typeof i&&"function"!==typeof i?n.push(i):n.push(k(i))}}catch(a){r.e(a)}finally{r.f()}return n},M=function(e,t){var n,r,i=[],a=!1,o=O(e);try{for(o.s();!(r=o.n()).done;){var s,u=O(r.value.checks);try{for(u.s();!(s=u.n()).done;){var c=(0,s.value)(t),l=d.default(c,3),f=l[0],h=l[1],v=l[2];a=a||f,!n&&v&&(n=v),h&&(i=[].concat(p.default(i),"string"===typeof h?[h]:p.default(h)))}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}if(a)return[!0];var m=n||R(t),g=i.length-1;return[!1,m,g>0?"".concat(i.slice(0,g).join(", ")," or ").concat(i[g]):i.join(", "),g>1?";":","]};function D(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.array=function(e,t){return y((function(n){if(!Array.isArray(n))return[!1,"an array of ".concat(e)];var r,i=D(n.entries());try{for(i.s();!(r=i.n()).done;){var a=d.default(r.value,2),o=a[0],s=a[1],u=M(P(t),s),c=d.default(u,3),l=c[0],f=c[1],p=c[2];if(!l)return[!1,"a valid array of ".concat(e," (index ").concat(o," should be ").concat(p,")"),"malformed array of ".concat(e," (index ").concat(o," is ").concat(f,")")]}}catch(h){i.e(h)}finally{i.f()}return[!0]}))},t.custom=y,t.literal=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=w(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=r||e===o,i.push("string"===typeof o?'"'.concat(o,'"'):"".concat(o))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))},t.nonEmptyString=S,t.nonNegativeInteger=T,t.objectSchema=function(e,t){return y((function(n){if("object"!==f.default(n)||null===n||Array.isArray(n))return[!1,"valid ".concat(e," (should be a pure object)")];for(var r=0,i=Object.entries(t);r<i.length;r++){var a=d.default(i[r],2),o=a[0],s=a[1],u=M(P(s),n[o]),c=d.default(u,3),l=c[0],p=c[1],h=c[2];if(!l)return[!1,"valid ".concat(e,' (key "').concat(o,'" should be ').concat(h,")"),"malformed ".concat(e,' (key "').concat(o,'" is ').concat(p,")")]}return[!0]}))},t.pureObject=C,t.runtimeTypeValidation=I,t.stringifyReceivedType=R,t.type=k,t.validateConstructorTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e){return function(e){v.default(n,e);var t=E(n);function n(){h.default(this,n);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return I(r,i),t.call.apply(t,[this].concat(i))}return n}(e)}},t.validateTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypes decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I(r,t),i.apply(this,t)}}},t.validateTypesAsync=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypesAsync decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{I(r,t)}catch(a){return Promise.reject(a)}return i.apply(this,t)}}}},45318:function(e,t,n){var r=n(37661),i=n(33915),a=i;a.v1=r,a.v4=i,e.exports=a},73584:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},5926:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},37661:function(e,t,n){var r,i,a=n(5926),o=n(73584),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=a();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||o(l)}},33915:function(e,t,n){var r=n(5926),i=n(73584);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},70538:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},13741:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},92426:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},65510:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},75410:function(){},48628:function(){},75042:function(){},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,n){var r=n(73897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(69617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e,t,n){var r=n(64062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,n){var r=n(73808),i=n(69617),a=n(94993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e,t,n){var r=n(64062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},75263:function(e,t,n){var r=n(18698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},46035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,n){var r=n(18698).default,i=n(66115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,n){var r=n(18698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(R){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=d;var h={};function v(){}function m(){}function g(){}var y={};f(y,u,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(A([])));x&&x!==n&&a.call(x,u)&&(y=x);var k=g.prototype=v.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,s,u){var c=p(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=g,o(k,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=f(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},w(_.prototype),f(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,n){var r=n(85372),i=n(68872),a=n(86116),o=n(12218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},59400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(63405),i=n(79498),a=n(86116),o=n(42281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},95036:function(e,t,n){var r=n(18698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:function(e,t,n){var r=n(18698).default,i=n(95036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,n){var r=n(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},33496:function(e,t,n){var r=n(73808),i=n(6015),a=n(46035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},64687:function(e,t,n){var r=n(17061)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(49142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},29388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(61120),i=n(78814),a=n(82963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(49142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},87462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},11752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},94578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},45987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},82963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(71002),i=n(97326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},74165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),s=new E(r||[]);return a(o,"_invoke",{value:_(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=f;var p={};function h(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(O([])));b&&b!==t&&n.call(b,s)&&(g=b);var x=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,u){var c=d(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(w.prototype),l(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(x),l(x,c,"Generator"),l(x,s,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},70885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},42982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(30907);var i=n(40181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},49142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},98737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(61120),i=n(89611);var a=n(78814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},1730:function(e){"use strict";e.exports=JSON.parse('{"name":"twilio-video","title":"Twilio Video","description":"Twilio Video JavaScript Library","version":"2.27.0","homepage":"https://twilio.com","author":"Mark Andrus Roberts <mroberts@twilio.com>","contributors":["Ryan Rowland <rrowland@twilio.com>","Manjesh Malavalli <mmalavalli@twilio.com>","Makarand Patwardhan <mpatwardhan@twilio.com>"],"keywords":["twilio","webrtc","library","javascript","video","rooms"],"repository":{"type":"git","url":"https://github.com/twilio/twilio-video.js.git"},"devDependencies":{"@babel/core":"^7.14.2","@babel/preset-env":"^7.14.2","@babel/preset-typescript":"^7.13.0","@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","@typescript-eslint/eslint-plugin":"^4.13.0","@typescript-eslint/parser":"^4.0.0","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1","browserify":"^17.0.0","cheerio":"^0.22.0","cors":"^2.8.5","electron":"^17.2.0","envify":"^4.0.0","eslint":"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","express":"^4.16.2","glob":"^7.1.7","ink-docstrap":"^1.3.2","inquirer":"^7.0.0","is-docker":"^2.0.0","jsdoc":"^3.5.5","jsdoc-babel":"^0.5.0","json-loader":"^0.5.7","karma":"6.4.1","karma-browserify":"^8.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","karma-typescript":"^5.5.1","karma-typescript-es6-transform":"^5.5.1","mocha":"^3.2.0","mock-require":"^3.0.3","ncp":"^2.0.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2","nyc":"^15.1.0","requirejs":"^2.3.3","rimraf":"^2.6.1","simple-git":"^1.126.0","sinon":"^4.0.1","ts-node":"4.0.1","tslint":"5.8.0","twilio":"^3.49.0","twilio-release-tool":"^1.0.2","typescript":"4.2.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","watchify":"^3.11.1","webrtc-adapter":"^7.7.1"},"engines":{"node":">=0.12"},"license":"BSD-3-Clause","main":"./es5/index.js","types":"./tsdef/index.d.ts","scripts":{"lint:js":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/** ","lint:ts":"eslint ./tsdef/*.ts ./lib/**/*.ts","lint":"npm-run-all lint:js lint:ts","printVersion":"node --version && npm --version","test:unit":"npm-run-all printVersion build:es5 && nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov --reporter=text mocha -r ts-node/register ./test/unit/*","test:unit:quick":"nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov mocha -r ts-node/register","test:serversiderender":"mocha ./test/serversiderender/index.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration":"npm run build:es5 && node ./scripts/karma.js karma/integration.conf.js","test:umd:install":"npm install puppeteer@19.2.2","test:umd":"mocha ./test/umd/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework":"npm-run-all test:framework:install test:framework:no-framework test:framework:react","test":"npm-run-all test:unit test:integration","build:es5":"rimraf ./es5 && mkdir -p es5 && tsc tsdef/twilio-video-tests.ts --noEmit --lib es2018,dom && tsc","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\"/^! twilio-video.js/\\" -b beautify=false,ascii_only=true","build":"npm-run-all clean lint docs test:unit test:integration build:es5 build:js build:min.js test:umd","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js","docs":"node ./scripts/docs.js ./dist/docs","watch":"tsc -w","clean":"rimraf ./coverage ./es5 ./dist"},"dependencies":{"events":"^3.3.0","util":"^0.12.4","ws":"^7.4.6","xmlhttprequest":"^1.8.0"},"browser":{"ws":"./src/ws.js","xmlhttprequest":"./src/xmlhttprequest.js"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",n.nc=void 0,function(){"use strict";var e=n(72791),t=n(54164),r=n(87462),i=n(38317),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return(0,r.Z)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var s=(0,i.Z)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,r.Z)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(t){var n=t.children,r=void 0===n?null:n;return t.classes,e.createElement(e.Fragment,null,r)})),u=n(40423),c=n(78444),l=n(79316);var f=function(t){var n=t.children,i=t.theme,a=(0,c.Z)(),o=e.useMemo((function(){var e=null===a?i:function(e,t){return"function"===typeof t?t(e):(0,r.Z)({},e,t)}(a,i);return null!=e&&(e[l.Z]=null!==a),e}),[i,a]);return e.createElement(u.Z.Provider,{value:o},n)},d=n(70885),p=n(4942),h=n(45987),v=n(28182),m=n(62110),g=n.n(m),y=n(63401);function b(t){return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.name,o=(0,h.Z)(i,["name"]);var s,u=a,c="function"===typeof n?function(e){return{root:function(t){return n((0,r.Z)({theme:e},t))}}}:{root:n},l=(0,y.Z)(c,(0,r.Z)({Component:t,name:a||t.displayName,classNamePrefix:u},o));n.filterProps&&(s=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var f=e.forwardRef((function(n,i){var a=n.children,o=n.className,u=n.clone,c=n.component,f=(0,h.Z)(n,["children","className","clone","component"]),d=l(n),p=(0,v.Z)(d.root,o),m=f;if(s&&(m=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(m,s)),u)return e.cloneElement(a,(0,r.Z)({className:(0,v.Z)(a.props.className,p)},m));if("function"===typeof a)return a((0,r.Z)({className:p},m));var g=c||t;return e.createElement(g,(0,r.Z)({ref:i,className:p},m),a)}));return g()(f,t),f}}var x=n(40663),k=function(e){var t=b(e);return function(e,n){return t(e,(0,r.Z)({defaultTheme:x.Z},n))}};var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,y.Z)(e,(0,r.Z)({defaultTheme:x.Z},t))},_=n(91122),S={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},T=e.forwardRef((function(t,n){var i=t.align,a=void 0===i?"inherit":i,o=t.classes,s=t.className,u=t.color,c=void 0===u?"initial":u,l=t.component,f=t.display,d=void 0===f?"initial":f,p=t.gutterBottom,m=void 0!==p&&p,g=t.noWrap,y=void 0!==g&&g,b=t.paragraph,x=void 0!==b&&b,k=t.variant,w=void 0===k?"body1":k,T=t.variantMapping,C=void 0===T?S:T,E=(0,h.Z)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),O=l||(x?"p":C[w]||S[w])||"span";return e.createElement(O,(0,r.Z)({className:(0,v.Z)(o.root,s,"inherit"!==w&&o[w],"initial"!==c&&o["color".concat((0,_.Z)(c))],y&&o.noWrap,m&&o.gutterBottom,x&&o.paragraph,"inherit"!==a&&o["align".concat((0,_.Z)(a))],"initial"!==d&&o["display".concat((0,_.Z)(d))]),ref:n},E))})),C=(0,i.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(T);var E=n(13108),O=n(69806),A=n(72216),I=n(81175),R=n(42982),N=n(63366),P=n(97326),M=n(94578),D=e.createContext(null);function j(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function L(e,t,n){return null!=n[t]?n[t]:e.props[t]}function F(t,n,r){var i=j(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],f=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,e.isValidElement)(l)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:L(s,"exit",t),enter:L(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:L(s,"exit",t),enter:L(s,"enter",t)})}})),a}var Z=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},B=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,P.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,M.Z)(n,t);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,j(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:L(t,"appear",r),enter:L(t,"enter",r),exit:L(t,"exit",r)})}))):F(t,a,o),firstRender:!1}},i.handleExited=function(e,t){var n=j(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.Z)({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,N.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=Z(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(D.Provider,{value:a},o):e.createElement(D.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);B.propTypes={},B.defaultProps={component:"div",childFactory:function(e){return e}};var U=B,V="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var z=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,s=t.rippleSize,u=t.in,c=t.onExited,l=void 0===c?function(){}:c,f=t.timeout,d=e.useState(!1),p=d[0],h=d[1],m=(0,v.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),g={width:s,height:s,top:-s/2+o,left:-s/2+a},y=(0,v.Z)(n.child,p&&n.childLeaving,i&&n.childPulsate),b=(0,A.Z)(l);return V((function(){if(!u){h(!0);var e=setTimeout(b,f);return function(){clearTimeout(e)}}}),[b,u,f]),e.createElement("span",{className:m,style:g},e.createElement("span",{className:y}))},W=e.forwardRef((function(t,n){var i=t.center,a=void 0!==i&&i,o=t.classes,s=t.className,u=(0,h.Z)(t,["center","classes","className"]),c=e.useState([]),l=c[0],f=c[1],d=e.useRef(0),p=e.useRef(null);e.useEffect((function(){p.current&&(p.current(),p.current=null)}),[l]);var m=e.useRef(!1),g=e.useRef(null),y=e.useRef(null),b=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var x=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,a=t.rippleSize,s=t.cb;f((function(t){return[].concat((0,R.Z)(t),[e.createElement(z,{key:d.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:a})])})),d.current+=1,p.current=s}),[o]),k=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,d,p=c?null:b.current,h=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(h.width/2),f=Math.round(h.height/2);else{var v=e.touches?e.touches[0]:e,k=v.clientX,w=v.clientY;l=Math.round(k-h.left),f=Math.round(w-h.top)}if(s)(d=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(d+=1);else{var _=2*Math.max(Math.abs((p?p.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((p?p.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===y.current&&(y.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,x]),w=e.useCallback((function(){k({},{pulsate:!0})}),[k]),_=e.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(g.current=setTimeout((function(){_(e,t)})));y.current=null,f((function(e){return e.length>0?e.slice(1):e})),p.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:w,start:k,stop:_}}),[w,k,_]),e.createElement("span",(0,r.Z)({className:(0,v.Z)(o.root,s),ref:b},u),e.createElement(U,{component:null,exit:!0},l))})),H=(0,i.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(W)),G=e.forwardRef((function(n,i){var a=n.action,o=n.buttonRef,s=n.centerRipple,u=void 0!==s&&s,c=n.children,l=n.classes,f=n.className,d=n.component,p=void 0===d?"button":d,m=n.disabled,g=void 0!==m&&m,y=n.disableRipple,b=void 0!==y&&y,x=n.disableTouchRipple,k=void 0!==x&&x,w=n.focusRipple,_=void 0!==w&&w,S=n.focusVisibleClassName,T=n.onBlur,C=n.onClick,E=n.onFocus,R=n.onFocusVisible,N=n.onKeyDown,P=n.onKeyUp,M=n.onMouseDown,D=n.onMouseLeave,j=n.onMouseUp,L=n.onTouchEnd,F=n.onTouchMove,Z=n.onTouchStart,B=n.onDragLeave,U=n.tabIndex,V=void 0===U?0:U,z=n.TouchRippleProps,W=n.type,G=void 0===W?"button":W,q=(0,h.Z)(n,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=e.useRef(null);var Y=e.useRef(null),X=e.useState(!1),Q=X[0],J=X[1];g&&Q&&J(!1);var $=(0,I.Z)(),ee=$.isFocusVisible,te=$.onBlurVisible,ne=$.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return(0,A.Z)((function(r){return t&&t(r),!n&&Y.current&&Y.current[e](r),!0}))}e.useImperativeHandle(a,(function(){return{focusVisible:function(){J(!0),K.current.focus()}}}),[]),e.useEffect((function(){Q&&_&&!b&&Y.current.pulsate()}),[b,_,Q]);var ie=re("start",M),ae=re("stop",B),oe=re("stop",j),se=re("stop",(function(e){Q&&e.preventDefault(),D&&D(e)})),ue=re("start",Z),ce=re("stop",L),le=re("stop",F),fe=re("stop",(function(e){Q&&(te(e),J(!1)),T&&T(e)}),!1),de=(0,A.Z)((function(e){K.current||(K.current=e.currentTarget),ee(e)&&(J(!0),R&&R(e)),E&&E(e)})),pe=function(){var e=t.findDOMNode(K.current);return p&&"button"!==p&&!("A"===e.tagName&&e.href)},he=e.useRef(!1),ve=(0,A.Z)((function(e){_&&!he.current&&Q&&Y.current&&" "===e.key&&(he.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!g&&(e.preventDefault(),C&&C(e))})),me=(0,A.Z)((function(e){_&&" "===e.key&&Y.current&&Q&&!e.defaultPrevented&&(he.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),P&&P(e),C&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&C(e)})),ge=p;"button"===ge&&q.href&&(ge="a");var ye={};"button"===ge?(ye.type=G,ye.disabled=g):("a"===ge&&q.href||(ye.role="button"),ye["aria-disabled"]=g);var be=(0,O.Z)(o,i),xe=(0,O.Z)(ne,K),ke=(0,O.Z)(be,xe),we=e.useState(!1),_e=we[0],Se=we[1];e.useEffect((function(){Se(!0)}),[]);var Te=_e&&!b&&!g;return e.createElement(ge,(0,r.Z)({className:(0,v.Z)(l.root,f,Q&&[l.focusVisible,S],g&&l.disabled),onBlur:fe,onClick:C,onFocus:de,onKeyDown:ve,onKeyUp:me,onMouseDown:ie,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:ke,tabIndex:g?-1:V},ye,q),c,Te?e.createElement(H,(0,r.Z)({ref:Y,center:u},z)):null)})),q=(0,i.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(G),K=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.color,u=void 0===s?"default":s,c=t.component,l=void 0===c?"button":c,f=t.disabled,d=void 0!==f&&f,p=t.disableElevation,m=void 0!==p&&p,g=t.disableFocusRipple,y=void 0!==g&&g,b=t.endIcon,x=t.focusVisibleClassName,k=t.fullWidth,w=void 0!==k&&k,S=t.size,T=void 0===S?"medium":S,C=t.startIcon,E=t.type,O=void 0===E?"button":E,A=t.variant,I=void 0===A?"text":A,R=(0,h.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=C&&e.createElement("span",{className:(0,v.Z)(a.startIcon,a["iconSize".concat((0,_.Z)(T))])},C),P=b&&e.createElement("span",{className:(0,v.Z)(a.endIcon,a["iconSize".concat((0,_.Z)(T))])},b);return e.createElement(q,(0,r.Z)({className:(0,v.Z)(a.root,a[I],o,"inherit"===u?a.colorInherit:"default"!==u&&a["".concat(I).concat((0,_.Z)(u))],"medium"!==T&&[a["".concat(I,"Size").concat((0,_.Z)(T))],a["size".concat((0,_.Z)(T))]],m&&a.disableElevation,d&&a.disabled,w&&a.fullWidth),component:l,disabled:d,focusRipple:!y,focusVisibleClassName:(0,v.Z)(a.focusVisible,x),ref:n,type:O},R),e.createElement("span",{className:a.label},N,i,P))})),Y=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,E.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,E.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,E.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,E.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,E.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,E.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,E.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(K),X=n(74165),Q=n(1413),J=n(15861),$={trackSwitchOffMode:void 0,dominantSpeakerPriority:"standard",bandwidthProfileMode:"collaboration",maxAudioBitrate:"16000",contentPreferencesMode:"auto",clientTrackSwitchOffControl:"auto"},ee=function(){var e={};for(var t in $)e[t]=t;return e}();function te(e,t){return(0,Q.Z)((0,Q.Z)({},e),{},(0,p.Z)({},t.name,"default"===t.value?void 0:t.value))}var ne={width:1280,height:720,frameRate:24},re="TwilioVideoApp-selectedAudioInput",ie="TwilioVideoApp-selectedAudioOutput",ae="TwilioVideoApp-selectedVideoInput",oe="TwilioVideoApp-selectedBackgroundSettings",se=9/16,ue=3;function ce(e){return"[object Object]"===Object.prototype.toString.call(e)}var le="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function fe(e){if(!function(e){var t,n;return!1!==ce(e)&&(void 0===(t=e.constructor)||!1!==ce(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}(e))return e;var t={};for(var n in e){var r=e[n];"undefined"!==typeof r&&(t[n]=fe(r))}return t}function de(){return pe.apply(this,arguments)}function pe(){return(pe=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return t=e.sent,e.abrupt("return",{audioInputDevices:t.filter((function(e){return"audioinput"===e.kind})),videoInputDevices:t.filter((function(e){return"videoinput"===e.kind})),audioOutputDevices:t.filter((function(e){return"audiooutput"===e.kind})),hasAudioInputDevices:t.some((function(e){return"audioinput"===e.kind})),hasVideoInputDevices:t.some((function(e){return"videoinput"===e.kind}))});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return ve.apply(this,arguments)}function ve(){return(ve=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!navigator.permissions){e.next=14;break}return e.prev=2,e.next=5,navigator.permissions.query({name:n});case 5:return r=e.sent,e.abrupt("return","denied"===r.state);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:e.next=15;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function me(){var t=(0,e.useState)({audioInputDevices:[],videoInputDevices:[],audioOutputDevices:[],hasAudioInputDevices:!1,hasVideoInputDevices:!1}),n=(0,d.Z)(t,2),r=n[0],i=n[1];return(0,e.useEffect)((function(){var e=function(){return de().then((function(e){return i(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),r}var ge=n(37762),ye=n(15671),be=n(43144),xe=n(60136),ke=n(29388),we=n(98737),_e=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,p=63&c;u||(p=64,o||(d=64)),r.push(n[l],n[f],n[d],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_e(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Te;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Te=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){var e;return(0,ye.Z)(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,be.Z)(n)}((0,we.Z)(Error)),Ce=function(e){return function(e){var t=_e(e);return Se.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ee=function(e){try{return Se.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Oe=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ae=function(){try{return Oe()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ee(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ie=function(e){var t,n;return null===(n=null===(t=Ae())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Re=function(){var e;return null===(e=Ae())||void 0===e?void 0:e.config},Ne=function(e){var t;return null===(t=Ae())||void 0===t?void 0:t["_".concat(e)]},Pe=function(){function e(){var t=this;(0,ye.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,be.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Me(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function De(){try{return"object"===typeof indexedDB}catch(e){return!1}}var je=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e,r,i){var a;return(0,ye.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,P.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,P.Z)(a),Le.prototype.create),a}return(0,be.Z)(n)}((0,we.Z)(Error)),Le=function(){function e(t,n,r){(0,ye.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,be.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Fe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new je(n,a,t)}}]),e}();var Fe=/\{\$([^}]+)}/g;function Ze(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Be(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ue(s)&&Ue(u)){if(!Be(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ue(e){return null!==e&&"object"===typeof e}function Ve(e){for(var t=[],n=function(){var e=(0,d.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ze(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,d.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function We(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var He=function(){function e(t,n){var r=this;(0,ye.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,be.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,ge.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ge),void 0===r.error&&(r.error=Ge),void 0===r.complete&&(r.complete=Ge);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ge(){}function qe(e){return e&&e._delegate?e._delegate:e}var Ke=function(){function e(t,n,r){(0,ye.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,be.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ye="[DEFAULT]",Xe=function(){function e(t,n){(0,ye.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,be.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch(u){}var t,n=(0,ge.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,d.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,R.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,R.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=(0,ge.Z)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,d.Z)(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,ge.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ye?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.component?this.component.multipleInstances?e:Ye:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qe,Je,$e=function(){function e(t){(0,ye.Z)(this,e),this.name=t,this.providers=new Map}return(0,be.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Xe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),et=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Je||(Je={}));var tt={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},nt=Je.INFO,rt=(Qe={},(0,p.Z)(Qe,Je.DEBUG,"log"),(0,p.Z)(Qe,Je.VERBOSE,"log"),(0,p.Z)(Qe,Je.INFO,"info"),(0,p.Z)(Qe,Je.WARN,"warn"),(0,p.Z)(Qe,Je.ERROR,"error"),Qe),it=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=rt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},at=function(){function e(t){(0,ye.Z)(this,e),this.name=t,this._logLevel=nt,this._logHandler=it,this._userLogHandler=null,et.push(this)}return(0,be.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Je))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?tt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.DEBUG].concat(t)),this._logHandler.apply(this,[this,Je.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Je.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.INFO].concat(t)),this._logHandler.apply(this,[this,Je.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.WARN].concat(t)),this._logHandler.apply(this,[this,Je.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.ERROR].concat(t)),this._logHandler.apply(this,[this,Je.ERROR].concat(t))}}]),e}();var ot,st,ut=function(e,t){return t.some((function(t){return e instanceof t}))};var ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,dt=new WeakMap,pt=new WeakMap;var ht={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ft.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(st||(st=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),gt(ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[yt(this),t].concat(r));return ft.set(a,t.sort?t.sort():[t]),gt(a)}}function mt(e){return"function"===typeof e?vt(e):(e instanceof IDBTransaction&&function(e){if(!lt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));lt.set(e,t)}}(e),ut(e,ot||(ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ht):e)}function gt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(gt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ct.set(t,e)})).catch((function(){})),pt.set(t,e),t}(e);if(dt.has(e))return dt.get(e);var t=mt(e);return t!==e&&(dt.set(e,t),pt.set(t,e)),t}var yt=function(e){return pt.get(e)};var bt,xt,kt,wt=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],St=new Map;function Tt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(St.get(t))return St.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=_t.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||wt.includes(n))){var a=function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var a,o,s,u,c,l,f=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return St.set(t,a),a}}}bt=function(e){return(0,Q.Z)((0,Q.Z)({},e),{},{get:function(t,n,r){return Tt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Tt(t,n)||e.has(t,n)}})},ht=bt(ht);var Ct=function(){function e(t){(0,ye.Z)(this,e),this.container=t}return(0,be.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Et="@firebase/app",Ot="0.9.9",At=new at("@firebase/app"),It="[DEFAULT]",Rt=(xt={},(0,p.Z)(xt,Et,"fire-core"),(0,p.Z)(xt,"@firebase/app-compat","fire-core-compat"),(0,p.Z)(xt,"@firebase/analytics","fire-analytics"),(0,p.Z)(xt,"@firebase/analytics-compat","fire-analytics-compat"),(0,p.Z)(xt,"@firebase/app-check","fire-app-check"),(0,p.Z)(xt,"@firebase/app-check-compat","fire-app-check-compat"),(0,p.Z)(xt,"@firebase/auth","fire-auth"),(0,p.Z)(xt,"@firebase/auth-compat","fire-auth-compat"),(0,p.Z)(xt,"@firebase/database","fire-rtdb"),(0,p.Z)(xt,"@firebase/database-compat","fire-rtdb-compat"),(0,p.Z)(xt,"@firebase/functions","fire-fn"),(0,p.Z)(xt,"@firebase/functions-compat","fire-fn-compat"),(0,p.Z)(xt,"@firebase/installations","fire-iid"),(0,p.Z)(xt,"@firebase/installations-compat","fire-iid-compat"),(0,p.Z)(xt,"@firebase/messaging","fire-fcm"),(0,p.Z)(xt,"@firebase/messaging-compat","fire-fcm-compat"),(0,p.Z)(xt,"@firebase/performance","fire-perf"),(0,p.Z)(xt,"@firebase/performance-compat","fire-perf-compat"),(0,p.Z)(xt,"@firebase/remote-config","fire-rc"),(0,p.Z)(xt,"@firebase/remote-config-compat","fire-rc-compat"),(0,p.Z)(xt,"@firebase/storage","fire-gcs"),(0,p.Z)(xt,"@firebase/storage-compat","fire-gcs-compat"),(0,p.Z)(xt,"@firebase/firestore","fire-fst"),(0,p.Z)(xt,"@firebase/firestore-compat","fire-fst-compat"),(0,p.Z)(xt,"fire-js","fire-js"),(0,p.Z)(xt,"firebase","fire-js-all"),xt),Nt=new Map,Pt=new Map;function Mt(e,t){try{e.container.addComponent(t)}catch(n){At.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Dt(e){var t=e.name;if(Pt.has(t))return At.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pt.set(t,e);var n,r=(0,ge.Z)(Nt.values());try{for(r.s();!(n=r.n()).done;){Mt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Lt=(kt={},(0,p.Z)(kt,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,p.Z)(kt,"bad-app-name","Illegal App name: '{$appName}"),(0,p.Z)(kt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,p.Z)(kt,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,p.Z)(kt,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,p.Z)(kt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,p.Z)(kt,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,p.Z)(kt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,p.Z)(kt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,p.Z)(kt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,p.Z)(kt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),kt),Ft=new Le("app","Firebase",Lt),Zt=function(){function e(t,n,r){var i=this;(0,ye.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ke("app",(function(){return i}),"PUBLIC"))}return(0,be.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}]),e}(),Bt="9.21.0";function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:It,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ft.create("bad-app-name",{appName:String(i)});if(n||(n=Re()),!n)throw Ft.create("no-options");var a=Nt.get(i);if(a){if(Be(n,a.options)&&Be(r,a.config))return a;throw Ft.create("duplicate-app",{appName:i})}var o,s=new $e(i),u=(0,ge.Z)(Pt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Zt(n,r,s);return Nt.set(i,l),l}function Vt(e,t,n){var r,i=null!==(r=Rt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void At.warn(s.join(" "))}Dt(new Ke("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var zt="firebase-heartbeat-database",Wt=1,Ht="firebase-heartbeat-store",Gt=null;function qt(){return Gt||(Gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=gt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(gt(s.result),e.oldVersion,e.newVersion,gt(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(zt,Wt,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ht)}}).catch((function(e){throw Ft.create("idb-open",{originalErrorMessage:e.message})}))),Gt}function Kt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ht).objectStore(Ht).get(Jt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof je?At.warn(e.t0.message):(r=Ft.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),At.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Xt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a,o;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt();case 3:return r=e.sent,i=r.transaction(Ht,"readwrite"),a=i.objectStore(Ht),e.next=8,a.put(n,Jt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof je?At.warn(e.t0.message):(o=Ft.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),At.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Jt(e){return"".concat(e.name,"!").concat(e.options.appId)}var $t=function(){function e(t){var n=this;(0,ye.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new rn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,be.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=en(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=en(),n=tn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ce(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function en(){return(new Date).toISOString().substring(0,10)}function tn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,ge.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),an(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),an(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var nn,rn=function(){function e(t){(0,ye.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,be.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Kt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,R.Z)(r.heartbeats),(0,R.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function an(e){return Ce(JSON.stringify({version:2,heartbeats:e})).length}nn="",Dt(new Ke("platform-logger",(function(e){return new Ct(e)}),"PRIVATE")),Dt(new Ke("heartbeat",(function(e){return new $t(e)}),"PRIVATE")),Vt(Et,Ot,nn),Vt(Et,Ot,"esm2017"),Vt("fire-js","");Vt("firebase","9.21.0","app");var on=n(11752),sn=n(61120);function un(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var cn;Object.create;function ln(){return(0,p.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var fn=ln,dn=new Le("auth","Firebase",ln()),pn=new at("@firebase/auth");function hn(e){if(pn.logLevel<=Je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pn.warn.apply(pn,["Auth (".concat(Bt,"): ").concat(e)].concat(n))}}function vn(e){if(pn.logLevel<=Je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pn.error.apply(pn,["Auth (".concat(Bt,"): ").concat(e)].concat(n))}}function mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xn.apply(void 0,[e].concat(n))}function gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xn.apply(void 0,[e].concat(n))}function yn(e,t,n){var r=Object.assign(Object.assign({},fn()),(0,p.Z)({},t,n));return new Le("auth","Firebase",r).create(t,{appName:e.name})}function bn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mn(e,"argument-error"),yn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,R.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,R.Z)(o)))}return dn.create.apply(dn,[e].concat(n))}function kn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xn.apply(void 0,[t].concat(r))}}function wn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw vn(t),new Error(t)}function _n(e,t){e||wn(t)}function Sn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tn(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function En(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var On=function(){function e(t,n){(0,ye.Z)(this,e),this.shortDelay=t,this.longDelay=n,_n(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())||"object"===typeof navigator&&"ReactNative"===navigator.product}return(0,be.Z)(e,[{key:"get",value:function(){return En()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function An(e,t){_n(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var In=function(){function e(){(0,ye.Z)(this,e)}return(0,be.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Rn=(cn={},(0,p.Z)(cn,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,p.Z)(cn,"MISSING_CUSTOM_TOKEN","internal-error"),(0,p.Z)(cn,"INVALID_IDENTIFIER","invalid-email"),(0,p.Z)(cn,"MISSING_CONTINUE_URI","internal-error"),(0,p.Z)(cn,"INVALID_PASSWORD","wrong-password"),(0,p.Z)(cn,"MISSING_PASSWORD","missing-password"),(0,p.Z)(cn,"EMAIL_EXISTS","email-already-in-use"),(0,p.Z)(cn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,p.Z)(cn,"INVALID_IDP_RESPONSE","invalid-credential"),(0,p.Z)(cn,"INVALID_PENDING_TOKEN","invalid-credential"),(0,p.Z)(cn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,p.Z)(cn,"MISSING_REQ_TYPE","internal-error"),(0,p.Z)(cn,"EMAIL_NOT_FOUND","user-not-found"),(0,p.Z)(cn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,p.Z)(cn,"EXPIRED_OOB_CODE","expired-action-code"),(0,p.Z)(cn,"INVALID_OOB_CODE","invalid-action-code"),(0,p.Z)(cn,"MISSING_OOB_CODE","internal-error"),(0,p.Z)(cn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,p.Z)(cn,"INVALID_ID_TOKEN","invalid-user-token"),(0,p.Z)(cn,"TOKEN_EXPIRED","user-token-expired"),(0,p.Z)(cn,"USER_NOT_FOUND","user-token-expired"),(0,p.Z)(cn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,p.Z)(cn,"INVALID_CODE","invalid-verification-code"),(0,p.Z)(cn,"INVALID_SESSION_INFO","invalid-verification-id"),(0,p.Z)(cn,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,p.Z)(cn,"MISSING_SESSION_INFO","missing-verification-id"),(0,p.Z)(cn,"SESSION_EXPIRED","code-expired"),(0,p.Z)(cn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,p.Z)(cn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,p.Z)(cn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,p.Z)(cn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,p.Z)(cn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,p.Z)(cn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,p.Z)(cn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,p.Z)(cn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,p.Z)(cn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,p.Z)(cn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,p.Z)(cn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,p.Z)(cn,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,p.Z)(cn,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,p.Z)(cn,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,p.Z)(cn,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,p.Z)(cn,"MISSING_CLIENT_TYPE","missing-client-type"),(0,p.Z)(cn,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,p.Z)(cn,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,p.Z)(cn,"INVALID_REQ_TYPE","invalid-req-type"),cn),Nn=new On(3e4,6e4);function Pn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Mn(e,t,n,r){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,J.Z)((0,X.Z)().mark((function e(t,n,r,i){var a,o=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",jn(t,a,(0,J.Z)((0,X.Z)().mark((function e(){var a,o,s,u;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ve(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",In.fetch()(Bn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function jn(e,t,n){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,p,h;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Rn),n),e.prev=2,a=new Un(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Vn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=(0,d.Z)(c,2),f=l[0],p=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Vn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Vn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Vn(t,"user-disabled",s);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw yn(t,h,p);case 34:mn(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof je)){e.next=41;break}throw e.t0;case 41:mn(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Fn(e,t,n,r){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,J.Z)((0,X.Z)().mark((function e(t,n,r,i){var a,o,s=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Mn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&mn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function Bn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?An(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Un=function(){function e(t){var n=this;(0,ye.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(gn(n.auth,"network-request-failed"))}),Nn.get())}))}return(0,be.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=gn(e,t,r);return i.customData._tokenResponse=n,i}function zn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kn(){return Kn=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o,s,u=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=qe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,kn((a=Xn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:qn(Yn(a.auth_time)),issuedAtTime:qn(Yn(a.iat)),expirationTime:qn(Yn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Yn(e){return 1e3*Number(e)}function Xn(e){var t=e.split("."),n=(0,d.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return vn("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ee(i);return o?JSON.parse(o):(vn("Failed to decode base64 JWT payload"),null)}catch(s){return vn("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function Qn(e,t){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof je&&$n(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jn.apply(this,arguments)}function $n(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var er=function(){function e(t){(0,ye.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,be.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,J.Z)((0,X.Z)().mark((function t(){return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),tr=function(){function e(t,n){(0,ye.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,be.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function nr(e){return rr.apply(this,arguments)}function rr(){return(rr=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Qn(t,Hn(r,{idToken:i}));case 6:kn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=un(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=ar(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(){return(ir=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qe(t),e.next=3,nr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ar(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,R.Z)(n),(0,R.Z)(t))}function or(e,t){return sr.apply(this,arguments)}function sr(){return sr=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(t,{},(0,J.Z)((0,X.Z)().mark((function e(){var r,i,a,o,s,u;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Bn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",In.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}var ur=function(){function e(){(0,ye.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,be.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){kn(e.idToken,"internal-error"),kn("undefined"!==typeof e.idToken,"internal-error"),kn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xn(e);return kn(t,"internal-error"),kn("undefined"!==typeof t.exp,"internal-error"),kn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],kn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a,o;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return wn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(kn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(kn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(kn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function cr(e,t){kn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var lr=function(){function e(t){(0,ye.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=un(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,R.Z)(a.providerData):[],this.metadata=new tr(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,be.Z)(e,[{key:"getIdToken",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(kn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ir.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(kn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){kn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,nr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Qn(this,zn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,h=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,x=n.emailVerified,k=n.isAnonymous,w=n.providerData,_=n.stsTokenManager;kn(b&&_,t,"internal-error");var S=ur.fromJSON(this.name,_);kn("string"===typeof b,t,"internal-error"),cr(f,t.name),cr(d,t.name),kn("boolean"===typeof x,t,"internal-error"),kn("boolean"===typeof k,t,"internal-error"),cr(p,t.name),cr(h,t.name),cr(v,t.name),cr(m,t.name),cr(g,t.name),cr(y,t.name);var T=new e({uid:b,auth:t,email:d,emailVerified:x,displayName:f,isAnonymous:k,photoURL:h,phoneNumber:p,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(T.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=(0,J.Z)((0,X.Z)().mark((function t(n,r){var i,a,o,s=arguments;return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ur).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,nr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fr=new Map;function dr(e){_n(e instanceof Function,"Expected a class definition");var t=fr.get(e);return t?(_n(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fr.set(e,t),t)}var pr=function(){function e(){(0,ye.Z)(this,e),this.type="NONE",this.storage={}}return(0,be.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();pr.type="NONE";var hr=pr;function vr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var mr=function(){function e(t,n,r){(0,ye.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=vr(this.userKey,a.apiKey,o),this.fullPersistenceKey=vr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,be.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?lr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,J.Z)((0,X.Z)().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,p,h,v=arguments;return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(dr(hr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||dr(hr),s=vr(i,n.config.apiKey,n.name),u=null,c=(0,ge.Z)(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return p=lr._fromJSON(n,d),f!==o&&(u=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(h=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&h.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=h[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_r(t))return"Blackberry";if(Sr(t))return"Webos";if(br(t))return"Safari";if((t.includes("chrome/")||xr(t))&&!t.includes("edge/"))return"Chrome";if(wr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/firefox\//i.test(e)}function br(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/crios\//i.test(e)}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iemobile/i.test(e)}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/android/i.test(e)}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/blackberry/i.test(e)}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/webos/i.test(e)}function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Cr(){return function(){var e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me();return Tr(e)||wr(e)||Sr(e)||_r(e)||/windows phone/i.test(e)||kr(e)}function Or(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gr(Me());break;case"Worker":t="".concat(gr(Me()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bt,"/").concat(r)}function Ar(e,t){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mn(t,"GET","/v2/recaptchaConfig",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e){return void 0!==e&&void 0!==e.enterprise}var Nr=(0,be.Z)((function e(t){if((0,ye.Z)(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Pr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=gn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Mr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Dr=function(){function e(t){(0,ye.Z)(this,e),this.type="recaptcha-enterprise",this.auth=Br(t)}return(0,be.Z)(e,[{key:"verify",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Rr(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(n,r){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ar(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Nr(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Rr(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Pr("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jr(e,t,n){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){var i,a,o,s,u=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Dr(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Lr.apply(this,arguments)}var Fr=function(){function e(t){(0,ye.Z)(this,e),this.auth=t,this.queue=[]}return(0,be.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=(0,ge.Z)(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=(0,ge.Z)(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zr=function(){function e(t,n,r,i){(0,ye.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new Fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return(0,be.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue((0,J.Z)((0,X.Z)().mark((function r(){var i,a;return(0,X.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,mr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return kn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?qe(t):null)&&kn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r=this,i=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&kn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,J.Z)((0,X.Z)().mark((function n(){return(0,X.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(dr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Nr(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Dr(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Le("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return kn(n=t&&dr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,mr.create(this,[dr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n=this;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return kn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return kn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Or(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r,i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&hn("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Br(e){return qe(e)}var Ur=function(){function e(t){var n=this;(0,ye.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new He(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return(0,be.Z)(e,[{key:"next",get:function(){return kn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Vr(e,t,n){var r=Br(e);kn(r._canInitEmulator,r,"emulator-config-failed"),kn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zr(t),o=function(e){var t=zr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Wr(r.substr(a.length+1))}}var o=r.split(":"),s=(0,d.Z)(o,2);return{host:s[0],port:Wr(s[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Hr=function(){function e(t,n){(0,ye.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,be.Z)(e,[{key:"toJSON",value:function(){return wn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return wn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return wn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return wn("not implemented")}}]),e}();function Gr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:signInWithPassword",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:signInWithEmailLink",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e,t){return $r.apply(this,arguments)}function $r(){return($r=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:signInWithEmailLink",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ei=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,ye.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,be.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,jr(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Kr(t,i));case 11:return e.abrupt("return",Kr(t,r).catch(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(n){var i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,jr(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Kr(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Xr(t,{email:this._email,oobCode:this._password}));case 13:mn(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Gr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Jr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:mn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Hr);function ti(e,t){return ni.apply(this,arguments)}function ni(){return(ni=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:signInWithIdp",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ri=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){var e;return(0,ye.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,be.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ti(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ti(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ve(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=un(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Hr);function ii(e,t){return ai.apply(this,arguments)}function ai(){return(ai=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mn(t,"POST","/v1/accounts:sendVerificationCode",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(){return(oi=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:signInWithPhoneNumber",Pn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(){return(si=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(t,"POST","/v1/accounts:signInWithPhoneNumber",Pn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ui=(0,p.Z)({},"USER_NOT_FOUND","user-not-found");function ci(){return(ci=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Fn(t,"POST","/v1/accounts:signInWithPhoneNumber",Pn(t,r),ui));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var li=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e){var r;return(0,ye.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,be.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return si.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ci.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Hr);var fi=function(){function e(t){var n,r,i,a,o,s;(0,ye.Z)(this,e);var u=ze(We(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);kn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return(0,be.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ze(We(e)).link,n=t?ze(We(t)).deep_link_id:null,r=ze(We(e)).deep_link_id;return(r?ze(We(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var di=function(){function e(){(0,ye.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,be.Z)(e,null,[{key:"credential",value:function(e,t){return ei._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=fi.parseLink(t);return kn(n,"argument-error"),ei._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();di.PROVIDER_ID="password",di.EMAIL_PASSWORD_SIGN_IN_METHOD="password",di.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var pi=function(){function e(t){(0,ye.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,be.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),hi=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){var e;return(0,ye.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,be.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,R.Z)(this.scopes)}}]),n}(pi),vi=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){return(0,ye.Z)(this,n),t.call(this,"facebook.com")}return(0,be.Z)(n,null,[{key:"credential",value:function(e){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(hi);vi.FACEBOOK_SIGN_IN_METHOD="facebook.com",vi.PROVIDER_ID="facebook.com";var mi=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){var e;return(0,ye.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,be.Z)(n,null,[{key:"credential",value:function(e,t){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(hi);mi.GOOGLE_SIGN_IN_METHOD="google.com",mi.PROVIDER_ID="google.com";var gi=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){return(0,ye.Z)(this,n),t.call(this,"github.com")}return(0,be.Z)(n,null,[{key:"credential",value:function(e){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(hi);gi.GITHUB_SIGN_IN_METHOD="github.com",gi.PROVIDER_ID="github.com";var yi=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){return(0,ye.Z)(this,n),t.call(this,"twitter.com")}return(0,be.Z)(n,null,[{key:"credential",value:function(e,t){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(hi);yi.TWITTER_SIGN_IN_METHOD="twitter.com",yi.PROVIDER_ID="twitter.com";var bi=function(){function e(t){(0,ye.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,be.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,J.Z)((0,X.Z)().mark((function t(n,r,i){var a,o,s,u,c=arguments;return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,lr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=xi(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,J.Z)((0,X.Z)().mark((function t(n,r,i){var a;return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=xi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ki=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e,r,i,a){var o,s;return(0,ye.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,P.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,be.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(je);function wi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ki._fromErrorAndOperation(e,n,t,r);throw n}))}function _i(e,t){return Si.apply(this,arguments)}function Si(){return Si=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Qn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",bi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ti(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Qn(t,wi(i,a,n,t),r);case 6:return kn((o=e.sent).idToken,i,"internal-error"),kn(s=Xn(o.idToken),i,"internal-error"),u=s.sub,kn(t.uid===u,i,"user-mismatch"),e.abrupt("return",bi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&mn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ci.apply(this,arguments)}function Ei(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a,o,s=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,wi(t,i,n);case 4:return a=e.sent,e.next=7,bi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Ai(e,t){return Mn(e,"POST","/v2/accounts/mfaEnrollment:start",Pn(e,t))}function Ii(e,t){return Mn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pn(e,t))}new WeakMap;var Ri="__sak",Ni=function(){function e(t,n){(0,ye.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,be.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ri,"1"),this.storage.removeItem(Ri),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Pi=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){var e;return(0,ye.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Me();return br(e)||Tr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Er(),e._shouldAllowMigration=!0,e}return(0,be.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Cr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,r){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,on.Z)((0,sn.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,on.Z)((0,sn.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,on.Z)((0,sn.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ni);Pi.type="LOCAL";var Mi=Pi,Di=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(){return(0,ye.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,be.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ni);Di.type="SESSION";var ji=Di;function Li(e){return Promise.all(e.map(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Fi=function(){function e(t){(0,ye.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,be.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o,s,u,c;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Li(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Zi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Fi.receivers=[];var Bi=function(){function e(t){(0,ye.Z)(this,e),this.target=t,this.handlers=new Set}return(0,be.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Zi("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ui(){return window}function Vi(e){Ui().location.href=e}function zi(){return"undefined"!==typeof Ui().WorkerGlobalScope&&"function"===typeof Ui().importScripts}function Wi(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Gi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var qi="firebaseLocalStorageDb",Ki="firebaseLocalStorage",Yi="fbase_key",Xi=function(){function e(t){(0,ye.Z)(this,e),this.request=t}return(0,be.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Qi(e,t){return e.transaction([Ki],t?"readwrite":"readonly").objectStore(Ki)}function Ji(){var e=indexedDB.deleteDatabase(qi);return new Xi(e).toPromise()}function $i(){var e=indexedDB.open(qi,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ki,{keyPath:Yi})}catch(r){n(r)}})),e.addEventListener("success",(0,J.Z)((0,X.Z)().mark((function n(){var r;return(0,X.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ki)){n.next=12;break}return r.close(),n.next=5,Ji();case 5:return n.t0=t,n.next=8,$i();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ea(e,t,n){return ta.apply(this,arguments)}function ta(){return ta=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){var i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qi(t,!0).put((i={},(0,p.Z)(i,Yi,n),(0,p.Z)(i,"value",r),i)),e.abrupt("return",new Xi(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qi(t,!1).get(n),e.next=3,new Xi(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t){var n=Qi(e,!0).delete(t);return new Xi(n).toPromise()}var aa=function(){function e(){(0,ye.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,be.Z)(e,[{key:"_openDb",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$i();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t=this;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Fi._getInstance(zi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,J.Z)((0,X.Z)().mark((function e(n,r){var i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Gi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$i();case 5:return t=e.sent,e.next=8,ea(t,Ri,"1");case 8:return e.next=10,ia(t,Ri);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r=this;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ea(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return na(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n=this;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ia(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Qi(e,!1).getAll();return new Xi(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,ge.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,J.Z)((0,X.Z)().mark((function t(){return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();aa.type="LOCAL";var oa=aa;function sa(e,t){return Mn(e,"POST","/v2/accounts/mfaSignIn:start",Pn(e,t))}function ua(e,t){return Mn(e,"POST","/v2/accounts/mfaSignIn:finalize",Pn(e,t))}Mr("rcb"),new On(3e4,6e4);var ca="recaptcha";function la(e,t,n){return fa.apply(this,arguments)}function fa(){return(fa=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,kn("string"===typeof a,t,"argument-error"),kn(r.type===ca,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return kn("enroll"===s.type,t,"internal-error"),e.next=13,Ai(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return kn("signin"===s.type,t,"internal-error"),kn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,sa(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ii(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var da=function(){function e(t){(0,ye.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Br(t)}return(0,be.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return la(this.auth,e,qe(t))}}],[{key:"credential",value:function(e,t){return li._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?li._fromTokenResponse(n,r):null}}]),e}();function pa(e,t){return t?dr(t):(kn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}da.PROVIDER_ID="phone",da.PHONE_SIGN_IN_METHOD="phone";var ha=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e){var r;return(0,ye.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,be.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return ti(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ti(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ti(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Hr);function va(e){return Ei(e.auth,new ha(e),e.bypassAuthState)}function ma(e){var t=e.auth,n=e.user;return kn(n,t,"internal-error"),Ti(n,new ha(e),e.bypassAuthState)}function ga(e){return ya.apply(this,arguments)}function ya(){return(ya=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,kn(r=t.user,n,"internal-error"),e.abrupt("return",_i(r,new ha(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ba=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,ye.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,be.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,J.Z)((0,X.Z)().mark((function t(n,r){return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return va;case"linkViaPopup":case"linkViaRedirect":return ga;case"reauthViaPopup":case"reauthViaRedirect":return ma;default:mn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),xa=new On(2e3,1e4);function ka(){return(ka=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){var i,a,o;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Br(t),bn(t,n,pi),a=pa(i,r),o=new wa(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wa=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e,r,i,a,o){var s;return(0,ye.Z)(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,P.Z)(s),s}return(0,be.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return kn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,n=this;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _n(1===this.filter.length,"Popup operations only handle one event"),t=Zi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(gn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(gn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(gn(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,xa.get())}()}}]),n}(ba);wa.currentPopupAction=null;var _a="pendingRedirect",Sa=new Map,Ta=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,ye.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,be.Z)(n,[{key:"execute",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){var t,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sa.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ca(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,(0,on.Z)((0,sn.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Sa.set(this.auth._key(),t);case 21:return this.bypassAuthState||Sa.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",(0,on.Z)((0,sn.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",(0,on.Z)((0,sn.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ba);function Ca(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ia(n),i=Aa(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Oa(e,t){Sa.set(e._key(),t)}function Aa(e){return dr(e._redirectPersistence)}function Ia(e){return vr(_a,e.config.apiKey,e.name)}function Ra(e,t){return Na.apply(this,arguments)}function Na(){return Na=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r,i,a,o,s,u=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Br(t),a=pa(i,n),o=new Ta(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Pa=function(){function e(t){(0,ye.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,be.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Da(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Da(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ma(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ma(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ma(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Da(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ja(e){return La.apply(this,arguments)}function La(){return La=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r=arguments;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Mn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}var Fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Za=/^https?/;function Ba(){return(Ba=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a,o;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ja(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,ge.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ua(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:mn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Ua(e){var t=Sn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Za.test(r))return!1;if(Fa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Va=new On(3e4,6e4);function za(){var e=Ui().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,R.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Wa=null;function Ha(e){return Wa=Wa||function(e){return new Promise((function(t,n){var r,i,a;function o(){za(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){za(),n(gn(e,"network-request-failed"))},timeout:Va.get()})}if(null===(i=null===(r=Ui().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ui().gapi)||void 0===a?void 0:a.load)){var s=Mr("iframefcb");return Ui()[s]=function(){gapi.load?o():n(gn(e,"network-request-failed"))},Pr("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Wa=null,e}))}(e),Wa}var Ga=new On(5e3,15e3),qa="__/auth/iframe",Ka="emulator/auth/iframe",Ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qa(e){var t=e.config;kn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?An(t,Ka):"https://".concat(e.config.authDomain,"/").concat(qa),r={apiKey:t.apiKey,appName:e.name,v:Bt},i=Xa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ve(r).slice(1))}function Ja(e){return $a.apply(this,arguments)}function $a(){return $a=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t);case 2:return n=e.sent,kn(r=Ui().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Qa(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ya,dontclear:!0},(function(e){return new Promise(function(){var n=(0,J.Z)((0,X.Z)().mark((function n(r,i){var a,o,s;return(0,X.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ui().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=gn(t,"network-request-failed"),o=Ui().setTimeout((function(){i(a)}),Ga.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}var eo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},to=function(){function e(t){(0,ye.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,be.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function no(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},eo),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Me().toLowerCase();n&&(s=xr(c)?"_blank":n),yr(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Tr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new to(null);var f=window.open(t||"",s,l);kn(f,e,"popup-blocked");try{f.focus()}catch(p){}return new to(f)}var ro="__/auth/handler",io="emulator/auth/handler",ao=encodeURIComponent("fac");function oo(e,t,n,r,i,a){return so.apply(this,arguments)}function so(){return so=(0,J.Z)((0,X.Z)().mark((function e(t,n,r,i,a,o){var s,u,c,l,f,p,h,v,m,g,y,b,x;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kn(t.config.authDomain,t,"auth-domain-config-required"),kn(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Bt,eventId:a},n instanceof pi)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Ze(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=(0,d.Z)(c[u],2),f=l[0],p=l[1],s[f]=p;for(n instanceof hi&&(h=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=h.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,x=b?"#".concat(ao,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(uo(t),"?").concat(Ve(v).slice(1)).concat(x));case 13:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function uo(e){var t=e.config;return t.emulator?An(t,io):"https://".concat(t.authDomain,"/").concat(ro)}var co="webStorageSupport",lo=function(){function e(){(0,ye.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ji,this._completeRedirectFn=Ra,this._overrideRedirectResult=Oa}return(0,be.Z)(e,[{key:"_openPopup",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n,r,i){var a,o;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _n(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,oo(t,n,r,Sn(),i);case 3:return o=e.sent,e.abrupt("return",no(t,o,Zi()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n,r,i){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,oo(t,n,r,Sn(),i);case 4:return Vi(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(_n(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(t);case 2:return n=e.sent,r=new Pa(t),n.register("authEvent",(function(e){return kn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(co,{type:co},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[co];void 0!==i&&t(!!i),mn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ba.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Er()||br()||Tr()}}]),e}(),fo=lo,po=function(){function e(t){(0,ye.Z)(this,e),this.factorId=t}return(0,be.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return wn("unexpected MultiFactorSessionType")}}}]),e}(),ho=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e){var r;return(0,ye.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,be.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Mn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Mn(e,"POST","/v2/accounts/mfaSignIn:finalize",Pn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(po);(function(){function e(){(0,ye.Z)(this,e)}return(0,be.Z)(e,null,[{key:"assertion",value:function(e){return ho._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var vo=function(){function e(){(0,ye.Z)(this,e)}return(0,be.Z)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return mo._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return mo._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kn("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Mn(i,"POST","/v2/accounts/mfaEnrollment:start",Pn(i,a));case 4:return r=e.sent,e.abrupt("return",go._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();vo.FACTOR_ID="totp";var mo=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e,r,i){var a;return(0,ye.Z)(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return(0,be.Z)(n,[{key:"_finalizeEnroll",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kn("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ii(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kn(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",ua(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(po),go=function(){function e(t,n,r,i,a,o,s){(0,ye.Z)(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return(0,be.Z)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(yo(e)||yo(t))&&(r=!0),r&&(yo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),yo(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function yo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var bo="@firebase/auth",xo="0.23.1",ko=function(){function e(t){(0,ye.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,be.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){kn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var wo,_o=Ne("authIdTokenMaxAge")||300,So=null,To=function(e){return function(){var t=(0,J.Z)((0,X.Z)().mark((function t(n){var r,i,a;return(0,X.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>_o)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,So!==a){t.next=12;break}return t.abrupt("return");case 12:return So=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=Nt.get(e);if(!t&&e===It)return Ut();if(!t)throw Ft.create("no-app",{appName:e});return t}(),t=jt(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=jt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Be(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;mn(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:fo,persistence:[oa,Mi,ji]}),r=Ne("authTokenSyncURL");if(r){var i=To(r);!function(e,t,n){qe(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){qe(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=Ie("auth");return a&&Vr(n,"http://".concat(a)),n}wo="Browser",Dt(new Ke("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;kn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),kn(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:wo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Or(wo)},l=new Zr(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Dt(new Ke("auth-internal",(function(e){return function(e){return new ko(e)}(Br(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(bo,xo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wo)),Vt(bo,xo,"esm2017");var Eo={apiKey:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_DATABASE_URL,storageBucket:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID};function Oo(){var t=(0,e.useState)(null),n=(0,d.Z)(t,2),r=n[0],i=n[1],a=(0,e.useState)(!1),o=(0,d.Z)(a,2),s=o[0],u=o[1],c=(0,e.useCallback)(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var i,a,o;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new window.Headers,e.next=3,r.getIdToken();case 3:return a=e.sent,i.set("Authorization",a),i.set("content-type","application/json"),o={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TOKEN_ENDPOINT||"/token",e.abrupt("return",fetch(o,{method:"POST",headers:i,body:JSON.stringify({user_identity:t,room_name:n,create_conversation:"true"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS})}).then((function(e){return e.json()})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]),l=(0,e.useCallback)(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new window.Headers,e.next=3,r.getIdToken();case 3:return a=e.sent,i.set("Authorization",a),i.set("content-type","application/json"),e.abrupt("return",fetch("/recordingrules",{method:"POST",headers:i,body:JSON.stringify({room_sid:t,rules:n})}).then(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]);(0,e.useEffect)((function(){Ut(Eo),Co().onAuthStateChanged((function(e){i(e),u(!0)}))}),[]);var f=(0,e.useCallback)((function(){var e=new mi;return e.addScope("https://www.googleapis.com/auth/plus.login"),function(e,t,n){return ka.apply(this,arguments)}(Co(),e).then((function(e){i(e.user)}))}),[]),p=(0,e.useCallback)((function(){return Co().signOut().then((function(){i(null)}))}),[]);return{user:r,signIn:f,signOut:p,isAuthReady:s,getToken:c,updateRecordingRules:l}}function Ao(t,n){var r=(0,e.useState)((function(){var e=window.localStorage.getItem(t);return null!==e?JSON.parse(e):n})),i=(0,d.Z)(r,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(a))}),[t,a]),[a,o]}var Io=n(52007),Ro=n.n(Io);function No(e){return"/"===e.charAt(0)}function Po(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Mo=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&No(e),o=t&&No(t),s=a||o;if(e&&No(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?Po(i,l):".."===f?(Po(i,l),c++):c&&(Po(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&No(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function Do(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var jo=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=Do(t),i=Do(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},Lo=!0,Fo="Invariant failed";function Zo(e,t){if(!e){if(Lo)throw new Error(Fo);var n="function"===typeof t?t():t,r=n?"".concat(Fo,": ").concat(n):Fo;throw new Error(r)}}function Bo(e){return"/"===e.charAt(0)?e:"/"+e}function Uo(e){return"/"===e.charAt(0)?e.substr(1):e}function Vo(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function zo(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Wo(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Ho(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=(0,r.Z)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Mo(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function Go(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var qo=!("undefined"===typeof window||!window.document||!window.document.createElement);function Ko(e,t){t(window.confirm(e))}var Yo="popstate",Xo="hashchange";function Qo(){try{return window.history.state||{}}catch(e){return{}}}function Jo(e){void 0===e&&(e={}),qo||Zo(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,c=void 0===u?Ko:u,l=a.keyLength,f=void 0===l?6:l,d=e.basename?zo(Bo(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return d&&(a=Vo(a,d)),Ho(a,r,n)}function h(){return Math.random().toString(36).substr(2,f)}var v=Go();function m(e){(0,r.Z)(O,e),O.length=t.length,v.notifyListeners(O.location,O.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||x(p(e.state))}function y(){x(p(Qo()))}var b=!1;function x(e){if(b)b=!1,m();else{v.confirmTransitionTo(e,"POP",c,(function(t){t?m({action:"POP",location:e}):function(e){var t=O.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,S(i))}(e)}))}}var k=p(Qo()),w=[k.key];function _(e){return d+Wo(e)}function S(e){t.go(e)}var T=0;function C(e){1===(T+=e)&&1===e?(window.addEventListener(Yo,g),i&&window.addEventListener(Xo,y)):0===T&&(window.removeEventListener(Yo,g),i&&window.removeEventListener(Xo,y))}var E=!1;var O={length:t.length,action:"POP",location:k,createHref:_,push:function(e,r){var i="PUSH",a=Ho(e,r,h(),O.location);v.confirmTransitionTo(a,i,c,(function(e){if(e){var r=_(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=w.indexOf(O.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=Ho(e,r,h(),O.location);v.confirmTransitionTo(a,i,c,(function(e){if(e){var r=_(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=w.indexOf(O.location.key);-1!==c&&(w[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return E||(C(1),E=!0),function(){return E&&(E=!1,C(-1)),t()}},listen:function(e){var t=v.appendListener(e);return C(1),function(){C(-1),t()}}};return O}var $o="hashchange",es={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Uo(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Uo,decodePath:Bo},slash:{encodePath:Bo,decodePath:Bo}};function ts(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function ns(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function rs(e){window.location.replace(ts(window.location.href)+"#"+e)}function is(e){void 0===e&&{},qo||Zo(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?Ko:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?zo(Bo(e.basename)):"",c=es[s],l=c.encodePath,f=c.decodePath;function d(){var e=f(ns());return u&&Vo(e,u),Ho(e)}var p=Go();function h(e){(0,r.Z)(C,e),C.length=t.length,p.notifyListeners(C.location,C.action)}var v=!1,m=null;function g(){var e,t,n=ns(),r=l(n);if(n!==r)rs(r);else{var i=d(),o=C.location;if(!v&&(i,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===Wo(i))return;null,function(e){if(v)!1,h();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?h({action:t,location:e}):function(e){var t=C.location,n=k.lastIndexOf(Wo(t));-1===n&&0;var r=k.lastIndexOf(Wo(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(i)}}var y=ns(),b=l(y);y!==b&&rs(b);var x=d(),k=[Wo(x)];function w(e){t.go(e)}var _=0;function S(e){1===(_+=e)&&1===e?window.addEventListener($o,g):0===_&&window.removeEventListener($o,g)}var T=!1;var C={length:t.length,action:"POP",location:x,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&ts(window.location.href),n+"#"+l(u+Wo(e))},push:function(e,t){var n="PUSH",r=Ho(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Wo(r),i=l(u+t);if(ns()!==i){t,function(e){window.location.hash=e}(i);var a=k.lastIndexOf(Wo(C.location)),o=k.slice(0,a+1);o.push(t),o,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=Ho(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Wo(r),i=l(u+t);ns()!==i&&(t,rs(i));var a=k.indexOf(Wo(C.location));-1!==a&&(k[a]=t),h({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return T||(S(1),!0),function(){return T&&(!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return C}function as(e,t,n){return Math.min(Math.max(e,t),n)}var os=n(53813),ss=n.n(os),us=(n(28228),1073741823),cs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var ls=e.createContext||function(t,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return cs[e]=(cs[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,M.Z)(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?t=0:(t="function"===typeof n?n(r,i):us,0!==(t|=0)&&this.emitter.set(e.value,t))}var a,o},r.render=function(){return this.props.children},t}(e.Component);o.childContextTypes=((r={})[a]=Ro().object.isRequired,r);var s=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}(0,M.Z)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?us:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?us:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(e.Component);return s.contextTypes=((i={})[a]=Ro().object,i),{Provider:o,Consumer:s}},fs=function(e){var t=ls();return t.displayName=e,t},ds=fs("Router-History"),ps=fs("Router"),hs=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}(0,M.Z)(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(ps.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(ds.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var vs=function(e){function t(){return e.apply(this,arguments)||this}(0,M.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);var ms={},gs=1e4,ys=0;function bs(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ms[e])return ms[e];var t=ss().compile(e);return ys<gs&&(ms[e]=t,ys++),t}(e)(t,{pretty:!0})}function xs(t){var n=t.computedMatch,i=t.to,a=t.push,o=void 0!==a&&a;return e.createElement(ps.Consumer,null,(function(t){t||Zo(!1);var a=t.history,s=t.staticContext,u=o?a.push:a.replace,c=Ho(n?"string"===typeof i?bs(i,n.params):(0,r.Z)({},i,{pathname:bs(i.pathname,n.params)}):i);return s?(u(c),null):e.createElement(vs,{onMount:function(){u(c)},onUpdate:function(e,t){var n,i,a=Ho(t.to);n=a,i=(0,r.Z)({},c,{key:a.key}),n.pathname===i.pathname&&n.search===i.search&&n.hash===i.hash&&n.key===i.key&&jo(n.state,i.state)||u(c)},to:i})}))}var ks={},ws=1e4,_s=0;function Ss(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ks[n]||(ks[n]={});if(r[e])return r[e];var i=[],a={regexp:ss()(e,i,t),keys:i};return _s<ws&&(r[e]=a,_s++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Ts=function(t){function n(){return t.apply(this,arguments)||this}return(0,M.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(ps.Consumer,null,(function(n){n||Zo(!1);var i=t.props.location||n.location,a=t.props.computedMatch?t.props.computedMatch:t.props.path?Ss(i.pathname,t.props):n.match,o=(0,r.Z)({},n,{location:i,match:a}),s=t.props,u=s.children,c=s.component,l=s.render;return Array.isArray(u)&&function(t){return 0===e.Children.count(t)}(u)&&(u=null),e.createElement(ps.Provider,{value:o},o.match?u?"function"===typeof u?u(o):u:c?e.createElement(c,o):l?l(o):null:"function"===typeof u?u(o):null)}))},n}(e.Component);function Cs(e){return"/"===e.charAt(0)?e:"/"+e}function Es(e,t){if(!e)return t;var n=Cs(e);return 0!==t.pathname.indexOf(n)?t:(0,r.Z)({},t,{pathname:t.pathname.substr(n.length)})}function Os(e){return"string"===typeof e?e:Wo(e)}function As(e){return function(){Zo(!1)}}function Is(){}e.Component;var Rs=function(t){function n(){return t.apply(this,arguments)||this}return(0,M.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(ps.Consumer,null,(function(n){n||Zo(!1);var i,a,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==a&&e.isValidElement(t)){i=t;var s=t.props.path||t.props.from;a=s?Ss(o.pathname,(0,r.Z)({},t.props,{path:s})):n.match}})),a?e.cloneElement(i,{location:o,computedMatch:a}):null}))},n}(e.Component);var Ns=e.useContext;function Ps(){return Ns(ds)}function Ms(){return Ns(ps).location}var Ds={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TOKEN_ENDPOINT||"/token";function js(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"true"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS;return fetch(Ds,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_identity:e,room_name:t,passcode:n,create_room:r,create_conversation:i})})}function Ls(e){return js("temp-name","temp-room",e,!1,!1).then(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,401!==t.status){e.next=5;break}return e.abrupt("return",{isValid:!1,error:null===(r=n.error)||void 0===r?void 0:r.message});case 5:if(!t.ok||!n.token){e.next=7;break}return e.abrupt("return",{isValid:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function Fs(e){switch(e){case"passcode incorrect":return"Passcode is incorrect";case"passcode expired":return"Passcode has expired";default:return e}}function Zs(){var t=Ps(),n=(0,e.useState)(null),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(!1),s=(0,d.Z)(o,2),u=s[0],c=s[1],l=(0,e.useCallback)((function(e,t){return js(e,t,i.passcode).then(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:throw r=e.sent,i=Fs((null===(n=r.error)||void 0===n?void 0:n.message)||t.statusText),Error(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.json()}))}),[i]),f=(0,e.useCallback)(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/recordingrules",{headers:{"Content-Type":"application/json"},body:JSON.stringify({room_sid:t,rules:n,passcode:null===i||void 0===i?void 0:i.passcode}),method:"POST"}).then(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);(0,e.useEffect)((function(){var e=function(){var e=window.location.search.match(/passcode=(.*)&?/);return e?e[1]:window.sessionStorage.getItem("passcode")}();e?Ls(e).then((function(n){null!==n&&void 0!==n&&n.isValid&&(a({passcode:e}),window.sessionStorage.setItem("passcode",e),t.replace(window.location.pathname))})).then((function(){return c(!0)})):c(!0)}),[t]);var p=(0,e.useCallback)((function(e){return Ls(e).then((function(t){if(null===t||void 0===t||!t.isValid)throw new Error(Fs(null===t||void 0===t?void 0:t.error));a({passcode:e}),window.sessionStorage.setItem("passcode",e)}))}),[]),h=(0,e.useCallback)((function(){return a(null),window.sessionStorage.removeItem("passcode"),Promise.resolve()}),[]);return{user:i,isAuthReady:u,getToken:l,signIn:p,signOut:h,updateRecordingRules:f}}var Bs=n(80184),Us=(0,e.createContext)(null);function Vs(){return(Vs=(0,J.Z)((0,X.Z)().mark((function e(){var t,n,r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(window.location.href),n=t.searchParams.get("token"),r=-1!==t.origin.indexOf("localhost")?"http://localhost:3600":t.origin,i=r+"/api/confroom/?token="+n,e.next=6,fetch(i);case 6:return a=e.sent,e.abrupt("return",a.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(t){var n=(0,e.useState)(null),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(!1),s=(0,d.Z)(o,2),u=s[0],c=s[1],l=Ao("gallery-view-active-key",!0),f=(0,d.Z)(l,2),p=f[0],h=f[1],v=function(){var t=me().audioOutputDevices,n=(0,e.useState)("default"),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=(0,e.useCallback)((function(e){window.localStorage.setItem(ie,e),a(e)}),[]);return(0,e.useEffect)((function(){var e=window.localStorage.getItem(ie);t.some((function(t){return e&&t.deviceId===e}))&&a(e)}),[t]),[i,o]}(),m=(0,d.Z)(v,2),g=m[0],y=m[1],b=(0,e.useReducer)(te,$),x=(0,d.Z)(b,2),k=x[0],w=x[1],_=(0,e.useState)(),S=(0,d.Z)(_,2),T=S[0],C=S[1];(0,e.useEffect)((function(){(function(){return Vs.apply(this,arguments)})().then((function(e){e.success?(C(e.data),document.getElementsByTagName("TITLE")[0].innerHTML=e.data.client_name+" - Video Conference App"):C(e)}))}),[]);var E=(0,e.useState)(),O=(0,d.Z)(E,2),A=O[0],I=O[1],R=Ao("max-gallery-participants-key",6),N=(0,d.Z)(R,2),P=N[0],M=N[1],D=(0,e.useState)(!1),j=(0,d.Z)(D,2),L=j[0],F=j[1],Z=(0,e.useState)(!1),B=(0,d.Z)(Z,2),U=B[0],V=B[1],z={error:i,setError:a,isFetching:u,activeSinkId:g,setActiveSinkId:y,settings:k,dispatchSetting:w,roomInfo:T,roomType:A,isGalleryViewActive:p,setIsGalleryViewActive:h,maxGalleryViewParticipants:P,setMaxGalleryViewParticipants:M,isKrispEnabled:L,setIsKrispEnabled:F,isKrispInstalled:U,setIsKrispInstalled:V};z="firebase"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH?(0,Q.Z)((0,Q.Z)({},z),Oo()):"passcode"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH?(0,Q.Z)((0,Q.Z)({},z),Zs()):(0,Q.Z)((0,Q.Z)({},z),{},{getToken:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n){var r;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getToken",t,n),r="/api/twilio","localhost"===window.location.hostname&&(r="http://localhost:3600/api/twilio"),e.abrupt("return",fetch(r,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_identity:t,room_name:n,create_conversation:"true"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS})}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateRecordingRules:function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t,n,r){var i;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateRecordingRules",t,n,r),i="/api/recordingrules","localhost"===window.location.hostname&&(i="http://localhost:3600/api/recordingrules"),console.log("endpoint:",i),e.abrupt("return",fetch(i,{headers:{"Content-Type":"application/json"},body:JSON.stringify({room_sid:t,rules:n,client_id:r}),method:"POST"}).then(function(){var e=(0,J.Z)((0,X.Z)().mark((function e(t){var n,r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,console.log("jsonResponse",n),t.ok){e.next=8;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()});return(0,Bs.jsx)(Us.Provider,{value:(0,Q.Z)((0,Q.Z)({},z),{},{getToken:function(e,t){return c(!0),z.getToken(e,t).then((function(e){return I(e.room_type),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},updateRecordingRules:function(e,t,n){return c(!0),z.updateRecordingRules(e,t,n).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))}}),children:t.children})}function Ws(){var t=(0,e.useContext)(Us);if(!t)throw new Error("useAppState must be used within the AppStateProvider");return t}var Hs=(0,e.createContext)(null);function Gs(){var t=(0,e.useContext)(Hs),n=(0,d.Z)(t,2);return[n[0],n[1]]}function qs(t){var n=t.room,r=t.children,i=Ws().isGalleryViewActive,a=(0,e.useState)(null),o=(0,d.Z)(a,2),s=o[0],u=o[1];return(0,e.useEffect)((function(){i&&u(null)}),[i]),(0,e.useEffect)((function(){if(n){var e=function(){return u(null)},t=function(e){return u((function(t){return t===e?null:t}))};return n.on("disconnected",e),n.on("participantDisconnected",t),function(){n.off("disconnected",e),n.off("participantDisconnected",t)}}}),[n]),(0,Bs.jsx)(Hs.Provider,{value:[s,function(e){return u((function(t){return t===e?null:e}))}],children:r})}function Ks(){var t=ku(),n=t.room,r=t.localTracks,i=t.getLocalVideoTrack,a=t.removeLocalVideoTrack,o=t.onError,s=null===n||void 0===n?void 0:n.localParticipant,u=r.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),c=(0,e.useState)(!1),l=(0,d.Z)(c,2),f=l[0],p=l[1],h=(0,e.useCallback)((function(){if(!f)if(u){var e=null===s||void 0===s?void 0:s.unpublishTrack(u);null===s||void 0===s||s.emit("trackUnpublished",e),a()}else p(!0),i().then((function(e){return null===s||void 0===s?void 0:s.publishTrack(e,{priority:"low"})})).catch(o).finally((function(){p(!1)}))}),[u,s,i,f,o,a]);return[!!u,h]}function Ys(){var t=ku().room,n=Ks(),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=(0,e.useRef)(!1);return(0,e.useEffect)((function(){if(t&&le){var e=function(){"hidden"===document.visibilityState&&i?(o.current=!0,a()):o.current&&(o.current=!1,a())};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}}),[i,t,a]),null}var Xs,Qs,Js=n(29660),$s=n.p+"static/media/Abstract.bf969afca331e21b140d.jpg",eu=n.p+"static/media/BohoHome.818cfc89cb7167d21951.jpg",tu=n.p+"static/media/BohoHome.94b66110ce80612bc57e.jpg",nu=n.p+"static/media/Bookshelf.15f8b4304faf2043e21d.jpg",ru=n.p+"static/media/Bookshelf.1791e55a43e46dcebf10.jpg",iu=n.p+"static/media/CoffeeShop.9db4d4d3cef4a2a751b0.jpg",au=n.p+"static/media/CoffeeShop.0bc87a8a29fb60864759.jpg",ou=n.p+"static/media/Contemporary.a1dba84b2c559086477f.jpg",su=n.p+"static/media/Contemporary.cf81b0403bccc42b006d.jpg",uu=n.p+"static/media/CozyHome.060c2b098dcbba6b290c.jpg",cu=["data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAwQBAgUABv/EADYQAAICAQMDAwIEBQMFAQEAAAECAAMRBBIhBTFBEyJRYXEUMoGRBiNCocFSsdEVM2Jy4STw/8QAGgEAAgMBAQAAAAAAAAAAAAAAAwQBAgUABv/EACcRAAICAgICAQUBAAMAAAAAAAECABEDIQQSMUEiBRMyUWEUcZGx/9oADAMBAAIRAxEAPwD1lVRsJA8dzNEKFrCqPywGhXCvnvkCMsJfI26gOPj+NxO6pclk4PlfiH0jA0gDuCZFihjnyPMtWypUpxyMgyGyAJLY8J+7qXdjjHHJ7xe1B/TzzJtYkj6QgXaoA7952PQudlHclf1BejhMtwZUIYWwkKc8wQY4hVa4rlxhBqRjEkSQC3YEztpB5BEJASQJ0txgysidOnScThjHedOnYnSNw+ZPccSCaEui9jUlfM44x7u0lDzgyWRW7jtF8j2Cq1f9j+HAVp2uh+pRcFTg5xJxICBBhRgSZfArKgDGL8l1dyyirnTp06Gi0idiTOnTp2JEmdidOkY4zIlyCRiT6Z+s65IUnxBzsSSJ2J0icq7jiM1jCbexgEyM47y9bknmAyGPcYAb9y7MBmDNnjkmQ7EOZQhj9BJCD3IfMRYE52JQ85PAMGF8xhK12bs5B4IlCqr3Mt3A1KfaZvkZOkVlDhu8K3Esq7Rk8fSQzKwMUdu00MadBUAWyZRidpUHGZVzhv1htMq2WjeMgDOJAployTatYgFZuVPcRmoO4Zm8jiGe3BwowPpKi0yUYKAp3K5MbMxcauV2A/n/AGlAo5yFwPpCAIzEk8RTVNh/5ZIGI2pHqZ+UNW4yLQowAAIN7NwMCgLp35khSODCxSyZZXycYlpTOCoHzLbp04GcWwyj5lWPJlhkrkYxIC73APA8yCQBZkhSxoe5SuprSTnao7mF9WmkYGT9SYvqtWK12pwOwESV3sbvE+75wSviagTFw6D7aaq3VP2EuGVhgHP3mfUjq4Awc8YjIrtXO4A47EGBYFDcbRhkFejDHk4ltgX85x9BAJaSQCJewEjIIwZD8tiKxDcqnBQMWynUKVQrlZScpKriSOY5g79LfzM/lfa71j8SJHaWMop4JMPE5I5kyFO48Sw44nSRuWXjgd5YsqfUyDhFOO5lNvzyYLzGgSooSS24kyD25nAZlgoYTiQJKKWlO3IllOBmds+Jx/LIsMJYBsZIliAx5lL+NoHYCWXkZMHa2T9pyXc7L16WPJg8n5lTJkQ0RsxpnDZGMfXMqAGH5sQakgngHMGzEMRMLv7M9R09CTanu75lk3eoNnjuZygFOTyZfeEUKO0dxUREstg6liTz7h+kqDnvKNZtcCUNmWl6UHQguzkbMPvwYvcu7nMtu4i/qnawhEJuAygVRhg4X9JBfngxKm1rGI+YasWADcOceDGRUzbJ8RlLCQciSWB8QQbC4xiCe7aZYCULV5jIdQuN0gXqjHzxEbbtw9vJ+JevT22DdYdg+PMhgCKMlHYN2X1F9ZqMvkAc8SiakVrhOT5PzHGo04/ON5H+owF7Uop2KqzlQKKEnJlbIxdjuX0N5t1yqXC4558/SbDe78pxPHX6vZYrIxDK3cTd0XU/xOnG/hx58GZ3LKqdzb+nFmSaWxSfcwB+kv6aMv5jxM19Rhsw9F5Yd4gmWmsCaj4wy0TCXE14xOSzPY5lnX1CpBGPMha1UnHE2sT2u553kY6yfHcl2wYFlLg7XIInWvhwG4BlRaMnEMP5FGBujDUZC+4YMtvwe0DvwB+8s7jmcRc4GhCF+Qc95dm9x+0XLDz4hgm5QwB3Sp1DISwIlvA/vLAHHbxA5YEbsiEFmSfmCYajWNqMIp55nFc9pBbn9JwPEEDUZI7eZDe0QDHMZPI5BMr6YZfy4MIrgeYtlxM3iL4lgqgZOTC+jx2J/WVNXPuBHxmWLiDXAR6uDI85lCQOTzKCzI+0DbbzjMybAFiblEmF9Uk/En1QDzFvWUHvKtcG4B5hMbQTiPC1TzkS+5VGWA5+RFdPWQxZxwB5gX1Pq3nHYRlbMVchBcdYqRxxAGr3E7v7TkfIl9y4zn9Y2qgTMfKzxQUtVuPfJ8SwLnk5xDlhjgyjvuXAODLdQTcF36ioF7tveXrdLMBgDmLsodz6jHPxLqK07HJ+TLgQDPcMQunO8Acf2ladX62Rk/f5lbLldCDzmJ23GvG1gvPGZPW5AzFBQjliCxTlhn57TN1PTrmOa7jj4MYGoFnJ4PkZlWsC857zgCJVyrzEv01lNn83PJ8zZo1ATTYHA4EpqVF2nYEZJESrv39I3j8yEZ/2iHMQFCZs/TcnVggmutpOMGOaZTY4XOB5mFpNaCByOO819LrFH0M88WHbZ1PThdTWACr9BAW6gKuR84la9SGPeU1NReo+nz9Pian+r7uIqPPqZg4gw5e969w1TrcNrnIPgxRydHqHRiSvgwNdGuVxtqOPqRHLtPZY6vtywGDzGOEcvh1qK88YSvZW3/Jaqs2MMnAAhWpRHDFi3wDA1pcp/I37S9wtKDYjEzTmIP8AiXrC+sWyD9PiMi4GZukWxdz3KVcnhSfEYfON6/qIBruPYSAsYa0E7cZzLejWeVzn7xJ7lTZknLQqWMBnORBkmHQAncYCrk55ltwHbAgEsyCfMsriCuMAQhZh5nCzPfiV357SmCzcD95Qt+pdR+4Ukk8HiDsyckE4HiXCEDOcn4gFswDnzIuvMtV+Jnert4ieosbLuD7VHPEugL8twIr1LVBU9CsjPdv+ImNjcOdGcuo5l9LrUr1WXVmHjHiJ1Vvb7mO1B5hKlFjFaFzju5kK5vU4rrc0tZ1atKSqZyYrRYfRDfPJgreneohyzbvGO0DVaV3UuMMvGI7iJuzM7kVWpqJqVxljgHx8zrM2LkW9+3xMm6xt/wDLySowMSNPqrVrAsBDDiPqQZj5GKmjNIuaTj1CYXT2G5jxwO5gq9DZYA92VHhR3Merq9KvCgA+B8f/AGFECLJ34i/UttWiss8oN085f1S7aPTOMnGB3m51Nl/A+mx3ZYK3/EU0fS0q1BuAyCPYD/T8wqkAbiedWyZKU0PcyWPUrnVQty7vJyABHNPpfTc7yXYd2abNjbKs/WLko+dyj7iDbNWjD4+BrsNxXVXiqnhQRFtJ1B7rhUa9yntNdem1aqo+qDtPbBwYerQiilUqsB2DAJX/AIlwwqDbBk72DqLpS44AJx5MpT0YIbPdhLM5T7yms19uhybdmB5zDaLqtWrrBRxz4g2UMNxvFl6NSnczbv4f1On509gsX47GTpxq/TdlrJNRwy/1D9Jui4AfSL3OFt9as7X7H6j4MyOR9NxuLSb3G+qZAeuT/uJ6TqW44wQR8zXovLICfMR9OnXn2AJb5wI09FtKe1SVA7gQH0/j/bysX9eI19SzF8ICe/MYfUlR3nJqifMyX1LPcFzjHeG9XaPacz0AnliZqDU894v1Dqy6Slfdyxxn/EXp1Kk894DqFldmooUhWKHfz4MhiFl1DOCAYwmtsLAkEgn943+JAqw3duwgNO49QAgYxA9dBo0a30sUy21sePtAE3GkUqDDPq6KCGtYM4/KPP6CW02sZzlhjJ7Tz2nsRTuZizHuSeTNWm1VGB+sozACofErMewM2Ecc4kbiB8xFL8Anx2EoNS3pcHnBH7RUC73HmfqRqai2Y7wq2/WYI1TWKAxOT9ZpU2Myjd3gX+PuGxN39R9bIHUDL5Xz3kBjxJcEjjyZBNrUIBTTHbcx2p3+Ynd0/wBJ/UsfKnv8kx1LVXO7j6xbV3i4gAe1efvFMY1Zhn/Qi53amwU1jag7/QTTopSqsKi4UeYpS6U0s5HA5gqNXZq0DOeG7AdhzCqwU/2DYEj+TRdwRhOfrFX03q2kvWCyjI+sugsyQCApHxHNPlj78bgO4hwTAlQdRajT0L71rGT5Mbqqrdgdq8cjiVt068sOD9ICuyyl8jBHxCY8hvcFlwjqaj+eMBeYprb2oAAUnd3Ih9NrKdXWXpcHacMPKn4IldQFapg3PE01YGYWTGaNTNazT6ikg+TnDHHMZ0i7tJ5zyOfmZeoTaDt4JM0enbhocN35xCHxE8RvJREwOvdVei9Ur4RBy2e7fEzum9R1+r1tatbtrdwuNg7S38UgVdRZH4qIFn7/AP2A6BdZfqfXsUoK2BrT6SvrYkEt3NGe/VwiYA4A7TvUBPjmC3e3jyOJTcVPMgmjHFUkGY3WunnqXVErscrp61ywXux/wI1TVTQgrrVVCjjAgtfYwvLDz8wWns9Q5Hcnbz5gMjUCTGuPjBYUNxpGtLN6Su/0UZjnT+mX65y1yvTTnncME/aamhrSkilO6jn7/M0N21Yj/oKjRmwOKjnYg6tLRpQBVWqgDGQOf3lbLAeMyLHJHBiV9grDOx/KMxP/AEHtHjhHWotrtKupUsmEu8N8zzj622qxqnUq6nBBnoqtQLVmb1XTLq8X0gF1O1vqPma/Fzh9Tz31HikDuvmK1aj01LMe8X/FNd1EfGOJr6ToKXaYfindWPhSOIvqemroNQiHDDur45jOTcQ44K+RH6nxtx37TI/ijquWTRVtynvsPwfAh9R1Fem9Ot1VmCV4QfJ8CeU0/qay1r7SSWbJJ8mAuo2R20I9oHJtycn4m9pktYZ2nHzM3R7Kf6eZq0aksOMyPtFtkyV5Ix/FRD5Y4Xt4jlvTW4ZWIHxj6YiZsyRmbWl1S2VDPDDuIuydNR/E4yi5kUadaMDO9h3MfpMcKU25DKPvFbqDSCVOV8GIurA9ruPoVrqBUOG5lmb2gCJ12e7J8CHRgxGTIXJYlilTCtu4/WUDHOcAxzVdPQV5UkH7zMZnofD8DwYsofEfl4hCVcajpCvp2DDg95Og0+2hQBxjEXWz1iK1PfvNWgEABR2jCUx7QTWBUstWV7RjT17T7vtLKAq5cgSRYD+WMQUs+nPOIrqUSqos5Cjt+vxG0tsCkEcDtmY/Ww9qKST7TwPrIBANSHB6kzz7s9er1OxmrsFhJwcdzC9G1upt1betdZYC5RUZicCOX0JqtMNSoxYR7vqYrpFNOoWxR2IM0cTArU8/yMTK/b1NZtMXaNVqETAHA4h0CWJvQggyNn7RntYgFxdWsTyf8Y1KdRpHYcEMD+/H+YnRZVXUCDgDz5m71qivqAathlQMA/5nmun6F1ssrcZ2yA1ioPJi6ZO/m567pupGo0CMGDFeMwl1vvAER6Tpl0Oga6+wViw4UHzzLX2qmWMHonzHFJCbHmZ/W9Qa7AFzyM8Q3T6m9eh7cqWdcL8feRTQmtv/ABN3/Z0/j/U3gfpD6S31upVsQQBl/sJm8zOFPUTY4GAle5E9Joj/APtufxtAhruoaep9llqq3wTFdO+yp2PBJmfqOnvr6WuVsMWypmY+SqWa6r7j13VFYgacb+e/iKa6wnT7XPusIPHwITS6MaavLnJ+YjdqfVuLE+3so+kJhx92s+IPK/VZSsCg7q3OfKnzJ0TtbqGAXCA8/eKaqzYQa+RnBEd6cLApbOB8Tawog2oqYnJyP+JNzYrU47xLrdR/CLYO9bf78f8AEutzg9xG0IupZXAII7RkkRIITYE8p1HQHqa0abbYy1+87B57cxvpnQXoJW6tBXgbQcZmqNSiICzhF+uBLJrKD2uU/Y5k0IEC/Jgf+h6UqcIV+zGI6rSvoHG07q2OA3x95tLqEYe05i+uUXaK0f8AiSPuJFS58fGJ1t6i5MPXaKyJmaXUZr7+I9Sw9PcfMhsYYSMWc4z/AGaVDm1srz8x9a9yFXwQZmdLYN6uODkcTTRpmFQjEGb6MciBom2iZP6x+0lFCnB7iN2NjB/SL3qOGEXfGq7WMKxOjFNacbV+eZl63Smyhmr/ADDnHzNDXMfxJHgASKxuEqaclTIHxozO6fQV9zd5sUkAQP4Mg7k4+ksK7AuAMZnLaCqnGmNxj1U/KfcfiEFm1fYgEHp6FXGe5jY2AYUnP2hFJMoRUHW/uAscAt8nzB63TrYgXvg5ljp82+q3AHPMVu19x1QooQAEgBiM7s/4hVxlxqBfMuL8vcEul2IwxwTMyykafWsnZWG4Z/vPSisjCtySO4nk/wCLNYadbSmnG5qwS+Pr4/tL8ZX71F+e+NMJdpe/Vvp7FZHZApySp7j4g36vbqLFrV2bnP6D6TDPUdW45pI+81P4dqN+r3XABiMYmiQRuYSZxkPVTNOu31KzZjHxO0/TxUj22Dl+AIeypa7lrQcJ3Eav2rSi59/x8CLcljjwsw8zR4qjNnVWGhMfX0Xau5T2UABQOwEX1Oi1N7V1A7c/mf4E37ECoti907/UQFtnqHPb7Tzycl8WQvfmelfjJkQJWhEvwwSmrT1KxrU4VfLn5M3ND0+rTe/aDYRgtFtKoa8N32iaIsAEqjdiXbzC9eo6jxK21I6sCMZGOIHSWLpw1BPGcpn/AGhXsB7TN1TkEn9pV26nsJYCxUr/ABDqrKOkal6T79hCkeCfM8t0vri6zSFLCBfVw6/5mtrOpK6tXbkEefBnm+nfw0df1x9VVeadOvDhR+c/A+kY4WQvk6rA8kKmIs8169SNTYFXnJE9Dpq8VDwItoujaTRAemucfJyf3jNjNjCgceDPR9Sq0J5rurvZ8Q/sXgcn6Rihv5TMO2DM6k2lv5mAPgDOY8rbqyoG1cQSk9qjT0FLTG6tobbdGqVgkEHt3Bgum6Yqo3ZB+s9FsAQAxPU1JXaGLBS/1jg1cxyoNE+pausYguo3ijp9xJGdhx+0sACv/dH7xLqGmS+o1m3cT2AMkAE7lXcqp6ieZ6dqLG05tdiAeB+k9MhIaqvwEyYg2i/DVV1VkKq4HbJM08Aup+OJZtCL4QbIMa6e3pOT/q7zVrYEZEyNNwTmP1MR2nn8pKuQZ7HCAcYI/UdYepWR5ibsdhUxiuyRbWrAnHMj8xYl/wATuZ+vTFquBwwxKafO7mP6in1qSo4PcfeL0Vgrz3giCr3+5YfJYdCDCbN0hFVQMsIdGqA5dY0ilhoQDOq+TB11FW+RCfiawcBP1kW6hQu2vJPyYrHcWAVbCZvI5ZBrGYLqN1ty+ljYjd8eZnujEqQSCvY55mo670+0B6OfEYVQNCZ+Qs57ExK2zU2Lhr7CP/aZ9mjBySJuCj6Qb6b6S4oeIB0L/luedbR5eEFTUkOpKsvYiar6Q7uB3jNXS0dc2k/YcQeXMuMfKW43CfKx6CZWj1jvqVFuGLMOfM0GBe8ue5jFfStNVYHVTuHbJjIqrAxiYfNzDPSqdCen+ncVuMCX2TFk9yc9opZ7bm44mn6JYYUZnDpqMCXJLfSZjYmYamsHA8zO09oR2zxkQv4ocgHmEt6eiHKkgj+8XOhUZYsT9O0H1ddS9qdwqOSMk5iWvu2Dgyj6hg+ysHOcYEZboramn+dcwb/wHacqtl0sqxCbaeP1uuq1V11Y9rocGOfwzbqU0NyJUzlbDz2B4ER1/wDCfUKP4gUUfzE1D+2wDgfIb9J7nS9E/B6autCFCLgDGf1M1OJjOF7inKZcmPqNzEfqPUKD/N0DFflLAZ3/AFwL/wBzS6n7bBNPqFd+nXdYuVH9Q5H/AMiVbraeVwZr9wR5mN9sqdf+SaOuV2HCaK8/cgf5jv47ULV6iaPCDlsvkj9JGn0gJycfoJpVUqEOe2O0qrgHUs2NmHynn9R1+5ltakKFqIDORn74Ezq+ofi9QXsusfHHI4mhT09dPotbRkkLvBbyeM5/2nlz1rU9N1j1Giuqqrtu9zWfB+gMdWYubRs+J6TczcKGIxDaKxKLD6yY3cBz4iHSf4kbWKPW0DrnuUYEf3m8KqdSntyD8ES5NeYJE7bQ3KWVKxUggjvmT6WAYMaf0AyrmWWwhcfM4mxLKKMKoI5HfzHaDuxg4meLCMxyv2qJj88BSGm/9NZmUr6EeVSvJ7yd2ODFheQBk5EutgcjESGQeBNIofcZOAInkCxsfMsbiT7eZaqrOSZLHvQEgDr5lwgdJTYfiNV1YWX/AJa8OwU/WO4S6/jE86Y3HziMgy9zqbGK9vEHNUbEwG0SBLowU88g94wKVcZUgiKyQSOxxOInK1eYZqfsZRqsiXS//X+4h1Nbc71/fEr4hAA3iIqgU5IhAPgwtygt7SCPkQBDA4AnnuXkZspuen4eJceEASTn7yyVlu/EuqbeT3lliwG9xu/1LBFAwJIx2zA2WkcLzKpYWOMYli4upAU1ctcgIMRvGxWmgctEtYhZtogsg1cuv6meF9P0Hxn+ZuM1qXFqbl+0S1NPsUdgpEe0K7aWJORmX42iRB5d7hW2VncR7jBm1ifpBWuS5MGt+DgxjM/U1BY1sXGt6shDgEH5mTrenDSbr9PW9lfc1ryR9vpNAOGhUeUV70ZYr+pi6XqtbDioj/2jLdQaz2IMk9gJGv6Wnr/iK8qrfnUfPzC6emqhe3J8DkmaeFe2zM3M3TQlPR9DR2F+Wfv9SZ5T+IuloH0dhGH5T7jv/wD33nrL7qq33aiwbh+WpeSP0mT1Ss6yi2+0CtaqyUB/pxzmaOM0QZi8lQyFfcR0enSmsYxn47ZnounV+ogDADieM6Xrt9JFjZsPkz0nTOrJVWv4gFQOx+YTIvbRivGyrjA66moyDnjkHGYBqAW3DgwtHU9Nqb/TTO4+ccQt1R/oBY/Ag+wQbMb6/eb4iZzghhn5jgbaADBLorGObTtweAIf8OSO8xedk+4QF9Tc4OI4lJb3KB+RCI21ww7ZkLp/ky+zb2md1YbM0bBn/9k=",tu,ru,au,su,n.p+"static/media/CozyHome.2358a4e41e509121f63b.jpg","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAA8EAACAQMCBQIDAwoFBQAAAAAAAQIDERIEEyExQVFhBXEGIoEUkaEjQkNEUoKxwdHwFTIzkuFicnOD8f/EABoBAQEBAQEBAQAAAAAAAAAAAAABAgQFAwb/xAAoEQEAAgIBAgUEAwEAAAAAAAAAARECAxIEIQUTMVFSFDJBkUJhcYH/2gAMAwEAAhEDEQA/APqKt2A0hrCtcTqhwE4BysHEmDNIVyuK4sZwsS3AIrxVuIuK7DuAtmVkMETBBsyWAXAmA1iWYC4AwH4kuwUTbJtjXJdgou2DbHuyXYOxNsm2xsmTJgJg0FXQ2TJdhQuw37htJkxlbkRQXsS3gnzdg/N2ACXglvA1mFR8hSfQiduhaoB2yWtKcU+gHSNKphVIltRiybQyoxNapW6EUYrmiWvFmVBdBvs9+aNCUegysLajEGu6IkMpIPysWxRcWBxHxXRhxFrShpksy7AGBbZ4qbExLtth2xZxlnwQNs0bRNstpwZ8AYmjCxMELTgz4AwNSp9mHa8E5LwljwJgbVRQNgcl8uWPbJtPsbVTsHBdhyPLYdmXYG2zoqHAjpJrkicl8tzdtjRp+GbnQXYG0kXknlyy7btwIoSRrUCYE5NcGZRfVDqHgvxJaxLajBTguwVTRaQlrxV4ImCLLAsLWipWAO0hGIEuBgaYOJUSxLg4gAKl4DmiteR0kzVPhEyZTQVNC7YNtjstysU/Iyn5KcWFR9yU1GUr00E5NT1vRU60qNOuq1WC+aNP5sfd8kZqvrdeX+lGMF3fFnNs6jXr7TLu09Ju3RcRUf29AiJXPLy1+qqf5q9T6O38CvfqvnUm/wB5nLPXY/iHbHhmX5yetxZMV2PKQ1NaD+WrUXtJmql6vq6fOpmu01cuPXYz6wzl4bnH2zEvQ4oKVjmaf1unPhWi6b7rijfCtGccoyUk+qZ14bMdn2y4dmnPVNZxSwguaJmfSnyuDJEFyBcFrOgL2FyBkKLNkByuC4LiixuS/kW4Mi0lnuBi5EuKLNclxbkuKLN7MnEVMlyFpxAG4LlAA12GuC6KhGvArRYLK6AbaRNux5/WfHGio3jpKVTUy7v5I/jx/A4er+L/AFTV3VKcNNF9KUeP3s5s+q14/m3Xq8O3bPxX+vd1atPTwzrVI0o95ySX4nJ1XxZ6bp21CrLUS7Uo3X3vgeFqTq6ibnXqTqy7zk2/xAonJn12X8Yelr8Jwj78reh1nxxqGmtJpqdPs6jyf3cjzXqXrXqXqTcdVrKrpv8ARxeMX9EWShcy1aRzZb9mfrL0dXR6df24t3w3WjR1NSi7LdScfddD0aPFwvCScW1KLumujPS+l+pR1tPGdlWgvmj38o58nROLorkEWLGSuZfKUQUyIlrciAoto6ipQlenJrx0ZUiGoynGbhjLGMoqXa0nqcK1o1bU5/gzdZo8xc16X1KtprRTzgvzZfyPR09bMdtn7eTv8Oie+rt/TuXJcp0vqFDVWSeE/wBmX8jS4o9LHPHOLxl5GerPXNZdi3CBxA0zbFzBrAt5FyaJuMJyg1iWF3GDcFHKFlgWE3Abgo5QssB8Oom4K6go5QsyJmVZC5MtJzWuQNyxXkwXYpOSzdF3CshaTlJ9wXdEsCwo5S+bqA8Yiodcj8zb93ECohxAuQy4ojUBiJOF0W2+bwFQu+L/AAI0wTpWYiqToVI1KcnGcXdM21IcGY61Phz49ij0fpnqUNdQyXCpHhOHb/g3xkeFp6ufp+qjWpvjF/Mu66o9nCpdcCTFPnlDUncJTGZYpXI+cxQ3JkRoWwINkTJCkBR0zdpvVa1BKMnuQ7S5r6nPCmbwzywm8ZfPZqx2RWUW9Hp/UKOo4RlaX7L5mhSueVUjdpfVKtHhU/KR8819T0tXXRPbY8ff4dMd9U/8dtq4rpsr0+ro6lfk5fN+y+DLrvoehjlGUXjLyc8JxmsoqVbgBQ8l3uK7djdvnxLtruB013GswYsJRXAGI9mDiLSiYvsCw5LFspXYlh7AsEJYFh8QpIWtK7AsXYoGKS5C1p8vUkMpGZSGUj81T960qQ8XczxmWRmkRF8SxRXczqog7i7kotc8fcxatQxdk7voi/O/UCgm7lLY9D6XF11X1Lzad4U/zY+X3Z3qdS3UxQsi2MrCe6N8KpdCqjnxn5HjUt1M0jpRmmPwZz41fJbHUW6imaamhRY6hNcUMpxlyYoS4bgsQgNwpikuClim07p2a6m7TesVqVlV/Kx88/vOdclz6YbMsJvGafLZpw2RWcW9Jp/UdNqOEamEv2Z8DVieRyL6Gv1Gn/06kkuz4o7tfXT6Zw8zb4XE99c/t6awGjkUviBx4V6cX5i7fxNdP13QzXzVo03/ANfA7Mep15ekvOz6Ldh64/prxBiVf4poLX+2ae3/AJEVy9a9Njz12nX76Pt5mPu5/Iz9paMWSzMj9f8AS489fQ+jYj+IvSl+u0/uf9Cebh7wv02z4z+m2xLHOfxP6Qv1tf7Jf0K5fFnpEf1ib9qciedr+UNfSbvjP6dSwMTjy+MPSVyqVn7UmVS+NvS1yWof/rX9Sefr+Sx0e+f4S7uJLM88/jr05fotQ/3Y/wBSuXx9oUvl02of1iv5k+o1+7UdFv8Ai8PmkFVDPmDM8Sn7Bp3iKt5MylcKYoalWfceNVmRMsUwNcag8ahkVRIZVSI2qoOqvkwqsT7RbqKR0VV8jKt5OW9Ul1A9Z2LSOstRbqMtSl1OL9rl0Bvzf51hxR3PtiXUn+IRjzkjhZt8239SKYod5erxjykMvXIr81v6HAzJuCoKd9+vRs7UG3/3WK5evVH/AJaUF7ts4m4DdHGCnXl61qHycI+0SuXqupf6aS9rI5bq+Rd4VBTpS9QrS51qn+4rerm1xnJ+7OfveQb/AJLRTf8AaH3BvnP3/IHX8lob3qAPU+Tn7wN9lpHQepfcR6l25mDefcG75FDa9R5FdfyY9zyLuihsdfyK6z7mXc8g3C0jTvMV1fJm3CbgpVyk2MirMG4RtoUkgqZm3PIrrpdRRbXuB3fJz3q03aN5PwRTqT8Dizyb3XS6i/au3EyRh3bZZGyFQlzK7fkwqbfNlSGTC0tTDkVZByC0tUg5FOYNwlKvzJmUbgu4KRp3AbhldXyK6vktFtTq+RXVMrqiuqKS2p1RXVMrqsXcLSW1Or5F3TNn5BmWktp3gbpmzJmKLaNwG4UZgzLRbRuA3CjMil0FIuzJmU5cLkyFC3NsmRVkTIULMyZFWRMhS2tdWy5lUtZFOyeT7Iojpp1ONWTfjki+FOFNWSRaiGbykqnWqclivPEeNFPjNuXuMnwImLXj7nilHkPFla5DJmWqWJhuVqViZkVbcORTmDcBa7MmZndQDqFote6nkDqoz5gcxSWv3RXUfco3AOp5LSWvzFcyjMGZaZtc6gMynMGRaS1uYMyrIGRaLW5kzXUqyJkKLWZEyK8iXFJazImRXcNxS2syIn/EruS5KLWZET+8rvz+8jksXfla78L+aFFrMuXEilcRuzd7dL+SXd7Xd78GKLO5cPpcN+LKsuDfbgwt8+/9/wB9BS2tzbImIhkRqD3GRXcmRFW52JmUbi9yZsUlrswbi7lDn5BmWktduAcynMGZaTkucxcynMmZaS1uYMyrIGRaS1uYMyrIGQpLW5gyK8iZFos+RMhLgyCLMgZCXDcBr8SXFuS4U9yXEuS4D34hTEvx+qX1Inf6yx49wWfLgS/Pj9b9f76iXvx7259+qZE+PDrxV+/WL9xSWe/Htbn4/oRN8O7v+PboxE7qON7pPG/O66e9vvDe6la1nHJcPvuuqIWdO97crWv2/vyS/BXt2s+y/vmLf5ou9rOyk+Nr8rvt5JHkla3Hle1n4fT7gtmb58fK7r/gN+KS68F59hE+TVnzuuSfuuj8on5r49U//q5P3Bb/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAgABAwQFBgf/xAA7EAABAwIEBAQDBQYHAQAAAAABAAIDBBEFEiExBhNBUSJhcZEUUoEVMkKhsQcWM3LB4SNDU2KS0fCD/8QAGQEAAwEBAQAAAAAAAAAAAAAAAQIDAAQF/8QALREAAgICAQQBAwMDBQAAAAAAAAECEQMSIQQTMUFRFDJSYYGRcaHwIjNicrH/2gAMAwEAAhEDEQA/AOzIuU2fsCpAxw7JCM5rkhdNnPQcbC5o0I+injjy9E0cnL3ddTNmB3Cm2x0kE13SykAHVJh7BPYnfVIUFpbRC51gdLp8p72TZT1csAzaqdwcQYXW/nAWTU1cLQTqXDZua62651PAwvmeG26X1XOT4kZHObFDGyPpcXK7cMdvRxZ5a+ylLVukJAAA9FXJJFhf3UxYSSdNU4iK9BUjzHs/JXEaIRqwIijbCjsBQKzYlI2FWWwKVsKRzKLGVmwoxCrIhRiFJuUUCqIk4iVoRIhEl3G0KojRtjVgRIhH5IbjKBAI0YjU4jTiNJsOokIYiyKUMRtjQ2Colfl6onOkbsbgbAqxy0jFol2Qyi14Kt5HtAcb90PKVtsVk/L0R2oGrfkoOiQGJXzEozD5JlMRwKJjSaxXDCmEXkm3E0IBHdOIlZEafl6pdw6G02nuNWpxS+SlFTEeqcTx/MvOtnq0iNtK22qJtOxuyfns7oeew9bIcm4JWgNGick20UIlHRyfnC261GspYj8foaYsAG47rCqXYlG4unfKy46Gw/JdDWVvKiPK1edtFhVDpKqTNK7N27LswX7SOPOl6bM92eV13uc49ybpxEVbEHkjEPkurdHHoyoIUYh8laEKMQ+SVzGWMqNhHZSNhHZWRFbopWssfut9kjmUWMqCIKRsN1oRGT8MbfoxWGmbpFZSeRlY4kZrKVztre6mZh0jvlH1V9rag20Av5qV1omZnyBoG5cQAFN5WVjiRRbhTravaCkMLff7zVJNXiOS0bnSt7tbce+yj+0HSO8O46A5j+SClNjawXof7Ld8zfzTHDnjYtKmZPMW38QHmE/Pl+dbafyDWHwV/gJR+H80wpJPlVnmyfOU3Nk+crbSNrEgFI/Xwp/hpAPuqfmyfOUhJJ85W2kbWJB8NL8qXwsvyFXA89SjEmiXuMbtoofCzfIUvhpv9MrQ5qXMW7jN20Z/wstv4ZTfBy2/huWlnKWYrdxm7aM1tBI46tt6qZuGt/G4/RXC8qMuQ3kwrHFANooG/hv6lH8LB/ptTZkswS2/kao/B5diHGM2H4lLAHF7WO0N1t8MY9XY/UFkER5bP4kjjo3+64KnpG11U1l7vkdu79V3fCuTAoJYWZ5I5HZi4AXBAXpTgox8cniYczlNW3R2L6YxRE57uAWRDjUE+jZACDYi+y57Gv2gSTU8sNFA5jzdvMfoR9FxNLJXslLo3Oc77xIUceFv7zpy9ZFfYexsqQdQ4WR/E36rDwPAMbGHsmqJI2uc0OETtx6oP3ggp6p1NWARTMNiCk0i21HkusrUVKaqzpIZTbwm/koX02d5LWtb5KrTYjSTAFkrdexV2OaNw0IKSnFlU1JEfwT7XypfCOG7VZztaL3sFJfMPvFDdh0iU/hj2Rtpvm08wrG290gNN/dDdh0RX+Hs61wR3RNht/ZS5CT4dfREBY+IW066LbMyigDKIIy+WQMY3dzjYBR4pif2XhNRWvikmbTxmQxx2zOA3tdYHGb4sUw37MgxBsEz5WOe8PaGBupF3E23AuOmi0cUjo8TwGeidWxztkhyP5c8eeXTUDXr/VJ7HVV5NKmq4sToIqijqLxSgPZJGQbj/wBoucx/DMV8TKPGp+WGGV7J3DQA3GoA1vt6KT9mOCV1Hwsaeua2nkE7yGueCcptbQH1QcZ1smGyw0/w2IPbXPMXPp4LtiAsA55ttc3+hRpJ0wy/4mTSYZxTVVMbKrGoYDO3PAZTnu3TS1wc3p2Oy6Cl4ZxaMRmfiOeUt1cG07Q063tvdcNT1uPSVlJR4lRONZhsjeVK4nOXgm3jcbWIJ2vcC2ll6RW8RU2F1rIatr2NlYHse0Fw63BH06XWlFpL9RYtP9jVay8IY917CxNrX+ihdTHUt1CKKpjnjbJG4OY8BzT3B2SNTGxrnGRlmC7jmGg7nskVod0yPlFLlHspRUwuhbIZoC17g1ruY0gk6AboYqmGZrTHLG7Ne3jAvY2Ka2DVACPunAARc+KQOEb43ZXFrsrgbEdEDpGN+89o9SAtywcIdP0VObFaGBrjJVwjLvZ4J9gs48YYUyTLznu7kRusPdOsc5eESlnxQ+6S/k3Ne6f6rHHFmEkX+JN+wjcT7WQycX4RFE6SSeVob0MDwT+S3an8GWfE/El/Jt3KVyuepuN8LqyRDzz/APEn9FaHFGG/jmcw/K+NwP6I9nJ+IPqcX5I17oTdYw4uwrMWyVBiI6SMc3+ieTi3Bohc18Z/lBP9Fuzk/Fm+oxNXsv5NU3TAlc/Lx3g8YJEsslvlj/7VVn7RsIc+zmVDB82UH+qbsZPgX6nF+R5nI+WlqGvicWuabgjou4wKorMQo3ANY0kWD2jZYUPCOMTtbM+lcA7o7Q2XS0dWMIpzS1ERifEdRbcdD5r0Z001HlniJ6tOXC+TisZZLh9c6J/fcdVZwHFI4J42zENZzGl5Pa6fiKrixGvvHs3r3WVyBZUUW1yItWj3N3FmExURqH1kTWBt7XufReOcW4u3GuIH1cDSyM2aANyO6ziw2tcrZ4VNJBi7H1oblsQHOGjTbQlcselWO5I7cnVyypKVHYVVbSxcEufQmNjRG3ILAOB0vcb3XPYfxBUwEmRz3N8iEuNX0xp2CF8bpc125CDYfRcrHUzBmVaCSTv2RySnJpxfjg76h46a/wAEzPE06guAFr73O/otug4qpMRkMcGctLLiRoBsflt3XktPSvqqotfcldLwrhLp8cFMZpYo7EuDHFpNkjxRacvBeHVTjJQu2d0/irDY32lkmYSG5RyXEm9rWsP1spv3jw8xk8yZx08DYnZtfJZGIcAOxCqhdQ1UlPDm/wAYvJdp3b5riMQlnwDGKqie4PMEhZnGmYdD7KePHjnxsdGXPnxq9Ud3iWOZ6gcmjr5GC7TypomhwvuWu6+qlwXHaWOKSOeGanAdo2eVr3uv5tuB6LjcL4niYMj44wCdbBb9PX0c9jC+IOdsCD/0rfTRILrp+HSNDiPCcExjDXtJpKeoZrHK2MaO7Gw8QP8AcLjMNocRin5T8Ne8A2ztbmYfO/ZdTAKgvysLR2LIyb/krpjrGxDIJnE/OQB+qR4I+Gw95ze1GQzCqh72FzWUwjvm0aQ78lEcao8CkyVGOSykC2SlY4Ov3Ja630U1V9svY9maLITYtdGx1/zWd+7gqJM1VyYBvcENHtcp49Lj9sk+rmuIxY9Z+0KVpy4fVYjIO8soA9iCp8O48xarzCatbE7/AC2zStt/yLeqqT4NhUDCX4jHfo1rblUXOwemdlbI6ot8sW66FgxNVX9iMupyp2r/AJO5p+I6tkV3MFVzCDI0Ma29t/GzTy66KnjFfyw/7PwimginDRM972NkLbi7Li+mm59uq5+ixPDo/wCDgr3H5nPAHtay16afDJmH4ugooQdy+Zlx7NUH00Y+v8/kuutnLjZX/n6GBUOr6jPFS1+HU0TphIGTVPibZwOpy2J0GytZ6iGggjiq6Q1UL5HOnbOXsdmJJs0NvfUdbLRkrOFKNriZGSO7MBd/SyoS8V8Ox3FNhjnkfidp+iKxwvwzPLlS8q/3f/iIKI1T6iQTVbJxJIZP8JrmkuIA31sNFe+CnczmTuo4wNS2Wd4cfcLLl4opqiwZCIW9mQ6+6QxmgiuSao/ysaP1uupJJccHnycpTuUb/sXaanMkji0HLcgctrX7dQcwKutpqx8YZTxVo/3HKCf+Rsso4zRysaIKaocL+ISyAX9grEWPGBoFPQQQ2/FJmefzKzUmuDR0g/8AVwXXnF6OVvNocQmjOwbFEfzaDZagxWvhoyIcOqonnpUSMA/T+i5mr4nxSe4NZJGPliAYPy1WJUSVE7i6SZ7ie5Juk7Tf3UX78V/ttmzjGMY/M/lmqpoY+rYZMvuWlV/3hxnKB9qhuX5IwfzWS2mlcOnspo6UtFnPt9FVYo/BN5pfkWvjX1Dy6prJJJDu58QddAWRPN+dc/y5UAhjA+8SUJjJ2Dj9FVKjm4btMJ9LGW/eJHZVJKeMCwYrIZLsLgIuW4andZxTGjJx9ntLZ2OgD2vDmkXB6WXlf7SMdZUV0UVM7+FcPc3Y32ClbxjSx0LmtuXkEWDvCPouNxCrZUus3qbknqvKxYdJbNnsT6nvJRrj2RRVBcVba5xaoKWNl9VqRMiy7hd8LaOPLJR8IpsDr7Ky0WF1ZDI7dEzmtOgVEqOV5L9FVwa7ogEYBV0UwKIUoW1TN3UgaCWOCV5doXAAO7LqODqikdiMmZ4FQ4gBzju3sPquYdTABR8hzDdpI8wpzxKUWg48ihkU0enTYlUxcSUlPFV8qmlkDJGWBDjY7X2Og1Cyf2gcMUBwapxKCIRVURD3OB/iXNjfz1XEvnndI175Xucw3aS7ZW8T4gxDFKRtPWVT5ImkHKbC5G1+65fpXGScX/U9BdYpRkprz4/Q5gB4ddt1q4fjNVRO8BsmZGwovhwdgupQaOWeSMvKNuPjDECy0bGHzN1Xm4oxVztRHbsAs6N3I3CT61p3COkUT3m+F4LUmPV8wIcB6C4VSWrqXm723+pUYrA03CJ2J3FgEbS9g1d3qKOaW+tPD9QT/VSukqz9wRM/kYAqwr3g7BSMrnuOossmvkzhLzSE6Oue0h8j9ezlEzDJX/xM7vMm604KkfiKmNbCDYo6xfkl3skeIoxhhz2uy9O1lLHh2U2df0AWmainIuCFXNZFfLcW7ALKMUZZskvQoaGNh8TR73JUwisDy6YepCeOuY0AMAPqpjVF41lDR5ap1RzylO+SuIZCPE8M8gEIp4sxzTkHv0V6ngop3/49VK0dSRorkUOBtlYGcw2f4i/ZwSuVeikU2rujHEMDiQ2Rz/QK3Dhc0rSYoSB3ebLpoZ8HgbaDksA7N1TzGgqYyGB0t+rQVLvP8S/YX5p/ucq6kdHfmSMb5AqF0cDdXPLiujkwilcdIpG37lV58Hp4mkn2uqLLFkHinHkxBVMYLRxAnzCcPqZToxrR6LWp8OjcbiItb3JVkikptCQT2Rc0uEBQtX4/qZlNQTSAufYNClkw1vzBXYapjyWNZoeqN1KRd1z5BI5tPkZY4tXHk8rcwjYqPxtKtkBRlq4mj3lIjZUvZ3UrMQe3qgLLpuUinJGag/KLLcVeOqkbi9juqPJS5CZTkI8WJ+jXjxcW3UzcWadysEwnom5bh1TrLIk+lxs6MYi17rA7rvOFeF6WswyOsrRzObctaToBdeRML2PBHRd9wtx43DcNbR1bCWxkljh0B6JMk5zhUfJoYMWOaclaNHjHh2DCWRVVGC2N7sjmX2O4IXKkZxoFpcUcZ/bIZDEC2Jrs3qViQVg6lWwyajU3yc+eCc3LGuCUMLDsnFRl3CcVLXbpjy3qt/BD/shjUNeonsDhcJzEAdEQbpoULsZUvBWdHZBkI6K8I8wSdGAEuo6yFQMukAQVOWpGPwrUHcaOa3VC95JQZC0pFx6oWbVXaGLygyFzr3RE9ghBIKWyi/QnEVtnH3SMj4xYE3QNmynVK/MuUb+BKfsD4qUO++pG4hK3qqrmnObC6cMcehSbSKaRflF1uLTN6hWafiGqpzmjeWlZRjPZE1miO0vYnax+aNU8SVMj7vkcSVM3G3PGrysYRgDUJXDU6m0Tlgxy9G19quP+afdIVodqXBYd7nRLM4dUVlFfTROhjri0+En6FX4cSlIsXE+q5NkrmHdWYsRc3qU6nF+SUunkvtMcnVMnKYriPXQk4CYJwFjDgIgNEgE42TCjZQkWAokkQWDywnDbIkljWCW6ohokd0lgBB5HVGJXDqokr3RsVxTJxOVKyoYG63unpGQR5n1DecR92NjvvkWLm36HKbg9SCE9S6mkpc7KflPsLOYTZ/Y2PcaqEepUpOKsq+kqOzob4u2iY1agpKaSsqWwxZc79szg0e5Q1MDqaZ0clszTa7TcH0Kv3OaIdleS0KkFGJ2karNuUbJC1wO9jexTbsV4UXjI0ofCVaE7sUeyMZCA3XP+DW26CuwmehgE7XsnhvlL2fhPYjp6qS6iLlo/JR9NJR2jyiDw2QOsdlXMhSDyq7E1BokI1RN0UWdLOULG1ZajyjUoy9hCpcwpZymUhO3ZZeR0UebVRZynDkLCok+cWQvc0hQl2qEkoWFQDDg0pF4UWpQkpbKak+a4SACrh1kQeVtjakRSTpJCpYpKYVJkBkawtYXNv1PZQ2SCIBFAbEE4SA0ThMIJJOlbRYAySVk9ljCKT2OjcWvaWuG4IT9drqSpqHVLw94GYC1+6AV4IFYpKiGAu51LHUXGmdzgG+xF1AjlZG2GJ0by55BzgjY30t9EHzwFOnYzXlmtruve+1tbj/3mjkm5rGNyhgaLG3U33UN019EqhFeBnKUvJeoaZkwJZMGyNaXDP4Wutra/eyqzPMkrnHqb7oGosxa8OB1GqyTX6gk0/CoBII5X82QvItdCAnAWaWr+HcLtFh2aNfVSVWJOmidFFeKN5u9oNg7W407dVTsmcwObY7JNI3fsbuSrW+BNGd1gR9TZa+GOhGWOOnZLI/Ql4zeWg9CfYLHZEGXtf1JUrHOYbtNj3CWcO4qYYzUHaJa+SKWskdDE2Jt/usva/kDsq6e10rKq4RO7YyJjc19bWCtUlKyVx5ma3+3t3/I/kgrII6eoMcMnMbbe1reSSM1JtIZwcVbK9k4CeyeyoTsG2qYhHZNZY1gWQOCly6IXBAZMjskE9tU4CA1jRMbJI1rnhjSdXHoinNMwgQySON7HOyyBF4Sxoy+IHU90jTfhhTS8iATgJ2hWaOjfWZ8hDcpAu7QEp7S8i8vwVwE4CkmhfBM+KQWexxa4b6hCAiJYNk9tE9kuiIAbJWTp7aXQMFHIYs+Xd7C36HdRFGQmWMmWqJlMyoDp3MljGuUXufKy15eRU0zGz08bYHMs2SO2ZpAaCe41B33XOtu25aSD5FTPne6IMBIB1Ot7/Vck8LnNSs64Z4wjrRWe0Ne4NdmAOh7pW0RlqfLouo5rAaxEWo2MKJ0ZWF25AycyQNiabusA0am6T4nRPcx7S1zTYg9CjicYZWvG7SCEdRLzpS/q7XUa/wB0L5DaorgIsqe2qK2iYWyXDmQuxCIVBjyXuWyEgO8tEeJRRMr5TTlvKc4ua1p+6Oyt4Bg8OLV3KqSQwC9mkAn0JWjj2D4Th1APgaxstQZPEx4cHNZsMulj5m/oo7ruUdGj7OxzGVINPdSEJgFY57ExzmCzXEJAAuGfMc3UakeaONrS/wAZs0AlMQATY3HTpdCvSCpc2+TRrMKpoMKjnjncZ3HWN3bv5bj1v5LMyq9UYk6oiZHyyGsjEYBIOgvuQBfcqpbRJhU4pqRTPPHJpwAypsqkDdE1lYhYBbogIUxGmiCyAUyLKmtopMqWRKPZAiA0TAI2g+iAzYgLI2OMZJboTuQlcucSTqd0WVESxrk6nUpAJw3VEBY3RFsGxuLbdUraKaRzp5HSPtmcbk2tdAW6aLA2IrJ9bWR2IFvO6cNuNkA2C6xy2HTXzKEtUxbbokW2WBsQRlrwcpvYkH1RBtkbYw2+UWubn1T2+qC4XIXK3wR2RwsY6ZrXvDGk2LiL2RCNxaXW8INifNM5ti2wBsb6hLJtp0GDSktvB1eEDCqaFoNOyomcRdts9zcjr/MzT17IeNqTB6eqhkwmSNvMb44WXIaRbUHz7eRXP09TNDLna8733shlkfM48w3ub6rmhhnBuWx15OqxThpqVZQ8Ps1vuia05dd1KYyBqhIDWE3GgXWuOTh2vhABtiidG5jiHNIPYqa7ZpC6NgaD0HREWl7iZCST1KK5FckuAKetqKa7Yy0tt13HoQmklknOaSR0jrWu4kmyfl3Ol0xAaQ2xJPZCkuRu45JRIrJ8hIVjk6bIhGBonJ7lVrSnyG6smIXSEII2NlgblYM7I8h6qy2LKwNGoGyfla63BRQHMrcsgJcvRWizK0X1TsjzC6wu7KRisEJiIV10aB7MrTbRAZTZT5aWTyUwGuunmtCnwn4qVzKd97xc1hdYXsLub67+ySUlFWy0FKbqPk//2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgMBBAUABgf/xAA3EAACAgEDAgQDBgUEAwEAAAABAgADEQQSITFBBRMiUTJhcRRCUoGRoSOxwdHhFWJy8AYkM4L/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/xAAtEQACAgEEAQMCBQUBAAAAAAAAAQIRAwQSITFBEyJRMnEjQmGxwRSBkaHR8P/aAAwDAQACEQMRAD8A+oY7RtahRiBWveNA5lxQtkySeIJPEFnAlghg8zL8R8Jo1WroJXGX9QHeX1skOc31H2JP7RGeEMkUpK+V+4UUNporoTbUgUewjIrzJ2+PVIEbOgBoYMsh06TOkIROkzpCETp06Qh0g9JM7EhBLdYsxzLmL2GUxsZJHJGCCqmMVcdZEXKSJHSd3kyCMiWKVXyTBLAA5PSClgD7D+Up+IE1oT7kZ+kqx8MO6W1lzzqwhYuNo7yfNr2qd64boc9Z5+m0peKyfSTgiLFnlWqDyA3SSzT/AEX6npGXIi1TkiL0Fpago5yU4B+UevxGQxSg4ycSKqRuLN07CLv0a2Jw2MAkn3lnMFiNpHvAaTVGlY0kUaAUpzOrXeCfeE9wexlXovH5zkYKsV6iSqxO33cDdKmxSJYErVWAAxyPkR8ekJl2LVsCFuwIgEyS+TJZdEl8mLdyTC2yBXycymWkCp4nM5G0/WHsxOZOQPYRU7uK/UNeSFYmGpkLXmNWvEcAyUBMYJAGIQlgkiTIkyyjp06diQh0idIkIFOkAyZCEYg7YUgyEOAkwRYucZhdZCHYnYkzpCCNTSXXcnxjkfOVLb11OkfKk2Vj1L3+s0pW1OkFh82vK2r0Yd/r7wWjThzKPEjBqCPdnd0PAli2hBmzaD3lfVaSxry1KA88hM8H6dREvq30p8qxz6hgqwziKlljD6nR2IyU6cWbC3CjVAHoyn+cu1MCMkjDdOes81qPEE1mpqRN9YxhmxyfcD6zYruTUmtxUR5XQ7TgH5e8XizepJ0+EZs2GManI0SwUcxNrtsOOp/aDZvUZOczkIav5x754MU8q6iVlXywAIFquoyCQI1iVYZ94R/iDE5kVum4MHxYCW+nBjEsxjBiG07NcMZAnWKayPlOknQnst4AzmL8xVfBMYx4OBMl67l1hcklewi5zcZKkNW3bybBI2wNwMCss1YJ4yOntDSskxqsXwSOYQAZz8uJITYdx6KMytVaxtII5i3JeqkEl7bLqpDCSU+GTmPEkBZPSdBJlkJ6mSOJHwKSYjziee0qxuPFLJ0WJ0hGDKDmTLFtU6ZBi2aMbpKtrkEADJPSBKW1B447mNVuY0HIlRGcg+k8dYyu4HgGSMrDyY66HkwGPHE5jxxFs2LVrHXGWltg44OTM7VW3ValSoymcEzU07FqgTF31LZWUbhR6jiTSw+EZ6ZGfaBBNN2xuWPFpD5M4CdGmU6dInSEE6jTC4ZGA46Hp+/YzE1VjJqGTWhdwU7bcdfkfn856GVfEtMmq0ViOoOBkTBrtO82NuLprn7jMc3B8HmPBG1F3jNtiacHAK17h6UGepM9VRWUObHNj/iIx+g7QPDalo8MpRBgbAfzjl6w9Jg9HEk3b7JKTk22SwDDBlZk2NxLe2A9eRNbQCKtqBsQ6lCkQbVKiRVuImHrUdDvyBmzFhMU48xukYFAPqhgqVIGJrTsWAGycdoDpubiSq4x845a+OkiCknHsXUp3cyyABFlSDxIVjnEIDsc67sL79YtaALMxqckn8pD8GBBWt3yW/gPpIbpJByJx6RgIG/j5yUHeBj1RF+pO7y6fiHWQOGN5HSLVozWZTUHaw7iQlt2whyCTOOUXkwGzo4cTxxabJua1NAzVnleSMZmfodZqKmLA70J9SHt9JsafDq44K5/aZuo032HVbhzTZwT7GGnwBjlCcpQkjTpuS9Nyn6juIVgVGzgZHeZfmNQ++v8x7y9dcHpS1TlWHMHsjxbHx0c1vqwehiCDTqCOz8iGF3HnqBCtTfp1fusouSVUNrOWGeg5iaD5mpss7Z2iGW8ul2PtidpKylCg/E3qMsViVQbDtXKhe7nn6RdbZ1dmOigCNZgoaw9uFlOl/XgdSc/WREyP2UXw3EnkCci4HPWCloZio5YdflCszrHxbOLTifTJZeIpicyChitheZDkMpHuIsv6cGR0ECb9rLS5CoGNJWPZRDQ8wKm26ZfpBVstJDiKL+SxJxIXpJjABVygqYNCDaY1xwYNIxmJr8S/wBBn5RF6cmDTWe8dZyZ1YzmXtW6yeCtnYAT0Mu1ncgMo6hx5ZwOcZEs6azIwYSNuqjcVIfiJcCvc/4RHiV9SC2EH/IxeZvZS7Zhh2Fp7MrjMa65mXVa1FmG7maNVm9cwsct0Smgk4BEknEg8HMi1wq5J4jCJWzsE5I6yoThjuGCesFvECuQB+cA2+bzuI+ggWdPBglC3IK25a1y2SPlMnXeKE2NUr424I+c03Z3pZaqGsbHBmNZ4RqtdqFRqSgPVz2nO1ss7SjhV2PeSEIv5NnwLUtqxdaV2gkDHbpNO2pbqyjjKmedTTeI+EjaCDST8a/d+ssr4tqKceehwejDkGb8O701v78nOWJ5Hug+SdTQ+m9Lcr91veJ0us8pjW/NbdR7fMR1/iA1lW1LAjfqD9QZmW1aij12oNvuvT/EPhHSxKUo1kXJtveKdN5uQ23gc9faVv8AVXdhStLD+IgdwQVAIJIPscD+XvKdOoN1JrycdSJzXV6Jkta7amQxQYwTggk++QR+YExazNLFjTgHjwptpq2WtP4xVqqKluzWbCzFcZ2qCAA2PvcjibPQexP7CeVrf7frUZAtNAYtYUuIJbPIGOue/tN86prv/kAF+fOZekyZMmO5i9TiUGlFUFc/mEKvw9APeO0+nFQ3Hlz+0r6e6undvDFvxHnj+kcNQLk3VOFQ/e7zWjFKO3ljmYg4BGf5SUVUHGBnkn3lYELkVcsfvP8A2i/9ONj7rNTaT8ukJCHUvqlReIzBIAE6qvyqwoZmx3Y5MlhxCEFaxCTkRbWbUcHsplnoMTM1qs+srqXsN7fTtM+d1BpeeP8AIcOy9SN9XykD0tF02eWhB6QRcN/WMtFFveQmYdbblyYrcDVOpfPEKwRthwIFbcGTafTOpXIzAX1jPygnkyU4zIsOHxBLbRLugeyjpbvOpIb7o5lyr4QZm1XjSXMCBtxzH6TVJZcVQ8EbsexgKcd22zo6qL29cGojQUUPuY9zgfQRYJVCR16D6xtfpQD2hfVP7HO6Qm3Thu0lVKDiOMjHEOkVYvzfeAzB/SehnWqT0ia1ZbMnkQW+aCXHKHLoUPJJjRpKlHA/WNQgrmFiHSCebI+2AtaqMDpCAwOJM6WKIxkcyjdpzpCbaE3VdbKcZH1Hzl6dIWnRT+w6LVViwUoVYZBXiD/pNKKwqeyvI6bsj9DOrP2LWmo8U3HKf7W7iXYPY31ckepOjEPh9fnbfNajUD4MgAN8we4/eUNbpKdS9I17NR5YIIX747z0t9FeoqKXIHU84Pv7zF8V8K1LJ5lFosWteFcer9e8w6zfGFwjuNeDWTg7bKFKaXZXRpXKqBgbhzx1z85LW06fI+1scHGKwevtmT4L4JdqQmp1NgFJyQFJDHt+U3f9N0qVbVpUDGMYitO9TlxqXEUXk1bb4FU6I30Ddc4XHIHU/nLIqWtAiDCqMAQtLWKqdq9BGEToroxznKf1MUq8ywnSLVeY4DAhoUyRBbpOzgyZCiFXAyZnUqbnu1P422r/AMRLevtNekbb8b+hfqYyulatOtY6KAIprdOvgJcIpuAUORKgBazgy/YvWI8gqSRAknZYyrivkyKrMWdYo2bViamJtyTCcqqiI0LDkRtTYSU2uwQMy0MeUDLg/c2XLpIG4+viRsLGBu3WCPLBF+ci9zZXR5Pxi+yvWjBwCuTxA8H1wr1m/UMFHQHtNK7w9NWpu1JdmPCpX7S14V4JTpqSLq0csc4YZxOYtNleo9W+DoanMpe1eDSrZLXXyyGUDdkftLAEoU+H1rus0xNDMeNnQ446Rg1T1OKtSAGbhbB8J/sZ08f02/Jz2rfBZJyeJJGFgj4hK+s16aXIcds4zyYUpqKuTJGEpuooeySDWBA02qTVVJZXnDDPPaWOCISpg8rhi6m2nB6RsUwwYdbZEhAp06dLKOgkyScQSeJCFfWU/aKGUHDDlT7EdJGj1P2jThiMOPS49iOsdmZ7n7H4kG6Vajg/Ju36xcpbXYxK1Ro5kNypHygqZOcy5O0UkV/Dl2aFF/CWH7mWGGRB0i404+pP7mNIBOInT8YY/ZBNe6gKyFXmSRziBYMoyng4lbRu5rNtj/D6CD/ONboZ6T22XlEPpPPX+IOuss/iEKrHAE1dHqjZpA9n6mGmTLpp44qTGW2bZyWbpVu1aZ/2nvHV9sdINuwJQcVygLW87xKmvtUDY316CXhyJnaE+bdqL/xPtX6CWbrTVprHHULx9YGN8OXyLa8DGUNkjnERawVTmOpTy6FXuBz9e8CyvcYTt9FrhFBju7STXhQ3Qqcx76bHKnHy7QBrKNOpTUdScDMS/bwx+GG+XVlezUJVqAtw2o+AHJ6HtNE8UieN8b8XS3WCsZChsEieh8KvFnhKu1m925Y+x9ovFlTnJJjtXhjjcUu6LNQIckxm/c2BIpG9frHLTtOZpS44MQNNSooxyRDc+XWzD2wPrK9F24RtjZetP/2fy6Spv20vIVO+SygCIF9hiBbUttbCwBg3GJytuxDJjOwDNV9RQzacNliP4bOCQw9sjoZkanUU06hl1SOWByF6/XHyno9RR51OAcOp3IfYyu/l+I6TbYq+ap4HcMJzdbpXmSalTX+xkZSX0i/Dlt8hbLlWlHIwi9vbM1BwJXBTUUlD0deYWksNmmG/41yjfUTfigscVBeBb+RjjIiRZ5XJjj0lV/V6h0HT+8KTroiLVWSCzHLH9vlC3RGnsymDGLy0JPgqiesgwiQq8nEULkY4DDMhaJMq6zTjVaZ6zwT0PsexlrIIzAeLkk1TCKug1Bv0YZuLFO1x7ESwN2RgZ55HylRF+zeJHHwakZx7MJdb0oxHtEbn6b+VwFXJNLYpAx0EpavVuN2Nyj3EKjWFNOVsBNtfpYe/sfzmX4v4svklVU7sYwYp54QglZs02NSlbRqaHWfbtOXPBXg/OJ0ly32a2j2XOJnf+OuH0bneSzknb7TS8MqCM5sGLyCG+YlZM7W34ZcpQUpJf2MB2C2nB3EHpNGzxAXMmnB8uocsT3mTcqV6mxi+GOTtjNJo79QwY1ttPVm9oOn1qzOqNnq4502+jVXdrtSorH8BD195paiwafSO/wCFTF1ba0CqAABEa9zbXXQOttgX8u805MlRddnOz5Fklx0i1oFNWiqQ9duT9TzGWt5uorp7fG30HT95KjAiAxXxYezVY/eFe2KRm8mhOK8SU+cLgjiaEhbZWsbaOeneVrdJTqCDYobHIlyyotmUw5otKN8J6fKJypSVMODa5Rk3eC6Qao22Lu54U9IzQ3kO2ixxWcqR3U9I/XEseJXYCm/T3DrnY30P+ZzMVY5OK6vka25Pk3KECKMRjHnmU11XpOO0BtQ7dJ0/ViuEKojT1lWAHUwyptutcEgZ2Kc9h/mTZlKGZOG6L9THV0iupUHYYi9u6VfATZFZtVOGRvqCJ32hk/8ApWwHuvqH95IUrJGc8xvNUigW1lagbj6G6OORMg3DTeKIxYfxTgHpjnqfnNS3TqzblyrHqV7/AFHQyvrafM0dlVlSkMOHQdx0yP7TDqMWTJJSb4QUZUqHl0Q7K7FDZLJz09/ynaPVK+ttrxtZwHKnseh/oZh6tXFFdyMC4GUfufdW+fzlpNSr26XU0kebgq69sEZB+nBhYtRLc01wiml4Nyxsjb+sX2KniSgyN2cgdD7/ADnPNqt8gCQxqtwe/f3lkNgZiigsAzzORynpb9ZI8MszfGNe1NqKTlG4yPf5zE0/iNh12FycvgH5T1eq0dGtqKXIGEyPDvC69FrXCE9Tkn8PYf8AfacnVY8/rKUZe1lpvo29OS1YJ7CcxzkSUb0kSu1q9SeemJ1HNJckB1VbPpSV+Ov1r9RHDULbpq3BwLPV+n+YALMPV6R7CV9Cfs2uv0bNkJ6q8/hPJH6zNJ/iKun/AByWuidTYUB1C1sTWPWPdf8AvMranSV3KX2A7hkHOZp2jHqUZI6j3EzKCKfN0+crXzX/AMD0/TpM+eCUvd5Li2WtJQle0AAADJwMS4KkNgfHqAIEpUuApIPU/wApb0z78n24mmLjLHz/AO+CubMvT/8Ajmn+0tfqCbHY5HsJripVTaoAEWGwsXTqg5YfhODG4ceLDHbBUCDdUVPES1GNZTYT8KMce2Tgf1l1iHEXgG2xuwO0fQf5zEZopSTQcQWtCZJ4AHWVKr2bxHT3P6UfcgB7+38obq2qswOKweh+9O11RbSrYg9VLB8fSXulKO7wimadlqJUzk4CjMHRFhpUD/FjMo3hrmSpDkNh2/4/5ln1rznia1O2wKLTNlto+plbVUb1PvDrfYPV1PWdY4IkdSjbIuGZDOWswwx2I9jO1VQbSOR93B/QyNYuzVK4PDEKY+6rZpLc/hxONG5Ka+By4aHogDhWXGRkHPBjiiV1M7cKoyYGpGyit/wMp/p/WQzl7FUqSiHccdz2E6jaha8+BXYRJbULUVwE9ZPv7SyJWrYndawwbDn6DtGC0FesLF1b8huLGMRJGCOJSt1G1+OkKvU5JEO0mF6cqLRAMW645xmAtu48GMZsgyu1aCWJ+TD3Lp9Xbp7UBrc70P17GLSt9G5zmxA4etm6g91P1H9Je11X/rrqNu7y/iHup6iNoqW2krncCMqT94dpyo4ZRm2nz4+wUlSLWhsD0NUGya+FPuvY/pBbWLUwDMHzx6RzMymu+vU21m81bRuRlHLDuCfkJy+GumuX1ZB9QbcTk9xzGPNmltWNcfImkuzYqdL1IQ9OvYiRYmBycj3gmsK1rFthBGG/KB51tpKKorIHxOOo9wP7zoXxTACquA3c5wMytR6rLLjn+IeAewH/AEzrtL5VR22Oznkndj9hE6Wx1sekcktkMe2es52TI96UvHQxR8Fk6gCwVry7dvb6yNNUVufdyfeBrAmmULS2bCck9zO0up8y7Z3B5PvKWWMsqhLtByx7Vdl04HXoOsy9WzVeRrfvK2X/AOLf9E0tTxQwHVvSPz4nWULbU1bD0kYx8ppyRcm68fuLXRO8NXuHQiZ2pQb/ADAOV4PzB6wtHaV070ucvQdh+Y7GTuDOB0yczLqprJCNdsuC5K+lBSzyy2VYbkPymrQNnlr78mZViGrV1svKbscdszVZgLcqcgDiXhdRp+CBJyvSV0rCa6xezgNG6c7qVPuIFp262pvcEToKmkwBgU1sX7KMwa1/gBW54/U94L6hbnNa8rnBPv3h5yJmmlKfAa4RKVgGGyDBYDIIww9xFb8RtdmRNMHGqQDEeHBU85C251fqfw44jtSyqgz0yM/zle9RpdQupXhD6bPoe8O4edaFB9SjcP6QXJqDj5Iu7Ev4rpksNb7wM8Nt4Ijx6kVlOVPtMvU16jUayuu4BLLD8ZOQMc9Jq6avZp9g+4SP3iMOTLkct6peBk1DjaUdeD9mudeGRdwP0jr33V1Unk2EYb3GeZGrU/Z7hjOUIx78SuthXUU2+Wz16eoZ29iREwXDXy/5/wCBPs0dUC9Xlpje3w56D5x9dG2sLnOOp94jTM9o85K9xsHBY4AHYe8soLAvrK5/2idKKt72hD+D/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABAECAwUGBwAI/8QAVRAAAQMBBAMHCxAGCgMBAAAAAQACAxEEBSExBhJBEyJRYXGBwRQjMjNCcpGhsbLCBxUWJDRDUmJzgoOzw9Hh8CVjkpOi0hcmNkRTVFV0o+I1RZRk/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAEDBAIF/8QAJhEAAgIBBAIDAQEAAwAAAAAAAAECEQMSIUFREzEEM0MyIlJhcf/aAAwDAQACEQMRAD8A1sQR0IQUSNhTOQpiJjQ7ETGmInYphkomKYZIA5rpKKaU248L27PiNWK0230VgH6x+yncrc6StHsmtu9rv2+Y1YjTcasVgwp11/mrB+pu/IyVnjJgHImSMKfZ3Us2IyA25qWWztFmbJujaudq6m0ca6SdnLaoALV6hRs9ibDuVJ2P3QVNAd7xFRWuztsspY2Vsvxm5FURECcN+UrQUhxep4YQ+cR64bXDWOS6YkLGDXMIyNjtQ5JtjsjZnSVmazc262+HZciLhgabK95kaHNOrqbSoyTLQaBrsB9fLID/AJiPzguxPizoCcVx+7BXSCyD/wDQzzgu0vjwNGjwKOb0i2Hkr5BQdjTlQzgCcAOYKydFXuR4Ch5YwASGeIrOjQV7hQHCnMVFJJq7f4UVLjgWeVCPbWm8w510IhMtTn4lzKX3RJ37vOXTS2h7DxLm0kD9SSfDU3UszFa1rlmFr+NyZfkcCw5jm8qNh2c3Sgocx+dqMhzHN0rYjIER9iObyFSjseboUUeQ5vIVK3Lm9FMQ52JHffcntz5/SUZzHfdAUgNHc/pIAUbObylI3Ic3kKUbObylNacubpQAoy5vRSOyPP5EgOA5vIvE1bzdCAI358/SEjcJG8o85Of0/cm93z9KAO0RZo2FBxI2FAmEsRMaHYiY8kxE7FMMlExTDJAznOk7y3Sa2U+EzzGrD6cOJs1hrslfT9lbvScj2S2sEDNmZ+I1YbTpgdZrAKU687I/FWD9Tb+RkbO1roWk7BgvS0Lc8ioYLLrQg67svhFI+z07t37RXSq/Zw7oWTENOsa06U2TFxJJyUZh+M7wle3DbrHwlURIjI3yeymuMdqjdHvqVPhXmxcZ8K6YkGQOo4mpyRkQGo46xVdHBXuneEopljBad+/9oqMq7LQsmur+0Fjpn1RHT9oLtL3ygne1x2FcVuaHU0hsOJNLTGc/jBdve4g8+2ijm4LYeQQyyitWEcYxUE0j6GjhXgOCMfLSuQ5kNLKadyfCs5oK6WV1TWg5kI+Z9disJZK1BazwqC1WcRMa8tFHmrSHBzacvDxLpHLaToA3Z7uCo4Fh2XXM26bTaJYXkOlDmtZQuLcw4cLcc1vgcKNDa7FkmWzqTR202OotVmFqkgYSMQ01dve+w5Kmi0YXVmT5XFGVbbmMdQsfgelTx3vG2nW5MKcCFMBa4tcKOBoeVeEIW2zPRYMvuIU61JhTgT239CB2mXxcFFXCEJwgBRqDSH+vsR96lzrs4E83/DUncZfFw1VcIAl6nCNQaSx9f4f8GXxcNUgv2EHtUuzgQG4DgS9T8SNQUHC/YQB1qXZwJPXyKnapPFwUQXU4ovCz4I1BQYb6iIpuUni4F716ir2qTxcKD3DiXup+JGoKPoWJGw5IKJGwrs4CmImPJDsRMWSYghilGSiYpRkkNHPdJmn2T2unCzbTuGrEadAizXf8s7zVstK3ObpTa6VpvPMCxGmz3GzWImtBMcx8VYf1Nv5GUswPU4x2JkoOOK9ZyRCBXGlacSQse+uo1ziATvRXAbU0tzlvYix4V7GmaRjHyO1WNc9xyDRUlJXBVIkTu2HkCVqY474lOaCACQQCKjDNdMSCoq8KNiD9Q77YgY2PaGuLXNDhUEilRwhFxlzYwXNcA4HVJFAeThUJovBkl0AjSOw1P95j84LtLw11aPPNiuKXOT7IrF/uY/OC7DM3XxcPAFLNwVw8j3gYjdCOUId/fA+JefK7HWB8SHklc4UFQM8KLOaBJWmmetTgdmh7y1/W4Nha8GOTXJIzwwPL9y9JWaJzHV7E6pwbSu2oxFOFV7hbIGzvc175mYNc2nZAeNpG3yKkUY8029mvQQyAGTcmz7q8UIcMKjVBqeRYmZ80MMjWPNrMclBriutI7GtOIVNa44LWFjpnseQ1jIgA4tGrvaVJ4qgZrHXxaDFaJDYGGKKZx1S1x32YPJjsV8S3M0pNpJlTPA6Cd0chaXjPVIIryhNAVhet0uu+OKQ2lku6NaQyu/aCK4jiyVcHLStzpO0PAwTwKqMFPDqBAx4CWiYDmlDkAPoF4CqhltAhZrOxqaBKybX7ktPGihE1OJepQJusvayAHAALxCbrcC9rYIA77HkjYUHGjIclYmFsRMeSGYiY8kzkIjUwyULFKMkho57pPq+yi2a1Pe/MCw+nga2x2HEAGc7fircaURNfpRayQSaR5d4FitOYg2x2DDO0HPvSsP7G38jBWadoeSSO0ObiduCPua2Qx2iYvexo6llA1jTEtyQ9nirAKgZBMkjpXAKupEnF0E6O2uKK+oHSvaxo16lxoBvXKt3ZtSAcypC3iCTV4gurJ0QPeAiJZ2bjAA4VETQac6hcN8nNFNgXTEiyt1qhNju8Mewltla1wByNXZqa2WyD1qukMkYXsjk1wDiKyOzVdHyBFMbvDvW5cCk5IpGLYtxzNfpHYDUe6Y/OC7TJLFjkuM3MAdIrAC0YWlmXfBdidBGe4coZ+DTh5GyGMtrVtCoHFgrXVwU5gj2MUboGU7FZi4M8xltatpyoCawCW0RPZbXtD376MMwA2DPHFHywMJJ1ShnwNA7E8i6To4njU1TAbRG+CwWmxSAGU1AfIdagrU45EbVkr0jsthksQ1dZtTKQ55GqOxoRygmvAthNABXVbyDBczvOUm2PjNRuZLCDwgmvjWrCtRjzYlFosG3jY578dabUwSRuNMYd7ylutj4VHftphmvACzSNkijY1rXsqG04hs5FUApwctGkjW9kgcnByiDkocujqyXXXt0UWskLkUFj3Pq11cd70hPY81NUOJBvgdbLGgrhUJGzsyG6Y/E/FFCsMDqpdZQMeTgnayB2S61Kr2sotZe1uNAWfQ8aMhQceSMhyVDgLYiY8kMxExpiCGKYZKBimCQI57pQ5w0qterrUpHkK9wFiNN3k2Ow11sLQcx8Urd6SuDdKLWC4A0jw+YFiNPDW7rFiD7Z2d6Vg/Y2/kYqzY2bbg2qfJA3qMS6xqX6tKKOz9oHGKJ0spNn3PCgdWvMu1VnDuh9psLIbRA0SF26tBJplVQW2zNslqfE15eG7SKJZ7U+V8TnUBjaAKcSbapTaLS+R1AScgqIluBu7NTRxa0rGVO+IFaKF3bCpY5C2Vjhm0ii6YkF2WzNlfJV5G5t1hhmiIoWmwyylxq1+qGgIOzzuY55FN80goiOVwsz2bHEHJSlRWNi3O6mkdiOOFoZl3wXXnWgnGj/AALjVjs8lqvOGGOUwvkka1sgzYSRjzLZ+w29KCukto/j/mU8kYurdFcbaulZr9aaYkRNldq56rck0x2rbrN5aIb1PrstujulTLRab7fa4po3QujfrUxoQcXHaPGuvSys3LWo0jkUNCd1L0dSyyi/5OVNsNtnPW2l3IWjpT3aO3y9tW2OZ4z3paelbS8LwjjDqBo5gsNfl8PL6MleBxOIWN51F17Kx1SA7yuS+LNC977utLGNFXPLMhzLklro60PNSSXE151vbZebmWaRzpDXVNCTt2LJ2m6bPuUbmyPJcWtwcNrgD5St3xsi3bM2eLtFQGFKGFaX2AAV/STRjTtX4rw0AH+ps/dfitnlh2T8U+jOCMpRE7gWj/o/G282/uvxS/0fs/1Rv7r/ALI8sOxeKfRnNydXIpDE45Nd4PxWl/o+bX/yf/F/2TY9AGvjDvXKla+9cffI8sOw8U+jNCzu39Q+hFMAOHlSR2ZzDk48w+9aY+p+wf8Asj+6/Fe9gEdMbyI+i/FPzQ7Dwz6M8GOHcu8X3ptXaxBa7lotH7AIv9T/AOL/ALJPYFEM7z/4vxS8sOw8M+ig1a418K9qcYV6dBYR/wCzr9EPvTBoTGS72+cDTtY+9Pyw7DxT6O2xouFCRouFXIhjERGhmbETEmIIYphkoWKYZJAc80qw0qtRPwY9nxAsRpy6t32KgJpaOCnclbjSsf1otO9rvIvNWJ03FLBYzq09s5/NKw/sbV9RgoWzbkKB5w4kjxJq0If4vvRlnB3AYjJRSg4rtS3OHHYEdrkjssqZD714mQvJoceRPqa0S4qiZKgdwdrZFKNbWBo7xJzuySBy6YkjqGgscFr0LZqNBls88jJQRiKkFviKtJLO2lNUeBZT1KLxbFpM+7Z3asN4xGMcUgxb0hb6Swg47oPAsOWNSNWN2gGw2ZotMZ1RgeBauNrS3sR4FRQwCF4JfWnErFl6Ma2mo804wo0yth4i1zRrQSlls16sbqxzFkRHdDWp4wg4r9ihkqYXmnxgi5NL4HR6ossv7QXDxqXs5bfBnL3sN+vBEU8Mg4S0t+9ZO2XLpC+tXWenKfuXQptIoX19ryftBV815wyA9aeOUhSjicXsiim63OeXlonbbRZniZ7XhpaWguPPkmWXRGURxENbvC04uNMCtzLaIZWkajhXbgoWyRtGTqci1RlOqJOKbsp2XTK0b41+cU9t2uBxFedWhmjpWj6cgUbrTENj/AnuO0BtsNM2pwsTadiiOrIQKlr/AABNNvgHcyeAfejcLQO672E11SCMiDQhNFlnibSJ2sBsfn4UQbwhHcv8ATTeEPA/xJ0xakVdsvGawgmS77Q9o7qNzSPvQHsqi2WK0+JaE26E9y/xJBbojk1/iXaS5QanwzO+yhhHuO0eJNOkrD/c5/AFpDbYqdi/xJptsXwXeJH+eguXZmzpE3/JzeBMGkAGt7VmxdXILSm3RfBf4kw3hCM2v8Se3Qrl2b6MoqAoOMouEr0TCGsOCJjQjDgiYzggQUxTNyUDCpmnBAHPtLnlmlE+rtZF5qxGmz3Ouyy12WjD9krcaXOA0nnBAxjjz71YfTYg3bZKAD2yMu9Kwv7TavqMdZw7qYnYAtlct2WOe7hJJZonvpmRisZZ3g2dza7Fubgc31rHYqiRCb9Ga0maIpBFEAxlexAFFQEFX+kxBtWFFQuOBxHhXaRwiOlSVZXQ1ssjWyND28BCrW54HYrO5yBO3LNdMC3tGrdckVqsbGRTRPa9j2jEEGoUh08v11SZ4f8A52qC93DqfABUm7AB2KlJWd42aOw6a35bbyhsxtULRLI1mt1O3CpotYYb523o3/5WLm1wu1tJLF/uGeULrZcRjUqOX/NUacS1XZk9IL2vm5WQkW5j91JGNnYKU5FSS6aXy2Jz+qoyRs3Bqt9PDrMsY+M/yBY+0xUsjzyeVWxRUoptEcrcZNJluNMb5fGHdUxYtr2hvwSehedpXfGsR1VHnTtDeEDpVPE2lnHyY8xymLeuHvvSar+OHRLXLsP9ll8U90x/uG/G+5NOld8UPtln7lvF96rtXe83Q9NLcD+fgI8cOha5dlidKL3Jp1UzP/BbwkdCjOk17FpPVTcq9qbwA9KC1d8OXpemFvWz3votR449C1y7DzpFepdTqoZ07U3hon2W9L8t7i2zvfKWhpOpCDSoJxOxVxbR54nekV0GSwi7Lqs1jhADYomF5HdvLQSTw/culji+CGf5EsSMpJLf8Y649reUM4vxURtd9NOMwpw0Zwn8FYW7fVVXI7PCiPHFcEYfJySJILfeUlojZPbmwRuID3ljTqjaaDPatjYr90askYZOJbTQULqO1jx5gBYB+OIKRgNUKMVwOU5z5a/8NFpLfUD3Ge4ZLTZ4m4OjnLX1OOINKjkxVF6/Xlr06q207W3hpwJLVvbCQc3E+IFCEdc+d6SWiPRqxzlp3YV6/wB5Ub7Zzp723grwJvr5eOr7pOXwG8A+9BgYM5vNK8RvTydDUaI9HeqXZ9DRlFxFARuRkLl0ch8ZRMRwQUbsEVEUAGsOCmaUNGcFM04JiMFpf/aeY4dqj28RWI01BN2WSn+ZGNa7Ctfpq4jSmWle0x+QrFaWPcbBZq1p1Q3yFYX9ptX1GXstke6OocBzfiiGyW2BhbHa5GDgaSOlJY30g25JJX1O1dW7JuKoFmjllcXSzOe7hdU9KgfAQ0nW8SJLkx53h5FRMlQGyMl2ewKVjZIzVkhaeJNYaPPIpA4LpgkOLrRLg+ZzuUn70osry0nWHgSsKJZ2B5FKTZSKRHcUZbpLYtY5WhlaDjXWaxuw1jXlXK7n/tHYyM93Z5V017S4b7fKObg0YeTM6dADqKhOb8+ZZS1j2m/m8q0+mpc42OvC/byLM2r3HJzeVaMH8Iz5v7Y2NvtcfJj6sqYt66e/9NqSNvtUfJD6oqVzevH5T7Rq0EAWm8He+i9eI3x/O1ifTrXzfRevFu/PL0sQBprnnnu+5bALruyxWy2W+aXXNoszZiWtLgANbBoFCSePEq4hs8lqZ+ktH9FakYlu6RuyH+GSOHwBZ9t5S3Zcd1PiLtWRtoZI1rtUuaZHVFaHgCnbprCY9Wa7pDhm2YcA+LxpRrkjleVfXRp49FtGbWwmewRQPOXUltlpmT3Y40Tb7lEsLepppXhjQwNqxzqAUGJpXJY12ltjNQ2zWllTTNp2kdCGk0mhlB1JJ2U4W8Vdh4F3S4Zlk80tpwsu7TotNJUkW0d7Z2u8hVdNok7aby5rEP5lW2q3zxxwydUyNE7S5m/OQdq+VDNttumO9vdsY+PO4cPFxFcNf9lIqX/EsvYfK7Bkd5O5YGM8rlHaNGjYodeQvY6hOpNK0Gg4NXh4KoTUvGbe+u8L+PqwDp4wirbE2yXTYWW6R82s+U68MjXcmJwOWS5ddloxnvaRS2uECytlqauc9moe5oGnpQ9OufO9Iq1vWCzsuqxzWWWWTqgyufurA0gjUFKAnYqwjf8AzvScnEsQUwZ+e4SkYH8/BSkb1vJ6CcRieXpaugO8Mci4XKvY9EwyIAso3oqJ6rmPRUUiALKNyna7BAxvRLH4IEYHTJ7W6US6xFTDF5CsVpc5rrvs2qR7oblyFbHTTVOk8hIr1mPpWJ0sIbd9nNMrQ3bxFYn9ptX1GcgkpCORRySHhKiDmBu9c/nomHfZOKoluTb2Ha5+EV4kkHfFMEbjtS7m4NOK6JkRNJDjsShx4SmEb88iUN410ImY48JRMbzq9kUI1nGpmNAzJ5lOSKRYZczg3SKxE5CdvlXUXWqKn4Lk1ntAsVvgniaXujeHgPyJB4lubJe1rtMTX9T2YVHA5RzK6L4X7BdNXtkNj1TXF/Qsza4/aTzyLRX+6e1us+6xxt1damoDxcKqLzgMd2OdTaAr4f5RDN/TIGtpZfovslI4e2D8p9o1JT2t9F9knuHtg/KfahaTOC06z8z0HpXDrh770mJT2n5n2bkrh109/wCmxIYfeP8AZ25+9nP8b1UluB/PwFbXj/Z65/k5j/HIqsjP87Y0kNkdN9z9L1EBg/kH1an2/n9YoQMJPz70mIsryHtO7B+od9eVWU3nN6L1a3l2i7B+oP15VZTrXzfRckvQ2IRvufpYrW34aM3SPjTH+JyrCN/870mKzvDDRu6OSY/xOSfALkitw/QN2D5fzmBV3dc/S9WVvH6GusfFm+saFXfnz00DInCgHIfMCdTfnl9IJHjD5rvMCfTrh770gmI7ayyk+/O8AU8dkfslJ5grCO63HPBER3YRtXG51sAMs8g98dzhExQP/wARw5qo1lkLcx4FM2AU3oqU9xATWzA0DxykIhm6AYurzIhtmOdAEos5rQNcePIIAy9+aPRXpeRtEk07X6jW0ZSmFfvVRbfU9slvhaye0WmjX6wAcM/At4+yjWqQBTaVFI1jdpdxNC40q7O1J1RztnqS3QBvrRbCeJ7f5VK31JrmOHVFtH0jf5VvWRVBJGpU8tU7cDTsdYcLSnQrMI31ILlOc9sP0jR6KcPUeuTbLbv3rf5VuWt4DzFPBLRXyIAwo9R24j79bx9K0+inj1ItHm1Bmtxp+uH8q3G6DaFK2JvZBta8KAMG31I7icd46304TMP5VJ/Q9cVOuS20cW7D+VboODRi4DiCUPaMSPCigsw8fqQ6OBzaNt7w01o60UB8DVcQaAXJZogBZ5aDAdfcVoDOAMwAk3ZteyqTwJNJ+xptejF6QaI3dAYDZI3trXWq8urlwrGaa3Wyw6O67RSsrR4iuqXw5r9y4RXoWB9UsD2KNI2zt8jk4qhN2YL+7n5L7IKV3uj6T7UKI+5z8n9kFKfdB+U+1VSYMfc/0f2bkrh149/6bEh9z/R/ZFPPb/pPtGoGG3mP6vXN8hKf4pFWEb48vSxWl6Cmjty8dmlP8UirSN+e+9Ji4j6GyE5fn9Yo6YS8/wBWFKew5uh6jphLyu+rC6EWd5jrd2/7cfXuVX7z8z0HK0vQ/wDjhwWZv1zyqv3n5n2ZSj6Gx1Ou0+N6bVZXnho5c/HFKfG5V3v3z/TCsr1FNHrl47NIfG5J+0C5I7xFLquofElP/MFWdzzdD1a3mP0ddPyUn16qve/m+i5NAxsmZ5H+aE8Drvz/AE02TsjyP6E9vbR3/plMR//Z","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAABQYCAwQHAQAI/8QAURAAAgEDAgMEBAkIBgcGBwAAAQIDAAQRBSEGEjETIkFRFGFxgQcyQpGhsbLB0RUjJDNSYnJzJTRjgpLhFkNTg5Oi8Cc1RFRWlHSEs8LS4vH/xAAZAQACAwEAAAAAAAAAAAAAAAAAAQIDBAX/xAAiEQACAgMAAgMBAQEAAAAAAAAAAQIRAyExBBIiMkFRExT/2gAMAwEAAhEDEQA/AOh5waxau/No1+u+fR5PD900iae/GmjyLGR28IOCk0iOMeo5zR264knOj3Salpz27NAw54nV1yVPhnI39tR9WFo4OvdbHka6f8CA5tf1HHX0NftiuYdXb+L8a6T8B90trxDqbPg5shhd8k842GAabBHSX4s0yPiZtDkuDHqGQFiaNhz5GdjjB2o2AcUh3HF+sWvGSX2p8MTw2S2xt8IFkdWLc3PnGceGBTTb67NqLAWYsxn5MkuG+Y4P0VEkFMVE45sYOfZV8cbmJTMio56hWyPca+KUDFnijg2z4miWQlrW/iH5m7jHeX1H9pfV81c1eDVeF9fQTAWOrIcxTL+pvFHkfP6a7dyVh1fRbLXNPez1GBZ4X3wdip8GU9QfWKAM/CHGVtxPbGNx6PqEIxNbt19o8xTHiuP6jwlfcOX63Hpj9jEf0XU1HfiOdkmA6j97ofUaeeE+MRq8h03VFS21aIboD3Jx+0h8fZUrI0M5QHrXgQA5qdeUAeYrzFSr6gCOK8xU8VEigCJqJFSNeUAithVRq5qqYUhkDUTXp2rDqGpRWMeX7zkd1B1NID2/votPtJLic4VFLYHU4GcCqhqIkhSRY2w6hhk+BGaU9ZvZby3nkmJz2T4Hgo5T0o9bHFhb/wAlPsigZdLqLDomPfQDiLiibSLLtUiDu7cignAB8z81FZd80p8bQ9rpkI/tx9RqM3UWycF7SSAMmq3Wrz9rdTGVs4BOyp/CvhXvY88gKglgMA1CwtORTkgAGiAdY+7GpJPurkTk27OxCKUaM6WA3Mz7deUVehjhwsUYIHj1qJPMSHPTqq1AySdsUjjChepJ3qG2T0i55HZTk8g/68aqCZ2QZA9wqRUEBmJJ8cH76nE4eYKMKPEj8aEBDscAc56+fSrIQOdTGue8NzsOtWNLBboWkdFA8WOPpND5NbtlkAiZ5DzDBQevzOPvqyEJT4iueSEOs6R3ZmKyc3Mvl470B4qVYdBuWDZwhx9Ncc7W7B/Xzf42/GomW5J780pHiC5Oa7nucD0MfN32/irpHwIXk1rxPqDQ8p5rQBgwPTnFc1Px29tHuEfyl+UJ10mGOWUw98O/KAvMPH20iR+mY9ZjLBZ0aNj4jvL+I+apT2lhqUfNNDb3C/tMoP09a4V6JxSzEmzg/wDcH8ajpvDmsvPfSanEPRxZzSEdvzYYLkHGfAio1/B2dxs9ItrC5Ets9wij/U9sxjPuNGEkgfYqqn1iuOcP678JFlbw9tpKalalFK9sQGK42w4Pl55prj4s4gc4fhC5Q+u7XH2aODHsCH9mP5hXpht5EwQg9mAaSv8ASPWx8bhoj1G+TP2ayxcZanJqU9onDchmgRHcenJgBs4+T6jRYUONxYgKynlljYYIODkHwIrmnG3AUtlay6poEhQWoMxt+fBixvzRN4fwn3eVMo4m1j/00f8A3yf/AI1k1ziLVpeH9QSTh8xq1tIGf01DyjlO+OXegCHwaceT8Vac8OoQlbm2IQ3AwFl8sjwb6DTxXIvgplNtpOpOqBv0hM5/hroi6slxCUdO6Rg8rEGnYUGcHyNfYPkaER+hsOk4/wB+/wCNXLaWbdDN/wAd/wAaBUETnyNRyfKs0FnBDMJI+05h+1MzD5icVqyaAIHPka8wfI/NWZtNhyTyy79fzz/jVbWMA+TJ/wAZ/wAaBmls+R+aqiDWZrC3znlkyP7V/wAauMhApADNV1X0QGKEc830L7fwpeKyXDu0rF3Y5JPjWvUG59QmJ69qaqAzgADJzQMH6lHyWVxnf8y+PX3TR23/AKlB/KT7IoTqCE6bdBsEiB/smjFuP0KD+Un2RQBVJSxxoSukxEED88Nz7DTRIKWeM0DaRHzdO3X6jVeT6MsxfdCvad8KQS4XfyFbyS/xiSPJdhWa15Oz2GceRrUrkkhcD6a5MunYjw9BKrhVCjzr5YyxLdSfHr9JqxUY78udupqSpKw6hQNv+s1AmQFvkZbGPXv/AJV7dwBLOYxEh+Q8hHgajP2aNh5VI9ZyfmraJYG069leWJViRkALDmLdOlavHim22ZPJlUaQhklzzOS7ftMcmrLde8p/eH11FV8qa+ANAt9Z1SRrvlaK2Absz0ck+PqFdatHIvYnyWoDDbxqmeAIpOPA02PoVoxH6dJ1/wDKt+NWLwdFqNvctBqAzBA8pDwEZ5RnHWoOLW2hLJGTpM5j4mnL4M99euv/AIb/AO4Umjz86fPgttFa5vbvmPMqiLlxtg4OfoqQx9wakeY2OoBepsbj/wCmamVpYsNTlGt6nFLcSdj6LdqELZGeRsUgO28P5XhvTR0xaRfYFb8nzpX4C1aC44ZsLV5v0lIVBR2ySOUHb1U0YqQAaaaKfjD0KVA4Nj2u4/fxQ/8AItuOK78wyiJzaQtytvnDP76x6xqg074SJHUgSfkcqmenN2mRmlPXeKJV1hrxHxcC1VecPgAhmzj56WgGu/1KLSnUXMkfK/xXRuZTQzW9at5+H74Q3CAtbSDoDnumueLq97xJqiWodYy3MwLeGAWP1UGl1WSLtoo1ZY5EIHKNyMHr99RGdA+C8KdI1IY/16fZp20t0/K4tSiFXgaXdd8qyjr/AHqRvgtP9GakP7dPsmnzSAp1wZHe9HfB9XMufuofRrhskvLeCVkMLZU4yMV7aXcF3LIiRyAocZYDHu3rLdIDeS/xmpaMB6dcKPBvuFYcGbJPK4y4a8uOEcakuhPsgOmRVUcQt0bkZsFixySdyfWa2FRQPRtft9ftLia1SSNYLh4GEgwSR4j1EEVvox2bJXzNG7ZLJnlwSBuMbjOD76hJNzqysDhgRscUO1LW4LHWtP0+RJGkviwR1HdXA8fbV97crZWM904Z1hjZyq9TgdBQM0xJy26hMhVAAyST85614FbO7Z91UaRqMer8PQX0SPGtxGHCPsy9Rg+8VbFugyfCgQv3yH06YeHOd6jy8q422q27PNfzDGe+aiRgYO5J8KKAxahHz6ZcnOMQPj1900Tt/wCowfyk+yKHaiG/JV2Tt+Yf7Jojb/1KD+Un2RTArkpa4yCnR05yQO3X6jTJJS3xkobSIwxIHbr09hqvIviyzH9kLdrJDGnTbwrR6WAO4o38c9KqtreNlAK8x/erYkHLsqjPurlySs68W6KO3dtsn+6KrbmYHIY+2iKQdzvhW+epejgMMcq+vl/GoWiYJjs5ppF3CrzDqfDND9S0u6tpTJPC0Yly4LDqCc0zxjkmTMud98EUc1S6sL60ELiSQY2ZE6e810PDp+zZzfNtOKRzALjanj4N0VHvS5VZWCqoPUjcnFCjppVyezC77bUS0QSWeqQSIuTzY5fPO1a8jTjSM+OChL2bOviKLGOyj/wilvizkR2VVVc6fc9AB4LWBtd1sHAkc/8AyBH1msuo3t/cQzXN9FK/ZWkyDlhVAOYA7971UTyRcXTMsISUlaPz1jG1dF+CofomoH+0UfRXPG3cnzNPvwV3JEl7arGrM+HUmQLkgbgA9dt6C06FikqC2Emu6oobB7G6b/kY06MJ16woP96PwpFWSaPWtSIVS3LcjHP+62d8eVIaGvhq7Szjt5kU9stuhVi2ynlHQUz6fxPHaafO900zXU3TvbD1g9K5727JY2vI2OWBMbfuislxf300RUSStGpx3U2HzCkrEGte1l9Q4qjuoHzItsFOQWJIbwz4/RSlrl/Nc6ixkyrAMpA2z3jXsuoztcc5umWXl5AwOCBWSeE9vIZZmmYKp5iCObJPnToDfwWAeKYQ3Xs5PsNS9efryDkYBORTVwlbLBxNbMebJDqduhKGgLLb/lBe35uz51DkHcLzbnp5UNDQ/fBax/J+pj+2j+yaftEJOtE+Vu32lpE+DNALbVeT4vbry58sHFPuiJ/TB/kN9paT6NcOccW8WapYcX6vbx6jeRRQXPLGkKxcqjlB+UM9c1u4R1/V7q0gupL52kmRS7ci7n5vVTNrHAvD+ratdXd7ZmSeaQtI3bOuTjHQH1UFuuAg80drp9wLbTo5F/MpIwflA6c3t3rOpwUqS2XuMnHb0dCspXmtVeSQsxHXas9xE2/JNIvqBH4UGs01PRdMuGvJ4WQA9mwJPKTsM7EnfFSjn1W4tUeOO1lJHxzI6593LtWlOzPRpKTI+WuJCPI4/CvVdvGVj81YootXkZhcw2qLy90xyO2/ryo2rLeWGrmZxasvZumBzNy8p336E75+gUWFDCrH0Z8uTt41VG+EX2Ch+i2+pW2nJb6hiV0iCdqGLFiBjJ26nrW8RvFAGkUqowMnzpiBk0Ya6lPm5rwpgf8AWax8SaynD+kXWpSQtOkLjKI2C2WA6++hlnxjHepC35PuYxNylTzAgc2MfXUgN+qDOk3YwcLBJt/dNErdf0KD+Un2RWDVwV0q8HiYJPsmi1tHmyg/lJ9kUmBklUilvi5T+TIsDJ7YfUaa7tDFEXKkqOpAzilTimcS6bCIG5yZgMLuTsahkXxZZj+6AFusgTm5SKsZpD+2fYcVY8NzaxRLcI8fbKSqOAGIGMnHXG9VgMehI9ox91cySaezqxaa0fZYHdT7z/nX3ZuRnswan8TPfYn1YNVM8mSFk5/oqFEzdpiZ1KDtE7nOOYYHSug3Grxc3KkIZfDKiub2E4tbtZZu05F3bO/iB99NY7VsmEF0I5hjfaul4UV6uzlee37Ki2/Ed+2WjVP4RvWGGwjt7lJUZuZTkZrPPxFaW3dmff8Ac3qVhrVnqcxjt5G51OeVlwSPVXSeNNcOSssl+jLIpydvOsurbaPedP6vJ9g0I4R4vt59Mkk1a4s4AjrHDGoJbAG/UknqBSDxDxrrl/qd4kV5NHal3RIowoAQ7Y2G+1cz/maXToLyFJ0kIuNq6L8C0In4hvopGYRejBiAfHm8PX4Uhx25dztgU6cB383D89/dwiMxiykabtFJ7oG2PXzFcVeI6De65wzbNIs+vRB0PxIwXOfLYGlJJtDubq6eynvprqYScjNEEjHMpz1wTtnwrnMtw7yMzOcscnenr4LuHW1KHV9VYHls7dkQ4O7FTnf2eFKyVE4LmJ4bWNiCSiKe/j5Io9YcQ2fDOi9he2npr3Ds6NDc8vKOm45fUaIaNwxbiws5zwus7GKN+dtUYcx5Qc45NvZRb/Rz0h1YcF6c4GFDS3rvgezlqv52DSOZ6jLby6vLMsB5rSd+QHvZ69cYrG7TarqblE5CyKAAh8M+Ga7UeHFbJbTdGtixJKta5JPnnO5rPaaBJacQXE8Gn6W8bQxoQkhiZGGckLg9cjx8KfsS9Tnmi8M33p0U6xzEEE82DHsfX76sufg2jjtJ7mTVoC6Ru/ZjckhSQN8eNdLl0+VLjnaKBAfBbj/9KrGkablxLG8yvnKs55d9jtTTbFSQjcB3UOl2V6twTzSMkiqoy3LuM48s0Zfji10y7ea3IkkWFkEcgK5YspGfVgEe0itevWFtFAVs4LW1aRVPpEUCluVfkncbUL0/TuH4buS/1G4We46xxsmI1PmRvk+3YVXPPijpvaHHDmk9LT/Rws9Xt9Yshe2jgxS5OD1U+IPrFRhnLXfLt18K57ouq2vD/E72czMdL1DLQsp/Vv5fd7xTeNQ02G7ikg7VnZgvUY328qphByamuF7koxcH0La6f6Fl9q/aFDrP0gmGSK7ljiRwpi25DzEjfbPXHjWnXbkPosyQqzyZXCgY+UKD2t+F0hw/brNkMFUDlyGyM1pclfSqMJVwMNLczXndupYxEAzIuOU9Ou2fH6KruJ7pryJUu5FXtRzcvQjPLjHtrHaaijahfSP6QquFCcqjGMb599US6gixBMyLyqpU4AJbOd/Vmi0NRl/BhuDcmzCC4ZHckB49mG3zVj1Rri04bkWa6kuDFcCPnkxzHckEkeoioSaxHM8A/OqgJLMAAfVisHFNwt5oN1DbvMxaeKQEnB2GDuPYKk2iKg+AjjG0utV+De4js4XuJ5AjBEGWIDgn27A0m6Lczi6tLeW8lUxtEno7nlIxgEFSM9a6foCMvD9mrZLBMHJyepq+8sbS8dWu7WGZo2DIzoCVI3BB6jepraK3pmHV9tKvm8ewk6/wmjtkn6JB/KT7IoJrAI0a923NvIfb3TW+31uxhaK0a4T0hYY2MQPewVGDim9CSvgcjgSSEhhkZxQG50lLGcmy5YiQzNJygsSSMbnw69KKJr2nxIsbT8rePMjDf5qy6hdxtIQp67UFmONyEPVeGdRu9aW+fUoMKhUqYm8Tnbf1VjvbqDSl5ZZTNIcY5V5QMnHiabdQJWB2HlXI+LNRdXROYZmlBx+6p/H6qzZMcZPaNsX/AJx0OC3ituAP8VeiaM9UpdsZWeBW7w99bVkkHyq5/rRqUrRs1CWP8mzlB3jyjOP3v8q+suNbjS9AnsEiEs0jBUlc7ImNxj6vbWRpk9BnFyO70XI+Vytj6cUNSye40u6vlYBLaSNGUjc82cH6K6niqsZy/LdzIpK0j4J3rTZyvaX8MqEgq4O3trDbnMye2tx2mX+IfXXUx7RyMupUOh4V0PRNA/KE63LXvYdpDHKgROfqMeeMiudPaSBncuRmm65uZ7jTCHjQIZMLyqc7Dfcn1ihTafNJHIQgHKuTzHH0eNYk9bNMdinBGc7771p1G6kttJaKFiouMJIB8pQc4PvAPurxRysR66Y+EdK03V9U7PVppIooYmlXs2ALEeA29dVt0jRFW6FDTdKhvUke7v1sguwBgeQt7MbV1r4Gbv0Phm8gt89objMhxudiBt7BU9G0yK80nXY+HNNup5mneOCUciKAAuMs3ez12zijnAnBN7wzpkz6tbWj3M7cxAk58dceQzuapkpSWi1OMXsY1v8AUCR3o4R/bSAZ/u9aktxPMrH0+IDx5ULffWe6nnjtWeOFIQG5QqRgZ29VAZ7zUEUGbfPlt9FOONrrB5F+II32o6dpkyen3kpaTPIzEopI8O74+2scd6ks/aW7rIT0YSD8axXNo2tcOyTSAOLe4ZXQ+fKOU/Sa55IZrG5ZI5HAB8KkoqPCLm5dOk6lNcJKktszLL/rI8HvjzHhmpC9flxKGR/EMpB+mka0164ACyyMQPHO9OFnxpbrpB/KHLMYxhVfHe22GaYgM+oTi7u7SJWlIfn5cgDlb1nyI+ml3Vr2OKV+dwo8cnaj+nyaHrWuNcyQXNhNOohIjueZAOvQjYZ8acrHgrQbSTtVsI5pf9pPmVvnaseTxvfJ7Xo1Y/I9IVWzj9pFHxLcwadBcGKRpQ0cwQsEPrx4V0bR+EpLMRR3t+LmcSq6yRoUAQYJ5gSfn9dNsyQWkB5EjRQOiqAK5nr3FVxDxI6W8zLEYh3QfWa0wh6KjPOfu/Y6YwtjkMqEHwO9L/EHEOmaDcRwPaJJI+G37oxnwPnt0pXteJZ+ZWMpblIOCetS4t1++1jRj2FgktnBKszSFsnukHHL5+HXpTkqWitzkv0Zotd0qS8NqYVi5m5Q3hn219fWkcUhBU8p6b0oR6Xf6hMk0FrKRzZYcmCnjjHgcYo8zau+oWwktLoxh+8OzODsapxqU4v2J48ji02a0hbs+gKjoQahL3UJQ7+Oaua7EfdeN428QyFah6QjeANTWN/0v/2X8L7C/wCzhEbKAo8B4eythmEm6MCvnQhnRxgDlx4gYqpJTDISrcrH5mqxScO8KnGOTmmbdZ72j3vji1lH/Ia5l8I+3EsLDYi0hwR1HcroGoXgfSL1SeVjbSKB4HunpS7xxwlcau8OoWM0bSLBGjQOQueVcbHz9Rqy1JaKmnF0xT0/jHV9PUIt0biIbdncDnHuPUfPRu247tLlv01J7N/2o2Mkf0bj5qSJopbaVopkaORDhlYYIqovUHFMnHJKPDu2nahoOpWJ9G1CW4Vlw3M4bHtx099InF3Cmk311HcWt7IeQGMKgxy4JPyhjx8DSEsrRSCSJmjkHR0YqR7xRS34uv4gEu+zvkH+2GH/AMY3+fNKXtWianF/awvaWF1ZKVhdZUXoJRgn3gkVpF3JGuJ7aVP3kHOPo/CqLLifSboBZXksHPhMOZP8S/eKMLEZIe1hZZoj0kiYOvzisErT+SN0HFr4sF31xHPYL2Lqw7U55QRjAHUHp1oYGfkZATyk5IzsSOlMM8aSRBZI1cZJB6Ee8eysLafCR3HeM+RHMPurf4+aEYerMHkYZym5IwWULTXUUQOGkdVB8snFF9U06TTNRETHnQsOV8Y5hms1rYywX0EgZWVZFYlTggA+Ro5xRNHcXNt2TKwDE5B9dbsWROVRZhzY/g5SW0N3F/5MVYZLSGPsuSTHZ4A7TbBIHqoRPqbrNqEWnRpDFNCqAJHv8Qg7nJGat1GynTS7iKeMq0Uivv5EFT91DIZOzmY5A5yPqrIlompW9CHcwtb3LxuMMpwR5Vbp149rfRSRkZ3TcZ+MMUUudKk1jjU6fAypJdXIjVm6LnxPsGa7LwpwHovDoQ21utxdj413OoZ8/ujoo9nz0FqZ58Ftm1hwaGuIXglnuZZm7RSpbJ2OD6gKZ7qBLkxtzZMbcw8jWWa/HpTQxAEqeUs25zXl/epp9ks8uZGc4UE7UUFlt1F2sRQIGwcgedC7vSHuR8VUP7x2rBLxTIxI+KPJdqytxESdx9NOhBCz097WWeKSPEF2vJJgghWHRvZ4VzXiDQr46g/Y2Fyy56rGSD76eDr4I3FQbX0VSeXf20UOzmg0PVM5Gm3g9fYt+FeX+j6nJpki/k+7LoOdR2Dbkb+VdLHEKgfFqS8SKTjOPfS9R2cusheCJTc29xbnABVomQBfHciupcMalHqWiRyM7c6HkOG8B0+jFDtT4pRkMQYknz3FZ9LeLTNPkljYhZvzjKTsDjwHhUWNGvinVmtY1iikyJDg56iuTatNdXOuu1pD2oRRH1xvnNMeu6mzl52OcHYevwFUcPWgxzuOZycsfM0AP/AfBdlDoFrqOpwrc3txGJeRzzJFnoAPE+ZNadTuoY9RDOEjjCgYQKvLgnblOPnFZtH1ufTYzGB2kI3EbHGPYfCjMfEWn3XcuAYmxkdomQR7RUZR9lQ0/UG/l3T7eTtILhmmJywCcxbbHRaoln1OciVLyFRMeZILmIo4GegKn6xTHbXFhMR2E0BJHyWAqGo2npEf5gw9oPil1BxUoJx/RSaf4LM0OvORGlsUJ+WZQ0eMeHj7sUO1biW00hRYTWXpV7AoWWVW7Nebr680y2EOrRXLtqV/A0ajCKDyqo99A+K9B0bWJWuE1AW18cBmiHarIeg5lH1gim+it0KknG9wpOLOHHrZqinHTNtNYIR+5KR9Yofe8LarCT2SQXSjximCn/C2ProMttdvPNCtlctJA3JKqx83IfI4o0Gxyj4us5u7IkkQPi4z9Iq67kiuYOeMiWIj4y74pNj0zUpDhNMvT/uSPro/oej6jbLJLcqIcjCxFgWPrONhVM8dK4mjHlt1IE6novbZeJs+QJpcubWa3cq6EEeYrockaNkAcj+I86H3Vkk2Y5U9m331VDO1pl08Ce0IfNUSaO6joDxktEOYezcUElheIkMK1RkpcMcoOPSurLW6uLGbtbOeW3k/aicqfo61VX1SIcGK043vEAXULeG9X9sfmpPnGx94o1Za7pGpHlW79DlPSO8HKD7HHd+fFIVfHpVTxRfNF0c0l3Z1ZdGueVZAqmNujqwZT7xtU5dLnSReXGCRsDtXMNN1e/0eXn028ntT4iN8KfavQ01ab8Jl0ZETVrKK6GQO1g/NSfN8U/MKpeKcebLo5oNU9H6FvtPgu7eSKZQyyLyn/r3VzfX9Lg0zUoY7e47XnkA5F3K7+J6V1Ca3a5UrIVRT1Ct99D9S0azjsWeUlEiBZQGwM+FWyzXpIwxxU7bOT6En/a/bAjZbpx7+Vq7Xp/633GuOaUoT4VbZw2C98R7djXY7D9b7jVwwXHvqTn+1P31Dir/u2zA9f1CrYx/SD/zTVfFI/o+z9/1CmAnPsTmqG6VomHWsshqQHhPnVUhr0n11U7UgPi+3Woc/LmoFtqrd8CgYOv5D6QD5Vpn1EtYRQg7Ku9YL9vzorNJLyqSTgCoMaM94/pF1HFnIU85+oUw6SgiiyRjypZ04madpmGec7DyHhTTbbRLnypDNyz4XOQM1lurw4BUnYH56sGy7ih8/xnDIcEdOm9AFb30hHMX5F8T13/Gsr6m5YcpbHrO9RnBYZLEbbALsPprIyAkgOf8ADTQjQ9++D3ubPQn1eFWQ6s4Cksdjt5UO5Cu/OPMgg1GQ94BRhV6UBYxwawzALnHurHw/dEa5rhzgPcKf+WhRu0tuVWLFmzyovU43PuxWHRuILSLVb0yuUW4kVlY7gYGN6VDOh+kEjIOfKvi/n76H28pZBuSMDGPGta5YEAbGgZG4gWdcnZj4+dD5FaIlJlbA6NRLbqSPurba2y3kbRyqGQDKnxHvqjJhU9rpdjzOGnwWmgOP2lPQ+VDL7R4rlScYbzH3023OmtZnugFD02rG9r2mSmMjqDWP2ljdM21HIrRzq90WW3JIU8vmKGsjIcMMV097MOhV0G9AdQ4cWQlk7prVj8hPTMs/HraEuvvCt97pk1o554zy/tAVl7BiMqM1qUk+GVxa6U17F+uT+IfXUjEw6g19Gv55P4h9dMifreS7WJTuqj1Cl3iDibTtPtXa9mwCMBQe83spQ1jjqe+nNro6dvITjtPkKfvorwz8GU97Ouo8Syu7t3hG3xj7vkj6fZVSjGHB7YE4R0+84h4+g1lbRorWCczYIzyggjfy612OxGJvca9gtILK0EFrEkMSjZUGBX1ntN89Ti7E9A1Ri+b+YahxMM6fae/6hV/Li9b+M1XxEudOtvf9VTEJdwCKwyHBohdbE0NmO5qQFRJql38KkzVS7UgIsdqpdjg1It66pdutAA29Ymahmqz/AJpYl6ybbeXjRC/bEwoIH9Kv2b5K9xfvNRZJBbTIgOXrTBEwAAwcj5qD2KBR1PuorGcDG/lnOKiSNoA5ByE+sVnkhDjPgKlG+eUYHL1GT0q3lY9TnxORSAwzWylSFBON85rJJa9CPHajWExuASfECqTHknAPlTFQCNm2+1VvaFBuKPSQDHLjw61Sbc52G4+c0xCVcXcNrxGyX6DsJIOz7TlJMWd+ZR4nIx7CaATrahA0UjGTALArgA+OKd+IeGTqa9rbtyzJsM9GHkaVH4d1eGbl9DkLeBXBFMQ08J6g7aaIJCxMTYUN1C9RTpYwgjnYb+2k7hbQbqzXnulId25ioOT76d7ZCByseg8aQ7Nqwo23Io/uiro0QJy4xVEQYY64YZqxJADnO9MCZTnRh8YdMUKvdMKgyQgnfoOooosoB3IIPSrFxICQ2x23FVzxxyKmThkljdoWMqR3tj4NVFxHyr4Y+imC801bnLw8qyHqPA+2gs8ckOY3Qgjqv4VzZ4pY3vh0seWORa6D/RI5uqjHiDQbU+GRkzWLdjJ+z4GmyCx54udPmqueHkUqw38P8qI5XF6CWNSRzp37F+zvoOzb9tRsa8FtE7o0ZDDmHT2043OnRXcZWRFceR6ilu84cmtZlksmLLzDKHr1rbDMpdMU8LXD9D8M8Fadw1EpjRZrkD9ay45f4R4e3rTASBVfMQNzv5UMv+I9O05is9yrSf7OPvN8w6e+oOZWkFScg1Ski2mZpzyRqCSx8KAR8QX+rMV023S2izhri43x7umfVvRSCBQgVmlvZflSSnAJ9g8PVVuKyEjOuqWNxeydhcrJynmPIrHH0VVqurabeaaiw6jaM8TYZe2UEe6iFzB2qcl1cmOPp2URxn5qxyy21ijGxhjibGe0ZQW91XkBH1fUrawkC3M8cRccy87Acw8x50Bm4g089L2D/iCmPW9HOqzPNeO1w3yWlOSPUPL2UAl4PtVHfjjAcY7wG1SAxnXLI5xdwf4xVT61ZnYXUOf4xV0nCVio/UjHiQoqj/RaxDgNbod/LagCltYtQf6zFj+MVH8r2rf+Ji/xipPwvYC4cdguFGScDAqDcK2i7NEmSM/F6UACtVv0IPYyKzsMLynNV2FtyKuR09dGk4fs4HykWCfEDFaU06NZO4NhUWNFNqhWPJ6H30QgR9sg49tTjt1Q5xnYkeqrFYIM4DE+YpUSskqdB99WRlegDEDY4+qoNJgFAu3q8KnGoOeXBVRvv+FFBZb8ZcHPvNeKAPHB6bCvt+fBwN8nJ614HC5IPU+VArPmjDKO9uT4148ZxzBgqsM+eakmHXJJ26V8g7QFRv8AVQBQiF2IAB2xWqGxVcsy75wprVBAI+8QAcnGBsRVywsWPL4nypgUejDlGRk+eauaEKcKhyOuD9VWopRuVSBjr6vfX0bjtCiqQc7ZHX1UCK0JCcrbb4r1wVyAM75G++K98WxkkbdelRBBVVGPUx8v/wC0AfAhO7g7bjHjVyOxcgYBqlTnHTyxXwJVTzMSo2oA2s/5vG2fCsF3Ek/ckGT8kr1FWq4C7YYjbI8KrcZcEjG/X6sUmk1TGm07RXCgtWCysqk7ByO63qPkasuLJJ0IGM+Wfqq4IlxCyMBykdDuKHTpLp+eQs0I6DxT/Kubm8Zx+UeHQxeQp6l0H3GnywsTgkefiKysAHXtBjcb++jI1ZSPzy8y/tCvQbC7YA9wkjc9DVEW0Xs//9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgQBAwUABgf/xAA3EAACAQIEBAUCBQQCAgMAAAABAgMAEQQSITEFE0FRIjJhcYEUkSNCUqGxBmLR8MHhM4IVJPH/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQIDBAX/xAAkEQACAgICAgIDAQEAAAAAAAAAAQIRAxIhMSJRE0EEMmGRM//aAAwDAQACEQMRAD8AyxiU/WtT9XGv5r+1Z2cnt9qkH0r0KCOexofXoNgTUjH3/Lb3NIAmiDGrohbNBcd/ZerVxeg8JrNVyKMMx61nRG0zVTEhh5T96MTrWYjEDc0XiOxNY0Np2ayyKasFv1D71lxK4W5NMIxtrasOJpJDypm2INGIjSaEk6b+9MRyMDYtesuy1Et5RruUa7MSNzRBz3rNs0oxB5RqRCaLmWFD9Un61qbSLpEnkmp5NCMVGb+MaULYyNd832q3ImsS0Q+tSIR3pYY658MZ+TauOLYHXIP/AGvVqRPEa5S96kRqKTOPVelz6VB4gx8kY+TU0my3AeyoKkZRWcMTiG2sPZaLmTjcn4Wmj9lUl6NDMnauzL2pFWm65j8gUWeQdCf/AGqaF3Hc47V2elVlI8wUfNScSL2AB+9Z1ZdkM567OaVGJN/L9hU/VP2tU1Zd4jJzMLBmHtVX0oOrM7e7UP1BIqOc1EpDaJaIFUdfvU5VH5j96o5relRzD1Ipq39jdehi696EsvrSzSMdmt8VWxYjWRvjSixk+Q8osTdtqLIQanmMaVxvF0wBjWUlmkvZQRsK+g3StnjSXSGlQnYE/FWLC5FwppfBcRjxSkxOQR5lOhFMmY9GY/NRO+i1XZauFcjy/vVq4V7X0+9KiRu5+9dnY7saVL2LQ7yAq3LqD2rvCuzg+wpQE1IJ70URY/HOijxZqn6hAdAfk0gGNTemiLsaIxidU+1T9TGdRnX2NZwJqQTU+NDY0hioR+r5N6MY2L1rLANGqs2xqfGi7M0vrIj+o/FR9VCT5b/FJDDt+oUQw/dqzrH2W2OjFxdBb4FEMVGeopDkG+hvUiJhsaax9i2PjEIev7UQkB2/is8Rv+rWjCSW/wDJWdV7LbHuYNtK7OL1n8lydZDRGMAWzMfmpqvZeR7m+tRzR1IpQRJbrXHlKNbU1Q5Guev6h96E4pB1v8Utz4wNBeh5w6IK0oEsbGJU96n6gd6RMrN0tQ3Y9CKuiGxoc9f1Co+oj6sDSHiNRlNPjRLY/wDVIOtd9WnrSIQ96nJ600iW2OfVL/pqDih6felAg71OVe9NIltjP1K28woTi19aosvau8I6CpqhbPmcnGcdJBdpiyhgQ2UAgjUailxNPj8UjTTsZLWDt09K1zgo4OKiKQf/AFsWpBU7A0niOFTcLmRmOaPUKx2PofWue+3BXiceX9BCaTCuGjzJJEQDf/dq1cD/AFIs0/Kmiy3Ngyn+RVHLgkhBkYXC79wf5/yKzjh1ns2HcLKjZcx0Ddiex2FZxycTpkinTParYi4sQdjRAVkcJxrwpkxQKIps4I1jP+K1MTjcFhcYuGbEKzsLgoCRtca+1emGWMlZxljlFlgFEBQc+P8AJdx3FGkiObG6+9dTlauibUQqM8YPn/Y0WZMtwwPtUFo4VIGleVw/9UzRZpJo+aMxzIDa3axr03D8bFj4wUDI9rmNxqKwpo6KNlwU0QSrRFXcs0stIAKe9EFHUmpCGpyWFzpTkUjhYUQequYlj4qHnr2apqxvFF+c1OY96p5ydz9qnmqfzCmpd4+yzMe9QTfc0I12IqMy7ZhempHNB5rdaEtegLqDa/7UaqG2INaoztZ167NUHKpsSBUhQ3lINKFnZq7NU5DQMQpsTShYWY1BY203qCQBfNXKQ2xpQsnMa7NU5ajIaUWzs1dmqLDuPvUhaULOzVF6ki25A96i4/UPvShaPJYsR4rAkZjHL5wf0Mp1/mr+FY2Li8L4TGqt32A62GtuzDf2qMFypcRadR4QVOm4I0IrHxEMvD8dI8TeQghl+4b/AH1rwrGqo9bzO7/0vxXD5uFznCTeON9YpLaN/j1FIRQ2mKXsjkKSfU2r0EXG4eI3ixcIKPGuYdmG7Dtv/HrScfCUbiXJxMxjhe5SQdTb/PSu0W68jjOKu4vg0kwacRwHMRmjLqULA9VPXvY/tXnJFmjmeOY+JPA6E3C66FfT/Neo4RiGwk30eM0kjHTUOBs470p/U+ChLQYuFh+JdNNiN71xxtqTiz05YqWNTXaHeFyJJAHU3GzjqD3rVGFB6V47heLfh86NJflvobdV/wAivaYKYaI5BU+Rq74paPV9Hlyw+SO67+wPpfShkw+SNmCFiATlHX0rT5QpDi/FIuE4fM1nlIuqXtp3PpXqPCfPzAszOqDIHJsCfL2ra/p1mmwrRlymIw7aHtfqfSsvmCfEO9ghY3IXYE66elbfC8NkxMePhYFWPJxCNtrsa8uVeJ7/AMf9zsNxjES8UaLEMyT4eU2jJ8JB6f73rXw3HRiOIy4MxKkkbEBifN/orz/9T4dcPxCHGIudHsCw6joT6jUfFZxkdMe05fPKLFXPU9PuP5qwtrb2MlJ6ej6AzSEdB7VhY7jax4+COOS0bpnLW312/m4ppeK5eGysoZhywYWjOZtR19jpXlUb8FzIgkzi9yNVbcH+RXTbaPBw0cJ+XJ7mIJLGGGlFyVOoNZXA8Qs+HjCnKrDKoPpratMKyE5TamKe3D7QzYtPJdMMQX6VP03aqGLhixbX0NEuLkUaEH3FdqPPYbxLGpZyAB1NZk2Id5bxkxou3c+9NSlpWzOxY+tUtFfYVaJZMOILDxKGH9uhpqFo5TZWs3Y6GkgljcaGrUYHRqlNGk0x8Ya/SpGGttpSgxckQtExIG5O1GnFJh51Rvi1SmOBrkNbc0JwwVSToBqTUxY6GUjM3LY9G2+9XmJWBDEEHQ+tBZ5of1JhXd+TE0kakAPfLf1sdhTmAxy41H/BaORd1JuCDsQa8bjsA+A4tNhA2iErodCNx+1q2+BY3PlQNy3iYaW3HUW7EX+a47tPk7rGmuDeKyk7ke1CYZG3Zj7mtH8Mi4YW6VF4+/7V2OBmfS+ld9Mw2vWn+H/ooSyHYE1SGd9MTuK76T0p8slrgGhLqD5f3oDx0Ugdeat7jzDqK7HRfUQc2NczpuBoWWqWUYecuhPKkUA/2nvemsM5lXKNJk0Ze/r7GvGes86JORMDGxADeE9q0J8eZsIkTgg5rq3Yih4rgcjcxB+E5swP5TSkeoaNmK30BI2I0BrfDM20bOEx4xaoMQ3LnhsySDdT39u4qvi2J5yx3VVCMxUKdBfXT0ves1ZyykkFZo9CP5+KHn86MHxXU6KenpTRXZpTdajgDtw9k2IOeNux7Vuf07jvrcG0TeeLS3p2rGw0gwoMjjmQ2yyrbyAnRvg/zQsZOD45MZhbyQPvl/MOo9xXOSu0dYSqme5TH8iM869lF7+lYGNnj4tx7lSOI0kQLEx6i1x+52p/D42LH4NZY2zBvT76fzWDxbBEY1PFyxJYYeW+gb9Le/Q1YZG1qyTxJPdCWLhk4bjWixAyuPD6EdKc4Zi5IsW0ZduRMuR9dr7N7g07jsMf6h4DHiUQnFRLYjq1vMPe4/29edwk/wCEVY6jT/FdF5x5Of8AzlaPX4iI4/hxhchpACLjZmHmt6HRh7mvMPhXMeRgeZF1B3XX+CDW7wphPw9kQjmrfRj5W1sR97/eko5hiMcuIyK0hBDp1IK+L5BB+DWMdq0dctSplnBpo8VhxDKxWTDMZI77FTqyk9r+L705juHwNiUblpFBiSUZoz5X39tR4h815pJWwPE1eN2tmurDQ/70r1asn/xSvIWWCRQGs2blNe6MOuh09jbpUnFxdoY5qSqQrDh5uBcXjiZg2FxZ8D20D9Pmth3aUmbzAecJuo01t1sb/Fqz+FouIwAgnCSRsTJHc6Kw3F6uwXEQmJlSQESXzqHGo0sb99fuDXGW22y7R6oODjo+mX4J3mmngnskqnPFY6Mu383qwFsxFrkC/tSfEJcRFiIlwbL+EhmWIgXKm9xf02+3elsRxSQwJjIQDE/hYdY2/Sf91r048kvv7PFmxQ6XaNcWbUEGuKPJC8kIDCFwJF65e4rJwnEmnbxAxm1we9aXB+JxwyBWFhKzBidr3uCfg1vJNpcHHDji5eXRbiYFhxCoGDBwWVvbce+oNBYDarcfhTgcK+KRDJh4GEqAHxKBoffLcgjqp9KxYuKTYiFliCiWPXL1ZR1Hxa9MeVtcm8v4628P8NWhK370rhMbmhDSCRi4zC4At3Hte9C/F4/KkbA28zbD4rqppnmeOSdMLieeLh0zwPlkQBgR71PD8eZoVZXKyEagdazeKcVaeNYY1srC7ne9ugpTCFsHKkym6SG1ux9axKdM6wx3GmK8TneXjeIaVcsgc5rDcdP2o45CjROpKsLqHA2Pr6VPG+W/FY8RCGHMjAkB2JGxHxpUwq8mEcIMpBupJ3Pa1cpHWPR6rg3EhiUGGdssi3Kgt5hWpymAtYW968COajxguQwOaN13U16Hh3GjNhEacASC4YKN/Wtwk+jnkilybnKf9NJ8UxZwGD5iQhiXCanY2rNx/FJ3w7nCNyVKkZ7eK/p2rz2IxOJnQSNJI7pq2Y+a2mvxVlOjMI7HqMPxqOSNS0YLZsrW2A70vxHjpjdREkaxM2VZGG/x0rF4fiC4DxtoGtYjr1B9ar4pAWjJRbRsbkW2NRTNOBYky4jCrIgupGqn9xVaTfTnLI1mjsY36lfWlcDmGGBVri+o7etHik+rwmYaOvX2rlR0/prXix2Ha9iGHiAO16wcZE+GnEc63Dk2dev+DXcLx7YbELn1U+Fx3FbeJhh4lhcitpe8cgHlYUTpkq1Z56WylZlJy6KxItc96gtlkJubEga9O3+Ktmw7wqYp10622+KWJJi38S3DA9r11Rg1MJOFiDWvICUKkaMPX4P807hYI4pCkTl4JgCo3yt0P/HyO9ZfD2MscgTzoAy+pFOROYghUiSB9R6dwfeuMlyd4Pg1uHxLgca6ocsWIPhXosg3HyKbliWTPh8UqyxSC49R/wAEd6zfqkMiQzPmSbyS9cy7X9fWmZMeJCsLupkzWVxpZ/0n36Vyp2d1JVQlCMbwTHs8H4kMrZiCbBj1+SNfekuJ4DmcYMvDl5kWIOYqu8Z3IIrdDw43DtE7aEWdQbMhpXD4Q8Nkw6vNezFUI0BuNL+4/eusZ0cZw5/gEJj4bIkhUNGVCyltxc6N7dKZ4pgwkH1WFUK8TZ2y9R39fX0qzinKfh7TOpzJodL6HofT1qvhszYYDDSksqmyMe36T/xWV7N8fqeWxjLMSyAgE3t2v/3XqeBTDG8MjikBsqsjW/Mp6e99qR4nwlIcRzIVCxSaj+09RS+DmxHDofwiLlt7Xtvf76V3l5R4PNF6SdmlwpGwmKxHDZpCQxEkEh29Db41osdLmxisqFZUAYgbXG9j31+RalZpnxGIeV2uCSV0uRQ3aRc65uagJYA7juKml8svyUqRGIx6LjknOaPL4SrKdFI1X26jtV7SRA4hI86tJGCRe4Nj5vWlmJxiHOQwta50ahiRsNhVEjZsjeDWxtsRV0onyN2Fh5nw2I5vNWQDRk2PrvTcuLMaYeNEVkkZU5lte3/NY3PkMrIQWUaAkUzAruqWeyG59jWpIzB0j6BwkO/C5oMTmlCuwHdlI2/mvJI6jE5oZFAW4/FSzdq1OH8TlhwgyvmfKAf7iKSmiXFiWaRFeW9201JJ19680E022eqck0kiiQyoF/CXKLkEN37VbDGZD+Iqge4v/FLgBSqWZM2oKsdvUVKSNExHOOm2m9dr44PP92ynjWHRGBizH0+RVWDfKXgcHIzC1h+4+d6tllMkFrFyCfEf91qnPJkVmyMy2tl3FZfKNwaTFcezGOJCR+HJ06XFq6GVljbuuwHUVdiMOZ4yyuM9rjN2pS5YBVHiqLo0+yxs8hEkR8Q8ysbXH+RUpjBh2jdySrX27kb/AHqqJmEoYL5wbhjSSTSRukbL4M2ZCRt0vequDnLk2V4jIcIz5gXFrAC1796BLDCSyknOTm001vWfJLdyMuUm+lEcUVwzRBr5reG3X0qvkipcoOKYQSPNGFsTqFNOri0xEZVvI3fUi9ZHjzhVXxjp7b1eqmR38JVtDa1ZaNJgcHZkMsbNYW2Pe9OG6Oynwljce/as6BZIW5igZVNit9SDvWqQs8Vgc2lw3cdD71WSLMrFRmGcSqPCxsR2NX8Pxr4OV7v+E5seuU9DVskfNiZZD6MQP3paOB45wHXPGfCTtcd6vaCdM2Z0TH4fPGVLDQa/tWG8ZgdhILa5WuPKf9/mm8HMeG4x4JSeWdQ3f1rSwzDGs8mZWXLkCstwR3/6onRGYGGmfB4sMvl7dxWxIictcTFYwym7EaZT3qybhUEoHKRUYHbpersNDkwzxOhs+622Ox+9HyVOhVoxNAYpTY30b16H3vQYTHOmIVMWA8U/hbN+Vh6/GlApeGZsLKcyMLI56jp8ihkT6iOQFDzTbMBpmI9OhrNGrs05XWDiqHEKJIpAFSbYqRqASP8ATan8RCmJw7RFst9Vbex6GsTAYrnxfTYkBwy2Vts4/wCCKeWVsLIkFmlRtY23I/8AystHVNDmHk+pwjLMLSLeOVDtf/B3+aXwYLRyYWQ/iQbWOrL0+1HEpOJMoYqWWzoR1GxFTiIM0keKiBEkN72/MttRRIy5JMtwuJXErJh5QC6aMOjDuKSlgXAs6NneOTVSehqzFQ5nTGYdsrqdSBuPWrxMMdhXRhkkU6r2PQj0rUXRJ01aM5Sq3CiS5Nw1tqseTD80I2cNexYbGobBERs6sfv/ADVESMSrNrrvXZNHlotmliSDLEbsvpqDQ4fFo8hjmRCp8yEX0olKgkltjtbep2QOn7VG/o0uC2bBQmRZY2sgG1URKqhbgW3GljaphlYrdb2tsaB5LA3uATYX6jrb5rLscDuDblSSXItl07aVMWNKEsCy9qXja510GXX1NAEKuALOGNjbSoaTHhPzXY+bOdc2mlVyT+MqDbS4sN6XJcFwCQb2se1dcSKpbQb/ABRkQYbKpdrKzWIHaqOQrTMczAsp/wCqsduYtjeyjahUGSxXUdCelCpgyYeTltymDMo61TBh7R62Z/U31pwOQSO+ntVQOVNABrY2OtQti+Jj/wDFKoIZGFgNbVMCRGRnaPLI+lmO3XSgxa3kZUJVf2FBG55e+vW/SrRDsTg4hHmG76+GqnUcsADLrew3rREi2CHQbjSqZuWNBYt3FQCQikEl1XKx1HzvejV5FP5bHoDVuYk311NViPRgRp09fWqSw1ijJIY+tcoaE2W9gSQPQ1KgZtLEd7VJchRlvYmwvVIc1wLnoNu1RGvcXIFViXMO4NWCwAI+9C2FiII8SFa1mFwPtVmAQwqVUkKTexG3SgNwdLXOtEGLabn3qAfsJFZdb2veihYx6t5uoBpNMQARc2B3ANS8rRMUAzdaULLcSfpkM6i4GrAiqSy4nG5WhKKQGSRNDfsavjmLLZrHTUetA8i5QBYMDpbpUSZrYWxWCZJudCC8Mp8a21Vvb1/mncOCIVSQeVgVb1qs4ggAFr0L4sZbk6nYHvWtSbMcMgzMqW06e9XLMqAAnU9KyVxLOXZQelMJiBlBbttVSM2NxShFIOhOooGYMbjf0FUtOAtjYgaCx1qsy2kGXW/c1aQtjIccq1iDfWqvAsVlUEjW9qreazX3JuCBUCQjsCet96gIkkABHtbSoDnJYXvftVMhUA66WuLdDUo7gZWOY3+algNZD+Q+IaXtpQsWcPG50GprsysUN9wNSNRVqBFJAU3JuWP7UB0UmeIMCcwXQ96MEC+ozDXtVTKIhdiAbWuNr1WZDlBvsdSRUKMEMZtLhf0+tUc0EEAkBdLXqOcAWYMQSBrelnmlEuUahjpcbClAajkKhlJA8VgD+1HG7ojCwBBAsPWlIpcgYMuYk3B3q7ObgnS/X/NAWfUm4HRTudKXncCMknbr2rnzMSRYgA3qARyzY6W37UICzOviI6aEGi1y66kiq1m8Fn39KnmhVuGsNqAnn3bxkAjS1GGGYML7bUtqLkanrRq/gAuLg9OtClnNUrYbepqFYOCuoK/uKqXS2oHoa7mHMTrYdTQgUUoz631GgqwG4sDe5I+aWzWcaajS1FG5eRQpA1N6hS8Q2dNS2hJqzDxEXBNxaqVcgfq1sDUR4jK1wdzb3oC8XUuLHU0TrkF7anXSqxIAD+XMdTUmdgMlrg9aqIVqjSSGzG+/xTLSjKD+Zhba9KiUiQ5Cc21gNqYlyooYnU6aVUATOyAEaelVl3c5tSL7dqMnNubXqIiVUm9+5oAcrg+K4BP+mpmuotlzjvpV2bIupuT+1ANVN9t9qIUTELYUg/At1q1QLuDpbY70JdFAU7W696jmre+tWyBKpYk316VAIPnJUt6ChLW2F/2uarMmWMm3r/3SykuxyBgbNf7d6IueQw3NtO9VkLkuujX39TQ5yulhfaogWxtHkKML31v3qxZEVcylSba33FJEjmX67a1DyAbWHX3oBhnDSX06UZmJc3Kix16g0nmuS2br72rmY2ChtCQNxQDRmzqdAUAOlDI4KMb6ixB2qswlUvYbakGlY2klcAi43v3oBgkNY7ga26UKkI4YkknrVczFFN9Ol6kC7lCPKOvXtUA5CyGzE3a/aiJDK2YZiPi1LqAg2Fwb39BVrsz2uDqPuaFIJ6WOpuTVGcqpAXMGOlXsLkjMdNqpbL1Ia3pQhUFGS0h1I1tXWCIApGhGW3egY2ksdt9elQHbNl+QbUAeRs2b0tahRmGYAdBY96uL82P99qpMTXNzY3uB2oAybN4iQemlc7rax67CqgbgiTQjexqV/EdSD5qAYlW+ezC+mmnWqog1w4HhFhcGrWN1ZiADbUDeq0EsbBQPt2oUaVFWF0FzY3velnY3yjXXTTUVcrlnYhdzuDvvUutkBkst9daEKXNvMvSrkPiXMBa2mvxXG5kUNrcFaiWPLGddF2oAgoIJAt1N6AsWa2osKujfwFTa4A1oUYFnvv0oyohG5akm2ugvpeuMrvKDuP2qPy+LXXQCgifM5UHagLixbcm1TzPgDp3qWZVjNxc7ADrQrECuZtG0sKiRQA7Z1uNtbdKlCv6rW/cVfCjHMMl7jr3pdlCXVwMx2FUyEJQ5JvpsbUGYr3Ol9etGIxlumwOotRyIQrF9TYaCqCtJCOlje9EviubW0oXKBQ4Fj6dK4SWIuMtxc+1QpXymY2HTxXquS6n0J2HSmluBm6a633qp/Fe/lXvQULwnMb5TY6GpGlgRqTaiRhEQLWvsPenMNAkgQlTcgkgnrehCnM0qgEbixPeojiChst3Zd+ljeroxlawUliLG9FEhVi9gSTQFf091sw09ajJlBsTc6nrTbPeMsu/WllfxMosBtQFQB8pNx09qszNyQQoIGmnepD+AnYXB1610RZ9B36UKCDmQgnbtVQjJRmJ2F79/ar2hAGrk6396h3RIioNjuCKAUlS4O9wR8UClfzAkjXe1WyEBbg20GnauEazQZrki9qEDQEIptbuKCQea6EXOgvTCxlVR3NyF2OxoSvhU2BbU1QURrfcbi9C4MTghWsDbTrROrsCL2v0q2RjIoBFjp1qA/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAA5EAACAgEDAgUCBAQGAgIDAAABAgMRAAQSITFBBRMiUWEycRSBkaEjQrHBBlJi0eHwFfEkM3KCov/EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAgEQEBAQEAAgMAAwEAAAAAAAAAARECITESQVEDYXEi/9oADAMBAAIRAxEAPwBoPBYpNGZIlEcrtuMajp9j1GPF4dFOfL1WmQQxgLZUEN9u4xfEk1Wq06DwqQGKK2JjNEkdj3zXoNfJGU/ENE2oCiyzBR+Wd09PnL780+li0+m1KaeF2ij5BHUkYmv0kCOGgEkq3uPq6ZqkeCfUqyxgTFaY9RfxlTadhEJVmUPdFeoI+MciLfCrTKrxmfwqlMfpkLXZN9vnLTpYnYymvNB/Qnr/AOs1QwywRNEEDenzNyCibxYEaTSOrt6ybpuxwVVWlTaiaYlii/zEXmzRaGJZXgEqsnYjk1gigJ6Pfp5GIYgoLq6xufSLPW8BPHuAZJRrFiVY3WJiOD1++M4V4vMK0Qb5PAPtzlEz+U8bTBQV4BXuc0qgkhW0/hGmYk/TlI3WT/EEsqeEuYot0hFIFNV9s854VL4t4rqotNMTH5TbnZkrjsOeoGewl1ULOPLHqHQXxWZ9iMfO5RuNy/2GT8VzvNhdJotOsizeRHJqozs3VWcDXa14fF5NKmlaFZHpnTqT8Dof+c9TO6Mu5lptlkrxZ6ivtnNGmMujljW2V23Mx52mq49sfktkuOd45rpNNGGjKSrYB2n1VXc9jlnhvl6sK8TbUjSz5huvjnvYx9X4Rp98cPkqqlbLEksx6CyPbKFi02s0M0ci+U0QZQ4Nc9Ocm6qWLBIZfISCZY9K/qchqJauRfYZXp/CYYPEG1UOpI/iEAEcP8Xnl4Y9VPMujEjtKpUAk8ADigfas73i8eo0uo/CRlK8veZnaq56A+/XJ3x5a/G7kr0oijkiiWVPSpG3noc0NoFh0EjbQN43hS30sO/2zi+H+JrqtI3mvSL9UnYj+2dOLXJrNEkumeOeIizz+9ZXtlP+dZofE4fxA/ESGK+CfYdOBm6SSCWEFWDlDa9h1+ffOfJDGsh1hG5lFUQSOvFD3++Xx6JY9bHvLskv8Tk/t8Y/VLdmLNVGkun8yclo0+qz9K9f0wqt1JpgrpQ2cdD75tmiG/bsuOQUFrtmYacLKuljBBQbgR7e2L5K+DQBW6bUOOEF1wL9sUOk6UgLc35gPBwoqSQbXDMCaZf9J7/kcu02mZHeIXskUsgH8w/6Mm1tzz+LlZt0jKu0yxhitdK6nHgjEjRMwNjgMO/H/GNGiRLE0pBFbQvavnLIS43xNQ2sGWqIA7c+2Rrpk32zoXkYsUdqet546ZeX9YnVS28+qNhV4uoeRZN0K7q9/pHP9cJj/h7qNlgbvg4qrmYuEdHab8tj6ea2H596yL6XVmXgrtc+xB4OWu26Lg06HpfXAoAXepsm7A6cZLaTPR1/iS+YwoAG76H/AJwiEbQqiwAaP7j+4yKVAA3dabrwMaMuEDc0TxiXDqLDUeBX65OWc7htNEn+2VRlyjEjv2yWTKWLDldos4lPnHg2n12jgXVvLGrljuik6mvn++aptG3ieuh1IWEeW24xkdvmuovOcvjMBiaXUKYpwCdjuWHPTnPQPB+L8PRYqEtKTt7iu/xnTMeJdppIppIizKqOoIYpyD9sxwuYNhdXmjJtQOCcfRSy6Wc2j+W5O1aq64vNEzRPGzstuovaOo+PjL9Mt3yOkZ11RnlRo1I2oL5zHqNVC3iEkMMp80UGUNySffNfhscMweKQlXFn1XecTXeEah/ETOJCAslCWN/LKr88c4r4VMs8uvpN8oCAUyHawZvr+PywaYw6+VnKlGB9III3VlQ8PfRxI2ll8yM/zXbAk98q1Uyr4isiu6ttoqw5X5H6Y9+055w8njWi1uuHh8yhZUFggWCfYZ0odOzqpViYm4Iroc4Z8Pg1HikMiozyIAXkAFsOt897HX753lm26RoQeHJHPBBxTTuXyzaKSJJ3Etcc245UfbJqdTG2oAkra5sMvH5n4zna2YeGaabUTqiuRwGWwfYX0Oc6HxiZ/AEneFJJPOaMAdSevT7dB3rC9SUc8Wzw6up1Qik8mcneXATyyCTedeORF0smmemZhyF6r7E55nTT+E+PHZAWeYxlU7Mh78dR1zZFJqdFp/w8cW+VW2gufUydmPx8ZPy1Xw+P+tBRoYCZ98vBjZgCo+Pzzk7gXbSLLGw3ko7HqOeCM6+ilm1CFNSJCnHWgM48n+HT5/mzzhSzcJ1b7g/pxjqecY0Ec8JXbLG0Du++M2T7jOpBo5dXArxzbiV3JuUHdx19we2VzaGPTlijvMjUDRIK+/PbNmlSPS64tSo8gBAUlt49ycmc60+eenG1aL4f4eQNoaRghiWzR56e/bg5v/w/WnhaMJsWU74mvr737c9u2ahHDq9eItbpFlhBBD7Qa7gH2zfpdMiUYtpCEj0jhfbHIVvjF8JZ4QoXymZre+TliK0zKgveb2IOOB2wxL5MrSldzD8uMecK7eZp3Kmwbvpharnn7IN0ymON9x05Nhhyv/SMMUcrynVxlqjqx/bL4VLSu4K7gPUQOp/vgjIaRoYwUf8AlNUDk63nCxiqySbLIZTddOcu0kbPGA5KbAab5yRRpDI0d2zG3cD9hlkys0ahT1Fk/Ptka2nP2qdfIkAP8RCfST2rHd2EgZTSVY+fjFjXYNnO5uSL6gfOWsgdCFFbT6fesWtOeRCqHNEgPTBq6jvlsTNsbctoa4HvhiVJNPf+S7B+ckY2xbSSSDz75LWQTEpf24P264Cx8ukHBORRvBPxjlwFZQAWUXxx2wPE8kKBwBwOb6ZKLKpB2lfc9R2OEQ7ydxPPS+Mv8sEChVjvi1citAUDWLs8k5o8sFAW44/TIqhR7nvuxgoHAFEdsFSPjmvbS+IlIvDxtm/ljsEALyfVXzx1yzR6+TS69o59WQjEKQG5U+19cyeExQSRLMHTcWG6EryK9so1hjfxN22GbcKRegUnuD3zb+3j+/D2UGpWVGWG2aPoAb3DsRlXhUjjTy6p2Jd2YrzuoWQF+SM5a+OQT+GSQQQNJsPlzNyGC/5qHzm7w9oPCdQNPpyzjbu4sgf8kfrly6xvOGSeVFchmMiC1U8Ej++aNsuncs6yagzL69/0qD1o+/xg1StqdDLsCGQgqGB+n7+2Z9Nrxo4oNLOZ2mkX+YWrHoaytZyfrXr9cvh3g0svk0kQFoDyR75yIhHryuqgqTzVG8EXt+xzraqCWXSvHFL5cjG1kA4//Ej2xtDoU8P07xgqrOLYIB6fgYfZ/SxUUKojURspHqUWTx75dpjK2pAl2uqXbX2zleLz6mJdM2mkIiEgVkCkluPftmvVa/TwzJpOYp5l9Cg8EffDfoSbNJ4voNL4ojxyBiwBN3XA9hnntft0vhkfhegZlWcgsQQXLDrz2++dyCdn1MkLhncAcNQFDrznmPGNLLHqvMjfbF5myOSPjb8ZFv1WnE9WOnptBH4Ntlild9XqHHNbRV9OOa+c0eNQarWaxT4f/EfadyNu5Pbn4568YsMDarw2DTzI1pbmQH1i2AB/P+lZ0vCtLNpZyiakvGb2kg2B3GEmwdWzrS+EiaDSRPrkcSHgK5HB+ayvxPTyTa9ZI2AjHDKVom66HLotYj68MXEUYBUoeGsHqAevXL9TqIpVZd3mMOCnJP8A76ZWRG32xnw1Yo/OEjbZWKuN1EdCD7e+aYdNBtUgAen02ObzDN4hHotQY9dGkRYgxqrcHtZv3GddkWPZKsfnEgEheaGEuHl68gmniiZUQEFDYAF315vLpYV84PQjidaF9QcaKMJICGCs44J5v4w0DIRTlywtWAPHvi1pzykaNHCdrtPGLAFck+/2wg+YjnaAPoFDn5GWSRtp9Qvk7gQLO0fr+2aRGrSAqgCgU3HU5FrfnhUlR6RhIux7FV7Zc2xFHlKfULrv98eY0KmUEVXA6YyG4jvFkHrk63nJTtjCr37GqxgTvYbbU9R2vLNu87qsDr8/bAu8kACiDd1k61nOA6MwsimU8EfvlqJ6wTwKF4UHr9Z69sAbc9noaGJYxABG2+mzZNXjqQsfBBAHthRaViAQO3GDyipIqt2JUgWxW1FfGGKAlvi+Tl6rsHq6+/tjBdwI27SR1rEuQyimFCx1Jxj1PNEnAL2gexybhfz7YHhiRfaq64psiwMUXdH9MtNKv26YlY+K+KayCH/Ebuo2zISNsakFlI57dO+WwiDV6SRI4mWSFgFs21X1+BnR/wDHJ5sEurkfb9AZlrdXTn7jLyumOv8AIaFXjlWt6n6jXQn++dPMuPB66muJMV/w7qAxDNqpxstVsqD2b9M6Ecss2pj85oWJNs6LtauAB+VHrm6TSK08McKqDFW4CyHHsfn5zn+K6VvB54NTBEsm30pHHZNluRWXJntFvy8R29Ig00dSw3JK52noG4/mx46bfJMpWUc0uPL4dLrtDH5pMUsPJocMczqxWZ/OS1oWQ10ccR14yNUc0KI1kEDm2/mOCGORoxHJtAbncMUQacxPJKeABQqwTi63UJBsRidr9xwB8X/bGWXBkkiW9PEspA+p24s+2c/WTiXWANp9ywuQkl+pT/lGDVeaNUkgd5ISOYkPKn3vOhM2yWNyVWNwCN31Bv8AvfEJ+uZpNK5k8vUP5csbERKxsuPas3Q6WCWOWGMmNY33iNjW0kdeOmCaUtM0hjDSKKSSNbIH5408fltGY9pm6MR3v+v3yc8q3w5HiazeHa8aiCVtrfTIi2L6UfYE986Gn1Gr1ZhkkZ4Qm7zFYEMw/wBu+b1iJkIdaAHSsr1ejlA1DpJYdQOoO3jpWHx86fyuY5es0inXwa6Ebio2SKygh+35Gu+dHSR6csszAiKVbCkVZsist8P0O/RPHqQkjigWraFOWxaKFX8qlRkXrXQYHJSarwqHU6tmSKJt8ZVvMIPHb8xmmFH0sKwR/wAw9R7D4yKI5yBsMZjA2n/Nmtog6BioaMtZF9D7Xk2tuedZxpi0Ox22SWHF9AP980AxiYKBTypR9/veFkEUzFn3sQfQP75ZEC2nO6uPc976ZNrfnnAVmCCN/wCGOnvjRIdhRBx3PvkiVml3MAFbsBeXdLWzVWK4rJbcwQFdN22yPfrixqXQlr64ybtzEki+574yoA4C9D+2S0kBiA6qL4IvLHUAEjgVQrIqqA/PLHASXYIopRy19cFyDtsM26qNWcdYyxBPUfphhTfRdaNmh/fNKoBtA5HQkjFqpyrhUxD1ENfcdMI2uqlq6UDjKlHoLHtj7ev3+2JciAUvPPFEDpk7dT8ZDweOp55wdcWnIIvm8hAK4AawXiUYkXffAST1yDJWAfO55Y4IYxvM0DEs5B4UV7dsnhES6ckQKsgPqDqtKb55+cfS6DSwkbpFZTXDMCfbn/bNOjMEKvp4tRfWifYZ2SvnbPwPEdbFHKphAfenpdCaVvY/nnG8S00uuk0jrI7kyL6l42t717dc1Rxj/wAq8enlUgoSFdqJ6ciuCPnNbavb4f8A/GjaMl9p3rVfOO/hTdtUfix4a/kCYFFRiC11fz++UaYS+Iav0wsmwWRtP7n2y1oyuvQzqrRBdplNcH7e+adI/wCC0TPGlyG1Uk7bPZj8YvQzR1Gsn0qxMhC2aLFNwI/tnJ8S1mrk8Fj8gCYzyEx2CCp9jfGbG0x1yJpdQzxaiy0TRnsRVn9846xjTaiJvxks8ELBEhcU24muoxX2rn06XgOrkm4mRlkYMH3EUpXjt75frIn16ophktPQVDc0ObNf0y2PRR/iUmMfk6leCEBAI+ff3zbGo0ukUl3lkFkEmr9wT0xz0V9kgCQxsvntN/CveR1Yf3x4ooNTpCHjKow63Rv49sz6RotV4kyRlAAtMg5r882uTpnC+TvHuOnGV/UTP2s0Hh8+i0J8jUM7J9O6iQLy+BWmtpGRmUbqXuct1LrpZaj9ZK9QODfxjmBEhE+nG5nBDLfKj3GLfC5zt/wkyl5g7QMkYq64BzUtKgKIzW1WBZGVxStKxjiTzEoA7z9Jy4Dyr8t6AXa5Jraci1vzz9gFSF3AS2kG7awqh7jEjTy1Cx7yv1KrdzlhjEsm8N5e0CyLphjEeYIwh+ngEdjk2teeTOoPlirk6k9MsEfpBc0t8LXAOOqqoAPUryRjSklxHVgir9sjW85I92Nt7j0+cYDzCC3vwO2NHUe1n7jqcY0CvPc184mkmADZCqPi8aiK5odB/vjKgDiwOL4wA7uAeDfq64lyFPINcEtQPtlsUVbjVgnnGjjtvUOMtQeogggjnnJaSYIXahb9D3w0VclWPyMY16gw6D8jgT6euBio6fHxkJofPtkLbcTqcNOROp5wjjJWQYjTJXOGsmATCBeAC8ccChjJ8i8L1+o1GtMaKiBb2KVv1duO33zSgqTVsmnmMn+lgKPcAexzb+CYu+r05ibUKPWB04/4yvT6l9Tp5RqXLyuxVboHaO5r9M6Z4rwN2E0iajXaF0hU+VE2z+INpXn+Xv8A+s62lgU6TydRJ5rLy2z47ZzdPr2j5RSTdMijoPcX1zpDR6dYRqd8jO7WwAoDjvlQvbNqQXgm1CaYyQnqoG5vt9/nOPoIW1un1EjO8MjGjHJY2/6RmnTeKT6bUTIsTSRm1BjayB8ducy6jxGVYQx0s6aOvWytZUnjn7nvhSnl2210cBhhle5ttqxNbqHb3rOLD4fI3izapJIJtI/Ta1EN1Nfb3xtX4WNZp9JpC8pLsH3Eb646Ej398tg8M1nh8kggiUBx0BsEnj/vbF5V49/bsTTnw/RxsBJLJVluL2nLIGlbThJkuGVbYEVZPxmbRCZNWX1IvThdwKrytdqze+t088txOGi4DH5GP+izfJ5Ymg08a6VAQg52jmsKlCoIFMa4Pvj+QhBmid1IFBR0GFC3m/xoI93cdARhq5z58iNO0aLsVW8y9w6i/jLBHvgYQMq9mIHIXDPGumVA60H+gg3l0QR0FrSjm+5yNb88/RNImzd5YoNW09x+XTBJ/wDarkAlWC3XX3x41YtS0qgWB0vnHB2yeZt9JFMK/fJ1tzz4wF3CIC9gvaGGNWw2QLoX+uPtqBunpIIAywxlwR/mAIvJayIF4DVbAen74GpY/T6ivf75GO+PYP5OSfzxo0VI97t3Aq+cSogQlSQPpPH3xjzIFUbiB1wKXlXi1BPPe8tSMKAqn7/OLVyarKbz3I+O+WKl0RVYyxlW3fkeMtpd3X4sZPtrJgRoQSaBsdsgX+JySDWMPSwCj7/GQk77PGASiWs/bJe3gDCxo9bOKBiOQKw1hrJWBhhwYRgEyAWcYL75PtjIegwZMmAfL9NLOmqk0zKIolIrZzvJHQZiSFtBqtQZCrqLO6uR7D4zRo9mm1aRCPcCS6Mz3z3odBnSnh1cmpbUxpE0iR0Ynrp7Z0e3g+ixMunjil1KRoXIuUkkAduma01KO2q08oA4p/VZb5odMyaPUSazQuJ2/DJGbUCrBGUkx6idohPHGAOA3Y9wT++XPCN305+uP/gvGIDHGzK43cDhh06e5751NTPNqNLIdEghmdipWQWrCv6ZX4q8kemWFQ3nRIBG62TX3/XOtp4zHooRqSwDryH737++GDcmMfgum1SaEaeacB23FypsHng/p/TOloCdO7qxLbR9bc19sqh0kumVpk3NGvZxX6e+XpJG5OwbDLX1N1+2P1BNt2lj81tSZXkIQc7+nXNGihghjcnZtHQDpeNIjAhQFKrxuA3A48Uas/pU+SwBC1V+5GTa344wkbbIVUkFJDzTdPscYQCJjFGSHY8E88fOONDtltd3khgdpA4y12bzm5CkNW4ZGtpx+hFENpViN1dTzX2x0TzHCKAq9j7/APGOtqjMRXuCPywWNhHVdoHGTrWchIPNTcFK7TXtxlkIuBS5s9WOBdqALzTgXjqgQGMg+onoeayWsgULu/SxojreWoajoCythcEYVNxY9+BgVTyOa9sFSBEoETFhQaryxUL2X9KA9PfGWMIi+YLroPjGPJrb6R2xWr55DqAqil+MsjXu3Kn9sIWuRVfOE+kkZLQtlWK/Up6XjgFWuuowBRXPIHOOFAPGBgeTeRvz6ZG54yAXiCcsbPXDkrJgYjARkF44HGMldHCBXOMcGATJgxgLGACucIGHJjJ8O1k834fTuJCfNkKbhFT0ftWek8O/Ev4Yu4s2qUEeY4HK9qH++czSlvE/HxF5u1dIfMAK9SDyBX6Z29Nq11OvL6ZQiPz5fl0BXFA5tzZa8XuWcroI49U6zR7Y3r1Fx9RH9cmu8I0upMMoh2Ts1PKOB7HjBqXnXXJBFEWCjczM33IC/wB826eJpoNk0ZjJ9RJboM1YyYzxwbFOnUl2NbXvp+udKUFVSRyH7dLIP2zNEhaQrDGPQPqJoj8s3BLi23R7t3+2K1fHOxjdPMnVn3DdwqE5pKOWLzIjVwm0WciMSpjIVT2YmySOwy9JG85XQWyimWgCP9xk2tuOIpCuZC/mGh3HBH/65fAGmRWI9Qsq1c/OVuoM3mqxFntXXNUYt7DD1eknpkWtueSLMDwTbdWB7YFh2sWYeoX0/tjDaJSVBPycs2ldQBV7h+gxa1kMfWgUErx9QH9cSMXu8ytyntjpSkjdZPvkiU7Dx1bkHtkrkFACQ/bHVt0jf6RzkY+XA2wA88A/1wIjdXayRZOGrk1FG6Qnbwx49xlqDbIPSSe/xjRq24ECxllCzXBPxktJzgBbJfnkd8b+bgAjviobuzxhv1Wpoj98S0BuyOD3HuMarJsAg5CFK30vvhoX1HP7YBAPSeCMJoKAO+Rf5ryVfOAgYcGQYjMBeNtyDJjJOmQYMIxkhxTj9sQMCxrtxgAo3jDpk64MRiMg63i9uecIFChxgHyE+BQaDxBTptTNM3WQFztRvax7+2eo8P8ADdMpPkr+GLkEMOR+YyuOBYd8sEStE7bnJHN33zfpTHPIrq7bS3rVj0+BnVJJ5eDt6uM8cky6phINxJoMe4zfEv4ibaFKog9Z9z7DM2q0T+aRqhQTkNFxQ9s16VhJA5FAAUF5BPbC1f8AHxdys8ZKEuiEC9vuTmy0dVZeAooLXqs49EbhHLVClAH/APOZYjJE3q2qB9W08HnIt1vzz8fDRNEFYB0DWKF81kjO2Sh2FfP5ZaTuQbhuPUWP1xII6fcx+fmsnW05ypGjNdk+ws8gZpICrsVboe/TK3JOp9PIqjhoqDVbwecSpC7dj7RyTyOOgy1m2AtyWUWcVF3OKHU9Tl4UF9xqu32xLkVxR0zHqCL2j3wyPahUonufbISWO2M1Z9TDocZEVF4HF85NrSc6gVd4DdX9Iyzymsc/ce+QKA+5jfbHSrsdunOJpIhYCiRRHH3xmPIOQ2UIPNe+FRY5wMFSjddcK9CK56jCFo4R8e+AS+pqvfAeTa4RySPzwgVgEAoYQMIGEAYAhGRe+PgOAC8IwDrjDAJWEZLwA38YyQA7ibNVVZCMg4Xk385DgCmxkrm8Pf4yXXXpgZSDXBw4cmAePi3aONwpKpfA6hrzRFpKH8X6mpvT2xolXSPRbzYHND2By5RJFpz5r3uN7QeT7Z0WvI4/j/UAMLE6inUD0KDf65IyzSKIkq17UBZPPGTTs3mNI4BVeQFH++NFEYJiwXljZUm+MjW85XAWNvQjgUORlEKLtdzddKPNZftqTc1/POL6k1LKTasbv75LSQxryzQNAcV2ONYAsj7V/TJGFKAAem/2yAA6ggg1xf3xKkQqC4I9rOWbdzba5XnjIkJOocH3q/jGEtOwo7iK3Vxgcmiu2CLcwJ3cAYADIAHrZ2AyRx7DZJNdbOP0Fgce1dsm1rzyig+YNtFao/GOq7VNHkfrkjXy0C+3Q4xUsrGvvWJYICwANgg/kcYqQb685F6H9MYDkqe3IwMQK5oGxgHA479sIPHW8hPGAGyPyOAGzxxkq+uMBQrEEAGMBkAw4wmTJkxkmA4chwBcN/fJkHPTAD06C8mA4LvACOR14OQUevUZKsYevXAB0wY1ZKwBQffIAST+2MAKyAUeuBv/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAABQECAwQGAAf/xABGEAACAQMDAQUEBgcECQUBAAABAgMABBEFEiExEyJBUWEGFHGBFTJSkbHRIzNCYnKhwQeCouEWJCVDY7LS4vBTZHOSwvH/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/EACURAAICAgICAgIDAQAAAAAAAAABAhESIQNRMUEicRNhFIHBkf/aAAwDAQACEQMRAD8A3095AgRFlQykA5ckbc9BkcY8hmltdYa1hZ443mcHbuA7oPr/AOE0LUJG2J5w9xjvIpyFPUkkePn/AEpsVxHLabojhEJAI5LN44HQev3VwPkaejtULWy5IVgXbbuMu2ThiNx8z4k+lVrvWCg7FY7i4ZcZVRwfHk8CqtkLl5maXasRU7Vx3h8TVwQ5PNYuUpeTRKMfAPkudYvBgGK2TPdVT9UfKoY9CuJHZpbs5cYbavh4jJo4kPpU6RUsR5teATD7PWwOX3yH1b8qv2+kWsRyltGD57eavpFUyJVqJDmyFIAPCpBApGCoPxqZUp4WqUSciKOBIxhEVR+6MVIEqQLTgtWok5EYSlC1JtpQvpTxJsjC0oWpNvoaXb6VWIWR7aULUgWl208RZEe2u21JiuxTxFYzbXbafiuxTxFYzbSYqTFdiniFkeKTbUmK7FPEVkJWmFKnIphFJxGmV2jBqMxjyqyVphWs3ApSKxjFMKVZK0wrUYFqRWKUwrVkrUZWpxHkVytN2VYK0zbSxHkee+0ftHBpELWsW4zRgExKSSM9Mt4sefh8aJewskl77NrNLE8RaaTCPnIGazsivp3tHdKUdmWTavP1mMm3H869F06HFtz1yahJV+zWd3+h6R8VMsdSLHUyR4qkjOxiR1MkdOVKlVKpRIsaqVKq0qrUirWiiTY0LTgtOC04LVqJNiBaUCnYpcVWJNlXUDtsJTkjjqDjFZSTU0h2xzPMrNnaAxO4A4z6VqNY7ulTH0rE6pEJdSs0yRiEkgdT3sVVaBO2Wfpq2jyryXK4PJ2scU7/AEgsd4UXUvwAbJoZptjdausr29qjrG7RsN75wDjnFX09m7xTg6aceSs2KXyH8S22u268Ga4w37jU631aK4doormcuBuIO4cfGhV/pMum2ct3c2G1IVLZLv4DOOtMsXB1KGQL3XtmYgHOCQDjNNXexOqtG60cs1iN7s7A8ljk9Kv4qhooxZHPUkE/cKv1VEWdiuxS4rsU6CxKSnUlOhWNpKdim4ooBCKbinUlKhgi/vZra8EcQL7/ANn/APpqu1/dqW3wyY8MBf8Aqq1eKDqERPP6QfhUd40kdwyxgFQMj40q0NMpHU7luiTD5L+dOGoTgEGOYn+EH8DUwRyASBuPNIEdcYxyRkfjU0hkJvroKSYZiB+5/nUL6jdEfqpFyOvZnirbs5G3OPQ4qO4LCPBJwcdceJpUhlaC9uGZC0pIZgCrR7aK7aCQSI2qyQoMGMKxHhgmj2KhxRSZn/o2Oa9a4kG9mfeCQOD6Uas4sQdPE1EkNX7aPEI+NYKLNXIRY6kVKeEp4WtFEhyGqlPVacFxTgK0USLOApwFcBThVpE2cBS4rq6qUSbFpC2BXHpQvWr9rZIIYT+muJVUcZwvVj9wpv4q2JbdE2tkfRE24+AP86yN5GTqFvICMrBjJ6HvUa1C77XSLmVzkSShY1/dHQfjWYuxJHNDNJu7fb3j6ZJx8OlZqak6RSVB/wDs4wYr7HI94f8A5jWrlvo45yghBVThmrGf2a3CJZ3buwGZ26kDPeNbJjZSTGQsu7x74wa6YeDGXkEe34A9krzHA7Mn/Cax+kqI7y2QqQjWZIz8BWs9vZ0l9lLzYwP6NuAQf2TWT0qQNdW2V5EHP/0FTJfIuD+LNzoLbtPyeuf6USoJoV0I9MB2k7mIA9QOnzoxHMksSyIcq4BB9KFTdAx9LUTXEaZ3uFABY5PQDqaiivVmvDEgyOzV8/H/ACobSdCLNdilzSVVAJSUppDSoBpptOpKVDsEX/F/CfDtB+FJdH/WWU9WBI+6pL4f61ET/wCqPwqjqdyLe83ZGQoHPrxSfgaLCE7ASCMKOtN4WTHTdUa3KCJcHI2imNcb3VkU5ANTQyWRdzsSceWPjUF0h7NATk5H4il7ZuN57x9ahlkaTBLjavPXxz8KMWPIH21uya3NMVwHSNc56nd/lWmI60GgcPckjphcff8A50aPWk4hkcIqswpiMVwSpoxhBSwDIaFpwWnYpcU1EWQ0DFOApQKXFUoisSlArqWqURWJiupaaapImyOeUQws5x3Rnms5q2oldZTs13dmhUfEgn8KJa3cGKylUAMSmQPP0rLyStJr1rCEZy5Z3boFXqfv7qj41y8894I0gvZduL1YLVSyiT3dR3QerHz+f8qzGoagy3UJZJJDKuWdF4BJNFzEl8t4LZ9sSyAMx6O/jirMHsrfAqFmiVB+zk/lU8K9+xtmag0hELY1C7RSSdiEjk+XFSrZDwvtRIzgkEn+lbOH2cuVUAyrgYwA5qU+zlwZN6sgP/yH8q6cRZGGn0mWSJ1F/eBCuGD7uQfDpVuxDrfIqq5WOErvKEZO3AH8q2Tez9yyYDRL8z+VRv7OXHZgCZcj1/yqlEmxmhpLcezsyDuzK5KY+0OlWNM1VGgdWGwhwdvTG7qPk2apxXMvs/NFa3MeYpj+uB8aF69L2Ut6IiqoEO7B6NjcPkcmuXlm4NTj5WmUtqmErW9bVtTlWQgQnlVHUoD0PxPNE9CYzNdXbdZpiFP7o4rLaHP2Vk77yklyqom8cg5IP49K12mbI7REh4hQbU82x4/OlwNSlYS0gkGp2aiU08Gu0zHUlJmuoASkrq6gAVfjN9CP+KPwqG+W2Nw3aLuYADJXOOKk1AkahEP+IPwqpqGJJSxOCgYcfCl6GPSGI7Cm48cYXqBUTDdLKu1gEI6H62aZBMgWMjPeXIB+Gal3lLqccbTsxikAgjHd8SwyOajkVo42LYAAB4z04zUx3GRSPBWAqJpC8LggZ4HHhyKVDsjRQt1wBjA6UXPWhSnN0p81H9aKsOabQkxmi3FxcRXSXciSSW908O9E2ghcc4oso7ooToo23Oqr/wC/c/eFouo7oqkibOxXYrqWniFiV2KWuooLOpcUma7NOhWcaYxp+ajc8GqSFZmfal5ZY1W1DO6EhsEDBxkdfhQIyzWadpHFK22CNS2M4cIVAJ/iP8q0F8kn0q5DdxsZHnxUAbsUERwqPyQ2CTyawnxxbbY1J+AX7JbVMdtKrRvENwVwcux6tW3hXArL2MKrrKypkgqckmtPC2RRxwrwW2WlqQVChqUGtkiLHU1ulLmmk8U6FYP1SCG4s3S5x2Y724/skePyrA3PbXVtcx9lNzLF+kEZbcg6hQOvC4+db3VhusJwBnKHj5VnLd1WPeeREegGMD8s5rHm4lPyOMmjM77uTWonntZ0gTexJiYeJ9PUV6DouPo6Ng4beNxIPA9PlQWW7cw2zGUDnnPOcjpRPQmxpyeGSzfeTWPHwxhK0Xm5LYbU8U8GoUbipA1dVE2SUlN3V26ihCmkrs0maVDsC6tIU1K3/iH4VRuCsl9MA2SoXI/u1Z15sahb9eSB8Kqtp8r3c06uqiZUxhSTwPGpKI4HMECArkqBk/LH9atSDfKSOGZ1B+WcVFLp8jxABxlenUCmOZoNhYF8MCTjrz/nTSEXUZtpyBnnFQyA+7v3cZxzn1FIlzuhRiDjqMePNMNwNksQBwNoBI+FACxcXWOeFX+tFz1oNEcX2D1KA/jRk9abQh+m6d9He8NNcm4luZe1kdlC97AHAHwq720YH1qHSKrX8pa6lGDgIFAA+fjXXMDSNG0V88aD6yqitu++tEiQj28ePrUnbK3CkZqsCjR4Z2b4gVG8SyZjfmNhQ9CWzrC8uVMkOoPA8iHiSLgMPDjwNXPeY/tioIY0jQAEbRwBXTIrrhtpHlQtIbLHvEf2xS9vH9sVTEJCYSQIPQD+tPESnBOMjxxRYqLHbx/bFMeeMj64pjQLjhufhTQVUADOB6UZBiCdVlSO5R9xKv3WwOlANQ1iyhvmUYeWMDaADyemPIeZrZnYeWAHrilbsHyG249ahqxpUZTQrxb2SS4zgHuKMHnHU1pYZkA+sKsxiH6qMvwBrmt4zKCSOPSnFJIHsVJ0+0KlWZPtCmsqbMAAg+lMUADAUYqrFRN2qfaFIZkx9YVBMqkYYA4pikBcbePU08gxFuXR42BIIIxWNeX3CSQNuLDjIHWtkhKZ2dD86SRCysQF3kdcVL2GJhDqCXG1ATvBGBg9a1GnsscCICcKAOhq9AkgXDbMD7IwKmGB1AOKlKnY/Q2OVfOpVlXHWm78ggRg0sWVJwmM+VXYqH9svnSdunTcKglDGTerEHpxj8qr5YXBckcj7IosdF73iPONwz5V3vMajJcAetAfaBuy0iSdCsbb1GVGD1881mZJpZkPau7LjjvE4rOXIo6LjxuSs0uuTpJeQvHIpCsM4NV5biVbyQBiUCrtUMecr+dZdz2SptOZJZlXcw5PpRVbp47145SNwG37hWSmmzTBpBFLu5Eihy3exgBj4danj1F2kZZlHCAknxyaoxXJF1Ew+qobJPocU6MrJfBnwE2qCPma1RDCjSQMo7rAkbgAB0qO4eBIZEKEOw7vAznw8apouL+NSCy9n59eelT3ajtjiPAUgg+WKq2SVLcyL7USozkoLZDj1yRmtMetBkiUarJKF7zRIu70GTRk9aBDTY7rgzbpB2jbihXPy9KhvLkwSCONFZuBgnGKIxnIGxyMdQaEe0MDrPYXQ4KXUcb48VZgP61bWtGcZWyM6pc+8dmlumNmRI2Rk+PFWobu62DfDGzeJBIz8qk91me8BeJVRNwDBs55H5VcWIAdKxqTfk3VV4KQubjJzCh8uTxXGeY/7hev2j+VXxGK4RDyoqXYrXRR94nAOIFGfHcfyp4up8fqEz57jVwRDypezHlRjLsLXRRFxc7iezTHgMnil94uCeYU+81d7MU+OAyOFUZJpYvsdroFsbl2J2oFIwF8vnXZuAPqLx4bjWlhs4oo8MqsfEkU5IIm57JMeHdqbfYzJ++Twk9rECf2SoJz8fKpob25YZ7JMHoM9K0pt4Wkx2Sd3k90V0sUaRgLGgLEKO6KLfYGe94uiw7sYUdR5/OuM1wf2EHzrS9jH9hfupscamMEooJ9KLfYaM32lyeoU/Dild7hkwAg9TzWjVB2rgouOCOKcVAI7ox06UW+w0ZgCYH6q/eaXNwDkKmB6GtRtHkK5lDKVIBB6ii32BlALk53bW+RGKcDcKOAv86LXNp2LZHKHoag2CqSb9itdAmXULqG6CSxjs2UnMYJbP34qaG8umXIVAD55/OpL60mleNoBGcZDByR92Knjg2IB5U6fYlRX94uWP1Yx8jUbvcHpsGPQ1f2VGycGlT7HaAV+s0ysJSjRkY7Mpx+dAvcpHmMaiJVznPZ5P41qrwAKc0Mt03neQPKs5Jlp6M5qVn7pLApJcdohGf/ADintbRSyvKjFRGAVVhzjOPjRDWY0OoW6sBksuKgn2x3hVSAnZLwfTmhce02PPVDmlWONUC53b0BPh1FQPOyyugXgD8qijIaUbzldz4+GRTZrhu0dkOBww8+vnWhAYE7rcxHqGCDHjyx4qaS7VpZEOcs2B6dOKESXFwbwdnGTGpDK4HB56VYd7mW9LmJtvarkgeGeatMmgvG+bsnP7I/qKLFuaCK4Esh+yAP5miBuVOSGBHpVkBNWd8d0FM/s+FLOYHtSsi91HUjeP2twx/OorFhPbK690HybINQ69qSafYxBmAee4iiQeZLiiLWBFPIJGuFNzyfjXZpGg6lpua7NMB9dmm5rl7xAHicUASRoZH2qMk0SggWBMDknqappf2NmxiaYB/2sqalGr2RBxcoMDPORWUm2UkWj3jjw8aUnAqmNZsMgC5TJ6daR9YsUYhrhcjBIAJ69PwqKZRcRdo56nk0jDdKvkoz8+n51WXVrNuk3+E/lSpqdszHa5Of3TRTCy2eBTIhiFMHPdHJqvLfRdhIVJO1SfqnyqCLWrVYUyJVG0clOOlFMLRfPEoPmCKeRkYqouowSx70YkA+XX0praoiHHYTtnySjFisuiuqmdSiWVUZJFZ1LDI6gYz+Ipp1eAeDdec+FFMLLrKHUqwyDQ6eAwN5qehpr+0FsrMoILL4bwPCkGrpdRuFhDAccNmnFtA0MrqaTSZrYgU1G/SnZqNjQAOvvqGqNn+qFXb8901Qsz+iFZtbLXgp6ov+07Y4yS4H8jTZdHe5w6nG4Be8OmKlv2I1O1IxxKB/hNCtauJVvlRJCoOM4JHhV6S2T7LcXs1h8tOcAk4C+dWBbWGn56PIAFJ+sfyFZuC6madhI25I16efFWYYiEmkdiSrqBn44P40k+kN/thb6YiBdVjG1QTknPTrUsuobTFGEjIm4yQeOn50HfC6jLycKjMRj0NPVnaa2J6M5wM58qdsVIKT4WOUdQFAq5caVEpZot0bAbu42KG3shVGPmoOPnR5jmNj0OMVpimRZhdC9t7mwl9yEULxtISrPnKk9RjOPWit7Hcanq9ncXMpkEcqFB0Ve8Og8K8zluGklTK4kicMADg58K9O0S495t7ZmwWyuceea5OFuUafo0enaNwW5NORWkYKoLE9AKYEduisfgKVtSn05W2WDuowO0CsxY/ADIrdukSlYQTTCVBeTB8gM076MGOZf8NDR7TyM21bG53YzgwSZ/Ckf2kugygabcAk7RuhcZPpxWWb7NMf0ExpgxzIfupRpqjntSPlQqf2mnt4TJLYToq8s7QuFUfHFVbr2qaWC2Vo9iXj7EZQeRkZ5PTr86T5K9jUG/QzW4HlBmtZyqRAlnHBOPlzQm1tby9lcRX0mYeCDtGNw/hrQXCBrOZMcGNhj5GqGgNmG4PGd68/3RWcoy/KlfkuLX4268Ay5sr3S4O1mvpAm/jaFJBwf3fSrsek6iW7U3z7mA5DgZA6fs+td7UkmxgGSFMpDY8tp607T5tYWzjXs7aVQi7Hk4JGOM4Plil45HFtjW4KSSFOmaqTxqMuPWX/ALaCSajeQ6lcWsL6hNLC3f7JyRkmtF2utE/qrEDy73/VQrS7qWTWb73GG1W6B/TsyvhufDvedTPTSVlQ2m3RQuNU1G2t3luItU7JFJfc7AAevNUrbUJ762Wa1tNReMkgFJXI48PrVpNfbVX9nr5ZhadmYW3bFOcY9TQf2FTVfoIGynhjgMrZEiBjn8fKoeWWO/8AhaxxvRXe6vEj/S2N+yLzhi3OP71GdG01dY01boO8IZmUIWYkYP8AFRCRdbWFy93alQpLAQjkYqhoP0lc6SkljcW1tAWbEfu69c8noacYtSppslyuNqkXz7NQFMMysfMoSf5mhUFjbN7Sy6Y0cYEabg+0ZbgHp8z91FWt9bKHbqUIbHGIVH9KGacLke2OLyRpp0jZWkKgAjbxjAHFVKKyisWtii3T2nobr1r9Ey2gt7aKSKZ9jMYx3TRTRJdlqshVV7T6wC4xzwab7TgNYW+RnFyhH3NQ2L39IYktSjLtz3n24z8qqMYw539CcnPh/s2URU8lQfSiEUMDrkRr91Y+CfVSFRkgBwME3LYPmBhatQrrCyYL2qg9D20mPTwrpk8vCZzpV5ZpJ7KOVO6AjeBAoTMjQuUcYIqM6NqN8yGe9hEYIyse/IHjgk1cj0LsIdkcxP8AHkn76mMuxtdAO+5U0Osj3MepopqltLa5EiEeR8DQSzlxK8bYDA54OeDVexejrzB1KHJ47RPwNBNcBj1Hd1wByfhRPUJMahHz/vk/5aC6vJuvm5JwoHWra0SvJUtHka+dT0xnPnkUQikBRx13FT/iFCrWR/pCJlXarYDZ8tv51dWWRcB1AAXB2jjhqUUNsuTORqTNgHcjEj5H8qhjkZrm3yxJEjA5PTG2mydo16Du3Aqwzj06UkccnvasQSN7HgdMkflVUKy/fXoeaSHGCsSsPhkitKr/AKPPhisbdRut+84XA7AJz8SSK16ZMOP3RVxIZ4rpVvJcSZVHkK+Qz8q9u9hvZKa2s0udVi2H60UDdR6t+X30D9m30b2XcuYljKL3WcF8vkDOeucZxWnPt/Yp9eeLIGdoVsmuPUV5Oim9JGs+FceKx7/2hWS5AurbPh3XqGX+0W3GRFcQZHnG3NK49oeMujbdBXDzNYiP+0S32ESzoWOMFIW4+OTV2x9rxqG4RyfV6kRY/GjKL0mGMltol9tNUFvot1DHtb9Gd4PII8R91ZG+vO29nrF1ABtZQAfTvL+VSxX76/BeFuBJuRVJ5AZenxzmhdhvn9k5x17NQ5554Ab+hrnk3JWvaZvFYun6aNh9K9rGe6AHU8/EVQ0u9NqkqhQd5Ruf4RUFkxfTo2BX9Xj14GP6U2zjZ8nj6idfhVuUnywf6JUUoSRY1u994so1IAxKOnwNXodVYQRgKv1B+FCNSiKWik4/Wr/WrcEDG3jPHKD8KuLl+WX0v9Jaj+NfbLv0s4P1VoBoN00Gvaiy4zIT1/ior7s2eq9eaDaKn+2r/kDr1/ionlnGwhWMqDWp3zz6XcxHGHjYHj0oX7F3jW+gGMY/XN4fCiM0G6F++pypHShXspEfoyVSy92dhwM+VU1LNMlNYNB651GQ2cw4/VsOnoaHezl29voMaR9A7eFWbiE+5zd/J7NvD0NVNFiP0UnJHJ4xQ8s19P8AwFWD+wmdUl+1geeKFLqEj+0zSk8rGUB9MCiHYHHVh64oVHGP9I5AScY6/wB0UuVS+N9j48fl9FnWb2SWCAFsgTqcH51Sj1Vor7sXwI44Axby5b+WBVnVYV7GHaTnt06/GgV5j3jUWU9I1iB+J/7qw5HKPL/RtxpPjNxaypNEN5yrDPNX47qKIYlcEDo2Ovx9ayPvLWWjdqrENEpYD59Kqy6tqfad6JVZfDtxx9wrp/kYpWvJh+DJumeiW+owKwKSbs9Rg1YbWrFWCmcbjxjaa8w+mdSClSVQAc/pW4HyFNGo6hcFVEqsw6AB2rN88X6KXA17PT7m+sLi3Mc4Esbg5BXPp8qwurWdvpOoLLp/aywzjBRxzHj18RzQ21N572pndQowXXawJHQHJNEXXePrMavikp76JnHDXYOve2upEeLEZRg2GXOeMedUpbjUlY7Wth8YSf8A9UTlt5M5VmzUfubSnJOG9c4Nb5P0ZYoGrfaqOO3tx8IP86VbzVXPeuU4+zCPzq8bFg3OKeluR0B+VLJhiiqs1/nLXeB+7GoqUO7HvXL58cBR/SrIg73Jp4t8DIBNVkxYopNHG2QZ5GyMZbGcfdV8612DlXtZjCAAJUIf45XqP50ww5HTFKsWKFNoMUf/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAAcBAQAAAAAAAAAAAAAAAAIDBAUGBwEI/8QARhAAAQIEBAMFBgMGAwYHAQAAAQIDAAQFEQYSITFBUWEHEyJxgRQykaGxwSNC0RUzQ1JicoKS8CRTorLC4RclN0Rjc9Lx/8QAGQEAAwEBAQAAAAAAAAAAAAAAAQIDAAQF/8QAJBEAAgICAwACAwADAAAAAAAAAAECEQMhEjFBBBMiMlEjQnH/2gAMAwEAAhEDEQA/ANbGkKJVmEEtHAbGEGFIEdBzCOQQHIrvaDTFVTBU8hoXdYSJhA5lGpHwvFjjhAIIUAoHcHjCyVqjNWqPL615mr8U7dRAQ5ZWpuPtEli+kHDmL52QtZlK87N/92rVPy09IhleFVknTcRw8a0cjVC3uTjZBNjeJOYHdspaPE3V5mIhh0Km2EnbPEm8suuJPPxfpCyXQrLz2eI77FMgTshl935ZR9Y1mMp7LzmxM0D+WRdt/mRGrR1fHVQOnD+owrq1NYdqK0Gy0yjpHnkMef6a1lpdxpdBMegq0M1BnxzlXR/wGPP8kSaW2kj+HEvldITO9IbTCu8mWRpvc+ghdxfgPUaw2UAZ8gKuAi/lciF5jQAdQY5q6Oc2LsulBLYFl3B700668T/iyj5JEW21zbnpFe7Pf/T6j6W/A/6lQpjavIw1hGdnioB3IWmBf3nFaJ+G/pHpx1FHctRPP+KJ79qYvq02k3S7NuFJ6A2HyAiJKi44kHhB2B4dTe/GEleF2/8AreI9sgOXnM2YAi0cQ4t7K21fkTBZeXcml+EEJJ32vEmgNSCcjeVbhFieQ6RN0hXoaIbLJs2fH1Tckw+lmu6u5MLDjnUXSj04n5DrDdakttKfFwu+VPTmfT7w2dmSUJSm4AjJORkrJpNXC7tZjkUCFEm/SIQtuBZ8QsOPOEEOFJMKd7dNiYp9ddD8RdHgF7m5+cSM21NS1Kk5l1tSGZlKiw5wVkOVXz+sRzTYWjPe4G9jG803B8liHsnplLm092oyyXmnQLqZcVc5h8dRxGkLCPJ0CMbZgpdzCxOu8JqXp1GsPK9RJ7DNXep1RayPNG9xqlaTspJ4gwwJCtx6xaqGoWLhIAB04R1p5bDgWhRSsG4UDqDwMJMkL/Dv4xqnr0gKNxyjBPS+CcTN4swxLzwI9oA7uZQPyuga+h3HnEjWaPK1+jzNOnkZmJhGVVt0ngodQbEeUedsFYym8F1gTDQL0o9ZMzL3tnTzHJQ4H04x6Io1akcQUtufpj6X5dwbjQpPFKhwI5RROyidnmesUyYw/W5qmTf72VcKCeChwUOhFj6wzU4UqDibEjcHiOIMal2802VZdpdTRlTNPFbCxxWhIuD6EkX6xlOa6ed4m1TJtUz1faOEQeCkRQscSbGFN4iazXZSiMgvkrdX+7ZR7yv0HUxSKpjCqzmYNv8AsbXBtk2Nuqt/haObL8rHidPslPLGGmabY22Mcim4JlHppxc9OTT7y+7shC3CQArjvy+sXICwA1001iuLJ9keVDQlyVmadtWHPbKOxWpdP4ske7eIG7ajofRX/NGPpcC0WO8epZ2TZqMg/KTKc7Mw2ptwc0kWMeYarSnqFXJymTP72VcKL/zW2I8xY+sLkj6JNejVtWSbavpZYvEwg5kKVrcHKIhHAVIzX1G0S7LgW1cH3hm+P+jEJrRKSLz2YvhrF0kg7uyr7fr4VfaNgjBMLVMU7ElHmicqGplKHD/SvwH6xvlrXEWwfrRbF0ITjfeyEw3a+dpafikiPO1PXlkUAn3fCY9IJF1AHnHnCaaMpOzLI/huuIUPJREJ8lWkLmVpDSW/FqS/8IPz/SF523jsdjeEJFaRPOK4XFz6GDrduVciLxzVs5/TVOzPGFLThFqnz09LyszIlScr7gRmbuVBQJ33t6RQ+1HGrWK6y1KU5ZXTpK+ReweWd1jpbQep4xUJloKUTbjBAMqQv+XfrHZydUdHJtUcTZJ1NrQtKyBmXMzmievLrBpaUKj3jo31Sk/Uw6LqkJKEnffrEnKtIm3/AA5NPNtNdy17uxWNL/pEeABqh1JPK8aT2RUGk1mdnZqooRMzMmUlqWcAKAD/ABCPza6a6D4RqruFKDOJCX6LTnATxlUD6CKQx2rHjjtWeaZm4lW0k3snYczrDK/huYl8Robark+3LpS2y3MuIQhI0SkKIAHSwEQx0MPFUjJUDiYAOlo4d/OObaw4wq26pokpOpFiOcekOzvFVOxDhaVblXkiZkmENTDCjZSCkAX6pNtDHmzYGHFLqk5Rai3PU59cvMN3yrTyO4I4g8QYypOwp0z0rjDBVOxnTgxOAtTDV+4mUDxtk8OqTxH0MeeMR4dn8K1lyn1FGVxOqFp9xxHBSTxH02Mb1gDtAksaU/uzaXqbCB38uTv/AFo5p+Y484mMRYZpmKqaZOqy4cTu24nRxpXNKuB+R4w1WO1Z5Z6jTrC5UHklaQAtI/ETz/qH3iyY37PKhguYDqj7XTnFZW5pKbWPBKx+VXyPDlFUzKQsLQSlSToRCUJQskC0P6TWqnQX1vUiefk1rFllpds3mNj6wyTZxsrbFikeNsfl6jp9ICVaXgCitTqc/WZwzNUm35x61s7qyogchyHlDRwhINoUWrS8ItMqm5pLSeO54Ac4Bj1tETiGvM0KSKzZT6ge7QfqekP52cZp8i7NTBs20nMeZ6DqYyXEFSdqEwHppRzPuC+uiEjZI6CIfL+R9S4x7ZsuTgqXYHZt6bfcm5xRW674io7gcBCDqgtCQeJvCE0+S1oSCtQAFuEFL2dTRWLAk6pPGPCpt2zgLdheutSdRkw4sJZdSZdZJ2UT4SfXT1jRCLRgLjqkrdSq+RZ8Q5dY1HAOLBXJAyM25eelUjxE6vN7BXmNj6HjHtfDyfjwZ2YJ/wCrLZGQdtuGy1My2IZdPhctLzNuChfIr1Fx6CNf2hlW6RL16iTVNnB+DMtlBI3SeCh1BsfSO5q0dDVo8tqXobbHeHMg4Sxl3ykp9Nx94TqlOmKJVZqnTqckxKuFtXI22I6EWI84JJrLc1lvYOC3rw+cQa0QaJRtf4JTmtfQHrHoLCFdTiPC0nP3BdUjI+B+VxOih9/Ix55Fu6F+cWvszxinDeIVSc86G6dUCApSjo05slR5A7H0PCBidMON0zdI884rSGMX1hoG2WcdIHmq/wB49DWvpHm/F803MY9rDja8yFTiwCOht9ofMrQ+TaI6VOV54bXKVfUfeDurCXADtYiOEATZKfztKA8xr9oSmVpUgKv7w+Ec1WyFWNHnBmKeN4dysmGGg9MjxEXQ2Rf1MKSMhlUH30Zlq1Qg/Uw4ff7gqBssqOphnLxBb8EFVMMp8bYOY/vBqDDF6dbVfILeUFdTnJscpPwMNltlvT5w0YRCooc0+rzlHqKJ2mzLktMN+6tB+IPMHkY02hdvDjKEIrlLDpTu9KLy36lB0+BjJ99CILYHTWLLQ6bRLVR3v5l125u6tS7+ZJ+8RpEKl8PJTfRYFj1hNRMFaMghFhpABuI4VQW+uhhkEOOPGOjlBQq/vD1GkdAJPhUFdDoYJheRnpmmT7U5IvLl5hhWZtxBsUmNwwR2x0+sNIk8Qrap8/okPHRl7rf8h6HTkeEYUQQbKFieBgpTm/1vAugp0eupmWYn5RyXmWm35d5OVbawFJWk8xxEYb2idlj2He9qlDQuYpY8TjV8y5b/APSOu4484hMG9ptZwgUS+b26nJOso8r3R/QrdPlt0jVJftswlMSJcmHJtldvFLrlitR6XF0n4w2mNaZgaVEKCkEpWNlCFgsO3KEhLg1UgbK6p/SOTr8vM1GZdlGixLuPLU01f3EFRIT6CwhupXEHUbEcImTOuuaHWH8gx3EoXD77w06J/wC8NZZj2+YR+Uk+O3TcxJPLSb5E2SBZI5AQsn4Bm29o864mWlpJki67uqHO2g+d4zaozl5hCnG1Jyr1ChpFs7Q6jkxYWzcoZZQk2G17qv8AOKlOuB5s+LMg8RsY8rPcs7bObK7mwi387hKVHKgeG54xx2ZLfdG5Kc2YiI9qY7nOydjsTCrr6FOJCBwMD66YvHZITSELBcbO+qrcoZSk9M0eotT0k4W3mVZkEfMEcQdiILJzSgruz6H7Rx9H4nh87Q2NODGjpm5YUxXJ4spYflyG5hsAPy5Oravuk8D94mo82SFTnaFUW6jSniy+0deIUOIUOIPKNswXj2QxhK5ElMtUW03dlSd+akH8yfmOPOPVx5OS2dkJ2il9t2FsyWMRSqNU5ZebsOH5F/8AT8IyVYGXMk2I5R6sqdOl6vS5mQm052JlstrHQ8fMb+keX63SZjD9bmqZOD8WVcKCQNFDcKHQix9YMl6aS9FZZ0PhKjs5e45K4/rCE0nVSSLwnJrCXS3fRz3TyVw/SHC/GTpqfkYjVMl0TlJ7U8S0ajKprMw282lGRlx5GZxkf0qvrbhe9orDThuVLUVKUbqUdyY6pACiOcI3yrt6RS7Q12P0ukONW1KVj1vDuTkQye+mQFAEhtHPrHKbJWQZuYGVtPuDiowq6rvzmUfK2wHKOdvxCN0PMjlQdZkZBpT828oJSlA1UrgOg+gi2o7DJ1+UDkzXWmpsi5bQwVtp6ZrgnztFWwbX2cMYwlZ+cSpcunM24Ui5SlQtmA6fS8egKfUpOrSSZqnzLU0wvZxpVx5Hkeh1i+KKopjimYPV+yLFFJQp1hpmptjUmVXdf+RQB+F4pjgcZcWzMIW26jRSHEkKSeoOoj1nEXW8L0fEjeWr09iaIFg4oWcT5LGo+MVcUO4Hlom3UQAUkWvGhdo3ZtJYYXKO0l+Y7qaK0lt8hQQUgHRQAOx48oz56VdYUQtO3EbQmroTp0cCRzt1jo03N4SzGASYajCmRCvzawUsn8qgYIDCgNxG2giZSpOhBjlwTa+vKHCRrvHoDBeEMO1vs6pkvOyMlOuFnO4dC6hSiSfEnxA6iCnYVs8+NvKSnKrxJ/lVr/8AyFB3aj4Vls8l7fGNbxB2BXcW5h2pBAOolp0HToHAPqPWM7xBgTEGGEldUprqGB/7hqzjX+ZO3raDRqId1tSD402vsdwfIwTJxEBtxbYISfCfynUH0hVCmnDa/cq5HVJ9eEKASGmkFUbDrCjqFNGy02O46+Uclm1TMyhtIuVEARjEtTGhLU9TzhALvhTflx/SA6+ALpbWocwk2iTmCmWUhlgJHdJyZ7XPXyiNfmnVk/jLJ/vMSTtidmkdoqSzjd5R17xhpVuliPqIqakJznIrTe17GNyr2GKdiVkCcQpLrdw2+2bLR0vxHQxTJzsieUT7JWUEcA/L6/FJ+0c+T483JyiJPFJytGePy/eouB4uZiOWiYZc2JAOx0+cXue7L8TSrZMs7KTgA91DpST6KA+sU+qM1GjulmqyUzKL5OJKQfI7H0hVjnHtCqEo9jUTaVKIN0K4g73hYTOZFs11DWI5ybQpOqAbcFQilScwW2XE+Xih/rTG4j9agQVJvrDZDr0pNNzMm6uXmGlBbbjarFJ5gxxpxQUQlSHAfy3yn4GE3FELykFPLMLQ8VQy0bTgDtUl68G6dXFNytT91DvutzHlwSrpseHKIXt4orLYptZQkJfWsyrv9QAKknzGo9YylxGfTrCtQq1SnmGJeen5mZYl/wByh1wqCPK8dClaopytUNgCR1h4Xs7CHhuTlX0P/eGaHOELMkBwoPuOi3keBhGhaBMG1iNYeUml+2O988LNI8RJ2hOmUx6fmkthCjdWW3EnlF3m6Kil0dLi1oSyB4jwJ/TlEpypUgN0QM4puYyjOWAjRObVBHXkYj1pU0oFact9iNUq8jCi5hLqjY3EJtlQCkoULcUHVKvSESrsn/0ScUlxJCh6iO0yq1KgTZmqTOvSrnHu1aKHUbH1hFxwJdIAyK/kJ09D9jHO8SvRVwoc4qrQytdGj0LtzmGcrVfp6XwNC/K+BXqg6H0Ii+UftIwzWylMvVGmXVfwpod0r56H0MedlpSb6gwh3YOkVU2VU2ehe1WTTN9n8xNpUM0ktEw2oagi+Ui/UKjAnZsOlWlwYMxVKjJyjstLT0w1LvJKHGQ4ciwdwU7QwJ3uLeUZpSdgdSdiiiNbphMAdI4VXGh9DAuQPECORgoAYFHEGASkDS/wghUI5fiIIRUODkT56R1Mw63Md804tp2987aikj1EJBYO4g7YKlWQknoBGCWek9p+K6NYM1h59sfwpsB5P/Fr84u9I7fwUFuv0UKuLFySXofNC/1jKfZVFObIAOpAgpkxbxPy6PN0faMpGUh/i6pUiqYkfm8PyLlPk3QD3LltF/mIAJCQdNPPyiH0IMHVLC/hmGVf4oL7M9a6QFf2qBgm7DNzBbTkV42juk8Oo5RLYbk80+p8eJLCSoE8VHRP6+kQeRYXZSSnzEX7B1JZnaK4VKdv3njS2oJ2GlzrzMJN0gPSFqQ1JSdQbm6jLmfbQrMuXK7BfQnlF8p9bwDXE9xUKNISDitMsxLoSk+S0jT1tFHnaUmUC1SanboF1NLVnJTxKT9ohXnQpOttREYTaFjJo3vDFfbrMq4hRCZlhRC0DiLmyhE1GCz85NU6rvuyb7rDrD6wFtqsUnMflE5Te2KpyWVFVkmZxA0LiD3Sz9R8hDYs1qpDwyeM16E3mGpllTT7aHWlaFDiQpJ9DFOkO1vD02AJlU1JK/8AlazJ+KbxOyuMcPzoHcVqRUTwLwSfgq0XUov0paZA1rsiw1VipbMu5TnlfmlF2Tf+w3HwtGfYg7IK9RW1vUxaKtLp1ytpyvAf2Hf0J8o3BqelHxdqal3L/wAjqT9DCinEITda0JHNSgBGcUwOKZ5SdUcym3G1JWg5VJWmxSeREGbdWlNgu6T+VYzCNT7ZpSgPybVRlpuVFYS4lCkMuJUp5BvfMBxHAnyjKbpI8O/1iTVEmqOq7pSrKHcK4EaoP6Qm+0tGjgGuxGoMcN1JIO8cYmSwC26nOyrdJ4dRBRkIo0v0h5ISypl0aHKDrDiWoq5tzMwsKZIvn6cvONBwRhtlsJqEw0VNN/uE6eJQ/OfLh1hJTXSNZJYSwj7JK+0TiLPODVJGqQeHrx+EW+RpdLmHu4qEqzMXA7tDyApAI5A6XhNuaQWQpshSVC6SOMM5hSnEEkkEcYkpKLs10KV7sroFYbUqVY/ZcydnZUWST/UjY+ljGP4mwxVMIVQNVJsFpejUw3ctujoeB6HWNrpFffaIZnSXUcF/nSP+ofPzidnJKSrNOVLzjDU3KvDVCxdKuvn13EdC45FoelNaPMD7QeTnSoE/WGqm1ZLb22CvtyjVsUdjT8v3kzhd7vUb+xvq8Q6JXsfI2PWMznWJiRm1y0/Luysw37zbqSlQ8wYTi4k+LRH2ynS46H9YMCkbjWFFpC9RoYSKd+EMnZjqjyhIp15wYg2tcwQkjQwyCghTHASk6E2gxjhTDIY6LL3Sn00gyGG1H3ynzFxBEm0WvBGAqjjWcIlgJeTaUA9NODwp6AfmV0+NoxqK6uRdZYDwLamyrKCki9/LfjC7FHqs0P8AZ6fPvA/7uXcIPwEem8LYMpOEqeJensBThsXJh0BTjiuZPDoBoIkqlW6fR2yuozzMqLXs45YnyG5+EMl/RuP9PLycCYndRnTh2qEc/ZVD6xFTlOmqbMGXn5V+VeAuW3myhVudjHouodqtNbJRTJWYnXD7q1Dum/idflFIq0vN45qzc/Vsp7tGRpptNkNpve2up5kk/CElOKEcoroyhEs457qCfSFGqRNzC8rEu4tQ/lG3rF1rFco1IWqUpcsioTSdCu/4ST6e96adYrU9UJ2dbtOzBDXBhoBtHwH3hVJsCbGcvJOCcDDjgW4TlDaTmNzsL7RMlNawrNKKUuS5PhWkiwV5jY+kTGBcP3KKq82AhKsrCbaE8VegvFucrbFPcUqblWZ1hfhcYdSClY477HkYnKaumZyKrTK63WGVFae6mWRmtmvfqIZVGRzrU6ycqj7yBsT05eUFxFLyFIr6ahQHCunv+IMqvnZv7zar8twdbjyMOSsTDAcQQpKhcEQGlHaElp6JHHbBpmNqi2rwtvOd4PJQuD9RFamVAaA3TxBjVO17D65qnsViXRnMqC1MAC/4ZNwr0P1jHVqUkEJVpyMLLHxkwyjTHLZsfBZQ5EQqUtueFbdlHmAYZNTRbRZaLgcRCn7RQCAELv5QGmCh8KYxkuZcE80w1flGVEglduRUbQX9rOIvlbUB52hD9puuKJS02DzVdUaKkBJhTLtoVYNi3QQkqTdzZm0KtzItAW/MLVYvKF+CdAPhCS7FXjUpXVRvFlZRC3cKt4i2D1cEILlL69+wPNyCLCbWCPWH1GocxWJ5EvLNZ1ki9xonXc/pxhlrYSyYRYlXqe5KF9tMwr3SDz4xeqnMqpkolDTam2EpCUKUnQC3G0StA7MKXIUplM6hxc0klZWhzIoKItrbfy2HWEquubwytMtOJTOyLoIQ8lHiSBwWjYnqPhHPkhJfkCUXVkThmouvNuoeuS2sqT4bXCv+4+cSz8zZJSQm/K8Rq5JTpRPUtxLzRSQptB1I6dRyhJSzYApVnG4I1v5RHlaJ2Oi8G/xFEgjXUweVxlN0pVihLzB1Lari3UHheIt1xSvCVCx5mC+zKd0AseUKpOLtCqTXRe6Zjqi1JsZpkSjp3bmfD8FbGFavQqDjSSyTrUvOpbOVLzSxnbPJKxt5bdIr1GwEiayv1AZGzrkAsVfoIvEvLMyjCWZdpDTSBZKECwEehilOSuSOqDk1+RiuJ+xqpUzNMUFw1OWGvcKsl9I6cF+lj0jPHWlNPLbeQttxBspC0kKSeRB2j1jEPXsJUbEzdqtINvrAsl4eF1Pksa/aHcF4Fw/h5iKCQbbdITKOca3W+w51vO7QKkF8QxNjKfILTp8RFDq2F6xQVEVamTDKQdHSjM2fJQuPnCNNE2miu5DewgFvpEkhptxIVlTbmDF7w72XT09RTVplgBCSFMyqkkKdTxURy5Dj9V5vxATZUMM4YTUppqYqanZemhXjU2B3jgHBF7D/ABHQdY1b/wATqZhyltyFFo3cS7CcrSHHQPWybkk8STrFHqaHm3HApRASbDl6RDONKKj4wq+piccsmKpstNS7UcRVZKkImRJtK4Sycht/dqr5xCyilTD6luqLjizqpZuonqdzEdYITqbDzjrFWTK3KApauQP1MF3IDtlmWtiRSH5x9LTTY8RJ+QA49IrtbxNN1hBlZQrlKf8A7sGy3eqz9tojZh16fmO8mFZ1X0T+VPl+sGVlZbvcE7xoqgJUJJQiVbsgeIDWGK3VOu6a24QpMvEi194ksJU1M3VkPPgezSxDrpOxt7qfU/IRVaVsojT5eVVK0eRlQLFiXSFWHG2vre8VSus1FM5lclJxCNCkrl1gEHY7RreAFS9Rk36glOdSXO7Ssjaw1t8Yt9zzPxhYYuS5MKhezEaB2b1TETCvbGVSEspJs6+iyieGVO+/E205xE4Wp8qxXpjCuJUqk3VuZJeaQbKZd/lPBSFcL9LWvHoSM37XMFftan/tuno/2yUT+MEjVxscfNP08oqsaih1BJF8WhLiFIWkKSoWKVC4I5ERi3aD2dvUSacqNKZU7TVnMpCBcy55Efy8jw2MbXAtBlFSQzjZ5XUkkX8JuIKlKkg+EXMbXjTsrl60tU9Re6k5w6rZIytPHnp7quuxjI6xSKhQpwy1Vk3JZ0bBY0UOaTsR5RzuLiRcWiOWFLFlEWHCC2CUmw15wpc2JsLQkUqXpaAhRIne0AIv67QqmX1sBmPACHrMkG7KXqr6QXNINjZqRVpfRXG/CNaw3RW6HhxgoRlefSHXVEeIk7fAbRUMJUBVfqwzJPsUsQuYWdjyQOp+l41B5JfeS222XXnPcaSOHPoOsSk3JA2wtOx2iWdEvWUlKb2EykXA/uH3ESldlmcS0BSqa+1MLbPeNKaWFXI3HqPnaI9GA0ThzVN+wO7Uvp6FR+wiapeGKRRbmnyDTK1e85qVnzUdYvCORx4z6KRUmqkZC5XDTJjv5RxTaybOJI0X/cP9GJ+QrtPxAgMOr9mmiLAZtz/SePkYc9oXZw7POqqlAbK31m8xKg2zn+ZHXmOO++9Qp3ZviifcH/lxlEfzzLgbA9NT8o53ha0S4NaJSpyFVpb3eJ/GZAsHEI1T5jh5xdMHYZdTLon6tmU4sBTbKxYJHAkfYwenYSqdMpLbbtQTPvJHiQpOWw5JUdT/AIvlDiWrE1IL7p9KnAndtzRafX/QjRj9cv8AIgxiou5FmjkNpOpS08LMueMboVooekOo7001aOlO+jkCBAghOQOBHA7jnHY5GMM2sNUZU37WaTI+0A3Dvs6c30iVgjI8HrB4KSRiqYowHK1wOPyhTLTa9VaeBw9RwPURk1fwZVaGta5iQf7tOpcbQVt/5hpHoSOiJPFFu0TeNPZ5MmHAVKAsdecJIcCCY9ST+FqHVFFU9SJGYWdSpbCc3xteGqsBYXW3kVQKdb/6AI31g4Hmf2gJvoekIOzBUbq0849MHs1wko3NAkvRJH3h1JYHw3T3g7K0OQbcGyu5CiPjeCsZlA89YVwBW8XzSfZJZbUqT45x5JDaR0/mPQfKN/omAaDRaMxIJkGZkNHMp19AUpxZ3Ur9NhFiSAkAAAAaADhAh1FDJJBWmW5dpLTLaG20CyUISEgDoBB4ECGGBHCLix1BjsCMYbCBAELIa4q+EAIVDZVqdoSqVJkazJKlKjKtTLB/I4m9uo4g9RDuOKUEJuTpGoBkmJOxNYWp/Ds2ko3MtMqsR5L4+o9Yo8zgevyCiJiizpsbXQjvEn1TePRTjpcNtk8oKIlLEn0I4I89SmEMQTKkpYok7ZR3U1kHxVaLFJdlVSUlLtZmG5VsmwYYPeOrPmNB842OGNUrNNorYfqc6xKi1klxdifIbn0hPpivQcEiFpuHXJWSbk6fLpkJRHFeqjzNtyTzMWCSp7Eg2UsglStVuKN1L8z9toqc/wBruGZNJ7p6ZnFDgwwQPiq0RzfbhQyod7IVFsE2uAhWnP3oaMYRCuKNGgAE6AXhnSKvJ12mNT9OeD0u6PCrYg8QRwI5RGYpwuvElLcZbqM3JTAuW1NPqDd+AUgWuPmIqOT5097TzjoSbbG3lHlyty1So9Ufkamp5EyybKStaiDyIPEHcGEZSsT8osmXn5uXURu2+tN/gYTmJzo9UwhNSbE43kfbCgNjsU+R4RglD7V8SUdaUvzIqTA3bm/EbdFjxD1vGvYRx5SsXsASrncTiRdyUdIzjqn+YdR6gQbUtDJphZ7DrzJ7yVJdCdRbRaf19ITlMRTUmru5xBmGxoTstP6xaYbTtNl55JDyPFwWNFCIvC4u8boRwrcQSVRlqggqlnQsjdOyk+YhxFRn6DNU9ffS5U4hJuFt6LT5wrIYpmGSETqO/bt76dFjzGxjLNTqaoynWpFpjkISVQlqg1nlXUrHEbKHmIXjoTT2ii2LtfuxB4K2LNiDQQnI7HI7GMCBAgCCY7AgQIxgCOxyOxgAgQIEYwIECBGMFQ2EanUweBCTrwTonU/SMYMtwNjXU8obrWVm5MFJJNzrAgBBA21gRWcfyFZqWHVS9EIOcnv20qyrcRySfqOMK3SsD0VzGval7K4uQw4ttbqbhycIzJSeSBsT1OnK8ZTPTU3UJtyanpl2YfcN1OOKuT/rlB5mXdlZhTT6HGnEkpUlabFJ6jhCBJSdfF5xzOTb2c0pNhCkpN1AqB30hJWRQJTteF+80NyR5w0dOVZWixF9bcY0TI1TsWqxl56bpTi/BMJ75sH+dO/xT/yxrseasLVs0atSk82b9y4FH+3iPhePSMtMNTcq3MS6w4y6kLQobEHUReD1TLY3qip9pWCkYsoSnpZsftOTSVS6hu4Ny2fPhyPmY883v4SLW3BG0et9o89drGG04fxo48wnJKVIGYbAGiVX8af82v8AigyXppL0pyVEpsd4VYfdlZht+XdW080rMhxByqSRsQeEIgWsYOTr0MTJm19nnaoK4+ilV4ttTyrJZmB4UvnkobBXyPQ76THktPAjfnG19lnaG5XAKLV3M082i7D6jq+kbpV/UBx4jqNXjLxlIy8ZpERlRoMrPgrA7l4/nQN/McYk4EM4qSpjtJ9mf1GSmqJMBT2ZsXs3MNkgE8r8D0MSVMxg4gpRPp79HFxGix5jY/KLh7Ml9pSHkJW2sWUhQuFDqIq1WwA2cztFeMurf2Zw3bv/AEndPlqPKOf6pQ3BkuDjuJZ5KelagznlHkuJG4G48xuIcRkq5udoVR7uebelJgapVe2nMEaERaqPjcrQEzoD6R/FbFleo4w0c66mqMsnki4QIQlJ2Xn2u8lXkuJ423HmOELx0KntFQR2OR2CEECBAjGAIECBGAdgQIEYwIECBGMf/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAwEBAQEBAAAAAAAAAAAAAQIDAAQFBgf/xAA+EAACAQIEAggDBgUBCQAAAAABAgADEQQSITFBcQUTIjJRYYGxBnLBIzNCUlORFCSCofBzFiUmNDVDYmPR/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAIBEBAQEAAgMAAwEBAAAAAAAAAAERAgMSITEEE0FRMv/aAAwDAQACEQMRAD8A/QlWOFhVY4WTpYULCFjhYwWMsIFjBYwWMFgeEywhZQLCFgMTyw5ZQLCFgMSyw5ZTLCFjGJZZssrlmywGJZZssrlmywLEss2WVywZYDEssGWVywZYFiWWDLK5YMsZYllgyyuWLlgWJFYMsrlgywLEisUrLZYpWMsSyxSsrlgIgWIkRCssRFIgSJWIVliIpEYc7LJss6GGkkwgl64EcLCqxwswlduFCxgsYLGCx6MIBGCxgIwWMsKFhCxgsIWM8KFhtGtDaAwuWbLHtNaAwuWa0a0NoDCZYMspaC0BhMsGWUtNaAxPLBllLTWgWJZYuWWtBljLESsGWWywZYFiOWLllssGWBYjlilZbLAVgnECsUrLlYpWMsQKxCsuVilYFjnIilZcrEKxpxzsskwnSyyTLAsewFjARgsYCc8dwAQgRgIQJRYAEIEIEIEYwAIbQgQ2jPAtNaNaa0BgWmtGtNaMYFprQ2mtA8C01obTWgWFtNaNaaAwtoLR7QWgWEtNaNaa0BhLQWj2gtAsJlgtKWgtBOJ2ilZW0BWBYiVilZYiKVjTiJWIVlisUrAsQKxCsuViFYJxzMsmyzpZZFljS9kCECECECYx2gBCBDaG0oBaG0MNowAENprQwMLTWhtA7rTQu7BVXdmNgIAZp4dT4moL0xToAlcOAVqVGW3a0t523/eeu2KoImd61NVte5YWhLKdlis1p850h8UCnjqK4ZWajTe9U3tnFiLAf3n0GHr08VQWtRcPTcXBEJyl+HeNn09prQ2mtGkLTQzQAQWhmtABBaNNAsLaC0aC0CwtprRrQWgWFtBaNaC0CwtopEe0FoJxMiIVlrRSIFiJWIVlyIhWNOOdlkmWdJWTZYJx6YENoQIZm7AtDaa0MYC0M1oYwFoZynHrUdqeEU4mopytlNkQ+bbegufKAYNq7McbU61dLUVFqY9N29f2geN/HGu7JgqfXEb1TpTHr+LkP3E1PBAVuuxVQ16ii4zaInmq7DmbnzgGOWpUelgk69kABINqa/1begvAuCNWuWxtU1yFBFIC1Jdfy8T5m/pAPj+l2Sp0zinRgytUJBB0Ok5RharDMtCqRa9xTNrT0elR/wAR1v8AXX6T7Vr9aup4zmnDztb3n4SPzlkKIQylTa9iLaT7daNXD4ejiMGoZiidbSvYVBYajwb32PAj5z4kpJS6XqLTGVerU24Dfbwn12GIODoFTcFFsRyl9Uy2J7LslNQr08TRFSk11Om1iDxBHAjwlJy4ihUp1DiMIB1pI6xCbCqPo3gfQ6bWoV0xNLPTJ3sQRYqeII4GbslJprTQIJrQzQATTTQATQwQIILRoIEEFo0ECwtoLRrQWgnC2i2j2gtAkyIpEpaAiBIkSbLLkRCsE2O6GaB3SlTL1HVEXdmNgPWS6hhnIcY1YH+CpGr/AOx+zT/fc+g9YDhg1LrOka4qKBcr3KQ9OPqTAYY49ahK4RTiWGl0NkHNtv2uYq4SpiFJx1UOt/uqd1p28+LeunlBRxfXUEHR9EPTt2ajDJTA8tLn0HrDSwRrrfHVf4g3PYAy0xr+Xj6kwNqeOpvmp4CmK+Q5bp2aanwzbegvMmDqV3c46qKouLUkGWmNOPFvX9p1UwAGAAABsAOEKDtvzHtHCLTAWoyqAFVVAAFgN4f+6flHuYV++fkPrMPvTyHvGHxnSlv9oaxuLdePpPtGH2g08Z8L0it+ksT/AKre8gatQ96s5t4uZx8e2cLXTevykeh8TMH6YqZSDamoNvG0+ipo+GoUauFXrKTKpqUhy7yefiOPPf4u2k+66P8A+mYS36a+0vp5eXK1HZPGSL06qV6S1KTBkbUESOJoVBU6/ClVrCwYN3ag8D5+B4cpz43EUsBW61K1NWY3qUSfvPMeDefHj4znrfE2HC3oU3qc+zb6za8+PH7WUlvx6uHxC4hCVBVlNnRtGU+B/wA1lJ8tiencRVqCpRWlRqDQMATceB8R7TnPTWNqghsVUUjcKAJH7+B+FfYxWqJTF3dVA/MQJ8T19fE3DVq7jxaobSbKinUZiPO9/wB5nfyZ8kV+uvsqnSeDpd/FUR/UDJnpno8DXF0/3M+PNQ/h+mkRmOtz/eOd1v8AE3hj7ZelMEwBGLo6i/flUxNCobJWpsfJwZ8Ff0i6X2Eudqcfoe+2s0/P0r1aJvSq1EP/AIsROuj070hQvbEFwf1BmlTshY+0mngYH4pRrJjkyN+oguvqNxOzF9P4PD0gaTjEM2y0z7nhK8pmpelBPm2+LatjbCIPAmoT9IrfF9TOcuETL5ubw8oWPpYLT52h8WlsUor0ESiTZmViSvnPoKVaniKQqUXWoh2ZTcRy6Q2ikR7QWjSmRFIlCIpECZq2LrW6iktBL6vX1a3ko+pHKSr08JhSHxtXrqp0XrO0f6UH0Eq1DE1ivXVxRW+qUNzzY6/sBK08NRw1NupphSd23Y8ydTIdST1MXXVuppjDrY/aVhmb0QH3PpGo4CmCr1i2IqjZ6utuQ2HoJ0N3TyhXYcoyCn3BympCyH5j7wp3BBT7p+Y+8cIU3b5pl7z8x7TL+LnMO80AAH2rch9YR94eUw+8bkJN8TSpVCGcZrDQamK2T3RJvx8Z0gP944m/6re8+xTDUKSIFo0lUD8gnxuObPi8QwG9Rj/eeli8ZWxFRA7nLY9kbTg4ds4Xlc11c+F5SPP6aNM9LYjqcuS4tlGm06W6SxLYLDUhVKIqqLJpfTjODEr/ADNTTj9J0Kp6mjpwHtM/O22qvGZE2W5F9ydSYj0zmDKbNf0POdD0yCt9NeMxRBlJYd7hF5SJxzKpqbAhgbEHhGqUVAXM1nvpbhK1EDlSpysDowiWJOU9lt7b38xDbRkhDUZgaZQArso2PKR7R3nS1POArZgAb34gzZhfJWy3/C3Bv88I5fH4M1EUzawJsRppv5wdU2W1h56SzKrallU+IiFaa7ElvE8Y5ypZEWSxtYjnFtwtadDMj37LA/NcSZUEaTXjy/1nyiXCCOVgtNJUYQkwbbR7RbR6nALX3ixrRSJULAvLYTGYjBVc+GqtTPEDY8xIkQSpU4+qwHxTRqgLjV6l/wA66qfqJ7VOolamHpurqdmU3Bn51eXwuNr4Kpnw1VqZO4Gx5iXORY+/ikTw+jvimlWtTxyii/6g7h5+E9wEMoZSCCLgjYykY6G/DzmfuGZuHOZu6YnQJ7p5Qr3RAe6eU1wqgkgDzjJk7gmTunmfec5x+HpoPtA3kus5H6WLKRSTKLkXbfeZcu7r4/aucOV/j0i601ZnYKL7mcb9JqHcU0LWt2joNp5vXs7OzsXObjwiBiWcnxG/KcnP8rlf+fTWdUn11Pja9Ws4z2Ww7unjIFm649u2g57xA16j6cB9YyWFQ6WuB7zn28vdq/U+PGYFmYnUkmOcRWNtRcccsB3M7E6OLKuapYsL6CRNvxtcn157Asbsbk6kzvooThqJv/ms5qlPJUZL3ym156WGT+Vo6cJfGbUc7kc7UblecDUbFdOM7mp6jnFanqOc08WXk4jRF15xKlC5AN99CNxO9qeot4wNS1EPEtebk1CuNeB4GBqFxYi4noPQDWBFxJGkaZAbVfzeHOGHrgKZNG1HBv8A7CU8p3NQkGoGnsLr4eHKV8L65ioJ1ilLzoNO+o1EQoZUqcc5UjfaDKJ0ZbRCg4SpSxDLARLFYhW0rU4kRFIlisXLK1OJERSsqRARHpYiVglCNIpEqUsJOzo/pfFdGG1Js9I7031Hp4TjIglypx+m1HWmoZ2Ci+5M4MV0ulNG6lC5HE6CeZiKrOyGo5Y5xuZOrVXq2Fr7e88/s/M5XZx9O7j0z+u6v0liHpvZgmh7onK2IZrFyzGw1YyNWoWV/CxiqNBynLy7OfO+61nHjJ6Wp1b0FttbWLTN1NvzH3i0R9mvKPSW6+p94cYKNP8AF80dO81/Ee0CLq3zR0GrTSIrKPtGt4CMo+09BMvfb0g61VqHQnTeXPSXksN57KDSn8v0nkHjPTSvYJ2dhI677rTsnp59f/manzGenhl/laPKebV7Vdza12JnoUK5XD0xlGgldd91PZPUXI25zFducn1xJGg3jGqbi4m+xhlErqOcBXUTddcjSHrASNI9hZS5dRMU1lNDYiYjUR4TmNMoeyLr4eHKAoGsROkrrEan2rrofeGHrjehY3X1HjJmkDfSd1rm2xG4k3pXNxofGGDXCaUmaVp3FdbEWMQ04YNcJSKU8p2GnJtTjJxlItvGdTU5NkjGOciKVlikQrHKlErFIlisUrLhIERCsuViESol7j9or80Loch47Qkar80LjsH0njY9PQYdhuRjKNByhYdhuRjKNBKkToUh9mvKPT7vqfeCmOwOUAqhVsNTc+8qei+qp+LnNnVS1zOfOzXudL7TAamPy/wsUNYljbQG0UbnlMBqYbb8oBySgqvbfbyiWlUoMwBuNZE3+NLn9JubmdVIfZLOcDWdVH7tZpwRz+KCw84YPCNabMSw2mtrDaVEsDlNxKdZc7SUMqVOKZhebcyebWEHWVpGZbn2MTjZv3jg66zWBvKJJkBveIVtvt4y1iL21EGh22gTnKSbJpOgra9tvCJoRpEHKySbLOplk2WMa5WSTZJ0ssmywNzFZMidLLJsscJAiIRKlYhEqE//2Q=="],lu=[$s,eu,nu,iu,ou,uu,n.p+"static/media/Desert.76a1e7e3429badd3a7d4.jpg",n.p+"static/media/Fishing.5bc4c2060dd7712bdbb1.jpg",n.p+"static/media/Flower.0668304c1a2fcee42c02.jpg",n.p+"static/media/Kitchen.d07698778b0246076ff7.jpg",n.p+"static/media/ModernHome.9d73ece7955b1b62b975.jpg",n.p+"static/media/Nature.ae7c02d27ef6bf2be7f4.jpg",n.p+"static/media/Ocean.a3116b079f8518d79e07.jpg",n.p+"static/media/Patio.b947b33e031dba356005.jpg",n.p+"static/media/Plant.d156b0afd40ae1a34707.jpg",n.p+"static/media/SanFrancisco.5eb64308f3062e27a847.jpg"],fu=new Map,du=function(e){return new Promise((function(t,n){if(fu.has(e))return t(fu.get(e));var r=new Image;r.onload=function(){fu.set(e,r),t(r)},r.onerror=n,r.src=lu[e]}))},pu={imageNames:["Abstract","Boho Home","Bookshelf","Coffee Shop","Contemporary","Cozy Home","Desert","Fishing","Flower","Kitchen","Modern Home","Nature","Ocean","Patio","Plant","San Francisco"],images:cu},hu="./virtualbackground";var vu=n(22478),mu=n.n(vu),gu={sdkAssetsPath:"/confroom/noisecancellation",vendor:"krisp"};var yu=n(68022);window.TwilioVideo=mu();var bu=(0,e.createContext)(null);function xu(t){var n=t.options,r=t.children,i=t.onError,a=void 0===i?function(){}:i,o=(0,e.useCallback)((function(e){console.log("ERROR: ".concat(e.message),e),a(e)}),[a]),s=function(){var t=Ws(),n=t.setIsKrispEnabled,r=t.setIsKrispInstalled,i=(0,e.useState)(),a=(0,d.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)(),c=(0,d.Z)(u,2),l=c[0],f=c[1],p=(0,e.useState)(!1),h=(0,d.Z)(p,2),v=h[0],m=h[1],g=(0,e.useCallback)((0,J.Z)((0,X.Z)().mark((function e(){var t,n,r,i,a;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem(ae),e.next=3,de();case 3:return n=e.sent,r=n.videoInputDevices,i=r.some((function(e){return t&&e.deviceId===t})),a=(0,Q.Z)((0,Q.Z)({},ne),{},{name:"camera-".concat(Date.now())},i&&{deviceId:{exact:t}}),e.abrupt("return",mu().createLocalVideoTrack(a).then((function(e){return f(e),e})));case 8:case"end":return e.stop()}}),e)}))),[]),y=(0,e.useCallback)((function(){o&&(o.stop(),s(void 0))}),[o]),b=(0,e.useCallback)((function(){l&&(l.stop(),f(void 0))}),[l]),x=(0,e.useCallback)((0,J.Z)((0,X.Z)().mark((function e(){var t,i,a,u,c,d,p,h,g,y,b,x,k;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:if(t=e.sent,i=t.audioInputDevices,a=t.videoInputDevices,u=t.hasAudioInputDevices,c=t.hasVideoInputDevices,u||c){e.next=9;break}return e.abrupt("return",Promise.resolve());case 9:if(!(v||o||l)){e.next=11;break}return e.abrupt("return",Promise.resolve());case 11:return m(!0),d=window.localStorage.getItem(re),p=window.localStorage.getItem(ae),h=i.some((function(e){return d&&e.deviceId===d})),g=a.some((function(e){return p&&e.deviceId===p})),e.next=18,he("camera");case 18:return y=e.sent,e.next=21,he("microphone");case 21:return b=e.sent,x=u&&!b,k={video:c&&!y&&(0,Q.Z)((0,Q.Z)({},ne),{},{name:"camera-".concat(Date.now())},g&&{deviceId:{exact:p}}),audio:x&&(0,Q.Z)({noiseCancellationOptions:gu},h&&{deviceId:{exact:d}})},e.abrupt("return",mu().createLocalTracks(k).then((function(e){var t,i=e.find((function(e){return"video"===e.kind})),a=e.find((function(e){return"audio"===e.kind}));if(i&&(f(i),window.localStorage.setItem(ae,null!==(t=i.mediaStreamTrack.getSettings().deviceId)&&void 0!==t?t:"")),a&&(s(a),a.noiseCancellation&&(n(!0),r(!0))),y&&b){var o=new Error;throw o.name="NotAllowedError",o}if(y)throw new Error("CameraPermissionsDenied");if(b)throw new Error("MicrophonePermissionsDenied")})).finally((function(){return m(!1)})));case 26:case"end":return e.stop()}}),e)}))),[o,l,v,n,r]);return{localTracks:[o,l].filter((function(e){return void 0!==e})),getLocalVideoTrack:g,isAcquiringLocalTracks:v,removeLocalAudioTrack:y,removeLocalVideoTrack:b,getAudioAndVideoTracks:x}}(),u=s.localTracks,c=s.getLocalVideoTrack,l=s.isAcquiringLocalTracks,f=s.removeLocalAudioTrack,p=s.removeLocalVideoTrack,h=s.getAudioAndVideoTracks,v=function(t,n,r){var i=(0,e.useState)(null),a=(0,d.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)(!1),c=(0,d.Z)(u,2),l=c[0],f=c[1],p=(0,e.useRef)(r);return(0,e.useEffect)((function(){p.current=r}),[r]),{room:o,isConnecting:l,connect:(0,e.useCallback)((function(e){return f(!0),mu().connect(e,(0,Q.Z)((0,Q.Z)({},p.current),{},{tracks:t})).then((function(e){s(e),yu.VideoRoomMonitor.registerVideoRoom(e);var t=function(){return e.disconnect()};e.setMaxListeners(16),e.once("disconnected",(function(){setTimeout((function(){return s(null)})),window.removeEventListener("beforeunload",t),le&&window.removeEventListener("pagehide",t)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),f(!1),window.addEventListener("beforeunload",t),le&&window.addEventListener("pagehide",t)}),(function(e){n(e),f(!1)}))}),[t,n])}}(u,o,n),m=v.room,g=v.isConnecting,y=v.connect,b=function(t,n){var r=(0,e.useState)(!1),i=(0,d.Z)(r,2),a=i[0],o=i[1],s=(0,e.useRef)(null),u=(0,e.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}).then((function(e){var r=e.getTracks()[0];t.localParticipant.publishTrack(r,{name:"screen",priority:"low"}).then((function(e){s.current=function(){t.localParticipant.unpublishTrack(r),t.localParticipant.emit("trackUnpublished",e),r.stop(),o(!1)},r.onended=s.current,o(!0)})).catch(n)})).catch((function(e){("Permission denied by system"===e.message||"AbortError"!==e.name&&"NotAllowedError"!==e.name)&&(console.error(e),n(e))}))}),[t,n]),c=(0,e.useCallback)((function(){t&&(a?s.current():u())}),[a,u,t]);return[a,c]}(m,a),x=(0,d.Z)(b,2),k=x[0],w=x[1];!function(t,n,r,i,a,o){(0,e.useEffect)((function(){if(t){var e=function(e,t){t&&n(t),r(),i(),a&&o()};return t.on("disconnected",e),function(){t.off("disconnected",e)}}}),[t,n,r,i,a,o])}(m,a,f,p,k,w),function(t,n){(0,e.useEffect)((function(){if(t)return t.localParticipant.on("trackPublicationFailed",n),function(){t.localParticipant.off("trackPublicationFailed",n)}}),[t,n])}(m,a),function(t){var n=t.find((function(e){return"audio"===e.kind}));(0,e.useEffect)((function(){var e=function(){"ended"===(null===n||void 0===n?void 0:n.mediaStreamTrack.readyState)&&n.restart({})};return navigator.mediaDevices.addEventListener("devicechange",e),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[n])}(u);var _=(0,e.useState)(!1),S=(0,d.Z)(_,2),T=S[0],C=S[1],E=function(t,n){var r=Ao(oe,{type:"none",index:0}),i=(0,d.Z)(r,2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){t&&t.processor&&t.removeProcessor(t.processor)}),[t]),u=(0,e.useCallback)((function(e){t&&t.processor!==e&&(s(),t.addProcessor(e))}),[t,s]);return(0,e.useEffect)((function(){if(Js.isSupported){var e=function(){var e=(0,J.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xs){e.next=4;break}return Xs=new Js.GaussianBlurBackgroundProcessor({assetsPath:hu}),e.next=4,Xs.loadModel();case 4:if(Qs){e.next=15;break}return e.t0=Js.VirtualBackgroundProcessor,e.t1=hu,e.next=9,du(0);case 9:return e.t2=e.sent,e.t3=Js.ImageFit.Cover,e.t4={assetsPath:e.t1,backgroundImage:e.t2,fitType:e.t3},Qs=new e.t0(e.t4),e.next=15,Qs.loadModel();case 15:if(null!==n&&void 0!==n&&n.localParticipant){e.next=17;break}return e.abrupt("return");case 17:if("blur"!==a.type){e.next=21;break}u(Xs),e.next=29;break;case 21:if("image"!==a.type||"number"!==typeof a.index){e.next=28;break}return e.next=24,du(a.index);case 24:Qs.backgroundImage=e.sent,u(Qs),e.next=29;break;case 28:s();case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[a,t,n,u,s]),[a,o]}(u.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),m),O=(0,d.Z)(E,2),A=O[0],I=O[1];return(0,Bs.jsxs)(bu.Provider,{value:{room:m,localTracks:u,isConnecting:g,onError:o,getLocalVideoTrack:c,connect:y,isAcquiringLocalTracks:l,removeLocalVideoTrack:p,isSharingScreen:k,toggleScreenShare:w,getAudioAndVideoTracks:h,isBackgroundSelectionOpen:T,setIsBackgroundSelectionOpen:C,backgroundSettings:A,setBackgroundSettings:I},children:[(0,Bs.jsx)(qs,{room:m,children:r}),(0,Bs.jsx)(Ys,{})]})}function ku(){var t=(0,e.useContext)(bu);if(!t)throw new Error("useVideoContext must be used within a VideoProvider");return t}var wu=w((function(e){return{button:{background:e.brand,color:"white","&:hover":{background:"#600101"},marginLeft:10}}}));function _u(e){var t=wu(),n=ku().room;return(0,Bs.jsx)(Y,{onClick:function(){console.log("window.location :",window.location),console.log("window.parent.location :",window.parent.location),console.log(window.parent),window.location!==window.parent.location?(n.disconnect(),window.parent.postMessage("close_conf_iframe","*")):n.disconnect()},className:(0,v.Z)(t.button,e.className),"data-cy-disconnect":!0,children:"Hangup"})}var Su=n(70794),Tu=n(54667),Cu=n(21565);var Eu="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Ou=e.forwardRef((function(n,r){var i=n.children,a=n.container,o=n.disablePortal,s=void 0!==o&&o,u=n.onRendered,c=e.useState(null),l=c[0],f=c[1],d=(0,O.Z)(e.isValidElement(i)?i.ref:null,r);return Eu((function(){s||f(function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(a)||document.body)}),[a,s]),Eu((function(){if(l&&!s)return(0,Cu.Z)(r,l),function(){(0,Cu.Z)(r,null)}}),[r,l,s]),Eu((function(){u&&(l||s)&&u()}),[u,l,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:d}):i:l?t.createPortal(i,l):l}));var Au=Ou,Iu=n(37545),Ru=n(19535);function Nu(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var Pu=n(37636);function Mu(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Du(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function ju(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,R.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&Mu(e,i)}))}function Lu(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Fu(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Tu.Z)(e);return t.body===e?(0,Pu.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=Nu();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(Du(a)+o,"px"),n=(0,Tu.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(Du(e)+o,"px")}))}var s=a.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Zu=function(){function e(){(0,ye.Z)(this,e),this.modals=[],this.containers=[]}return(0,be.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Mu(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ju(t,e.mountNode,e.modalRef,r,!0);var i=Lu(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=Lu(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Fu(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Lu(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Mu(e.modalRef,!0),ju(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Mu(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var Bu=function(n){var r=n.children,i=n.disableAutoFocus,a=void 0!==i&&i,o=n.disableEnforceFocus,s=void 0!==o&&o,u=n.disableRestoreFocus,c=void 0!==u&&u,l=n.getDoc,f=n.isEnabled,d=n.open,p=e.useRef(),h=e.useRef(null),v=e.useRef(null),m=e.useRef(),g=e.useRef(null),y=e.useCallback((function(e){g.current=t.findDOMNode(e)}),[]),b=(0,O.Z)(r.ref,y),x=e.useRef();return e.useEffect((function(){x.current=d}),[d]),!x.current&&d&&"undefined"!==typeof window&&(m.current=l().activeElement),e.useEffect((function(){if(d){var e=(0,Tu.Z)(g.current);a||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&f()&&!p.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():p.current=!1)},n=function(t){!s&&f()&&9===t.keyCode&&e.activeElement===g.current&&(p.current=!0,t.shiftKey?v.current.focus():h.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[a,s,c,f,d]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),e.cloneElement(r,{ref:b}),e.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},Uu={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Vu=e.forwardRef((function(t,n){var i=t.invisible,a=void 0!==i&&i,o=t.open,s=(0,h.Z)(t,["invisible","open"]);return o?e.createElement("div",(0,r.Z)({"aria-hidden":!0,ref:n},s,{style:(0,r.Z)({},Uu.root,a?Uu.invisible:{},s.style)})):null}));var zu=new Zu,Wu=e.forwardRef((function(n,i){var a=(0,c.Z)(),o=(0,Su.Z)({name:"MuiModal",props:(0,r.Z)({},n),theme:a}),s=o.BackdropComponent,u=void 0===s?Vu:s,l=o.BackdropProps,f=o.children,d=o.closeAfterTransition,p=void 0!==d&&d,v=o.container,m=o.disableAutoFocus,g=void 0!==m&&m,y=o.disableBackdropClick,b=void 0!==y&&y,x=o.disableEnforceFocus,k=void 0!==x&&x,w=o.disableEscapeKeyDown,_=void 0!==w&&w,S=o.disablePortal,T=void 0!==S&&S,C=o.disableRestoreFocus,E=void 0!==C&&C,I=o.disableScrollLock,R=void 0!==I&&I,N=o.hideBackdrop,P=void 0!==N&&N,M=o.keepMounted,D=void 0!==M&&M,j=o.manager,L=void 0===j?zu:j,F=o.onBackdropClick,Z=o.onClose,B=o.onEscapeKeyDown,U=o.onRendered,V=o.open,z=(0,h.Z)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),W=e.useState(!0),H=W[0],G=W[1],q=e.useRef({}),K=e.useRef(null),Y=e.useRef(null),X=(0,O.Z)(Y,i),Q=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),J=function(){return(0,Tu.Z)(K.current)},$=function(){return q.current.modalRef=Y.current,q.current.mountNode=K.current,q.current},ee=function(){L.mount($(),{disableScrollLock:R}),Y.current.scrollTop=0},te=(0,A.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(v)||J().body;L.add($(),e),Y.current&&ee()})),ne=e.useCallback((function(){return L.isTopModal($())}),[L]),re=(0,A.Z)((function(e){K.current=e,e&&(U&&U(),V&&ne()?ee():Mu(Y.current,!0))})),ie=e.useCallback((function(){L.remove($())}),[L]);if(e.useEffect((function(){return function(){ie()}}),[ie]),e.useEffect((function(){V?te():Q&&p||ie()}),[V,ie,Q,p,te]),!D&&!V&&(!Q||H))return null;var ae=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(a||{zIndex:Ru.Z}),oe={};return void 0===f.props.tabIndex&&(oe.tabIndex=f.props.tabIndex||"-1"),Q&&(oe.onEnter=(0,Iu.Z)((function(){G(!1)}),f.props.onEnter),oe.onExited=(0,Iu.Z)((function(){G(!0),p&&ie()}),f.props.onExited)),e.createElement(Au,{ref:re,container:v,disablePortal:T},e.createElement("div",(0,r.Z)({ref:X,onKeyDown:function(e){"Escape"===e.key&&ne()&&(B&&B(e),_||(e.stopPropagation(),Z&&Z(e,"escapeKeyDown")))},role:"presentation"},z,{style:(0,r.Z)({},ae.root,!V&&H?ae.hidden:{},z.style)}),P?null:e.createElement(u,(0,r.Z)({open:V,onClick:function(e){e.target===e.currentTarget&&(F&&F(e),!b&&Z&&Z(e,"backdropClick"))}},l)),e.createElement(Bu,{disableEnforceFocus:k,disableAutoFocus:g,disableRestoreFocus:E,getDoc:J,isEnabled:ne,open:V},e.cloneElement(f,oe))))})),Hu=Wu,Gu=!1,qu="unmounted",Ku="exited",Yu="entering",Xu="entered",Qu="exiting",Ju=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Ku,r.appearStatus=Yu):i=Xu:i=e.unmountOnExit||e.mountOnEnter?qu:Ku,r.state={status:i},r.nextCallback=null,r}(0,M.Z)(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===qu?{status:Ku}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Yu&&n!==Xu&&(t=Yu):n!==Yu&&n!==Xu||(t=Qu)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,n){if(void 0===e&&(e=!1),null!==n)if(this.cancelNextCallback(),n===Yu){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ku&&this.setState({status:qu})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||Gu?this.safeSetState({status:Xu},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Yu},(function(){n.props.onEntering(o,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:Xu},(function(){n.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Gu?(this.props.onExit(i),this.safeSetState({status:Qu},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Ku},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Ku},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===qu)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,N.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(D.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function $u(){}Ju.contextType=D,Ju.propTypes={},Ju.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$u,onEntering:$u,onEntered:$u,onExit:$u,onExiting:$u,onExited:$u},Ju.UNMOUNTED=qu,Ju.EXITED=Ku,Ju.ENTERING=Yu,Ju.ENTERED=Xu,Ju.EXITING=Qu;var ec=Ju,tc=n(10812);function nc(){return(0,c.Z)()||x.Z}var rc=function(e){return e.scrollTop};function ic(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var ac={entering:{opacity:1},entered:{opacity:1}},oc={enter:tc.x9.enteringScreen,exit:tc.x9.leavingScreen},sc=e.forwardRef((function(t,n){var i=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,s=t.in,u=t.onEnter,c=t.onEntered,l=t.onEntering,f=t.onExit,p=t.onExited,v=t.onExiting,m=t.style,g=t.TransitionComponent,y=void 0===g?ec:g,b=t.timeout,x=void 0===b?oc:b,k=(0,h.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),w=nc(),_=w.unstable_strictMode&&!o,S=e.useRef(null),T=(0,O.Z)(i.ref,n),C=(0,O.Z)(_?S:void 0,T),E=function(e){return function(t,n){if(e){var r=_?[S.current,t]:[t,n],i=(0,d.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},A=E(l),I=E((function(e,t){rc(e);var n=ic({style:m,timeout:x},{mode:"enter"});e.style.webkitTransition=w.transitions.create("opacity",n),e.style.transition=w.transitions.create("opacity",n),u&&u(e,t)})),R=E(c),N=E(v),P=E((function(e){var t=ic({style:m,timeout:x},{mode:"exit"});e.style.webkitTransition=w.transitions.create("opacity",t),e.style.transition=w.transitions.create("opacity",t),f&&f(e)})),M=E(p);return e.createElement(y,(0,r.Z)({appear:!0,in:s,nodeRef:_?S:void 0,onEnter:I,onEntered:R,onEntering:A,onExit:P,onExited:M,onExiting:N,timeout:x},k),(function(t,n){return e.cloneElement(i,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==t||s?void 0:"hidden"},ac[t],m,i.props.style),ref:C},n))}))})),uc=sc,cc=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.invisible,u=void 0!==s&&s,c=t.open,l=t.transitionDuration,f=t.TransitionComponent,d=void 0===f?uc:f,p=(0,h.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(d,(0,r.Z)({in:c,timeout:l},p),e.createElement("div",{className:(0,v.Z)(a.root,o,u&&a.invisible),"aria-hidden":!0,ref:n},i))})),lc=(0,i.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(cc),fc=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.component,s=void 0===o?"div":o,u=t.square,c=void 0!==u&&u,l=t.elevation,f=void 0===l?1:l,d=t.variant,p=void 0===d?"elevation":d,m=(0,h.Z)(t,["classes","className","component","square","elevation","variant"]);return e.createElement(s,(0,r.Z)({className:(0,v.Z)(i.root,a,"outlined"===p?i.outlined:i["elevation".concat(f)],!c&&i.rounded),ref:n},m))})),dc=(0,i.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,r.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(fc),pc={enter:tc.x9.enteringScreen,exit:tc.x9.leavingScreen},hc=e.forwardRef((function(t,n){var i=t.BackdropProps,a=t.children,o=t.classes,s=t.className,u=t.disableBackdropClick,c=void 0!==u&&u,l=t.disableEscapeKeyDown,f=void 0!==l&&l,d=t.fullScreen,p=void 0!==d&&d,m=t.fullWidth,g=void 0!==m&&m,y=t.maxWidth,b=void 0===y?"sm":y,x=t.onBackdropClick,k=t.onClose,w=t.onEnter,S=t.onEntered,T=t.onEntering,C=t.onEscapeKeyDown,E=t.onExit,O=t.onExited,A=t.onExiting,I=t.open,R=t.PaperComponent,N=void 0===R?dc:R,P=t.PaperProps,M=void 0===P?{}:P,D=t.scroll,j=void 0===D?"paper":D,L=t.TransitionComponent,F=void 0===L?uc:L,Z=t.transitionDuration,B=void 0===Z?pc:Z,U=t.TransitionProps,V=t["aria-describedby"],z=t["aria-labelledby"],W=(0,h.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),H=e.useRef();return e.createElement(Hu,(0,r.Z)({className:(0,v.Z)(o.root,s),BackdropComponent:lc,BackdropProps:(0,r.Z)({transitionDuration:B},i),closeAfterTransition:!0},c?{disableBackdropClick:c}:{},{disableEscapeKeyDown:f,onEscapeKeyDown:C,onClose:k,open:I,ref:n},W),e.createElement(F,(0,r.Z)({appear:!0,in:I,timeout:B,onEnter:w,onEntering:T,onEntered:S,onExit:E,onExiting:A,onExited:O,role:"none presentation"},U),e.createElement("div",{className:(0,v.Z)(o.container,o["scroll".concat((0,_.Z)(j))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===H.current&&(H.current=null,x&&x(e),!c&&k&&k(e,"backdropClick"))},onMouseDown:function(e){H.current=e.target}},e.createElement(N,(0,r.Z)({elevation:24,role:"dialog","aria-describedby":V,"aria-labelledby":z},M,{className:(0,v.Z)(o.paper,o["paperScroll".concat((0,_.Z)(j))],o["paperWidth".concat((0,_.Z)(String(b)))],M.className,p&&o.paperFullScreen,g&&o.paperFullWidth)}),a))))})),vc=(0,i.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,p.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,p.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,p.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,p.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,p.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(hc),mc=e.forwardRef((function(t,n){var i=t.disableSpacing,a=void 0!==i&&i,o=t.classes,s=t.className,u=(0,h.Z)(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,r.Z)({className:(0,v.Z)(o.root,s,!a&&o.spacing),ref:n},u))})),gc=(0,i.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(mc),yc=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.dividers,s=void 0!==o&&o,u=(0,h.Z)(t,["classes","className","dividers"]);return e.createElement("div",(0,r.Z)({className:(0,v.Z)(i.root,a,s&&i.dividers),ref:n},u))})),bc=(0,i.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(yc),xc=e.forwardRef((function(t,n){return e.createElement(C,(0,r.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},t))})),kc=(0,i.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(xc),wc=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.disableTypography,u=void 0!==s&&s,c=(0,h.Z)(t,["children","classes","className","disableTypography"]);return e.createElement("div",(0,r.Z)({className:(0,v.Z)(a.root,o),ref:n},c),u?i:e.createElement(C,{component:"h2",variant:"h6"},i))})),_c=(0,i.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(wc),Sc=e.forwardRef((function(t,n){var i=t.absolute,a=void 0!==i&&i,o=t.classes,s=t.className,u=t.component,c=void 0===u?"hr":u,l=t.flexItem,f=void 0!==l&&l,d=t.light,p=void 0!==d&&d,m=t.orientation,g=void 0===m?"horizontal":m,y=t.role,b=void 0===y?"hr"!==c?"separator":void 0:y,x=t.variant,k=void 0===x?"fullWidth":x,w=(0,h.Z)(t,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return e.createElement(c,(0,r.Z)({className:(0,v.Z)(o.root,s,"fullWidth"!==k&&o[k],a&&o.absolute,f&&o.flexItem,p&&o.light,"vertical"===g&&o.vertical),role:b,ref:n},w))})),Tc=(0,i.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,E.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(Sc),Cc="0.9.1";var Ec=function(e){var t=e.open,n=e.onClose,r=Ws().roomType;return(0,Bs.jsxs)(vc,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs",children:[(0,Bs.jsx)(_c,{children:"About"}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsxs)(bc,{children:[(0,Bs.jsxs)(kc,{children:["Browser supported: ",String(mu().isSupported)]}),(0,Bs.jsxs)(kc,{children:["SDK Version: ",mu().version]}),(0,Bs.jsxs)(kc,{children:["App Version: ",Cc]}),(0,Bs.jsxs)(kc,{children:["Deployed Tag: ",{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GIT_TAG||"N/A"]}),(0,Bs.jsxs)(kc,{children:["Deployed Commit Hash: ",{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GIT_COMMIT||"N/A"]}),r&&(0,Bs.jsxs)(kc,{children:["Room Type: ",r]})]}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsx)(gc,{children:(0,Bs.jsx)(Y,{onClick:n,color:"primary",variant:"contained",autoFocus:!0,children:"OK"})})]})};function Oc(){return(0,Bs.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.65H4C3.25442 4.65 2.65 5.25442 2.65 6V14C2.65 14.7456 3.25442 15.35 4 15.35H16C16.7456 15.35 17.35 14.7456 17.35 14V6C17.35 5.25442 16.7456 4.65 16 4.65ZM4 4C2.89543 4 2 4.89543 2 6V14C2 15.1046 2.89543 16 4 16H16C17.1046 16 18 15.1046 18 14V6C18 4.89543 17.1046 4 16 4H4Z",fill:"#606B85"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.325C9.35111 6.325 8.82505 6.85107 8.82505 7.5C8.82505 8.14894 9.35111 8.675 10 8.675C10.649 8.675 11.175 8.14894 11.175 7.5C11.175 6.85107 10.649 6.325 10 6.325ZM8.17505 7.5C8.17505 6.49208 8.99213 5.675 10 5.675C11.008 5.675 11.825 6.49208 11.825 7.5C11.825 8.50792 11.008 9.325 10 9.325C8.99213 9.325 8.17505 8.50792 8.17505 7.5Z",fill:"#606B85"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10.325C8.24654 10.325 6.82505 11.7465 6.82505 13.5C6.82505 13.6795 6.67954 13.825 6.50005 13.825C6.32056 13.825 6.17505 13.6795 6.17505 13.5C6.17505 11.3875 7.88756 9.675 10 9.675C12.1125 9.675 13.825 11.3875 13.825 13.5C13.825 13.6795 13.6795 13.825 13.5 13.825C13.3206 13.825 13.175 13.6795 13.175 13.5C13.175 11.7465 11.7536 10.325 10 10.325Z",fill:"#606B85"})]})}var Ac,Ic,Rc=n(66556),Nc=0,Pc=0,Mc=0,Dc=1e3,jc=0,Lc=0,Fc=0,Zc="object"===typeof performance&&performance.now?performance:Date,Bc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Uc(){return Lc||(Bc(Vc),Lc=Zc.now()+Fc)}function Vc(){Lc=0}function zc(){this._call=this._time=this._next=null}function Wc(){Lc=(jc=Zc.now())+Fc,Nc=Pc=0;try{!function(){Uc(),++Nc;for(var e,t=Ac;t;)(e=Lc-t._time)>=0&&t._call.call(null,e),t=t._next;--Nc}()}finally{Nc=0,function(){var e,t,n=Ac,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ac=t);Ic=e,Gc(r)}(),Lc=0}}function Hc(){var e=Zc.now(),t=e-jc;t>Dc&&(Fc-=t,jc=e)}function Gc(e){Nc||(Pc&&(Pc=clearTimeout(Pc)),e-Lc>24?(e<1/0&&(Pc=setTimeout(Wc,e-Zc.now()-Fc)),Mc&&(Mc=clearInterval(Mc))):(Mc||(jc=Zc.now(),Mc=setInterval(Hc,Dc)),Nc=1,Bc(Wc)))}function qc(t){var n=(0,e.useState)(!!t&&t.isEnabled),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(!!t&&t.isEnabled),t){var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("enabled",e),t.on("disabled",n),function(){t.off("enabled",e),t.off("disabled",n)}}}),[t]),i}function Kc(t){var n=(0,e.useState)(null===t||void 0===t?void 0:t.mediaStreamTrack),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(null===t||void 0===t?void 0:t.mediaStreamTrack),t){var e=function(){return a(t.mediaStreamTrack)};return t.on("started",e),function(){t.off("started",e)}}}),[t]),i}zc.prototype=function(e,t,n){var r=new zc;return r.restart(e,t,n),r}.prototype={constructor:zc,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Uc():+n)+(null==t?0:+t),this._next||Ic===this||(Ic?Ic._next=this:Ac=this,Ic=this),this._call=e,this._time=n,Gc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gc())}};var Yc=0,Xc=window.AudioContext||window.webkitAudioContext;function Qc(e){var t=new Xc,n=t.createMediaStreamSource(e),r=t.createAnalyser();return r.smoothingTimeConstant=.2,r.fftSize=256,n.connect(r),e.addEventListener("cleanup",(function(){"closed"!==t.state&&t.close()})),r}var Jc=/iPhone|iPad/.test(navigator.userAgent);function $c(t){var n=t.audioTrack,r=t.color,i=void 0===r?"white":r,a=(0,e.useRef)(null),o=(0,e.useState)(),s=(0,d.Z)(o,2),u=s[0],c=s[1],l=qc(n),f=Kc(n);(0,e.useEffect)((function(){if(n&&f&&l){var e=new MediaStream([Jc?f.clone():f]),t=function(){Jc&&e.getTracks().forEach((function(e){return e.stop()})),e.dispatchEvent(new Event("cleanup"))};n.on("stopped",t);var r=function(){t(),e=new MediaStream([Jc?f.clone():f]),c(Qc(e))};return c(Qc(e)),window.addEventListener("focus",r),function(){t(),window.removeEventListener("focus",r),n.off("stopped",t)}}}),[l,f,n]),(0,e.useEffect)((function(){var e=a.current;if(l&&e&&u){var t=new Uint8Array(u.frequencyBinCount),n=function(e,t,n){var r=new zc,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Uc():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)}((function(){u.getByteFrequencyData(t);for(var n=0,r=t.length,i=0;i<r;i++)n+=t[i];var a=Math.min(14,Math.max(0,7*Math.log10(n/r/3)));null===e||void 0===e||e.setAttribute("y",String(14-a))}),100);return function(){e.setAttribute("y","14"),n.stop()}}}),[l,u]);var p="audio-level-clip-".concat(Yc++);return l?(0,Bs.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-test-audio-indicator":!0,children:[(0,Bs.jsx)("defs",{children:(0,Bs.jsx)("clipPath",{id:p,children:(0,Bs.jsx)("rect",{ref:a,x:"0",y:"14",width:"24",height:"24"})})}),(0,Bs.jsxs)("g",{fill:"none",fillRule:"evenodd",transform:"translate(.5)",children:[(0,Bs.jsx)("rect",{clipPath:"url(#".concat(p,")"),width:"5.2",height:"10",x:"9.5",y:"3.5",rx:"6",ry:"3",fill:"#23BF6E"}),(0,Bs.jsx)("path",{fill:i,strokeWidth:"0",d:"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z"})]})]}):(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",transform:"translate(-0.5, 0)","data-test-audio-mute-icon":!0,children:(0,Bs.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,Bs.jsx)("path",{fill:i,strokeWidth:"0",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),(0,Bs.jsx)("path",{fill:"red",strokeWidth:"0",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})]})})}var el=e.memo($c),tl=[0,1,2,3,4,5,6,7,8,9,10],nl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var il=e.forwardRef((function(t,n){var i=t.alignContent,a=void 0===i?"stretch":i,o=t.alignItems,s=void 0===o?"stretch":o,u=t.classes,c=t.className,l=t.component,f=void 0===l?"div":l,d=t.container,p=void 0!==d&&d,m=t.direction,g=void 0===m?"row":m,y=t.item,b=void 0!==y&&y,x=t.justify,k=t.justifyContent,w=void 0===k?"flex-start":k,_=t.lg,S=void 0!==_&&_,T=t.md,C=void 0!==T&&T,E=t.sm,O=void 0!==E&&E,A=t.spacing,I=void 0===A?0:A,R=t.wrap,N=void 0===R?"wrap":R,P=t.xl,M=void 0!==P&&P,D=t.xs,j=void 0!==D&&D,L=t.zeroMinWidth,F=void 0!==L&&L,Z=(0,h.Z)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),B=(0,v.Z)(u.root,c,p&&[u.container,0!==I&&u["spacing-xs-".concat(String(I))]],b&&u.item,F&&u.zeroMinWidth,"row"!==g&&u["direction-xs-".concat(String(g))],"wrap"!==N&&u["wrap-xs-".concat(String(N))],"stretch"!==s&&u["align-items-xs-".concat(String(s))],"stretch"!==a&&u["align-content-xs-".concat(String(a))],"flex-start"!==(x||w)&&u["justify-content-xs-".concat(String(x||w))],!1!==j&&u["grid-xs-".concat(String(j))],!1!==O&&u["grid-sm-".concat(String(O))],!1!==C&&u["grid-md-".concat(String(C))],!1!==S&&u["grid-lg-".concat(String(S))],!1!==M&&u["grid-xl-".concat(String(M))]);return e.createElement(f,(0,r.Z)({className:B,ref:n},Z))})),al=(0,i.Z)((function(e){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return tl.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(rl(i,2)),width:"calc(100% + ".concat(rl(i),")"),"& > $item":{padding:rl(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var i={};nl.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");i[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else i[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else i[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(e,i):e[t.breakpoints.up(n)]=i}(t,e,n),t}),{}))}),{name:"MuiGrid"})(il),ol=al;function sl(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ul(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(sl(e.value)&&""!==e.value||t&&sl(e.defaultValue)&&""!==e.defaultValue)}var cl=n(43375),ll=e.createContext();var fl=ll,dl=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.color,u=void 0===s?"primary":s,c=t.component,l=void 0===c?"div":c,f=t.disabled,d=void 0!==f&&f,p=t.error,m=void 0!==p&&p,g=t.fullWidth,y=void 0!==g&&g,b=t.focused,x=t.hiddenLabel,k=void 0!==x&&x,w=t.margin,S=void 0===w?"none":w,T=t.required,C=void 0!==T&&T,E=t.size,O=t.variant,A=void 0===O?"standard":O,I=(0,h.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){if((0,cl.Z)(e,["Input","Select"])){var n=(0,cl.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),N=R[0],P=R[1],M=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){(0,cl.Z)(e,["Input","Select"])&&ul(e.props,!0)&&(t=!0)})),t})),D=M[0],j=M[1],L=e.useState(!1),F=L[0],Z=L[1],B=void 0!==b?b:F;d&&B&&Z(!1);var U=e.useCallback((function(){j(!0)}),[]),V={adornedStart:N,setAdornedStart:P,color:u,disabled:d,error:m,filled:D,focused:B,fullWidth:y,hiddenLabel:k,margin:("small"===E?"dense":void 0)||S,onBlur:function(){Z(!1)},onEmpty:e.useCallback((function(){j(!1)}),[]),onFilled:U,onFocus:function(){Z(!0)},registerEffect:undefined,required:C,variant:A};return e.createElement(fl.Provider,{value:V},e.createElement(l,(0,r.Z)({className:(0,v.Z)(a.root,o,"none"!==S&&a["margin".concat((0,_.Z)(S))],y&&a.fullWidth),ref:n},I),i))})),pl=(0,i.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(dl),hl=n(25352),vl=n(71002),ml=n(37483),gl=(n(57441),n(50503));function yl(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var bl={entering:{opacity:1,transform:yl(1)},entered:{opacity:1,transform:"none"}},xl=e.forwardRef((function(t,n){var i=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,s=t.in,u=t.onEnter,c=t.onEntered,l=t.onEntering,f=t.onExit,p=t.onExited,v=t.onExiting,m=t.style,g=t.timeout,y=void 0===g?"auto":g,b=t.TransitionComponent,x=void 0===b?ec:b,k=(0,h.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=e.useRef(),_=e.useRef(),S=nc(),T=S.unstable_strictMode&&!o,C=e.useRef(null),E=(0,O.Z)(i.ref,n),A=(0,O.Z)(T?C:void 0,E),I=function(e){return function(t,n){if(e){var r=T?[C.current,t]:[t,n],i=(0,d.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},R=I(l),N=I((function(e,t){rc(e);var n,r=ic({style:m,timeout:y},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),P=I(c),M=I(v),D=I((function(e){var t,n=ic({style:m,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=yl(.75),f&&f(e)})),j=I(p);return e.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),e.createElement(x,(0,r.Z)({appear:!0,in:s,nodeRef:T?C:void 0,onEnter:N,onEntered:P,onEntering:R,onExit:D,onExited:j,onExiting:M,addEndListener:function(e,t){var n=T?e:t;"auto"===y&&(w.current=setTimeout(n,_.current||0))},timeout:"auto"===y?null:y},k),(function(t,n){return e.cloneElement(i,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:yl(.75),visibility:"exited"!==t||s?void 0:"hidden"},bl[t],m,i.props.style),ref:A},n))}))}));xl.muiSupportAuto=!0;var kl=xl;function wl(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function _l(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Sl(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Tl(e){return"function"===typeof e?e():e}var Cl=e.forwardRef((function(n,i){var a=n.action,o=n.anchorEl,s=n.anchorOrigin,u=void 0===s?{vertical:"top",horizontal:"left"}:s,c=n.anchorPosition,l=n.anchorReference,f=void 0===l?"anchorEl":l,d=n.children,p=n.classes,m=n.className,g=n.container,y=n.elevation,b=void 0===y?8:y,x=n.getContentAnchorEl,k=n.marginThreshold,w=void 0===k?16:k,_=n.onEnter,S=n.onEntered,T=n.onEntering,C=n.onExit,E=n.onExited,O=n.onExiting,A=n.open,I=n.PaperProps,R=void 0===I?{}:I,N=n.transformOrigin,P=void 0===N?{vertical:"top",horizontal:"left"}:N,M=n.TransitionComponent,D=void 0===M?kl:M,j=n.transitionDuration,L=void 0===j?"auto":j,F=n.TransitionProps,Z=void 0===F?{}:F,B=(0,h.Z)(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),U=e.useRef(),V=e.useCallback((function(e){if("anchorPosition"===f)return c;var t=Tl(o),n=(t&&1===t.nodeType?t:(0,Tu.Z)(U.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+wl(n,r),left:n.left+_l(n,u.horizontal)}}),[o,u.horizontal,u.vertical,c,f]),z=e.useCallback((function(e){var t=0;if(x&&"anchorEl"===f){var n=x(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,f,x]),W=e.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:wl(e,P.vertical)+t,horizontal:_l(e,P.horizontal)}}),[P.horizontal,P.vertical]),H=e.useCallback((function(e){var t=z(e),n={width:e.offsetWidth,height:e.offsetHeight},r=W(n,t);if("none"===f)return{top:null,left:null,transformOrigin:Sl(r)};var i=V(t),a=i.top-r.vertical,s=i.left-r.horizontal,u=a+n.height,c=s+n.width,l=(0,Pu.Z)(Tl(o)),d=l.innerHeight-w,p=l.innerWidth-w;if(a<w){var h=a-w;a-=h,r.vertical+=h}else if(u>d){var v=u-d;a-=v,r.vertical+=v}if(s<w){var m=s-w;s-=m,r.horizontal+=m}else if(c>p){var g=c-p;s-=g,r.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Sl(r)}}),[o,f,V,z,W,w]),G=e.useCallback((function(){var e=U.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[H]),q=e.useCallback((function(e){U.current=t.findDOMNode(e)}),[]);e.useEffect((function(){A&&G()})),e.useImperativeHandle(a,(function(){return A?{updatePosition:function(){G()}}:null}),[A,G]),e.useEffect((function(){if(A){var e=(0,gl.Z)((function(){G()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[A,G]);var K=L;"auto"!==L||D.muiSupportAuto||(K=void 0);var Y=g||(o?(0,Tu.Z)(Tl(o)).body:void 0);return e.createElement(Hu,(0,r.Z)({container:Y,open:A,ref:i,BackdropProps:{invisible:!0},className:(0,v.Z)(p.root,m)},B),e.createElement(D,(0,r.Z)({appear:!0,in:A,onEnter:_,onEntered:S,onExit:C,onExited:E,onExiting:O,timeout:K},Z,{onEntering:(0,Iu.Z)((function(e,t){T&&T(e,t),G()}),Z.onEntering)}),e.createElement(dc,(0,r.Z)({elevation:b,ref:q},R,{className:(0,v.Z)(p.paper,R.className)}),d)))})),El=(0,i.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Cl);var Ol=e.createContext({}),Al=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"ul":s,c=t.dense,l=void 0!==c&&c,f=t.disablePadding,d=void 0!==f&&f,p=t.subheader,m=(0,h.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=e.useMemo((function(){return{dense:l}}),[l]);return e.createElement(Ol.Provider,{value:g},e.createElement(u,(0,r.Z)({className:(0,v.Z)(a.root,o,l&&a.dense,!d&&a.padding,p&&a.subheader),ref:n},m),p,i))})),Il=(0,i.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Al);function Rl(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Nl(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Pl(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Ml(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Pl(s,a)&&!u)return void s.focus();s=i(e,s,n)}}var Dl="undefined"===typeof window?e.useEffect:e.useLayoutEffect,jl=e.forwardRef((function(n,i){var a=n.actions,o=n.autoFocus,s=void 0!==o&&o,u=n.autoFocusItem,c=void 0!==u&&u,l=n.children,f=n.className,d=n.disabledItemsFocusable,p=void 0!==d&&d,v=n.disableListWrap,m=void 0!==v&&v,g=n.onKeyDown,y=n.variant,b=void 0===y?"selectedMenu":y,x=(0,h.Z)(n,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=e.useRef(null),w=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Dl((function(){s&&k.current.focus()}),[s]),e.useImperativeHandle(a,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(Nu(),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var _=e.useCallback((function(e){k.current=t.findDOMNode(e)}),[]),S=(0,O.Z)(_,i),T=-1;e.Children.forEach(l,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===T)&&(T=n))}));var C=e.Children.map(l,(function(t,n){if(n===T){var r={};return c&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===b&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return e.createElement(Il,(0,r.Z)({role:"menu",ref:S,className:f,onKeyDown:function(e){var t=k.current,n=e.key,r=(0,Tu.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ml(t,r,m,p,Rl);else if("ArrowUp"===n)e.preventDefault(),Ml(t,r,m,p,Nl);else if("Home"===n)e.preventDefault(),Ml(t,null,m,p,Rl);else if("End"===n)e.preventDefault(),Ml(t,null,m,p,Nl);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&Pl(r,i);i.previousKeyMatched&&(s||Ml(t,r,!1,p,Rl,i))?e.preventDefault():i.previousKeyMatched=!1}g&&g(e)},tabIndex:s?0:-1},x),C)})),Ll=jl,Fl={vertical:"top",horizontal:"right"},Zl={vertical:"top",horizontal:"left"},Bl=e.forwardRef((function(n,i){var a=n.autoFocus,o=void 0===a||a,s=n.children,u=n.classes,c=n.disableAutoFocusItem,l=void 0!==c&&c,f=n.MenuListProps,d=void 0===f?{}:f,p=n.onClose,m=n.onEntering,g=n.open,y=n.PaperProps,b=void 0===y?{}:y,x=n.PopoverClasses,k=n.transitionDuration,w=void 0===k?"auto":k,_=n.TransitionProps,S=(_=void 0===_?{}:_).onEntering,T=(0,h.Z)(_,["onEntering"]),C=n.variant,E=void 0===C?"selectedMenu":C,O=(0,h.Z)(n,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),A=nc(),I=o&&!l&&g,R=e.useRef(null),N=e.useRef(null),P=-1;e.Children.map(s,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("menu"!==E&&t.props.selected||-1===P)&&(P=n))}));var M=e.Children.map(s,(function(n,r){return r===P?e.cloneElement(n,{ref:function(e){N.current=t.findDOMNode(e),(0,Cu.Z)(n.ref,e)}}):n}));return e.createElement(El,(0,r.Z)({getContentAnchorEl:function(){return N.current},classes:x,onClose:p,TransitionProps:(0,r.Z)({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,A),m&&m(e,t),S&&S(e,t)}},T),anchorOrigin:"rtl"===A.direction?Fl:Zl,transformOrigin:"rtl"===A.direction?Fl:Zl,PaperProps:(0,r.Z)({},b,{classes:(0,r.Z)({},b.classes,{root:u.paper})}),open:g,ref:i,transitionDuration:w},O),e.createElement(Ll,(0,r.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:R,autoFocus:o&&(-1===P||l),autoFocusItem:I,variant:E},d,{className:(0,v.Z)(u.list,d.className)}),M))})),Ul=(0,i.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Bl),Vl=n(92497);function zl(e,t){return"object"===(0,vl.Z)(t)&&null!==t?e===t:String(e)===String(t)}var Wl=e.forwardRef((function(t,n){var i=t["aria-label"],a=t.autoFocus,o=t.autoWidth,s=t.children,u=t.classes,c=t.className,l=t.defaultValue,f=t.disabled,p=t.displayEmpty,m=t.IconComponent,g=t.inputRef,y=t.labelId,b=t.MenuProps,x=void 0===b?{}:b,k=t.multiple,w=t.name,S=t.onBlur,T=t.onChange,C=t.onClose,E=t.onFocus,A=t.onOpen,I=t.open,R=t.readOnly,N=t.renderValue,P=t.SelectDisplayProps,M=void 0===P?{}:P,D=t.tabIndex,j=(t.type,t.value),L=t.variant,F=void 0===L?"standard":L,Z=(0,h.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),B=(0,Vl.Z)({controlled:j,default:l,name:"Select"}),U=(0,d.Z)(B,2),V=U[0],z=U[1],W=e.useRef(null),H=e.useState(null),G=H[0],q=H[1],K=e.useRef(null!=I).current,Y=e.useState(),X=Y[0],Q=Y[1],J=e.useState(!1),$=J[0],ee=J[1],te=(0,O.Z)(n,g);e.useImperativeHandle(te,(function(){return{focus:function(){G.focus()},node:W.current,value:V}}),[G,V]),e.useEffect((function(){a&&G&&G.focus()}),[a,G]),e.useEffect((function(){if(G){var e=(0,Tu.Z)(G).getElementById(y);if(e){var t=function(){getSelection().isCollapsed&&G.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[y,G]);var ne,re,ie=function(e,t){e?A&&A(t):C&&C(t),K||(Q(o?null:G.clientWidth),ee(e))},ae=e.Children.toArray(s),oe=function(e){return function(t){var n;if(k||ie(!1,t),k){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),V!==n&&(z(n),T&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:w}}),T(t,e)))}},se=null!==G&&(K?I:$);delete Z["aria-invalid"];var ue=[],ce=!1;(ul({value:V})||p)&&(N?ne=N(V):ce=!0);var le=ae.map((function(t){if(!e.isValidElement(t))return null;var n;if(k){if(!Array.isArray(V))throw new Error((0,ml.Z)(2));(n=V.some((function(e){return zl(e,t.props.value)})))&&ce&&ue.push(t.props.children)}else(n=zl(V,t.props.value))&&ce&&(re=t.props.children);return n&&!0,e.cloneElement(t,{"aria-selected":n?"true":void 0,onClick:oe(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));ce&&(ne=k?ue.join(", "):re);var fe,de=X;!o&&K&&G&&(de=G.clientWidth),fe="undefined"!==typeof D?D:f?null:0;var pe=M.id||(w?"mui-component-select-".concat(w):void 0);return e.createElement(e.Fragment,null,e.createElement("div",(0,r.Z)({className:(0,v.Z)(u.root,u.select,u.selectMenu,u[F],c,f&&u.disabled),ref:q,tabIndex:fe,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":se?"true":void 0,"aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[y,pe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!R){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))}},onMouseDown:f||R?null:function(e){0===e.button&&(e.preventDefault(),G.focus(),ie(!0,e))},onBlur:function(e){!se&&S&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:w}}),S(e))},onFocus:E},M,{id:pe}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ne)?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ne),e.createElement("input",(0,r.Z)({value:Array.isArray(V)?V.join(","):V,name:w,ref:W,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];z(n.props.value),T&&T(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:a},Z)),e.createElement(m,{className:(0,v.Z)(u.icon,u["icon".concat((0,_.Z)(F))],se&&u.iconOpen,f&&u.disabled)}),e.createElement(Ul,(0,r.Z)({id:"menu-".concat(w||""),anchorEl:G,open:se,onClose:function(e){ie(!1,e)}},x,{MenuListProps:(0,r.Z)({"aria-labelledby":y,role:"listbox",disableListWrap:!0},x.MenuListProps),PaperProps:(0,r.Z)({},x.PaperProps,{style:(0,r.Z)({minWidth:de},null!=x.PaperProps?x.PaperProps.style:null)})}),le))})),Hl=Wl;function Gl(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function ql(){return e.useContext(fl)}var Kl=n(94327),Yl=(0,Kl.Z)(e.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Xl(e,t){return parseInt(e[t],10)||0}var Ql="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Jl={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},$l=e.forwardRef((function(t,n){var i=t.onChange,a=t.rows,o=t.rowsMax,s=t.rowsMin,u=t.maxRows,c=t.minRows,l=void 0===c?1:c,f=t.style,d=t.value,p=(0,h.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=u||o,m=a||s||l,g=e.useRef(null!=d).current,y=e.useRef(null),b=(0,O.Z)(n,y),x=e.useRef(null),k=e.useRef(0),w=e.useState({}),_=w[0],S=w[1],T=e.useCallback((function(){var e=y.current,n=window.getComputedStyle(e),r=x.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=Xl(n,"padding-bottom")+Xl(n,"padding-top"),o=Xl(n,"border-bottom-width")+Xl(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,c=s;m&&(c=Math.max(Number(m)*u,c)),v&&(c=Math.min(Number(v)*u,c));var l=(c=Math.max(c,u))+("border-box"===i?a+o:0),f=Math.abs(c-s)<=1;S((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(k.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,t.placeholder]);e.useEffect((function(){var e=(0,gl.Z)((function(){k.current=0,T()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[T]),Ql((function(){T()})),e.useEffect((function(){k.current=0}),[d]);return e.createElement(e.Fragment,null,e.createElement("textarea",(0,r.Z)({value:d,onChange:function(e){k.current=0,g||T(),i&&i(e)},ref:b,rows:m,style:(0,r.Z)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},f)},p)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:(0,r.Z)({},Jl,f)}))})),ef=$l,tf="undefined"===typeof window?e.useEffect:e.useLayoutEffect,nf=e.forwardRef((function(t,n){var i=t["aria-describedby"],a=t.autoComplete,o=t.autoFocus,s=t.classes,u=t.className,c=(t.color,t.defaultValue),l=t.disabled,f=t.endAdornment,d=(t.error,t.fullWidth),p=void 0!==d&&d,m=t.id,g=t.inputComponent,y=void 0===g?"input":g,b=t.inputProps,x=void 0===b?{}:b,k=t.inputRef,w=(t.margin,t.multiline),S=void 0!==w&&w,T=t.name,C=t.onBlur,E=t.onChange,A=t.onClick,I=t.onFocus,R=t.onKeyDown,N=t.onKeyUp,P=t.placeholder,M=t.readOnly,D=t.renderSuffix,j=t.rows,L=t.rowsMax,F=t.rowsMin,Z=t.maxRows,B=t.minRows,U=t.startAdornment,V=t.type,z=void 0===V?"text":V,W=t.value,H=(0,h.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),G=null!=x.value?x.value:W,q=e.useRef(null!=G).current,K=e.useRef(),Y=e.useCallback((function(e){0}),[]),X=(0,O.Z)(x.ref,Y),Q=(0,O.Z)(k,X),J=(0,O.Z)(K,Q),$=e.useState(!1),ee=$[0],te=$[1],ne=e.useContext(ll);var re=Gl({props:t,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});re.focused=ne?ne.focused:ee,e.useEffect((function(){!ne&&l&&ee&&(te(!1),C&&C())}),[ne,l,ee,C]);var ie=ne&&ne.onFilled,ae=ne&&ne.onEmpty,oe=e.useCallback((function(e){ul(e)?ie&&ie():ae&&ae()}),[ie,ae]);tf((function(){q&&oe({value:G})}),[G,oe,q]);e.useEffect((function(){oe(K.current)}),[]);var se=y,ue=(0,r.Z)({},x,{ref:J});"string"!==typeof se?ue=(0,r.Z)({inputRef:J,type:z},ue,{ref:null}):S?!j||Z||B||L||F?(ue=(0,r.Z)({minRows:j||B,rowsMax:L,maxRows:Z},ue),se=ef):se="textarea":ue=(0,r.Z)({type:z},ue);return e.useEffect((function(){ne&&ne.setAdornedStart(Boolean(U))}),[ne,U]),e.createElement("div",(0,r.Z)({className:(0,v.Z)(s.root,s["color".concat((0,_.Z)(re.color||"primary"))],u,re.disabled&&s.disabled,re.error&&s.error,p&&s.fullWidth,re.focused&&s.focused,ne&&s.formControl,S&&s.multiline,U&&s.adornedStart,f&&s.adornedEnd,"dense"===re.margin&&s.marginDense),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),A&&A(e)},ref:n},H),U,e.createElement(fl.Provider,{value:null},e.createElement(se,(0,r.Z)({"aria-invalid":re.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:c,disabled:re.disabled,id:m,onAnimationStart:function(e){oe("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:T,placeholder:P,readOnly:M,required:re.required,rows:j,value:G,onKeyDown:R,onKeyUp:N},ue,{className:(0,v.Z)(s.input,x.className,re.disabled&&s.disabled,S&&s.inputMultiline,re.hiddenLabel&&s.inputHiddenLabel,U&&s.inputAdornedStart,f&&s.inputAdornedEnd,"search"===z&&s.inputTypeSearch,"dense"===re.margin&&s.inputMarginDense),onBlur:function(e){C&&C(e),x.onBlur&&x.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):te(!1)},onChange:function(e){if(!q){var t=e.target||K.current;if(null==t)throw new Error((0,ml.Z)(1));oe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];x.onChange&&x.onChange.apply(x,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){re.disabled?e.stopPropagation():(I&&I(e),x.onFocus&&x.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):te(!0))}}))),f,D?D((0,r.Z)({},re,{startAdornment:U})):null)})),rf=(0,i.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,r.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(nf),af=e.forwardRef((function(t,n){var i=t.disableUnderline,a=t.classes,o=t.fullWidth,s=void 0!==o&&o,u=t.inputComponent,c=void 0===u?"input":u,l=t.multiline,f=void 0!==l&&l,d=t.type,p=void 0===d?"text":d,m=(0,h.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(rf,(0,r.Z)({classes:(0,r.Z)({},a,{root:(0,v.Z)(a.root,!i&&a.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:f,ref:n,type:p},m))}));af.muiName="Input";var of=(0,i.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(af),sf=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.disabled,s=t.IconComponent,u=t.inputRef,c=t.variant,l=void 0===c?"standard":c,f=(0,h.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return e.createElement(e.Fragment,null,e.createElement("select",(0,r.Z)({className:(0,v.Z)(i.root,i.select,i[l],a,o&&i.disabled),disabled:o,ref:u||n},f)),t.multiple?null:e.createElement(s,{className:(0,v.Z)(i.icon,i["icon".concat((0,_.Z)(l))],o&&i.disabled)}))})),uf=sf,cf=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},lf=e.createElement(of,null),ff=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.IconComponent,s=void 0===o?Yl:o,u=t.input,c=void 0===u?lf:u,l=t.inputProps,f=(t.variant,(0,h.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),d=Gl({props:t,muiFormControl:ql(),states:["variant"]});return e.cloneElement(c,(0,r.Z)({inputComponent:uf,inputProps:(0,r.Z)({children:i,classes:a,IconComponent:s,variant:d.variant,type:void 0},l,c?c.props.inputProps:{}),ref:n},f))}));ff.muiName="Select";(0,i.Z)(cf,{name:"MuiNativeSelect"})(ff);var df=e.forwardRef((function(t,n){var i=t.disableUnderline,a=t.classes,o=t.fullWidth,s=void 0!==o&&o,u=t.inputComponent,c=void 0===u?"input":u,l=t.multiline,f=void 0!==l&&l,d=t.type,p=void 0===d?"text":d,m=(0,h.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(rf,(0,r.Z)({classes:(0,r.Z)({},a,{root:(0,v.Z)(a.root,!i&&a.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:f,ref:n,type:p},m))}));df.muiName="Input";var pf=(0,i.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(df),hf=e.forwardRef((function(t,n){t.children;var i=t.classes,a=t.className,o=t.label,s=t.labelWidth,u=t.notched,c=t.style,l=(0,h.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),f="rtl"===nc().direction?"right":"left";if(void 0!==o)return e.createElement("fieldset",(0,r.Z)({"aria-hidden":!0,className:(0,v.Z)(i.root,a),ref:n,style:c},l),e.createElement("legend",{className:(0,v.Z)(i.legendLabelled,u&&i.legendNotched)},o?e.createElement("span",null,o):e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var d=s>0?.75*s+8:.01;return e.createElement("fieldset",(0,r.Z)({"aria-hidden":!0,style:(0,r.Z)((0,p.Z)({},"padding".concat((0,_.Z)(f)),8),c),className:(0,v.Z)(i.root,a),ref:n},l),e.createElement("legend",{className:i.legend,style:{width:u?d:.01}},e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),vf=(0,i.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(hf),mf=e.forwardRef((function(t,n){var i=t.classes,a=t.fullWidth,o=void 0!==a&&a,s=t.inputComponent,u=void 0===s?"input":s,c=t.label,l=t.labelWidth,f=void 0===l?0:l,d=t.multiline,p=void 0!==d&&d,m=t.notched,g=t.type,y=void 0===g?"text":g,b=(0,h.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return e.createElement(rf,(0,r.Z)({renderSuffix:function(t){return e.createElement(vf,{className:i.notchedOutline,label:c,labelWidth:f,notched:"undefined"!==typeof m?m:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,r.Z)({},i,{root:(0,v.Z)(i.root,i.underline),notchedOutline:null}),fullWidth:o,inputComponent:u,multiline:p,ref:n,type:y},b))}));mf.muiName="Input";var gf=(0,i.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(mf),yf=cf,bf=e.createElement(of,null),xf=e.createElement(pf,null),kf=e.forwardRef((function t(n,i){var a=n.autoWidth,o=void 0!==a&&a,s=n.children,u=n.classes,c=n.displayEmpty,l=void 0!==c&&c,f=n.IconComponent,d=void 0===f?Yl:f,p=n.id,v=n.input,m=n.inputProps,g=n.label,y=n.labelId,b=n.labelWidth,x=void 0===b?0:b,k=n.MenuProps,w=n.multiple,_=void 0!==w&&w,S=n.native,T=void 0!==S&&S,C=n.onClose,E=n.onOpen,O=n.open,A=n.renderValue,I=n.SelectDisplayProps,R=n.variant,N=void 0===R?"standard":R,P=(0,h.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),M=T?uf:Hl,D=Gl({props:n,muiFormControl:ql(),states:["variant"]}).variant||N,j=v||{standard:bf,outlined:e.createElement(gf,{label:g,labelWidth:x}),filled:xf}[D];return e.cloneElement(j,(0,r.Z)({inputComponent:M,inputProps:(0,r.Z)({children:s,IconComponent:d,variant:D,type:void 0,multiple:_},T?{id:p}:{autoWidth:o,displayEmpty:l,labelId:y,MenuProps:k,onClose:C,onOpen:E,open:O,renderValue:A,SelectDisplayProps:(0,r.Z)({id:p},I)},m,{classes:m?(0,hl.Z)({baseClasses:u,newClasses:m.classes,Component:t}):u},v?v.props.inputProps:{}),ref:i},P))}));kf.muiName="Select";var wf=(0,i.Z)(yf,{name:"MuiSelect"})(kf),_f="undefined"===typeof window?e.useEffect:e.useLayoutEffect,Sf=e.forwardRef((function(n,i){var a=n.alignItems,o=void 0===a?"center":a,s=n.autoFocus,u=void 0!==s&&s,c=n.button,l=void 0!==c&&c,f=n.children,d=n.classes,p=n.className,m=n.component,g=n.ContainerComponent,y=void 0===g?"li":g,b=n.ContainerProps,x=(b=void 0===b?{}:b).className,k=(0,h.Z)(b,["className"]),w=n.dense,_=void 0!==w&&w,S=n.disabled,T=void 0!==S&&S,C=n.disableGutters,E=void 0!==C&&C,A=n.divider,I=void 0!==A&&A,R=n.focusVisibleClassName,N=n.selected,P=void 0!==N&&N,M=(0,h.Z)(n,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),D=e.useContext(Ol),j={dense:_||D.dense||!1,alignItems:o},L=e.useRef(null);_f((function(){u&&L.current&&L.current.focus()}),[u]);var F=e.Children.toArray(f),Z=F.length&&(0,cl.Z)(F[F.length-1],["ListItemSecondaryAction"]),B=e.useCallback((function(e){L.current=t.findDOMNode(e)}),[]),U=(0,O.Z)(B,i),V=(0,r.Z)({className:(0,v.Z)(d.root,p,j.dense&&d.dense,!E&&d.gutters,I&&d.divider,T&&d.disabled,l&&d.button,"center"!==o&&d.alignItemsFlexStart,Z&&d.secondaryAction,P&&d.selected),disabled:T},M),z=m||"li";return l&&(V.component=m||"div",V.focusVisibleClassName=(0,v.Z)(d.focusVisible,R),z=q),Z?(z=V.component||m?z:"div","li"===y&&("li"===z?z="div":"li"===V.component&&(V.component="div")),e.createElement(Ol.Provider,{value:j},e.createElement(y,(0,r.Z)({className:(0,v.Z)(d.container,x),ref:U},k),e.createElement(z,V,F),F.pop()))):e.createElement(Ol.Provider,{value:j},e.createElement(z,(0,r.Z)({ref:U},V),F))})),Tf=(0,i.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(Sf),Cf=e.forwardRef((function(t,n){var i,a=t.classes,o=t.className,s=t.component,u=void 0===s?"li":s,c=t.disableGutters,l=void 0!==c&&c,f=t.ListItemClasses,d=t.role,p=void 0===d?"menuitem":d,m=t.selected,g=t.tabIndex,y=(0,h.Z)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(i=void 0!==g?g:-1),e.createElement(Tf,(0,r.Z)({button:!0,role:p,tabIndex:i,component:u,selected:m,disableGutters:l,classes:(0,r.Z)({dense:a.dense},f),className:(0,v.Z)(a.root,o,m&&a.selected,!l&&a.gutters),ref:n},y))})),Ef=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.body1,(0,p.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,r.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(Cf);function Of(){var e,t=me().audioInputDevices,n=ku().localTracks.find((function(e){return"audio"===e.kind})),r=null===n||void 0===n||null===(e=n.noiseCancellation)||void 0===e?void 0:e.sourceTrack,i=Kc(n),a=(null===r||void 0===r?void 0:r.getSettings().deviceId)||(null===i||void 0===i?void 0:i.getSettings().deviceId);return(0,Bs.jsxs)("div",{children:[(0,Bs.jsx)(C,{variant:"subtitle2",gutterBottom:!0,children:"Audio Input"}),(0,Bs.jsxs)(ol,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,Bs.jsx)("div",{className:"inputSelect",children:t.length>1?(0,Bs.jsx)(pl,{fullWidth:!0,children:(0,Bs.jsx)(wf,{onChange:function(e){return t=e.target.value,window.localStorage.setItem(re,t),void(null===n||void 0===n||n.restart({deviceId:{exact:t}}));var t},value:a||"",variant:"outlined",children:t.map((function(e){return(0,Bs.jsx)(Ef,{value:e.deviceId,children:e.label},e.deviceId)}))})}):(0,Bs.jsx)(C,{children:(null===n||void 0===n?void 0:n.mediaStreamTrack.label)||"No Local Audio"})}),(0,Bs.jsx)(el,{audioTrack:n,color:"black"})]})]})}function Af(){var e,t=me().audioOutputDevices,n=Ws(),r=n.activeSinkId,i=n.setActiveSinkId,a=null===(e=t.find((function(e){return e.deviceId===r})))||void 0===e?void 0:e.label;return(0,Bs.jsx)("div",{className:"inputSelect",children:t.length>1?(0,Bs.jsxs)(pl,{fullWidth:!0,children:[(0,Bs.jsx)(C,{variant:"subtitle2",gutterBottom:!0,children:"Audio Output"}),(0,Bs.jsx)(wf,{onChange:function(e){return i(e.target.value)},value:r,variant:"outlined",children:t.map((function(e){return(0,Bs.jsx)(Ef,{value:e.deviceId,children:e.label},e.deviceId)}))})]}):(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(C,{variant:"subtitle2",children:"Audio Output"}),(0,Bs.jsx)(C,{children:a||"System Default Audio Output"})]})})}var If=n(81534),Rf="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Nf=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Rf&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Pf=Rf&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Nf))}};function Mf(e){return e&&"[object Function]"==={}.toString.call(e)}function Df(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function jf(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Lf(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Df(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Lf(jf(e))}function Ff(e){return e&&e.referenceNode?e.referenceNode:e}var Zf=Rf&&!(!window.MSInputMethodContext||!document.documentMode),Bf=Rf&&/MSIE 10/.test(navigator.userAgent);function Uf(e){return 11===e?Zf:10===e?Bf:Zf||Bf}function Vf(e){if(!e)return document.documentElement;for(var t=Uf(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Df(n,"position")?Vf(n):n:e?e.ownerDocument.documentElement:document.documentElement}function zf(e){return null!==e.parentNode?zf(e.parentNode):e}function Wf(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||Vf(e.firstElementChild)===e)}(o)?o:Vf(o);var s=zf(e);return s.host?Wf(s.host,t):Wf(e,zf(t).host)}function Hf(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function Gf(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function qf(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Uf(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Kf(e){var t=e.body,n=e.documentElement,r=Uf(10)&&getComputedStyle(n);return{height:qf("Height",t,n,r),width:qf("Width",t,n,r)}}var Yf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xf=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Jf(e){return Qf({},e,{right:e.left+e.width,bottom:e.top+e.height})}function $f(e){var t={};try{if(Uf(10)){t=e.getBoundingClientRect();var n=Hf(e,"top"),r=Hf(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?Kf(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,u=e.offsetWidth-o,c=e.offsetHeight-s;if(u||c){var l=Df(e);u-=Gf(l,"x"),c-=Gf(l,"y"),i.width-=u,i.height-=c}return Jf(i)}function ed(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Uf(10),i="HTML"===t.nodeName,a=$f(e),o=$f(t),s=Lf(e),u=Df(t),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=Jf({top:a.top-o.top-c,left:a.left-o.left-l,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var d=parseFloat(u.marginTop),p=parseFloat(u.marginLeft);f.top-=c-d,f.bottom-=c-d,f.left-=l-p,f.right-=l-p,f.marginTop=d,f.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Hf(t,"top"),i=Hf(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}(f,t)),f}function td(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Df(e,"position"))return!0;var n=jf(e);return!!n&&td(n)}function nd(e){if(!e||!e.parentElement||Uf())return document.documentElement;for(var t=e.parentElement;t&&"none"===Df(t,"transform");)t=t.parentElement;return t||document.documentElement}function rd(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?nd(e):Wf(e,Ff(t));if("viewport"===r)a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=ed(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:Hf(n),s=t?0:Hf(n,"left");return Jf({top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a})}(o,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=Lf(jf(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var u=ed(s,o,i);if("HTML"!==s.nodeName||td(o))a=u;else{var c=Kf(e.ownerDocument),l=c.height,f=c.width;a.top+=u.top-u.marginTop,a.bottom=l+u.top,a.left+=u.left-u.marginLeft,a.right=f+u.left}}var d="number"===typeof(n=n||0);return a.left+=d?n:n.left||0,a.top+=d?n:n.top||0,a.right-=d?n:n.right||0,a.bottom-=d?n:n.bottom||0,a}function id(e){return e.width*e.height}function ad(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=rd(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map((function(e){return Qf({key:e},s[e],{area:id(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function od(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ed(n,r?nd(t):Wf(t,Ff(n)),r)}function sd(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function ud(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function cd(e,t,n){n=n.split("-")[0];var r=sd(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",u=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[ud(s)],i}function ld(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function fd(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=ld(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&Mf(n)&&(t.offsets.popper=Jf(t.offsets.popper),t.offsets.reference=Jf(t.offsets.reference),t=n(t,e))})),t}function dd(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=od(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=ad(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=cd(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=fd(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function pd(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function hd(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function vd(){return this.state.isDestroyed=!0,pd(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[hd("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function md(e){var t=e.ownerDocument;return t?t.defaultView:window}function gd(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||gd(Lf(a.parentNode),t,n,r),r.push(a)}function yd(e,t,n,r){n.updateBound=r,md(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Lf(e);return gd(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function bd(){this.state.eventsEnabled||(this.state=yd(this.reference,this.options,this.state,this.scheduleUpdate))}function xd(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,md(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function kd(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function wd(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&kd(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var _d=Rf&&/Firefox/i.test(navigator.userAgent);function Sd(e,t,n){var r=ld(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var Td=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Cd=Td.slice(3);function Ed(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Cd.indexOf(e),r=Cd.slice(n+1).concat(Cd.slice(0,n));return t?r.reverse():r}var Od="flip",Ad="clockwise",Id="counterclockwise";function Rd(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(ld(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return Jf("%p"===o?n:r)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){kd(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var Nd={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:Xf({},u,a[u]),end:Xf({},u,a[u]+a[c]-o[c])};e.offsets.popper=Qf({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],u=void 0;return u=kd(+n)?[+n,0]:Rd(n,a,o,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Vf(e.instance.popper);e.instance.reference===n&&(n=Vf(n));var r=hd("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=rd(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),Xf({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),Xf({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=Qf({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",u=o?"left":"top",c=o?"width":"height";return n[s]<a(r[u])&&(e.offsets.popper[u]=a(r[u])-n[c]),n[u]>a(r[s])&&(e.offsets.popper[u]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Sd(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",l=u?"Top":"Left",f=l.toLowerCase(),d=u?"left":"top",p=u?"bottom":"right",h=sd(r)[c];s[p]-h<o[f]&&(e.offsets.popper[f]-=o[f]-(s[p]-h)),s[f]+h>o[p]&&(e.offsets.popper[f]+=s[f]+h-o[p]),e.offsets.popper=Jf(e.offsets.popper);var v=s[f]+s[c]/2-h/2,m=Df(e.instance.popper),g=parseFloat(m["margin"+l]),y=parseFloat(m["border"+l+"Width"]),b=v-e.offsets.popper[f]-g-y;return b=Math.max(Math.min(o[c]-h,b),0),e.arrowElement=r,e.offsets.arrow=(Xf(n={},f,Math.round(b)),Xf(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(pd(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=rd(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=ud(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Od:o=[r,i];break;case Ad:o=Ed(r);break;case Id:o=Ed(r,!0);break;default:o=t.behavior}return o.forEach((function(s,u){if(r!==s||o.length===u+1)return e;r=e.placement.split("-")[0],i=ud(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),p=f(c.left)<f(n.left),h=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&p||y&&"end"===a&&h||!y&&"start"===a&&v||!y&&"end"===a&&m),x=!!t.flipVariationsByContent&&(y&&"start"===a&&h||y&&"end"===a&&p||!y&&"start"===a&&m||!y&&"end"===a&&v),k=b||x;(d||g||k)&&(e.flipped=!0,(d||g)&&(r=o[u+1]),k&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=Qf({},e.offsets.popper,cd(e.instance.popper,e.offsets.reference,e.placement)),e=fd(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=ud(t),e.offsets.popper=Jf(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Sd(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=ld(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=ld(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=Vf(e.instance.popper),u=$f(s),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},u=a(i.width),c=a(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?l||f||u%2===c%2?a:o:s,p=t?a:s;return{left:d(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!_d),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=hd("transform"),h=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,h="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,o&&p)c[p]="translate3d("+h+"px, "+v+"px, 0)",c[f]=0,c[d]=0,c.willChange="transform";else{var m="bottom"===f?-1:1,g="right"===d?-1:1;c[f]=v*m,c[d]=h*g,c.willChange=f+", "+d}var y={"x-placement":e.placement};return e.attributes=Qf({},y,e.attributes),e.styles=Qf({},c,e.styles),e.arrowStyles=Qf({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return wd(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&wd(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=od(i,t,e,n.positionFixed),o=ad(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),wd(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Pd={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Nd},Md=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Pf(this.update.bind(this)),this.options=Qf({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Qf({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=Qf({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Qf({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Mf(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Yf(e,[{key:"update",value:function(){return dd.call(this)}},{key:"destroy",value:function(){return vd.call(this)}},{key:"enableEventListeners",value:function(){return bd.call(this)}},{key:"disableEventListeners",value:function(){return xd.call(this)}}]),e}();Md.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Md.placements=Td,Md.Defaults=Pd;var Dd=Md;function jd(e){return"function"===typeof e?e():e}var Ld="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Fd={},Zd=e.forwardRef((function(t,n){var i=t.anchorEl,a=t.children,o=t.container,s=t.disablePortal,u=void 0!==s&&s,l=t.keepMounted,f=void 0!==l&&l,d=t.modifiers,p=t.open,v=t.placement,m=void 0===v?"bottom":v,g=t.popperOptions,y=void 0===g?Fd:g,b=t.popperRef,x=t.style,k=t.transition,w=void 0!==k&&k,_=(0,h.Z)(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),S=e.useRef(null),T=(0,O.Z)(S,n),C=e.useRef(null),E=(0,O.Z)(C,b),A=e.useRef(E);Ld((function(){A.current=E}),[E]),e.useImperativeHandle(b,(function(){return C.current}),[]);var I=e.useState(!0),R=I[0],N=I[1],P=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(m,(0,c.Z)()),M=e.useState(P),D=M[0],j=M[1];e.useEffect((function(){C.current&&C.current.update()}));var L=e.useCallback((function(){if(S.current&&i&&p){C.current&&(C.current.destroy(),A.current(null));var e=function(e){j(e.placement)},t=(jd(i),new Dd(jd(i),S.current,(0,r.Z)({placement:P},y,{modifiers:(0,r.Z)({},u?{}:{preventOverflow:{boundariesElement:"window"}},d,y.modifiers),onCreate:(0,Iu.Z)(e,y.onCreate),onUpdate:(0,Iu.Z)(e,y.onUpdate)})));A.current(t)}}),[i,u,d,p,P,y]),F=e.useCallback((function(e){(0,Cu.Z)(T,e),L()}),[T,L]),Z=function(){C.current&&(C.current.destroy(),A.current(null))};if(e.useEffect((function(){return function(){Z()}}),[]),e.useEffect((function(){p||w||Z()}),[p,w]),!f&&!p&&(!w||R))return null;var B={placement:D};return w&&(B.TransitionProps={in:p,onEnter:function(){N(!1)},onExited:function(){N(!0),Z()}}),e.createElement(Au,{disablePortal:u,container:o},e.createElement("div",(0,r.Z)({ref:F,role:"tooltip"},_,{style:(0,r.Z)({position:"fixed",top:0,left:0,display:p||!f||w?null:"none"},x)}),"function"===typeof a?a(B):a))})),Bd=Zd,Ud=n(22939);function Vd(e){return Math.round(1e5*e)/1e5}var zd=!1,Wd=null;var Hd=e.forwardRef((function(n,i){var a=n.arrow,o=void 0!==a&&a,s=n.children,u=n.classes,c=n.disableFocusListener,l=void 0!==c&&c,f=n.disableHoverListener,p=void 0!==f&&f,m=n.disableTouchListener,g=void 0!==m&&m,y=n.enterDelay,b=void 0===y?100:y,x=n.enterNextDelay,k=void 0===x?0:x,w=n.enterTouchDelay,S=void 0===w?700:w,T=n.id,C=n.interactive,E=void 0!==C&&C,A=n.leaveDelay,R=void 0===A?0:A,N=n.leaveTouchDelay,P=void 0===N?1500:N,M=n.onClose,D=n.onOpen,j=n.open,L=n.placement,F=void 0===L?"bottom":L,Z=n.PopperComponent,B=void 0===Z?Bd:Z,U=n.PopperProps,V=n.title,z=n.TransitionComponent,W=void 0===z?kl:z,H=n.TransitionProps,G=(0,h.Z)(n,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),q=nc(),K=e.useState(),Y=K[0],X=K[1],Q=e.useState(null),J=Q[0],$=Q[1],ee=e.useRef(!1),te=e.useRef(),ne=e.useRef(),re=e.useRef(),ie=e.useRef(),ae=(0,Vl.Z)({controlled:j,default:!1,name:"Tooltip",state:"open"}),oe=(0,d.Z)(ae,2),se=oe[0],ue=oe[1],ce=se,le=(0,Ud.Z)(T);e.useEffect((function(){return function(){clearTimeout(te.current),clearTimeout(ne.current),clearTimeout(re.current),clearTimeout(ie.current)}}),[]);var fe=function(e){clearTimeout(Wd),zd=!0,ue(!0),D&&D(e)},de=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=s.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),ee.current&&"touchstart"!==t.type||(Y&&Y.removeAttribute("title"),clearTimeout(ne.current),clearTimeout(re.current),b||zd&&k?(t.persist(),ne.current=setTimeout((function(){fe(t)}),zd?k:b)):fe(t))}},pe=(0,I.Z)(),he=pe.isFocusVisible,ve=pe.onBlurVisible,me=pe.ref,ge=e.useState(!1),ye=ge[0],be=ge[1],xe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){Y||X(t.currentTarget),he(t)&&(be(!0),de()(t));var n=s.props;n.onFocus&&e&&n.onFocus(t)}},ke=function(e){clearTimeout(Wd),Wd=setTimeout((function(){zd=!1}),800+R),ue(!1),M&&M(e),clearTimeout(te.current),te.current=setTimeout((function(){ee.current=!1}),q.transitions.duration.shortest)},we=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=s.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),ye&&(be(!1),ve())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===Y&&n.onMouseLeave(t),clearTimeout(ne.current),clearTimeout(re.current),t.persist(),re.current=setTimeout((function(){ke(t)}),R)}},_e=function(e){ee.current=!0;var t=s.props;t.onTouchStart&&t.onTouchStart(e)},Se=(0,O.Z)(X,i),Te=(0,O.Z)(me,Se),Ce=e.useCallback((function(e){(0,Cu.Z)(Te,t.findDOMNode(e))}),[Te]),Ee=(0,O.Z)(s.ref,Ce);""===V&&(ce=!1);var Oe=!ce&&!p,Ae=(0,r.Z)({"aria-describedby":ce?le:null,title:Oe&&"string"===typeof V?V:null},G,s.props,{className:(0,v.Z)(G.className,s.props.className),onTouchStart:_e,ref:Ee}),Ie={};g||(Ae.onTouchStart=function(e){_e(e),clearTimeout(re.current),clearTimeout(te.current),clearTimeout(ie.current),e.persist(),ie.current=setTimeout((function(){de()(e)}),S)},Ae.onTouchEnd=function(e){s.props.onTouchEnd&&s.props.onTouchEnd(e),clearTimeout(ie.current),clearTimeout(re.current),e.persist(),re.current=setTimeout((function(){ke(e)}),P)}),p||(Ae.onMouseOver=de(),Ae.onMouseLeave=we(),E&&(Ie.onMouseOver=de(!1),Ie.onMouseLeave=we(!1))),l||(Ae.onFocus=xe(),Ae.onBlur=we(),E&&(Ie.onFocus=xe(!1),Ie.onBlur=we(!1)));var Re=e.useMemo((function(){return(0,If.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(J),element:J}}}},U)}),[J,U]);return e.createElement(e.Fragment,null,e.cloneElement(s,Ae),e.createElement(B,(0,r.Z)({className:(0,v.Z)(u.popper,E&&u.popperInteractive,o&&u.popperArrow),placement:F,anchorEl:Y,open:!!Y&&ce,id:Ae["aria-describedby"],transition:!0},Ie,Re),(function(t){var n=t.placement,i=t.TransitionProps;return e.createElement(W,(0,r.Z)({timeout:q.transitions.duration.shorter},i,H),e.createElement("div",{className:(0,v.Z)(u.tooltip,u["tooltipPlacement".concat((0,_.Z)(n.split("-")[0]))],ee.current&&u.touch,o&&u.tooltipArrow)},V,o?e.createElement("span",{className:u.arrow,ref:$}):null))})))})),Gd=(0,i.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,E.Fq)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(Vd(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,E.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(Vd(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,p.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,p.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,p.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,p.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(Hd),qd=e.forwardRef((function(t,n){t.checked;var i=t.classes,a=t.className,o=t.control,s=t.disabled,u=(t.inputRef,t.label),c=t.labelPlacement,l=void 0===c?"end":c,f=(t.name,t.onChange,t.value,(0,h.Z)(t,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),d=ql(),p=s;"undefined"===typeof p&&"undefined"!==typeof o.props.disabled&&(p=o.props.disabled),"undefined"===typeof p&&d&&(p=d.disabled);var m={disabled:p};return["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof o.props[e]&&"undefined"!==typeof t[e]&&(m[e]=t[e])})),e.createElement("label",(0,r.Z)({className:(0,v.Z)(i.root,a,"end"!==l&&i["labelPlacement".concat((0,_.Z)(l))],p&&i.disabled),ref:n},f),e.cloneElement(o,m),e.createElement(C,{component:"span",className:(0,v.Z)(i.label,p&&i.disabled)},u))})),Kd=(0,i.Z)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(qd),Yd=e.forwardRef((function(t,n){var i=t.edge,a=void 0!==i&&i,o=t.children,s=t.classes,u=t.className,c=t.color,l=void 0===c?"default":c,f=t.disabled,d=void 0!==f&&f,p=t.disableFocusRipple,m=void 0!==p&&p,g=t.size,y=void 0===g?"medium":g,b=(0,h.Z)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(q,(0,r.Z)({className:(0,v.Z)(s.root,u,"default"!==l&&s["color".concat((0,_.Z)(l))],d&&s.disabled,"small"===y&&s["size".concat((0,_.Z)(y))],{start:s.edgeStart,end:s.edgeEnd}[a]),centerRipple:!0,focusRipple:!m,disabled:d,ref:n},b),e.createElement("span",{className:s.label},o))})),Xd=(0,i.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,E.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,E.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,E.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(Yd),Qd=e.forwardRef((function(t,n){var i=t.autoFocus,a=t.checked,o=t.checkedIcon,s=t.classes,u=t.className,c=t.defaultChecked,l=t.disabled,f=t.icon,p=t.id,m=t.inputProps,g=t.inputRef,y=t.name,b=t.onBlur,x=t.onChange,k=t.onFocus,w=t.readOnly,_=t.required,S=t.tabIndex,T=t.type,C=t.value,E=(0,h.Z)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),O=(0,Vl.Z)({controlled:a,default:Boolean(c),name:"SwitchBase",state:"checked"}),A=(0,d.Z)(O,2),I=A[0],R=A[1],N=ql(),P=l;N&&"undefined"===typeof P&&(P=N.disabled);var M="checkbox"===T||"radio"===T;return e.createElement(Xd,(0,r.Z)({component:"span",className:(0,v.Z)(s.root,u,I&&s.checked,P&&s.disabled),disabled:P,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),N&&N.onFocus&&N.onFocus(e)},onBlur:function(e){b&&b(e),N&&N.onBlur&&N.onBlur(e)},ref:n},E),e.createElement("input",(0,r.Z)({autoFocus:i,checked:a,defaultChecked:c,className:s.input,disabled:P,id:M&&p,name:y,onChange:function(e){var t=e.target.checked;R(t),x&&x(e,t)},readOnly:w,ref:g,required:_,tabIndex:S,type:T,value:C},m)),I?o:f)})),Jd=(0,i.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Qd),$d=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"secondary":o,u=t.edge,c=void 0!==u&&u,l=t.size,f=void 0===l?"medium":l,d=(0,h.Z)(t,["classes","className","color","edge","size"]),p=e.createElement("span",{className:i.thumb});return e.createElement("span",{className:(0,v.Z)(i.root,a,{start:i.edgeStart,end:i.edgeEnd}[c],"small"===f&&i["size".concat((0,_.Z)(f))])},e.createElement(Jd,(0,r.Z)({type:"checkbox",icon:p,checkedIcon:p,classes:{root:(0,v.Z)(i.switchBase,i["color".concat((0,_.Z)(s))]),input:i.input,checked:i.checked,disabled:i.disabled},ref:n},d)),e.createElement("span",{className:i.track}))})),ep=(0,i.Z)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,E.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,E.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})($d),tp=n(47121);function np(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,c.Z)(),a=(0,Su.Z)({theme:i,name:"MuiUseMediaQuery",props:{}});var o="function"===typeof t?t(i):t;o=o.replace(/^@media( ?)/m,"");var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,u=(0,r.Z)({},a,n),l=u.defaultMatches,f=void 0!==l&&l,d=u.matchMedia,p=void 0===d?s?window.matchMedia:null:d,h=u.noSsr,v=void 0!==h&&h,m=u.ssrMatchMedia,g=void 0===m?null:m,y=e.useState((function(){return v&&s?p(o).matches:g?g(o).matches:f})),b=y[0],x=y[1];return e.useEffect((function(){var e=!0;if(s){var t=p(o),n=function(){e&&x(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[o,p,s]),b}var rp=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?tp.X.indexOf(e)<=tp.X.indexOf(t):tp.X.indexOf(e)<tp.X.indexOf(t)},ip=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?tp.X.indexOf(t)<=tp.X.indexOf(e):tp.X.indexOf(t)<tp.X.indexOf(e)},ap="undefined"===typeof window?e.useEffect:e.useLayoutEffect,op=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var i=t.withTheme,a=void 0!==i&&i,o=t.noSSR,s=void 0!==o&&o,u=t.initialWidth;function c(t){var i=nc(),o=t.theme||i,c=(0,Su.Z)({theme:o,name:"MuiWithWidth",props:(0,r.Z)({},t)}),l=c.initialWidth,f=c.width,d=(0,h.Z)(c,["initialWidth","width"]),p=e.useState(!1),v=p[0],m=p[1];ap((function(){m(!0)}),[]);var g=o.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=np(o.breakpoints.up(t));return!e&&n?t:e}),null),y=(0,r.Z)({width:f||(v||s?g:void 0)||l||u},a?{theme:o}:{},d);return void 0===y.width?null:e.createElement(n,y)}return g()(c,n),c}};function sp(e){var t=e.children,n=e.only,r=e.width,i=nc(),a=!0;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o+=1){if(r===n[o]){a=!1;break}}else n&&r===n&&(a=!1);if(a)for(var s=0;s<i.breakpoints.keys.length;s+=1){var u=i.breakpoints.keys[s],c=e["".concat(u,"Up")],l=e["".concat(u,"Down")];if(c&&rp(u,r)||l&&ip(u,r)){a=!1;break}}return a?t:null}sp.propTypes={children:Ro().node,className:Ro().string,implementation:Ro().oneOf(["js","css"]),initialWidth:Ro().oneOf(["xs","sm","md","lg","xl"]),lgDown:Ro().bool,lgUp:Ro().bool,mdDown:Ro().bool,mdUp:Ro().bool,only:Ro().oneOfType([Ro().oneOf(["xs","sm","md","lg","xl"]),Ro().arrayOf(Ro().oneOf(["xs","sm","md","lg","xl"]))]),smDown:Ro().bool,smUp:Ro().bool,width:Ro().string.isRequired,xlDown:Ro().bool,xlUp:Ro().bool,xsDown:Ro().bool,xsUp:Ro().bool};var up=op()(sp);var cp=(0,i.Z)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat((0,_.Z)(r))]=(0,p.Z)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=(0,p.Z)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=(0,p.Z)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(t){var n=t.children,r=t.classes,i=t.className,a=t.only,o=((0,h.Z)(t,["children","classes","className","only"]),nc()),s=[];i&&s.push(i);for(var u=0;u<o.breakpoints.keys.length;u+=1){var c=o.breakpoints.keys[u],l=t["".concat(c,"Up")],f=t["".concat(c,"Down")];l&&s.push(r["".concat(c,"Up")]),f&&s.push(r["".concat(c,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach((function(e){s.push(r["only".concat((0,_.Z)(e))])})),e.createElement("div",{className:s.join(" ")},n)}));var lp=function(t){var n=t.implementation,i=void 0===n?"js":n,a=t.lgDown,o=void 0!==a&&a,s=t.lgUp,u=void 0!==s&&s,c=t.mdDown,l=void 0!==c&&c,f=t.mdUp,d=void 0!==f&&f,p=t.smDown,v=void 0!==p&&p,m=t.smUp,g=void 0!==m&&m,y=t.xlDown,b=void 0!==y&&y,x=t.xlUp,k=void 0!==x&&x,w=t.xsDown,_=void 0!==w&&w,S=t.xsUp,T=void 0!==S&&S,C=(0,h.Z)(t,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===i?e.createElement(up,(0,r.Z)({lgDown:o,lgUp:u,mdDown:l,mdUp:d,smDown:v,smUp:g,xlDown:b,xlUp:k,xsDown:_,xsUp:T},C)):e.createElement(cp,(0,r.Z)({lgDown:o,lgUp:u,mdDown:l,mdUp:d,smDown:v,smUp:g,xlDown:b,xlUp:k,xsDown:_,xsUp:T},C))};var fp=k("video")({width:"100%",height:"100%"});function dp(t){var n,r,i=t.track,a=t.isLocal,o=t.priority,s=(0,e.useRef)(null),u=Kc(i),c=function(t){var n=(0,e.useState)(null===t||void 0===t?void 0:t.dimensions),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(null===t||void 0===t?void 0:t.dimensions),t){var e=function(e){return a({width:e.dimensions.width,height:e.dimensions.height})};return t.on("dimensionsChanged",e),function(){t.off("dimensionsChanged",e)}}}),[t]),i}(i),l=(null!==(n=null===c||void 0===c?void 0:c.height)&&void 0!==n?n:0)>(null!==(r=null===c||void 0===c?void 0:c.width)&&void 0!==r?r:0);(0,e.useEffect)((function(){var e=s.current;return e.muted=!0,i.setPriority&&o&&i.setPriority(o),i.attach(e),function(){i.detach(e),e.srcObject=null,i.setPriority&&o&&i.setPriority(null)}}),[i,o]);var f="environment"!==(null===u||void 0===u?void 0:u.getSettings().facingMode),p={transform:a&&f?"scaleX(-1)":"",objectFit:l||i.name.includes("screen")?"contain":"cover"};return(0,Bs.jsx)(fp,{ref:s,style:p})}var pp=w({preview:{width:"300px",maxHeight:"200px",margin:"0.5em auto","& video":{maxHeight:"200px"}}});function hp(){var t=pp(),n=me().videoInputDevices,r=ku().localTracks.find((function(e){return"video"===e.kind})),i=Kc(r),a=(0,e.useState)(window.localStorage.getItem(ae)),o=(0,d.Z)(a,2),s=o[0],u=o[1],c=(null===i||void 0===i?void 0:i.getSettings().deviceId)||s;return(0,Bs.jsxs)("div",{children:[r&&(0,Bs.jsx)("div",{className:t.preview,children:(0,Bs.jsx)(dp,{isLocal:!0,track:r})}),n.length>1?(0,Bs.jsxs)(pl,{fullWidth:!0,children:[(0,Bs.jsx)(C,{variant:"subtitle2",gutterBottom:!0,children:"Video Input"}),(0,Bs.jsx)(wf,{onChange:function(e){return t=e.target.value,u(t),window.localStorage.setItem(ae,t),void(null===r||void 0===r||r.restart((0,Q.Z)((0,Q.Z)({},ne),{},{deviceId:{exact:t}})));var t},value:c||"",variant:"outlined",children:n.map((function(e){return(0,Bs.jsx)(Ef,{value:e.deviceId,children:e.label},e.deviceId)}))})]}):(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(C,{variant:"subtitle2",gutterBottom:!0,children:"Video Input"}),(0,Bs.jsx)(C,{children:(null===r||void 0===r?void 0:r.mediaStreamTrack.label)||"No Local Video"})]})]})}var vp=[6,12,24];function mp(){var e=Ws(),t=e.maxGalleryViewParticipants,n=e.setMaxGalleryViewParticipants;return(0,Bs.jsxs)("div",{children:[(0,Bs.jsx)(C,{variant:"subtitle2",gutterBottom:!0,children:"Max Gallery View Participants"}),(0,Bs.jsx)(ol,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,Bs.jsx)("div",{className:"inputSelect",children:(0,Bs.jsx)(pl,{fullWidth:!0,children:(0,Bs.jsx)(wf,{onChange:function(e){return n(parseInt(e.target.value))},value:t,variant:"outlined",children:vp.map((function(e){return(0,Bs.jsx)(Ef,{value:e,children:e},e)}))})})})})]})}function gp(){var t=ku().localTracks.find((function(e){return"audio"===e.kind})),n=t&&t.noiseCancellation,r=n&&n.vendor,i=Ws().setIsKrispEnabled;return{vendor:r,toggleKrisp:(0,e.useCallback)((function(){n&&n[n.isEnabled?"disable":"enable"]().then((function(){i(n.isEnabled)}))}),[n,i])}}function yp(){return(0,Bs.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bs.jsxs)("g",{filter:"url(#filter0_d_829_18244)",children:[(0,Bs.jsx)("rect",{x:"4",y:"2",width:"16",height:"16",rx:"8",fill:"white"}),(0,Bs.jsx)("rect",{width:"12",height:"12",transform:"translate(6 4)",fill:"white",fillOpacity:"0.01"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7952 7.95798C14.5221 7.68067 14.0783 7.68067 13.8052 7.95798L11.2852 10.5269L10.1948 9.41534C10.0582 9.2761 9.87928 9.20653 9.70034 9.20653C9.52034 9.20653 9.3414 9.2761 9.20481 9.41534C8.93173 9.69372 8.93173 10.1462 9.20481 10.4246L10.7906 12.0412C10.9231 12.1751 11.0979 12.25 11.2851 12.25C11.4723 12.25 11.6482 12.1751 11.7806 12.0412L14.7951 8.9671C15.0683 8.6898 15.0683 8.23636 14.7952 7.95798Z",fill:"#14B053"})]}),(0,Bs.jsx)("defs",{children:(0,Bs.jsxs)("filter",{id:"filter0_d_829_18244",x:"0",y:"0",width:"24",height:"24",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,Bs.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,Bs.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,Bs.jsx)("feOffset",{dy:"2"}),(0,Bs.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,Bs.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0705882 0 0 0 0 0.109804 0 0 0 0 0.176471 0 0 0 0.1 0"}),(0,Bs.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_829_18244"}),(0,Bs.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_829_18244",result:"shape"})]})})]})}function bp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,Bs.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Bs.jsx)("g",{fill:"#707578",children:(0,Bs.jsx)("path",{d:"M10 2c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1.25c-3.728 0-6.75 3.022-6.75 6.75s3.022 6.75 6.75 6.75 6.75-3.022 6.75-6.75S13.728 3.25 10 3.25zM10 9c.552 0 1 .448 1 1v3c0 .552-.448 1-1 1s-1-.448-1-1v-3c0-.552.448-1 1-1zm0-3c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z",transform:"translate(-1107 -888) translate(1082 799) translate(1 81) translate(24 8)"})})})})}function xp(){return(0,Bs.jsxs)("svg",{width:"71",height:"38",viewBox:"0 0 71 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bs.jsx)("path",{d:"M32.6192 27.374H36.6706C36.8619 27.374 37.0183 27.2175 37.0183 27.0262V11.5743C37.0183 11.3831 36.8619 11.2266 36.6706 11.2266H32.6192C32.428 11.2266 32.2715 11.3831 32.2715 11.5743V27.0291C32.2744 27.2204 32.428 27.374 32.6192 27.374Z",fill:"#232930"}),(0,Bs.jsx)("path",{d:"M9.69928 19.1555L17.2745 11.5802C17.405 11.4498 17.3122 11.2238 17.1267 11.2238H11.0063C10.9512 11.2238 10.899 11.2469 10.8585 11.2846L6.91434 15.2287V4.86854C6.91434 4.72074 6.76364 4.61931 6.62744 4.67437L2.29789 6.42764C2.21964 6.45952 2.16748 6.53486 2.16748 6.6218V27.0263C2.16748 27.2176 2.32397 27.3741 2.51524 27.3741H6.56658C6.75785 27.3741 6.91434 27.2176 6.91434 27.0263V23.0822L11.1512 27.3161C11.1888 27.3538 11.2439 27.377 11.299 27.377L17.4223 27.3741C17.6078 27.3741 17.7005 27.1481 17.5701 27.0176L9.69928 19.1555Z",fill:"#232930"}),(0,Bs.jsx)("path",{d:"M68.8122 18.721C68.534 14.7421 65.3085 11.5167 61.3267 11.2443C56.6089 10.9197 52.685 14.6494 52.685 19.3006H52.6821V33.7325C52.6821 33.8832 52.8328 33.9817 52.969 33.9266L57.2116 32.2081C57.3449 32.156 57.429 32.0285 57.429 31.8865V26.6557C58.4433 27.1164 59.5706 27.3772 60.7587 27.3772C65.4071 27.3743 69.1396 23.4447 68.8122 18.721ZM60.7587 22.6304C58.9185 22.6304 57.429 21.1379 57.429 19.3006C57.429 17.4633 58.9185 15.9709 60.7587 15.9709C62.5961 15.9709 64.0856 17.4633 64.0856 19.3006C64.0856 21.1379 62.5961 22.6304 60.7587 22.6304Z",fill:"#232930"}),(0,Bs.jsx)("path",{d:"M45.02 15.1156C45.0345 15.1156 45.0519 15.1156 45.0664 15.1185C45.8459 15.0866 46.5473 15.5851 47.1181 16.3646C47.2109 16.4922 47.379 16.5356 47.5239 16.4777L50.787 15.1649C50.9666 15.0924 51.0536 14.8867 50.9782 14.707C50.1581 12.7306 47.663 11.2266 45.0171 11.2266C41.5628 11.2266 38.7575 13.4232 38.7575 16.1328C38.7575 17.5847 39.6037 18.8453 40.7658 19.6683C41.8091 20.4073 43.0552 20.8855 44.2839 21.2042C44.3245 21.2158 44.3651 21.2245 44.4057 21.2361C46.0633 21.6042 46.3009 22.0417 46.3009 22.4735C46.3009 23.0357 45.6199 23.4907 44.7824 23.4907C43.9159 23.5458 43.1479 22.9517 42.5452 22.0475C42.4553 21.9113 42.2786 21.8621 42.1279 21.9229L38.9024 23.2444C38.7257 23.3168 38.6445 23.5139 38.7112 23.6936C39.6356 26.1974 42.1279 27.3798 44.7824 27.3798C48.2368 27.3798 51.042 25.186 51.042 22.4735C51.042 21.8824 50.9087 21.3173 50.6624 20.7927C50.4276 20.2914 49.8161 19.2249 48.2339 18.486C47.3297 18.0657 44.823 17.3268 43.9623 16.8515C43.6667 16.6892 43.4986 16.4197 43.4986 16.1328C43.4986 15.5706 44.1825 15.1156 45.02 15.1156Z",fill:"#232930"}),(0,Bs.jsx)("path",{d:"M34.6449 9.63846C36.2758 9.63846 37.5979 8.31635 37.5979 6.68544C37.5979 5.05453 36.2758 3.73242 34.6449 3.73242C33.014 3.73242 31.6919 5.05453 31.6919 6.68544C31.6919 8.31635 33.014 9.63846 34.6449 9.63846Z",fill:"#FF7E5C"}),(0,Bs.jsx)("path",{d:"M30.4052 11.2266C30.553 11.2266 30.6544 11.3773 30.5993 11.5135L28.8229 15.8401C28.791 15.9184 28.7157 15.9676 28.6316 15.9676H27.3507C25.5192 15.9676 24.0355 17.4514 24.0355 19.2829V27.0291C24.0355 27.2204 23.8819 27.374 23.6906 27.374H19.6393C19.448 27.374 19.2915 27.2175 19.2915 27.0262V19.2829C19.2915 14.8345 22.8995 11.2266 27.3478 11.2266H30.4052Z",fill:"#232930"})]})}var kp=w((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},(0,p.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,p.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:(0,p.Z)({},e.breakpoints.down("xs"),{margin:"16px"}),headline:{marginBottom:"1.3em",fontSize:"1.1rem"},listSection:{margin:"2em 0 0.8em","&:first-child":{margin:"1em 0 2em 0"}},noiseCancellationContainer:{display:"flex",justifyContent:"space-between"},krispContainer:{display:"flex",alignItems:"center","& svg":{"&:not(:last-child)":{margin:"0 0.3em"}}},krispInfoText:{margin:"0 0 1.5em 0.5em"}}}));function wp(e){var t=e.open,n=e.onClose,r=ku().isAcquiringLocalTracks,i=Ws(),a=i.isKrispEnabled,o=i.isKrispInstalled,s=gp().toggleKrisp,u=kp();return(0,Bs.jsxs)(vc,{open:t,onClose:n,classes:{paper:u.paper},children:[(0,Bs.jsx)(_c,{children:"Audio and Video Settings"}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsxs)(bc,{className:u.container,children:[(0,Bs.jsxs)("div",{className:u.listSection,children:[(0,Bs.jsx)(C,{variant:"h6",className:u.headline,children:"Video"}),(0,Bs.jsx)(hp,{})]}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsxs)("div",{className:u.listSection,children:[(0,Bs.jsx)(C,{variant:"h6",className:u.headline,children:"Audio"}),o&&(0,Bs.jsxs)("div",{className:u.noiseCancellationContainer,children:[(0,Bs.jsxs)("div",{className:u.krispContainer,children:[(0,Bs.jsx)(C,{variant:"subtitle2",children:"Noise Cancellation powered by "}),(0,Bs.jsx)(xp,{}),(0,Bs.jsx)(Gd,{title:"Suppress background noise from your microphone",interactive:!0,leaveDelay:250,leaveTouchDelay:15e3,enterTouchDelay:0,children:(0,Bs.jsx)("div",{children:(0,Bs.jsx)(bp,{})})})]}),(0,Bs.jsx)(Kd,{control:(0,Bs.jsx)(ep,{checked:!!a,checkedIcon:(0,Bs.jsx)(yp,{}),disableRipple:!0,onClick:s}),label:a?"Enabled":"Disabled",style:{marginRight:0},disabled:r})]}),o&&(0,Bs.jsx)(C,{variant:"body1",color:"textSecondary",className:u.krispInfoText,children:"Suppress background noise from your microphone."}),(0,Bs.jsx)(Of,{})]}),(0,Bs.jsx)("div",{className:u.listSection,children:(0,Bs.jsx)(Af,{})}),(0,Bs.jsxs)(lp,{smDown:!0,children:[(0,Bs.jsx)(Tc,{}),(0,Bs.jsxs)("div",{className:u.listSection,children:[(0,Bs.jsx)(C,{variant:"h6",className:u.headline,children:"Gallery View"}),(0,Bs.jsx)(mp,{})]})]})]}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsx)(gc,{children:(0,Bs.jsx)(Y,{color:"primary",variant:"contained",className:u.button,onClick:n,children:"Done"})})]})}var _p=n(97595),Sp=n(21759),Tp=n(65952);function Cp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,Bs.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Bs.jsx)("g",{fill:"#707578",children:(0,Bs.jsx)("path",{d:"M14.714 5.286c2.604 2.603 2.604 6.825 0 9.428-2.603 2.604-6.825 2.604-9.428 0-2.604-2.603-2.604-6.825 0-9.428 2.603-2.604 6.825-2.604 9.428 0zm-8.703.725c-2.203 2.203-2.203 5.775 0 7.978 2.203 2.203 5.775 2.203 7.978 0 2.142-2.142 2.201-5.577.178-7.791l-.178-.187-.187-.178c-2.214-2.023-5.649-1.964-7.79.178zM10 5.833c2.301 0 4.167 1.866 4.167 4.167 0 2.301-1.866 4.167-4.167 4.167-2.301 0-4.167-1.866-4.167-4.167C5.833 7.699 7.7 5.833 10 5.833z",transform:"translate(-175 -158) translate(150 141) translate(1 9) translate(24 8)"})})})})}function Ep(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,Bs.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Bs.jsx)("g",{fill:"#707578",children:(0,Bs.jsx)("path",{d:"M15 3.333c.92 0 1.667.747 1.667 1.667v10c0 .92-.747 1.667-1.667 1.667H5c-.92 0-1.667-.747-1.667-1.667V5c0-.92.747-1.667 1.667-1.667h10zm0 .834H5c-.427 0-.78.321-.828.736L4.167 5v10c0 .427.321.78.736.828l.097.005h10c.427 0 .78-.321.828-.736l.005-.097V5c0-.427-.321-.78-.736-.828L15 4.167zm-.833 1.666v8.334H5.833V5.833h8.334z",transform:"translate(-175 -158) translate(150 141) translate(1 9) translate(24 8)"})})})})}function Op(){return(0,Bs.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.774 14.14L16.3413 13.2506C16.3286 13.2244 16.3173 13.1974 16.3075 13.17C16.1465 12.7274 16.3736 12.2377 16.8155 12.0749L17.7467 11.7347C18.5055 11.4566 19.0077 10.7311 19.0011 9.92278C18.9944 9.11441 18.4804 8.39788 17.7172 8.13314L16.7859 7.81039C16.758 7.80094 16.7306 7.7894 16.7056 7.77843C16.2794 7.57999 16.0942 7.07384 16.2915 6.64668L16.7082 5.74887C17.049 5.01563 16.8921 4.14738 16.3163 3.58049C15.7405 3.0136 14.8703 2.87065 14.1431 3.2235L13.246 3.65462C13.2199 3.66744 13.1931 3.67882 13.1658 3.68869C12.954 3.76821 12.7189 3.75812 12.5148 3.66073C12.3097 3.56606 12.1511 3.39306 12.0746 3.18044L12.0741 3.17844L11.7334 2.25081C11.4547 1.49408 10.7313 0.994061 9.92513 1.00105C9.119 1.00804 8.40369 1.52053 8.13727 2.28199L7.8091 3.22223C7.79964 3.25006 7.78863 3.27733 7.7761 3.30391C7.57656 3.73058 7.06934 3.91499 6.64288 3.71592L5.74485 3.29868C5.01263 2.96105 4.14713 3.11998 3.58195 3.69585C3.01677 4.27171 2.87367 5.14046 3.22434 5.86685L3.65571 6.76067C3.66851 6.78686 3.67999 6.81368 3.69009 6.84103C3.85069 7.28399 3.62314 7.77372 3.18105 7.9366L2.25109 8.27683C1.74395 8.46368 1.33939 8.85649 1.13749 9.3581C0.935598 9.8597 0.955223 10.4232 1.19151 10.9093C1.41059 11.3666 1.80499 11.7159 2.28525 11.878L3.21579 12.2005C3.24614 12.2114 3.27565 12.2233 3.30063 12.2343C3.72728 12.4329 3.91226 12.9399 3.7139 13.3671L3.29483 14.2675C3.07772 14.742 3.06371 15.2845 3.25603 15.7693C3.44835 16.2542 3.83032 16.6393 4.31342 16.8354C4.34216 16.847 4.3712 16.8578 4.40056 16.8679C4.87879 17.0366 5.40471 17.0069 5.86112 16.7853L6.75557 16.3531C6.78218 16.3402 6.81093 16.3286 6.8356 16.3194C7.04851 16.2445 7.282 16.2542 7.48788 16.3465C7.6933 16.4413 7.85223 16.6144 7.92922 16.8273L8.27064 17.7606C8.55155 18.5147 9.27456 19.0117 10.079 19.0036C10.8834 18.9955 11.5969 18.4841 11.8635 17.7245L12.1864 16.7928C12.1968 16.7627 12.2087 16.7332 12.2201 16.7083C12.4211 16.2836 12.9258 16.099 13.3529 16.2939L14.2494 16.7105C14.9825 17.0512 15.8508 16.8933 16.4177 16.3161C16.9845 15.7389 17.1272 14.8675 16.774 14.14ZM15.4272 15.7438C15.1965 15.8557 14.9279 15.8582 14.6953 15.7505L13.7992 15.334C13.3395 15.1185 12.8127 15.0956 12.3358 15.2705C11.8589 15.4453 11.4714 15.8035 11.2594 16.2653C11.2334 16.3231 11.21 16.381 11.1879 16.4434L10.8648 17.3755C10.7896 17.5889 10.6327 17.7637 10.4286 17.8613C10.2245 17.959 9.9901 17.9714 9.77695 17.8959C9.53792 17.8159 9.34868 17.6308 9.26323 17.3935L8.92318 16.4634C8.74891 15.9867 8.39229 15.5989 7.93192 15.3856C7.47155 15.1724 6.94522 15.1511 6.46891 15.3264C6.40896 15.349 6.35008 15.3734 6.29456 15.4005L5.4017 15.832C5.198 15.9306 4.96337 15.9438 4.75003 15.8685C4.53569 15.7956 4.36017 15.6387 4.26376 15.4338C4.15381 15.2059 4.15081 14.9409 4.25558 14.7105L4.6727 13.8138C4.88722 13.3534 4.9098 12.8267 4.73547 12.3499C4.56113 11.8731 4.20422 11.4855 3.74357 11.2726C3.71568 11.26 3.68725 11.2477 3.65813 11.2359C3.62824 11.2238 3.59766 11.2124 3.56562 11.2012L2.6307 10.8774C2.29028 10.7597 2.06067 10.4405 2.0571 10.0801C2.05353 9.71966 2.27677 9.39575 2.61479 9.2709L3.54421 8.93088C4.05237 8.74551 4.45826 8.35329 4.66113 7.8516C4.864 7.34991 4.8448 6.7858 4.60832 6.29933L4.17719 5.40605C4.0208 5.08228 4.08434 4.69501 4.33601 4.43805C4.58769 4.18109 4.97337 4.1097 5.30004 4.2596L6.19629 4.67569C6.65433 4.89215 7.1799 4.91661 7.65626 4.74364C8.13263 4.57067 8.52036 4.21458 8.73335 3.75445C8.7625 3.69314 8.78809 3.6302 8.80997 3.56594L9.13622 2.6316C9.29214 2.18707 9.77837 1.95273 10.2227 2.10793C10.4645 2.18868 10.6555 2.37645 10.7405 2.61689L11.0804 3.54291C11.2533 4.01887 11.6082 4.40647 12.067 4.62043C12.5257 4.83438 13.0507 4.85716 13.5265 4.68374C13.5885 4.66176 13.6492 4.63608 13.7082 4.60683L14.6033 4.17624C14.8065 4.07688 15.0408 4.06283 15.2542 4.13722C15.4693 4.20945 15.6456 4.36621 15.7425 4.57137C15.8549 4.80183 15.8573 5.07079 15.749 5.30333L15.3321 6.20153C15.1187 6.66179 15.0968 7.18798 15.2714 7.66415C15.446 8.14033 15.8026 8.52742 16.2627 8.74013C16.3185 8.76535 16.3747 8.78849 16.4369 8.81002L17.3702 9.13315C17.7106 9.2515 17.9398 9.57117 17.9428 9.93176C17.9458 10.2924 17.722 10.6161 17.3836 10.7405L16.4524 11.0806C15.4631 11.4445 14.9535 12.54 15.3125 13.5312C15.335 13.5933 15.3607 13.6541 15.3895 13.7135L15.8224 14.6035C15.9214 14.807 15.9353 15.0416 15.8612 15.2555C15.787 15.4694 15.6309 15.6451 15.4272 15.7438L15.4272 15.7438ZM11.3877 6.5684C9.49155 5.80233 7.33291 6.71966 6.5662 8.61733C5.79949 10.515 6.71505 12.6744 8.61116 13.4405C10.5073 14.2065 12.6659 13.2892 13.4326 11.3915C14.197 9.49389 13.2821 7.33617 11.3877 6.5684ZM9.00779 12.4587C7.65343 11.9115 6.99946 10.3691 7.54711 9.01364C8.09476 7.65816 9.63664 7.00292 10.991 7.55012C12.3454 8.09732 12.9993 9.63974 12.4517 10.9952C11.9028 12.3495 10.3621 13.0042 9.00779 12.4587Z",fill:"#606B85"})})}var Ap=n(13880),Ip=n(87996),Rp=(0,e.createContext)(null),Np=function(t){var n=t.children,r=ku(),i=r.room,a=r.onError,o=(0,e.useRef)(!1),s=(0,e.useState)(!1),u=(0,d.Z)(s,2),c=u[0],l=u[1],f=(0,e.useState)(null),p=(0,d.Z)(f,2),h=p[0],v=p[1],m=(0,e.useState)([]),g=(0,d.Z)(m,2),y=g[0],b=g[1],x=(0,e.useState)(!1),k=(0,d.Z)(x,2),w=k[0],_=k[1],S=(0,e.useState)(),T=(0,d.Z)(S,2),C=T[0],E=T[1],O=(0,e.useCallback)((function(e){var t=new Ip.KU(e),n=function(e){"initialized"===e?(window.chatClient=t,E(t)):"failed"===e&&a(new Error("There was a problem connecting to Twilio's conversation service."))};return t.on("stateChanged",n),function(){t.off("stateChanged",n)}}),[a]);return(0,e.useEffect)((function(){if(h){var e=function(e){return b((function(t){return[].concat((0,R.Z)(t),[e])}))};return h.getMessages().then((function(e){return b(e.items)})),h.on("messageAdded",e),function(){h.off("messageAdded",e)}}}),[h]),(0,e.useEffect)((function(){!o.current&&y.length&&_(!0)}),[y]),(0,e.useEffect)((function(){o.current=c,c&&_(!1)}),[c]),(0,e.useEffect)((function(){i&&C&&(console.log("room",i),console.log("chatClient",C),C.getConversationByUniqueName(i.name).then((function(e){window.chatConversation=e,v(e)})).catch((function(e){console.error(e),a(new Error("There was a problem getting the Conversation associated with this room."))})))}),[i,C,a]),(0,Bs.jsx)(Rp.Provider,{value:{isChatWindowOpen:c,setIsChatWindowOpen:l,connect:O,hasUnreadMessages:w,messages:y,conversation:h},children:n})};function Pp(){var t=(0,e.useContext)(Rp);if(!t)throw new Error("useChatContext must be used within a ChatProvider");return t}function Mp(){var t=ku().room,n=(0,e.useState)(Boolean(null===t||void 0===t?void 0:t.isRecording)),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){a(t.isRecording);var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("recordingStarted",e),t.on("recordingStopped",n),function(){t.off("recordingStarted",e),t.off("recordingStopped",n)}}}),[t]),i}function Dp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:(0,Bs.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Bs.jsx)("g",{fill:"#707578",children:(0,Bs.jsx)("path",{d:"M12 3.5c4.694 0 8.5 3.806 8.5 8.5s-3.806 8.5-8.5 8.5-8.5-3.806-8.5-8.5S7.306 3.5 12 3.5zm0 1c-4.142 0-7.5 3.358-7.5 7.5 0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-4.142-3.358-7.5-7.5-7.5zm1.367 3.429C14.959 8.492 16.1 10.215 16.1 12c0 1.16-.481 2.294-1.256 3.1h.356c.245 0 .45.177.492.41l.008.09c0 .245-.177.45-.41.492l-.09.008h-2.008l-.048-.003-.034-.005c-.088-.017-.167-.055-.233-.11l-.06-.06c-.037-.044-.067-.096-.087-.151l-.001-.004-.012-.04c-.004-.012-.007-.024-.009-.037v-.005c-.005-.024-.006-.042-.007-.06L12.7 13.6c0-.276.224-.5.5-.5.245 0 .45.177.492.41l.008.09v1.176c.833-.6 1.4-1.676 1.4-2.776 0-1.373-.886-2.71-2.067-3.129-.26-.092-.396-.377-.304-.638.092-.26.378-.396.638-.304zm-2.559-.03c.03.001.058.004.086.01l.062.016.018.006c.04.015.075.034.108.056.086.059.152.143.188.242l.001.004.008.025c.006.017.01.034.013.052l.008.09v2c0 .276-.224.5-.5.5-.245 0-.45-.177-.492-.41l-.008-.09V9.224c-.833.6-1.4 1.676-1.4 2.776 0 1.373.886 2.71 2.067 3.129.26.092.396.377.304.638-.092.26-.378.396-.638.304C9.041 15.508 7.9 13.785 7.9 12c0-1.16.481-2.294 1.255-3.1H8.8c-.245 0-.45-.177-.492-.41L8.3 8.4c0-.245.177-.45.41-.492L8.8 7.9h2.008z",transform:"translate(-233 -689) translate(-1 673) translate(37 16) translate(197.298)"})})})})}var jp=k("div")({display:"flex",justifyContent:"center",width:"1.5em",marginRight:"0.3em"});function Lp(t){var n=np((function(e){return e.breakpoints.down("sm")})),r=(0,e.useState)(!1),i=(0,d.Z)(r,2),a=i[0],o=i[1],s=(0,e.useState)(!1),u=(0,d.Z)(s,2),c=u[0],l=u[1],f=(0,e.useState)(!1),p=(0,d.Z)(f,2),h=p[0],v=p[1],m=Ws(),g=m.isFetching,y=m.updateRecordingRules,b=m.roomType,x=m.setIsGalleryViewActive,k=m.isGalleryViewActive,w=m.roomInfo,_=Pp().setIsChatWindowOpen,S=Mp(),T=ku(),E=T.room,O=T.setIsBackgroundSelectionOpen,A=(0,e.useRef)(null),I=function(){var t=ku().localTracks,n=(0,e.useState)(!1),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=t.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),s=Kc(o),u=me().videoInputDevices;(0,e.useEffect)((function(){(null===s||void 0===s?void 0:s.getSettings().facingMode)&&!1===i&&a(!0)}),[s,i]);var c=(0,e.useCallback)((function(){var e="user"===(null===s||void 0===s?void 0:s.getSettings().facingMode)?"environment":"user";null===o||void 0===o||o.restart((0,Q.Z)((0,Q.Z)({},ne),{},{facingMode:e}))}),[s,o]);return{flipCameraDisabled:!o,toggleFacingMode:c,flipCameraSupported:i&&u.length>1}}(),R=I.flipCameraDisabled,N=I.toggleFacingMode,P=I.flipCameraSupported;return(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(Y,{onClick:function(){return l((function(e){return!e}))},ref:A,className:t.buttonClassName,"data-cy-more-button":!0,children:n?(0,Bs.jsx)(Tp.Z,{}):(0,Bs.jsxs)(Bs.Fragment,{children:["More",(0,Bs.jsx)(_p.Z,{})]})}),(0,Bs.jsxs)(Ul,{open:c,onClose:function(){return l((function(e){return!e}))},anchorEl:A.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:n?-55:"bottom",horizontal:"center"},children:["peer-to-peer"!==b&&"go"!==b&&(0,Bs.jsxs)(Ef,{disabled:g,onClick:function(){l(!1),y(E.sid,S?[{type:"exclude",all:!0}]:[{type:"include",all:!0}],w.client_id)},"data-cy-recording-button":!0,children:[(0,Bs.jsx)(jp,{children:S?(0,Bs.jsx)(Ep,{}):(0,Bs.jsx)(Cp,{})}),(0,Bs.jsxs)(C,{variant:"body1",children:[S?"Stop":"Start"," Recording"]})]}),P&&(0,Bs.jsxs)(Ef,{disabled:R,onClick:N,children:[(0,Bs.jsx)(jp,{children:(0,Bs.jsx)(Dp,{})}),(0,Bs.jsx)(C,{variant:"body1",children:"Flip Camera"})]}),(0,Bs.jsxs)(Ef,{onClick:function(){return v(!0)},children:[(0,Bs.jsx)(jp,{children:(0,Bs.jsx)(Op,{})}),(0,Bs.jsx)(C,{variant:"body1",children:"Audio and Video Settings"})]}),Js.isSupported&&(0,Bs.jsxs)(Ef,{onClick:function(){O(!0),_(!1),l(!1)},children:[(0,Bs.jsx)(jp,{children:(0,Bs.jsx)(Oc,{})}),(0,Bs.jsx)(C,{variant:"body1",children:"Backgrounds"})]}),(0,Bs.jsxs)(Ef,{onClick:function(){yu.VideoRoomMonitor.toggleMonitor(),l(!1)},children:[(0,Bs.jsx)(jp,{children:(0,Bs.jsx)(Ap.Z,{style:{fill:"#707578",width:"0.9em"}})}),(0,Bs.jsx)(C,{variant:"body1",children:"Room Monitor"})]}),(0,Bs.jsxs)(Ef,{onClick:function(){x((function(e){return!e})),l(!1)},children:[(0,Bs.jsx)(jp,{children:k?(0,Bs.jsx)(Rc.Z,{style:{fill:"#707578",width:"0.9em"}}):(0,Bs.jsx)(Sp.Z,{style:{fill:"#707578",width:"0.9em"}})}),(0,Bs.jsx)(C,{variant:"body1",children:k?"Speaker View":"Gallery View"})]}),(0,Bs.jsxs)(Ef,{onClick:function(){return o(!0)},children:[(0,Bs.jsx)(jp,{children:(0,Bs.jsx)(bp,{})}),(0,Bs.jsx)(C,{variant:"body1",children:"About"})]})]}),(0,Bs.jsx)(Ec,{open:a,onClose:function(){o(!1),l(!1)}}),(0,Bs.jsx)(wp,{open:h,onClose:function(){v(!1),l(!1)}})]})}function Fp(){var t,n=ku().room,r=(0,e.useState)(Array.from(null!==(t=null===n||void 0===n?void 0:n.participants.values())&&void 0!==t?t:[])),i=(0,d.Z)(r,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){if(n){var e=function(e){return o((function(t){return[].concat((0,R.Z)(t),[e])}))},t=function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),a}function Zp(){var t=ku().room,n=(0,e.useState)("disconnected"),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){var e=function(){return a(t.state)};return e(),t.on("disconnected",e).on("reconnected",e).on("reconnecting",e),function(){t.off("disconnected",e).off("reconnected",e).off("reconnecting",e)}}}),[t]),i}function Bp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"17",viewBox:"0 0 12 17",children:(0,Bs.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z"})})}function Up(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:(0,Bs.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,Bs.jsx)("path",{fill:"#707578",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),(0,Bs.jsx)("path",{fill:"red",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})]})})}function Vp(){var t=ku().localTracks.find((function(e){return"audio"===e.kind}));return[qc(t),(0,e.useCallback)((function(){t&&(t.isEnabled?t.disable():t.enable())}),[t])]}function zp(e){var t=Vp(),n=(0,d.Z)(t,2),r=n[0],i=n[1],a=ku().localTracks.some((function(e){return"audio"===e.kind}));return(0,Bs.jsx)(Y,{className:e.className,onClick:i,disabled:!a||e.disabled,startIcon:r?(0,Bs.jsx)(Bp,{}):(0,Bs.jsx)(Up,{}),"data-cy-audio-toggle":!0,children:a?r?"Mute":"Unmute":"No Audio"})}function Wp(){return(0,Bs.jsx)("svg",{width:"19",height:"17",viewBox:"0 0 19 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1C0 0.723858 0.223858 0.5 0.5 0.5H18.5C18.7761 0.5 19 0.723858 19 1V13C19 13.2761 18.7761 13.5 18.5 13.5H9.3096L6.32421 16.361C6.1796 16.4996 5.96624 16.5385 5.78202 16.4599C5.59779 16.3813 5.47826 16.2003 5.47826 16V13.5H0.5C0.223858 13.5 0 13.2761 0 13V1ZM1 1.5V12.5H5.97826C6.2544 12.5 6.47826 12.7239 6.47826 13V14.8283L8.76274 12.639C8.85583 12.5498 8.97977 12.5 9.1087 12.5H18V1.5H1Z",fill:"#707578"})})}var Hp=700,Gp=w({iconContainer:{position:"relative",display:"flex"},circle:{width:"10px",height:"10px",backgroundColor:"#5BB75B",borderRadius:"50%",position:"absolute",top:"-3px",left:"13px",opacity:0,transition:"opacity ".concat(.5*Hp,"ms ease-in")},hasUnreadMessages:{opacity:1},ring:{border:"3px solid #5BB75B",borderRadius:"30px",height:"14px",width:"14px",position:"absolute",left:"11px",top:"-5px",opacity:0},animateRing:{animation:"$expand ".concat(Hp,"ms ease-out"),animationIterationCount:1},"@keyframes expand":{"0%":{transform:"scale(0.1, 0.1)",opacity:0},"50%":{opacity:1},"100%":{transform:"scale(1.4, 1.4)",opacity:0}}});function qp(){var t=Gp(),n=(0,e.useState)(!1),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=Pp(),s=o.isChatWindowOpen,u=o.setIsChatWindowOpen,c=o.conversation,l=o.hasUnreadMessages,f=ku().setIsBackgroundSelectionOpen;return(0,e.useEffect)((function(){i&&setTimeout((function(){return a(!1)}),Hp)}),[i]),(0,e.useEffect)((function(){if(c&&!s){var e=function(){return a(!0)};return c.on("messageAdded",e),function(){c.off("messageAdded",e)}}}),[c,s]),(0,Bs.jsx)(Y,{"data-cy-chat-button":!0,onClick:function(){u(!s),f(!1)},disabled:!c,startIcon:(0,Bs.jsxs)("div",{className:t.iconContainer,children:[(0,Bs.jsx)(Wp,{}),(0,Bs.jsx)("div",{className:(0,v.Z)(t.ring,(0,p.Z)({},t.animateRing,i))}),(0,Bs.jsx)("div",{className:(0,v.Z)(t.circle,(0,p.Z)({},t.hasUnreadMessages,l))})]}),children:"Chat"})}function Kp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,Bs.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,Bs.jsx)("path",{fill:"#707578",d:"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z",transform:"translate(4 6)"}),(0,Bs.jsx)("path",{fill:"red",fillRule:"nonzero",d:"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z",transform:"translate(4 6)"})]})})}function Yp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:(0,Bs.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z"})})}function Xp(t){var n=Ks(),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=(0,e.useRef)(0),s=me().hasVideoInputDevices,u=(0,e.useCallback)((function(){Date.now()-o.current>500&&(o.current=Date.now(),a())}),[a]);return(0,Bs.jsx)(Y,{className:t.className,onClick:u,disabled:!s||t.disabled,startIcon:i?(0,Bs.jsx)(Yp,{}):(0,Bs.jsx)(Kp,{}),children:s?i?"Stop Video":"Start Video":"No Video"})}function Qp(e){return(0,Bs.jsx)(Y,{variant:"outlined",onClick:function(){console.log("toggle size"),window.parent.postMessage("minimize_conf_iframe","*")},className:e.className,children:"Minimize"})}function Jp(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,Bs.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z"})})}function $p(){var t=ku().room,n=(0,e.useState)(),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){var e=function(){a(Array.from(t.participants.values()).concat(t.localParticipant).find((function(e){return Array.from(e.tracks.values()).find((function(e){return e.trackName.includes("screen")}))})))};return e(),t.on("trackPublished",e),t.on("trackUnpublished",e),t.on("participantDisconnected",e),t.localParticipant.on("trackPublished",e),t.localParticipant.on("trackUnpublished",e),function(){t.off("trackPublished",e),t.off("trackUnpublished",e),t.off("participantDisconnected",e),t.localParticipant.off("trackPublished",e),t.localParticipant.off("trackUnpublished",e)}}}),[t]),i}var eh="Share Screen",th="Cannot share screen when another user is sharing",nh="Screen sharing is not supported with this browser",rh=w((function(e){return{button:{"&[disabled]":{color:"#bbb","& svg *":{fill:"#bbb"}}}}}));function ih(e){var t=rh(),n=$p(),r=ku().toggleScreenShare,i=Boolean(n),a=navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia,o=e.disabled||i||!a,s="";return i&&(s=th),a||(s=nh),(0,Bs.jsx)(Gd,{title:s,placement:"top",PopperProps:{disablePortal:!0},style:{cursor:o?"not-allowed":"pointer"},children:(0,Bs.jsx)("span",{children:(0,Bs.jsx)(Y,{className:t.button,onClick:r,disabled:o,startIcon:(0,Bs.jsx)(Jp,{}),"data-cy-share-screen":!0,children:eh})})})}var ah=w((function(e){return{container:(0,p.Z)({backgroundColor:e.palette.background.default,bottom:0,left:0,right:0,height:"".concat(e.footerHeight,"px"),position:"fixed",display:"flex",padding:"0 1.43em",zIndex:10},e.breakpoints.down("sm"),{height:"".concat(e.mobileFooterHeight,"px"),padding:0}),screenShareBanner:{position:"fixed",zIndex:8,bottom:"".concat(e.footerHeight,"px"),left:0,right:0,height:"104px",background:"rgba(0, 0, 0, 0.5)","& h6":{color:"white"},"& button":{background:"white",color:e.brand,border:"2px solid ".concat(e.brand),margin:"0 2em","&:hover":{color:"#600101",border:"2px solid #600101",background:"#FFE9E7"}}},hideMobile:(0,p.Z)({display:"initial"},e.breakpoints.down("sm"),{display:"none"})}}));function oh(){var e=ah(),t=ku(),n=t.isSharingScreen,r=t.toggleScreenShare,i="reconnecting"===Zp(),a=(ku().room,Fp(),window.location!==window.parent.location),o=Ws().roomInfo;return(0,Bs.jsxs)(Bs.Fragment,{children:[n&&(0,Bs.jsxs)(ol,{container:!0,justifyContent:"center",alignItems:"center",className:e.screenShareBanner,children:[(0,Bs.jsx)(C,{variant:"h6",children:"You are sharing your screen"}),(0,Bs.jsx)(Y,{onClick:function(){return r()},children:"Stop Sharing"})]}),(0,Bs.jsx)("footer",{className:e.container,children:(0,Bs.jsxs)(ol,{container:!0,justifyContent:"space-around",alignItems:"center",children:[(0,Bs.jsx)(lp,{smDown:!0,children:(0,Bs.jsx)(ol,{style:{flex:1},children:(0,Bs.jsx)(C,{variant:"body1",children:null===o||void 0===o?void 0:o.title})})}),(0,Bs.jsx)(ol,{item:!0,children:(0,Bs.jsxs)(ol,{container:!0,justifyContent:"center",children:[(0,Bs.jsx)(zp,{disabled:i}),(0,Bs.jsx)(Xp,{disabled:i}),!n&&!le&&(0,Bs.jsx)(ih,{disabled:i}),"true"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS&&(0,Bs.jsx)(qp,{}),(0,Bs.jsx)(lp,{smDown:!0,children:(0,Bs.jsx)(Lp,{})})]})}),(0,Bs.jsx)(lp,{smDown:!0,children:(0,Bs.jsx)(ol,{style:{flex:1},children:(0,Bs.jsxs)(ol,{container:!0,justifyContent:"flex-end",children:[a&&(0,Bs.jsx)(Qp,{}),(0,Bs.jsx)(_u,{})]})})})]})})]})}var sh=w((function(e){return{roomName:(0,p.Z)({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},e.breakpoints.down("xs"),{width:"130px"}),container:(0,p.Z)({background:"white",paddingLeft:"1em",paddingRight:"1em",display:"none",height:"".concat(e.mobileTopBarHeight,"px")},e.breakpoints.down("sm"),{display:"flex"}),endCallButton:{height:"28px",fontSize:"0.85rem",padding:"0 0.6em"},settingsButton:(0,p.Z)({},e.breakpoints.down("sm"),{height:"28px",minWidth:"28px",border:"1px solid rgb(136, 140, 142)",padding:0,margin:"0 0 0 1em"})}}));function uh(){var e=sh(),t=Ws().roomInfo;window.location,window.parent.location;return(0,Bs.jsxs)(ol,{container:!0,alignItems:"center",justifyContent:"space-between",className:e.container,children:[(0,Bs.jsx)(C,{variant:"subtitle1",className:e.roomName,children:null===t||void 0===t?void 0:t.title}),(0,Bs.jsxs)("div",{children:[(0,Bs.jsx)(Qp,{className:e.endCallButton}),(0,Bs.jsx)(_u,{className:e.endCallButton}),(0,Bs.jsx)(Lp,{buttonClassName:e.settingsButton})]})]})}var ch=44,lh=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,u=t.disableShrink,c=void 0!==u&&u,l=t.size,f=void 0===l?40:l,d=t.style,p=t.thickness,m=void 0===p?3.6:p,g=t.value,y=void 0===g?0:g,b=t.variant,x=void 0===b?"indeterminate":b,k=(0,h.Z)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),w={},S={},T={};if("determinate"===x||"static"===x){var C=2*Math.PI*((ch-m)/2);w.strokeDasharray=C.toFixed(3),T["aria-valuenow"]=Math.round(y),w.strokeDashoffset="".concat(((100-y)/100*C).toFixed(3),"px"),S.transform="rotate(-90deg)"}return e.createElement("div",(0,r.Z)({className:(0,v.Z)(i.root,a,"inherit"!==s&&i["color".concat((0,_.Z)(s))],{determinate:i.determinate,indeterminate:i.indeterminate,static:i.static}[x]),style:(0,r.Z)({width:f,height:f},S,d),ref:n,role:"progressbar"},T,k),e.createElement("svg",{className:i.svg,viewBox:"".concat(22," ").concat(22," ").concat(ch," ").concat(ch)},e.createElement("circle",{className:(0,v.Z)(i.circle,c&&i.circleDisableShrink,{determinate:i.circleDeterminate,indeterminate:i.circleIndeterminate,static:i.circleStatic}[x]),style:w,cx:ch,cy:ch,r:(ch-m)/2,fill:"none",strokeWidth:m})))})),fh=(0,i.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(lh);function dh(){return(0,Bs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"73",height:"73",viewBox:"0 0 73 73",children:(0,Bs.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,Bs.jsx)("circle",{cx:"36.5",cy:"36.5",r:"36.5",fill:"#FFF"}),(0,Bs.jsx)("path",{fill:"#282A2B",strokeLinejoin:"round",d:"M30.973 23.925c-3.162 3.794-3.162 9.886 0 13.68l.262.301c.266.293.548.564.842.812l.192.154v2.95l-6.71 2.397-.213.082c-2.03.834-3.346 2.793-3.346 4.97v2.766c0 .532.431.963.963.963h27.874c.531 0 .962-.431.962-.963V49.27l-.005-.228-.015-.233c-.187-2.092-1.562-3.883-3.539-4.59l-6.71-2.397v-2.95l.192-.154c.393-.33.762-.702 1.104-1.112 3.162-3.795 3.162-9.887 0-13.681-3.25-3.9-8.603-3.9-11.853 0zm10.374 1.232c2.567 3.08 2.567 8.135 0 11.216-.404.484-.85.894-1.328 1.226-.26.18-.414.476-.414.791v4.111c0 .407.255.77.639.907l7.348 2.625c1.314.47 2.213 1.687 2.278 3.077l.004.183v1.781h-25.95l.002-1.804c0-1.394.843-2.65 2.131-3.18l.172-.065 7.327-2.617c.383-.137.639-.5.639-.907v-4.11c0-.316-.155-.612-.415-.792-.478-.332-.924-.742-1.328-1.226-2.567-3.08-2.567-8.135 0-11.216 2.427-2.912 6.248-2.974 8.735-.186l.16.186z"})]})})}function ph(){var e=ku().localTracks.find((function(e){return"audio"===e.kind}));return(0,Bs.jsx)(el,{audioTrack:e})}var hh=w((function(e){return{container:{position:"relative",height:0,overflow:"hidden",paddingTop:"".concat(56.25,"%"),background:"black"},innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},identityContainer:{position:"absolute",bottom:0,zIndex:1},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},avatarContainer:(0,p.Z)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}})}}));function vh(e){var t=e.identity,n=hh(),r=ku().localTracks.find((function(e){return!e.name.includes("screen")&&"video"===e.kind}));return(0,Bs.jsxs)("div",{className:n.container,children:[(0,Bs.jsx)("div",{className:n.innerContainer,children:r?(0,Bs.jsx)(dp,{track:r,isLocal:!0}):(0,Bs.jsx)("div",{className:n.avatarContainer,children:(0,Bs.jsx)(dh,{})})}),(0,Bs.jsx)("div",{className:n.identityContainer,children:(0,Bs.jsxs)("span",{className:n.identity,children:[(0,Bs.jsx)(ph,{}),(0,Bs.jsx)(C,{variant:"body1",color:"inherit",component:"span",children:t})]})})]})}var mh=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=(t.color,t.component),u=void 0===s?"label":s,c=(t.disabled,t.error,t.filled,t.focused,t.required,(0,h.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),l=Gl({props:t,muiFormControl:ql(),states:["color","required","focused","disabled","error","filled"]});return e.createElement(u,(0,r.Z)({className:(0,v.Z)(a.root,a["color".concat((0,_.Z)(l.color||"primary"))],o,l.disabled&&a.disabled,l.error&&a.error,l.filled&&a.filled,l.focused&&a.focused,l.required&&a.required),ref:n},c),i,l.required&&e.createElement("span",{"aria-hidden":!0,className:(0,v.Z)(a.asterisk,l.error&&a.error)},"\u2009","*"))})),gh=(0,i.Z)((function(e){return{root:(0,r.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(mh),yh=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.disableAnimation,s=void 0!==o&&o,u=(t.margin,t.shrink),c=(t.variant,(0,h.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),l=ql(),f=u;"undefined"===typeof f&&l&&(f=l.filled||l.focused||l.adornedStart);var d=Gl({props:t,muiFormControl:l,states:["margin","variant"]});return e.createElement(gh,(0,r.Z)({"data-shrink":f,className:(0,v.Z)(i.root,a,l&&i.formControl,!s&&i.animated,f&&i.shrink,"dense"===d.margin&&i.marginDense,{filled:i.filled,outlined:i.outlined}[d.variant]),classes:{focused:i.focused,disabled:i.disabled,error:i.error,required:i.required,asterisk:i.asterisk},ref:n},c))})),bh=(0,i.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(yh),xh=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"p":s,c=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,h.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),l=Gl({props:t,muiFormControl:ql(),states:["variant","margin","disabled","error","filled","focused","required"]});return e.createElement(u,(0,r.Z)({className:(0,v.Z)(a.root,("filled"===l.variant||"outlined"===l.variant)&&a.contained,o,l.disabled&&a.disabled,l.error&&a.error,l.filled&&a.filled,l.focused&&a.focused,l.required&&a.required,"dense"===l.margin&&a.marginDense),ref:n},c)," "===i?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):i)})),kh=(0,i.Z)((function(e){return{root:(0,r.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(xh),wh={standard:of,filled:pf,outlined:gf},_h=e.forwardRef((function(t,n){var i=t.autoComplete,a=t.autoFocus,o=void 0!==a&&a,s=t.children,u=t.classes,c=t.className,l=t.color,f=void 0===l?"primary":l,d=t.defaultValue,p=t.disabled,m=void 0!==p&&p,g=t.error,y=void 0!==g&&g,b=t.FormHelperTextProps,x=t.fullWidth,k=void 0!==x&&x,w=t.helperText,_=t.hiddenLabel,S=t.id,T=t.InputLabelProps,C=t.inputProps,E=t.InputProps,O=t.inputRef,A=t.label,I=t.multiline,R=void 0!==I&&I,N=t.name,P=t.onBlur,M=t.onChange,D=t.onFocus,j=t.placeholder,L=t.required,F=void 0!==L&&L,Z=t.rows,B=t.rowsMax,U=t.maxRows,V=t.minRows,z=t.select,W=void 0!==z&&z,H=t.SelectProps,G=t.type,q=t.value,K=t.variant,Y=void 0===K?"standard":K,X=(0,h.Z)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===Y&&(T&&"undefined"!==typeof T.shrink&&(Q.notched=T.shrink),A)){var J,$=null!==(J=null===T||void 0===T?void 0:T.required)&&void 0!==J?J:F;Q.label=e.createElement(e.Fragment,null,A,$&&"\xa0*")}W&&(H&&H.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var ee=w&&S?"".concat(S,"-helper-text"):void 0,te=A&&S?"".concat(S,"-label"):void 0,ne=wh[Y],re=e.createElement(ne,(0,r.Z)({"aria-describedby":ee,autoComplete:i,autoFocus:o,defaultValue:d,fullWidth:k,multiline:R,name:N,rows:Z,rowsMax:B,maxRows:U,minRows:V,type:G,value:q,id:S,inputRef:O,onBlur:P,onChange:M,onFocus:D,placeholder:j,inputProps:C},Q,E));return e.createElement(pl,(0,r.Z)({className:(0,v.Z)(u.root,c),disabled:m,error:y,fullWidth:k,hiddenLabel:_,ref:n,required:F,color:f,variant:Y},X),A&&e.createElement(bh,(0,r.Z)({htmlFor:S,id:te},T),A),W?e.createElement(wf,(0,r.Z)({"aria-describedby":ee,id:S,labelId:te,value:q,input:re},H),s):re,w&&e.createElement(kh,(0,r.Z)({id:ee},b),w))})),Sh=(0,i.Z)({root:{}},{name:"MuiTextField"})(_h),Th=w((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},(0,p.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,p.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:(0,p.Z)({},e.breakpoints.down("xs"),{margin:"16px"}),formControl:{display:"block",margin:"1.5em 0","&:first-child":{margin:"0 0 1.5em 0"}},label:{width:"133%"}}})),Ch=function(e){return"undefined"===typeof e?"default":e};function Eh(t){var n=t.open,r=t.onClose,i=Th(),a=Ws(),o=a.settings,s=a.dispatchSetting,u="disconnected"!==Zp(),c=(0,e.useCallback)((function(e){s({name:e.target.name,value:e.target.value})}),[s]),l=(0,e.useCallback)((function(e){/[^\d]/.test(e.target.value)||c(e)}),[c]);return(0,Bs.jsxs)(vc,{open:n,onClose:r,classes:{paper:i.paper},children:[(0,Bs.jsx)(_c,{children:"Connection Settings"}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsx)(bc,{className:i.container,children:(0,Bs.jsxs)(ol,{container:!0,spacing:2,children:[(0,Bs.jsx)(ol,{item:!0,xs:12,children:(0,Bs.jsx)(C,{hidden:!u,variant:"body2",children:"These settings cannot be changed when connected to a room."})}),(0,Bs.jsxs)(ol,{item:!0,sm:6,xs:12,children:[(0,Bs.jsxs)(pl,{className:i.formControl,children:[(0,Bs.jsx)(bh,{id:ee.dominantSpeakerPriority,children:"Dominant Speaker Priority:"}),(0,Bs.jsxs)(wf,{fullWidth:!0,disabled:u,name:ee.dominantSpeakerPriority,label:ee.dominantSpeakerPriority,value:Ch(o.dominantSpeakerPriority),onChange:c,children:[(0,Bs.jsx)(Ef,{value:"low",children:"Low"}),(0,Bs.jsx)(Ef,{value:"standard",children:"Standard"}),(0,Bs.jsx)(Ef,{value:"high",children:"High"}),(0,Bs.jsx)(Ef,{value:"default",children:"Server Default"})]})]}),(0,Bs.jsxs)(pl,{className:i.formControl,children:[(0,Bs.jsx)(bh,{id:ee.trackSwitchOffMode,children:"Track Switch Off Mode:"}),(0,Bs.jsxs)(wf,{fullWidth:!0,disabled:u,name:ee.trackSwitchOffMode,label:ee.trackSwitchOffMode,value:Ch(o.trackSwitchOffMode),onChange:c,children:[(0,Bs.jsx)(Ef,{value:"predicted",children:"Predicted"}),(0,Bs.jsx)(Ef,{value:"detected",children:"Detected"}),(0,Bs.jsx)(Ef,{value:"disabled",children:"Disabled"}),(0,Bs.jsx)(Ef,{value:"default",children:"Server Default"})]})]}),(0,Bs.jsxs)(pl,{className:i.formControl,children:[(0,Bs.jsx)(bh,{id:ee.bandwidthProfileMode,children:"Mode:"}),(0,Bs.jsxs)(wf,{fullWidth:!0,disabled:u,name:ee.bandwidthProfileMode,label:ee.bandwidthProfileMode,value:Ch(o.bandwidthProfileMode),onChange:c,children:[(0,Bs.jsx)(Ef,{value:"grid",children:"Grid"}),(0,Bs.jsx)(Ef,{value:"collaboration",children:"Collaboration"}),(0,Bs.jsx)(Ef,{value:"presentation",children:"Presentation"}),(0,Bs.jsx)(Ef,{value:"default",children:"Server Default"})]})]})]}),(0,Bs.jsxs)(ol,{item:!0,sm:6,xs:12,children:[(0,Bs.jsxs)(pl,{className:i.formControl,children:[(0,Bs.jsx)(bh,{id:ee.clientTrackSwitchOffControl,children:"Client Track Switch Off Control:"}),(0,Bs.jsxs)(wf,{fullWidth:!0,disabled:u,name:ee.clientTrackSwitchOffControl,label:ee.clientTrackSwitchOffControl,value:Ch(o.clientTrackSwitchOffControl),onChange:c,children:[(0,Bs.jsx)(Ef,{value:"auto",children:"Auto"}),(0,Bs.jsx)(Ef,{value:"manual",children:"Manual"}),(0,Bs.jsx)(Ef,{value:"default",children:"Default"})]})]}),(0,Bs.jsxs)(pl,{className:i.formControl,children:[(0,Bs.jsx)(bh,{id:ee.contentPreferencesMode,children:"Content Preferences Mode:"}),(0,Bs.jsxs)(wf,{fullWidth:!0,disabled:u,name:ee.contentPreferencesMode,label:ee.contentPreferencesMode,value:Ch(o.contentPreferencesMode),onChange:c,children:[(0,Bs.jsx)(Ef,{value:"auto",children:"Auto"}),(0,Bs.jsx)(Ef,{value:"manual",children:"Manual"}),(0,Bs.jsx)(Ef,{value:"default",children:"Default"})]})]}),(0,Bs.jsx)(pl,{className:i.formControl,children:(0,Bs.jsx)(Sh,{disabled:u,fullWidth:!0,id:ee.maxAudioBitrate,label:"Max Audio Bitrate",placeholder:"Leave blank for no limit",name:ee.maxAudioBitrate,value:Ch(o.maxAudioBitrate),onChange:l})})]})]})}),(0,Bs.jsx)(Tc,{}),(0,Bs.jsx)(gc,{children:(0,Bs.jsx)(Y,{className:i.button,color:"primary",variant:"contained",onClick:r,children:"Done"})})]})}function Oh(t){var n=t.mobileButtonClass,r=Ws().roomType,i=np((function(e){return e.breakpoints.down("sm")})),a=(0,e.useState)(!1),o=(0,d.Z)(a,2),s=o[0],u=o[1],c=(0,e.useState)(!1),l=(0,d.Z)(c,2),f=l[0],p=l[1],h=(0,e.useState)(!1),v=(0,d.Z)(h,2),m=v[0],g=v[1],y=(0,e.useState)(!1),b=(0,d.Z)(y,2),x=b[0],k=b[1],w=(0,e.useRef)(null);return(0,Bs.jsxs)(Bs.Fragment,{children:[i?(0,Bs.jsx)(Y,{ref:w,onClick:function(){return u(!0)},startIcon:(0,Bs.jsx)(Tp.Z,{}),className:n,children:"More"}):(0,Bs.jsx)(Y,{ref:w,onClick:function(){return u(!0)},startIcon:(0,Bs.jsx)(Op,{}),children:"Settings"}),(0,Bs.jsxs)(Ul,{open:s,onClose:function(){return u((function(e){return!e}))},anchorEl:w.current,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:i?"left":"right"},transformOrigin:{vertical:0,horizontal:"center"},children:[(0,Bs.jsx)(Ef,{onClick:function(){return p(!0)},children:(0,Bs.jsx)(C,{variant:"body1",children:"About"})}),(0,Bs.jsx)(Ef,{onClick:function(){return g(!0)},children:(0,Bs.jsx)(C,{variant:"body1",children:"Audio and Video Settings"})}),"peer-to-peer"!==r&&"go"!==r&&(0,Bs.jsx)(Ef,{onClick:function(){return k(!0)},children:(0,Bs.jsx)(C,{variant:"body1",children:"Connection Settings"})})]}),(0,Bs.jsx)(Ec,{open:f,onClose:function(){p(!1),u(!1)}}),(0,Bs.jsx)(wp,{open:m,onClose:function(){g(!1),u(!1)}}),(0,Bs.jsx)(Eh,{open:x,onClose:function(){k(!1),u(!1)}})]})}var Ah=w((function(e){return{gutterBottom:{marginBottom:"1em"},marginTop:{marginTop:"1em"},deviceButton:{width:"100%",border:"2px solid #aaa",margin:"1em 0"},localPreviewContainer:(0,p.Z)({paddingRight:"2em",marginBottom:"2em"},e.breakpoints.down("sm"),{padding:"0 2.5em"}),joinButtons:(0,p.Z)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",width:"100%","& button":{margin:"0.5em 0"}}),mobileButtonBar:(0,p.Z)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-between",margin:"1.5em 0 1em"}),mobileButton:{padding:"0.8em 0",margin:0},toolTipContainer:{display:"flex",alignItems:"center","& div":{display:"flex",alignItems:"center"},"& svg":{marginLeft:"0.3em"}}}}));function Ih(e){var t=e.name,n=e.roomName,r=e.setStep,i=(e.setName,Ah()),a=Ws(),o=a.getToken,s=a.isFetching,u=a.isKrispEnabled,c=a.isKrispInstalled,l=a.roomInfo,f=Pp().connect,p=Ks(),h=(0,d.Z)(p,2),v=(h[0],h[1],ku()),m=v.connect,g=v.isAcquiringLocalTracks,y=v.isConnecting,b=(v.localTracks,gp().toggleKrisp),x=s||g||y;return s||y?(0,Bs.jsxs)(ol,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",children:[(0,Bs.jsx)("div",{children:(0,Bs.jsx)(fh,{variant:"indeterminate"})}),(0,Bs.jsx)("div",{children:(0,Bs.jsx)(C,{variant:"body2",style:{fontWeight:"bold",fontSize:"16px",textAlign:"center",marginTop:"20px"},children:"Joining Meeting"})})]}):(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsxs)(C,{variant:"h5",className:i.gutterBottom,children:["Join the room ",null===l||void 0===l?void 0:l.title," as ",t]}),(0,Bs.jsxs)(ol,{container:!0,justifyContent:"center",children:[(0,Bs.jsxs)(ol,{item:!0,md:7,sm:12,xs:12,children:[(0,Bs.jsx)("div",{className:i.localPreviewContainer,children:(0,Bs.jsx)(vh,{identity:t})}),(0,Bs.jsx)("div",{className:i.mobileButtonBar,children:(0,Bs.jsxs)(lp,{mdUp:!0,children:[(0,Bs.jsx)(zp,{className:i.mobileButton,disabled:x}),(0,Bs.jsx)(Xp,{className:i.mobileButton,disabled:x}),(0,Bs.jsx)(Oh,{mobileButtonClass:i.mobileButton})]})})]}),(0,Bs.jsx)(ol,{item:!0,md:5,sm:12,xs:12,children:(0,Bs.jsx)(ol,{container:!0,direction:"column",justifyContent:"space-between",style:{alignItems:"normal"},children:(0,Bs.jsx)("div",{children:(0,Bs.jsxs)(lp,{smDown:!0,children:[(0,Bs.jsx)(zp,{className:i.deviceButton,disabled:x}),(0,Bs.jsx)(Xp,{className:i.deviceButton,disabled:x})]})})})}),(0,Bs.jsxs)(ol,{item:!0,md:12,sm:12,xs:12,children:[c&&(0,Bs.jsxs)(ol,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"1em"},children:[(0,Bs.jsxs)("div",{className:i.toolTipContainer,children:[(0,Bs.jsx)(C,{variant:"subtitle2",children:"Noise Cancellation"}),(0,Bs.jsx)(Gd,{title:"Suppress background noise from your microphone",interactive:!0,leaveDelay:250,leaveTouchDelay:15e3,enterTouchDelay:0,children:(0,Bs.jsx)("div",{children:(0,Bs.jsx)(bp,{})})})]}),(0,Bs.jsx)(Kd,{control:(0,Bs.jsx)(ep,{checked:!!u,checkedIcon:(0,Bs.jsx)(yp,{}),disableRipple:!0,onClick:b}),label:u?"Enabled":"Disabled",style:{marginRight:0},disabled:u&&g})]}),(0,Bs.jsx)(Tc,{})]}),(0,Bs.jsx)(ol,{item:!0,md:12,sm:12,xs:12,children:(0,Bs.jsxs)(ol,{container:!0,direction:"row",alignItems:"center",style:{marginTop:"1em"},children:[(0,Bs.jsx)(lp,{smDown:!0,children:(0,Bs.jsx)(ol,{item:!0,md:7,sm:12,xs:12,children:(0,Bs.jsx)(Oh,{mobileButtonClass:i.mobileButton})})}),(0,Bs.jsx)(ol,{item:!0,md:5,sm:12,xs:12,children:(0,Bs.jsxs)("div",{className:i.joinButtons,children:[(0,Bs.jsx)(Y,{variant:"outlined",color:"primary",onClick:function(){return r(Kh.roomNameStep)},children:"Cancel"}),(0,Bs.jsx)(Y,{variant:"contained",color:"primary","data-cy-join-now":!0,onClick:function(){console.log("# JOIN ROOM"),o(t,n).then((function(e){var t=e.token;m(t),"true"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS&&f(t)}))},disabled:x,children:"Join Now"})]})})]})})]})]})}var Rh=w((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"},container:{position:"relative",display:"flex",alignItems:"center",flexDirection:"column"},innerContainer:(0,p.Z)({display:"flex",width:"600px",height:"auto",borderRadius:"8px",boxShadow:"0px 2px 4px 0px rgba(40, 42, 43, 0.3)",overflow:"hidden",position:"relative",margin:"auto"},e.breakpoints.down("sm"),{display:"block",height:"auto",width:"calc(100% - 40px)",margin:"auto",maxWidth:"400px"}),swooshContainer:(0,p.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='296' height='378' viewBox='0 0 296 378'%3E%3Cdefs%3E%3ClinearGradient id='utbttnlrpc' x1='78.976%25' x2='63.882%25' y1='60.873%25' y2='45.554%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3ClinearGradient id='aim8r3oczd' x1='78.976%25' x2='63.882%25' y1='56.106%25' y2='47.503%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3Cpath id='5tk4i6f80a' d='M0 0H296V378H0z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cmask id='m1ihwluuxb' fill='%23fff'%3E%3Cuse xlink:href='%235tk4i6f80a'/%3E%3C/mask%3E%3Cuse fill='%23DE5858' xlink:href='%235tk4i6f80a'/%3E%3Cg mask='url(%23m1ihwluuxb)'%3E%3Cg%3E%3Cpath fill='url(%23utbttnlrpc)' d='M0 286.83c87.695-83.937 175.802-132.682 264.323-146.233 132.78-20.328 183.24 4.255 225.143-23.414 73.409-48.471 93.039-15.154 148.326-20.892 44.84-4.654 98.48-77.401 135.81-91.717C795.596-3.86 821.469.801 851.22 18.56L891 476.5H0V286.83z' opacity='.06' transform='translate(-457 -22.5)'/%3E%3Cpath fill='url(%23aim8r3oczd)' d='M137 604.5c63.759-109.686 155.8-165.124 276.126-166.315 180.488-1.786 157.888-146.686 387.11-146.33 229.223.356 170.665-151.786 341.36-166.888 113.797-10.068 180.265 10.685 199.404 62.26V604.5H137z' opacity='.08' transform='translate(-457 -22.5)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");",backgroundSize:"cover",width:"296px"},e.breakpoints.down("sm"),{width:"100%",height:"100px",backgroundPositionY:"140px"}),logoContainer:(0,p.Z)({position:"absolute",width:"210px",textAlign:"center"},e.breakpoints.down("sm"),{display:"flex",alignItems:"center",width:"90%",textAlign:"initial","& svg":{height:"64px"}}),clientLogo:{width:"200px",height:"auto",marginBottom:"20px"},content:(0,p.Z)({background:"white",width:"100%",padding:"3em 4em",flex:1},e.breakpoints.down("sm"),{padding:"2em"}),title:(0,p.Z)({color:"white",margin:"1em 0 0"},e.breakpoints.down("sm"),{margin:0,fontSize:"1.1rem"}),subContentContainer:{marginTop:"1em",width:"100%"}}})),Nh=function(t){var n=Rh(),r=Ws().roomInfo,i=(0,e.useState)(""),a=(0,d.Z)(i,2),o=a[0],s=a[1];return(0,e.useEffect)((function(){if(r){var e=new URL(window.location.href),t=-1!==e.origin.indexOf("localhost")?"http://localhost:3600":e.origin,n="";n=r.client_logo?t+"/client_logos/"+r.client_id+".png":t+"/client_logos/talaria.png",s(n)}}),[r]),(0,Bs.jsx)("div",{className:n.background,children:(0,Bs.jsxs)("div",{className:n.container,children:[o&&(0,Bs.jsx)("img",{className:n.clientLogo,src:o,alt:""}),(0,Bs.jsx)("div",{className:n.innerContainer,children:(0,Bs.jsx)("div",{className:n.content,children:t.children})})]})})},Ph=n(30014);function Mh(){return(0,Bs.jsx)("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,Bs.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,Bs.jsx)("g",{transform:"translate(-299.000000, -723.000000)",fill:"#D61F1F",children:(0,Bs.jsx)("g",{transform:"translate(276.000000, 704.000000)",children:(0,Bs.jsx)("g",{transform:"translate(23.000000, 19.000000)",children:(0,Bs.jsx)("path",{d:"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z",id:"Error"})})})})})})}function Dh(e){return e.substring(2).toLowerCase()}var jh=function(n){var r=n.children,i=n.disableReactTree,a=void 0!==i&&i,o=n.mouseEvent,s=void 0===o?"onClick":o,u=n.onClickAway,c=n.touchEvent,l=void 0===c?"onTouchEnd":c,f=e.useRef(!1),d=e.useRef(null),p=e.useRef(!1),h=e.useRef(!1);e.useEffect((function(){return setTimeout((function(){p.current=!0}),0),function(){p.current=!1}}),[]);var v=e.useCallback((function(e){d.current=t.findDOMNode(e)}),[]),m=(0,O.Z)(r.ref,v),g=(0,A.Z)((function(e){var t=h.current;if(h.current=!1,p.current&&d.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(f.current)f.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(d.current)>-1;else n=!(0,Tu.Z)(d.current).documentElement.contains(e.target)||d.current.contains(e.target);n||!a&&t||u(e)}})),y=function(e){return function(t){h.current=!0;var n=r.props[e];n&&n(t)}},b={ref:m};return!1!==l&&(b[l]=y(l)),e.useEffect((function(){if(!1!==l){var e=Dh(l),t=(0,Tu.Z)(d.current),n=function(){f.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,l]),!1!==s&&(b[s]=y(s)),e.useEffect((function(){if(!1!==s){var e=Dh(s),t=(0,Tu.Z)(d.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,s]),e.createElement(e.Fragment,null,e.cloneElement(r,b))},Lh=e.forwardRef((function(t,n){var i=t.action,a=t.classes,o=t.className,s=t.message,u=t.role,c=void 0===u?"alert":u,l=(0,h.Z)(t,["action","classes","className","message","role"]);return e.createElement(dc,(0,r.Z)({role:c,square:!0,elevation:6,className:(0,v.Z)(a.root,o),ref:n},l),e.createElement("div",{className:a.message},s),i?e.createElement("div",{className:a.action},i):null)})),Fh=(0,i.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,E._4)(e.palette.background.default,t);return{root:(0,r.Z)({},e.typography.body2,(0,p.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(Lh),Zh=e.forwardRef((function(t,n){var i=t.action,a=t.anchorOrigin,o=(a=void 0===a?{vertical:"bottom",horizontal:"center"}:a).vertical,s=a.horizontal,u=t.autoHideDuration,c=void 0===u?null:u,l=t.children,f=t.classes,d=t.className,p=t.ClickAwayListenerProps,m=t.ContentProps,g=t.disableWindowBlurListener,y=void 0!==g&&g,b=t.message,x=t.onClose,k=t.onEnter,w=t.onEntered,S=t.onEntering,T=t.onExit,C=t.onExited,E=t.onExiting,O=t.onMouseEnter,I=t.onMouseLeave,R=t.open,N=t.resumeHideDuration,P=t.TransitionComponent,M=void 0===P?kl:P,D=t.transitionDuration,j=void 0===D?{enter:tc.x9.enteringScreen,exit:tc.x9.leavingScreen}:D,L=t.TransitionProps,F=(0,h.Z)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),Z=e.useRef(),B=e.useState(!0),U=B[0],V=B[1],z=(0,A.Z)((function(){x&&x.apply(void 0,arguments)})),W=(0,A.Z)((function(e){x&&null!=e&&(clearTimeout(Z.current),Z.current=setTimeout((function(){z(null,"timeout")}),e))}));e.useEffect((function(){return R&&W(c),function(){clearTimeout(Z.current)}}),[R,c,W]);var H=function(){clearTimeout(Z.current)},G=e.useCallback((function(){null!=c&&W(null!=N?N:.5*c)}),[c,N,W]);return e.useEffect((function(){if(!y&&R)return window.addEventListener("focus",G),window.addEventListener("blur",H),function(){window.removeEventListener("focus",G),window.removeEventListener("blur",H)}}),[y,G,R]),!R&&U?null:e.createElement(jh,(0,r.Z)({onClickAway:function(e){x&&x(e,"clickaway")}},p),e.createElement("div",(0,r.Z)({className:(0,v.Z)(f.root,f["anchorOrigin".concat((0,_.Z)(o)).concat((0,_.Z)(s))],d),onMouseEnter:function(e){O&&O(e),H()},onMouseLeave:function(e){I&&I(e),G()},ref:n},F),e.createElement(M,(0,r.Z)({appear:!0,in:R,onEnter:(0,Iu.Z)((function(){V(!1)}),k),onEntered:w,onEntering:S,onExit:T,onExited:(0,Iu.Z)((function(){V(!0)}),C),onExiting:E,timeout:j,direction:"top"===o?"down":"up"},L),l||e.createElement(Fh,(0,r.Z)({message:b,action:i},m)))))})),Bh=(0,i.Z)((function(e){var t={top:8},n={bottom:8},i={justifyContent:"flex-end"},a={justifyContent:"flex-start"},o={top:24},s={bottom:24},u={right:24},c={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,r.Z)({},t,(0,p.Z)({},e.breakpoints.up("sm"),(0,r.Z)({},o,l))),anchorOriginBottomCenter:(0,r.Z)({},n,(0,p.Z)({},e.breakpoints.up("sm"),(0,r.Z)({},s,l))),anchorOriginTopRight:(0,r.Z)({},t,i,(0,p.Z)({},e.breakpoints.up("sm"),(0,r.Z)({left:"auto"},o,u))),anchorOriginBottomRight:(0,r.Z)({},n,i,(0,p.Z)({},e.breakpoints.up("sm"),(0,r.Z)({left:"auto"},s,u))),anchorOriginTopLeft:(0,r.Z)({},t,a,(0,p.Z)({},e.breakpoints.up("sm"),(0,r.Z)({right:"auto"},o,c))),anchorOriginBottomLeft:(0,r.Z)({},n,a,(0,p.Z)({},e.breakpoints.up("sm"),(0,r.Z)({right:"auto"},s,c)))}}),{flip:!1,name:"MuiSnackbar"})(Zh);function Uh(){return(0,Bs.jsx)("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,Bs.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,Bs.jsx)("g",{transform:"translate(-273.000000, -162.000000)",fill:"#E46216",children:(0,Bs.jsx)("g",{transform:"translate(251.000000, 143.000000)",children:(0,Bs.jsx)("g",{transform:"translate(22.000000, 19.000000)",children:(0,Bs.jsx)("path",{d:"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z"})})})})})})}function Vh(){return(0,Bs.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",children:(0,Bs.jsx)("path",{fill:"#0263e0",fillRule:"evenodd",d:"M10 2a8 8 0 110 16 8 8 0 010-16zm0 7c-.26.01-.528.08-.707.24-.178.158-.292.355-.292.575v3.37c0 .21.11.428.292.577.173.14.457.247.707.237.26-.008.528-.078.707-.237.178-.16.292-.355.292-.577v-3.37a.766.766 0 00-.292-.575A1.14 1.14 0 0010 9zm0-3l-.266.036c-.17.047-.318.131-.441.253l-.156.198A.958.958 0 009 6.98v.04a.728.728 0 00.086.378c.04.121.108.227.206.315.09.094.197.163.321.202.12.06.248.09.386.084l.266-.035c.17-.047.318-.131.441-.253l.156-.198A.958.958 0 0011 7.02v-.04a.728.728 0 00-.086-.378.721.721 0 00-.206-.315.757.757 0 00-.321-.202.767.767 0 00-.386-.084z"})})}var zh=w((function(e){return{container:(0,p.Z)({display:"flex",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)"},e.breakpoints.down("sm"),{width:"100%"}),contentContainer:{display:"flex",lineHeight:1.8},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(3px)"},headline:{fontWeight:"bold"},error:{borderLeft:"4px solid #D61F1F"},warning:{borderLeft:"4px solid #E46216"},info:{borderLeft:"4px solid #0263e0"}}}));function Wh(e){var t,n=e.headline,r=e.message,i=e.variant,a=e.open,o=e.handleClose,s=zh();return(0,Bs.jsx)(Bh,{anchorOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:function(e,t){"clickaway"!==t&&(null===o||void 0===o||o())},autoHideDuration:1e4,children:(0,Bs.jsxs)("div",{className:(0,v.Z)(s.container,(t={},(0,p.Z)(t,s.error,"error"===i),(0,p.Z)(t,s.warning,"warning"===i),(0,p.Z)(t,s.info,"info"===i),t)),children:[(0,Bs.jsxs)("div",{className:s.contentContainer,children:[(0,Bs.jsxs)("div",{className:s.iconContainer,children:["warning"===i&&(0,Bs.jsx)(Uh,{}),"error"===i&&(0,Bs.jsx)(Mh,{}),"info"===i&&(0,Bs.jsx)(Vh,{})]}),(0,Bs.jsxs)("div",{children:[(0,Bs.jsx)(C,{variant:"body1",className:s.headline,component:"span",children:n}),(0,Bs.jsxs)(C,{variant:"body1",component:"span",children:[" ",r]})]})]}),(0,Bs.jsx)("div",{children:o&&(0,Bs.jsx)(Xd,{size:"small","aria-label":"close",color:"inherit",onClick:o,children:(0,Bs.jsx)(Ph.Z,{fontSize:"small"})})})]})})}function Hh(t){var n=t.error,r=me(),i=r.hasAudioInputDevices,a=r.hasVideoInputDevices,o=ku().isAcquiringLocalTracks,s=(0,e.useState)(!1),u=(0,d.Z)(s,2),c=u[0],l=u[1],f=!c&&!o&&(Boolean(n)||!i||!a),p=function(e,t,n){var r="",i="";switch(!0){case"CameraPermissionsDenied"===(null===n||void 0===n?void 0:n.message):r="Unable to Access Media:",i="The user has denied permission to use video. Please grant permission to the browser to access the camera.";break;case"MicrophonePermissionsDenied"===(null===n||void 0===n?void 0:n.message):r="Unable to Access Media:",i="The user has denied permission to use audio. Please grant permission to the browser to access the microphone.";break;case"NotAllowedError"===(null===n||void 0===n?void 0:n.name):r="Unable to Access Media:",i="Permission denied by system"===n.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.";break;case"NotFoundError"===(null===n||void 0===n?void 0:n.name):r="Cannot Find Microphone or Camera:",i="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(n):r="Error Acquiring Media:",i="".concat(n.name," ").concat(n.message);break;case!e&&!t:r="No Camera or Microphone Detected:",i="Other participants in the room will be unable to see and hear you.";break;case!t:r="No Camera Detected:",i="Other participants in the room will be unable to see you.";break;case!e:r="No Microphone Detected:",i="Other participants in the room will be unable to hear you."}return{headline:r,message:i}}(i,a,n),h=p.headline,v=p.message;return(0,Bs.jsx)(Wh,{open:f,handleClose:function(){return l(!0)},headline:h,message:v,variant:"warning"})}var Gh=w((function(e){return{gutterBottom:{marginBottom:"1em"},inputContainer:(0,p.Z)({display:"flex",justifyContent:"space-between",margin:"1.5em 0 3.5em","& div:not(:last-child)":{marginRight:"1em"}},e.breakpoints.down("sm"),{margin:"1.5em 0 2em"}),textFieldContainer:{width:"100%"},continueButton:(0,p.Z)({},e.breakpoints.down("sm"),{width:"100%"})}}));function qh(t){var n=t.name,r=(t.roomName,t.setName),i=t.setRoomName,a=t.handleSubmit,o=(t.setStep,Gh()),s=Ws(),u=s.user,c=s.dispatchSetting,l=s.roomInfo,f=(0,e.useState)(""),p=(0,d.Z)(f,2),h=p[0],v=p[1];(0,e.useEffect)((function(){i(l?l.room_id_token:""),v(l?l.user_name:"");var e=l?l.mode:"grid";c({name:"bandwidthProfileMode",value:e})}),[l]);var m=!window.location.search.includes("customIdentity=true")&&(null===u||void 0===u?void 0:u.displayName);return console.log("/// ROOM NAME SCREEN"),(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsxs)(C,{variant:"h5",className:o.gutterBottom,children:["Join ",null===l||void 0===l?void 0:l.title," room"]}),(0,Bs.jsxs)(C,{variant:"subtitle1",children:["Created by ",h]}),(0,Bs.jsx)("br",{}),(0,Bs.jsx)(C,{variant:"body1",children:m?"Enter the name of a room you'd like to join.":'Enter your name and press "Continue" to join the room.'}),(0,Bs.jsxs)("form",{onSubmit:a,children:[(0,Bs.jsx)("div",{className:o.inputContainer,children:!m&&(0,Bs.jsxs)("div",{className:o.textFieldContainer,children:[(0,Bs.jsx)(bh,{shrink:!0,htmlFor:"input-user-name",children:"Your Name"}),(0,Bs.jsx)(Sh,{id:"input-user-name",variant:"outlined",fullWidth:!0,size:"small",value:n,onChange:function(e){return r(e.target.value)}})]})}),(0,Bs.jsx)(ol,{container:!0,justifyContent:"flex-end",children:(0,Bs.jsx)(Y,{variant:"contained",type:"submit",color:"primary",disabled:!n,className:o.continueButton,children:"Continue"})})]})]})}var Kh=function(e){return e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep",e}({});function Yh(){var t=ku().getAudioAndVideoTracks,n=(function(){var e=Ns(ps).match;return e?e.params:{}}().URLRoomName,(0,e.useState)(Kh.roomNameStep)),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(""),s=(0,d.Z)(o,2),u=s[0],c=s[1],l=(0,e.useState)(""),f=(0,d.Z)(l,2),p=f[0],h=f[1],v=(0,e.useState)(),m=(0,d.Z)(v,2),g=m[0],y=m[1];(0,e.useEffect)((function(){i!==Kh.deviceSelectionStep||g||t().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),y(e)}))}),[t,i,g]);return(0,Bs.jsxs)(Nh,{children:[(0,Bs.jsx)(Hh,{error:g}),i===Kh.roomNameStep&&(0,Bs.jsx)(qh,{name:u,roomName:p,setName:c,setRoomName:h,handleSubmit:function(e){e.preventDefault(),window.location.origin.includes("twil.io")||window.STORYBOOK_ENV||window.history.replaceState(null,"",window.encodeURI("/room/".concat(p).concat(window.location.search||""))),console.log("HANDLE SUBMIT",u),localStorage.setItem("userDisplayName",u),a(Kh.deviceSelectionStep)},setStep:a}),i===Kh.deviceSelectionStep&&(0,Bs.jsx)(Ih,{name:u,setName:c,roomName:p,setStep:a})]})}function Xh(){var e=Zp();return(0,Bs.jsx)(Wh,{variant:"error",headline:"Connection Lost:",message:"Reconnecting to room...",open:"reconnecting"===e})}var Qh=function(e){return e[e.none=0]="none",e[e.recordingStarted=1]="recordingStarted",e[e.recordingInProgress=2]="recordingInProgress",e[e.recordingFinished=3]="recordingFinished",e}(Qh||{});function Jh(){var t=(0,e.useState)(Qh.none),n=(0,d.Z)(t,2),r=n[0],i=n[1],a=(0,e.useRef)(null),o=Mp(),s=Ws().roomInfo,u=(0,e.useState)((0,Bs.jsx)(Bs.Fragment,{})),c=(0,d.Z)(u,2),l=c[0],f=c[1],p="Once this room is closed, we will start processing your recording. When the processing finishes, we will let you know and send you the link for the video.";return(0,e.useEffect)((function(){console.log("##### Set recording notification message"),s.email?f((0,Bs.jsxs)(Bs.Fragment,{children:[p," Recording link will be sent to sent to ",s.user_name," to ",s.email," email."]})):f((0,Bs.jsxs)(Bs.Fragment,{children:[p," Recording link will be sent to ",s.user_name," via notification. He/she should keep the browser window open after the hangup. Recording processing can take several hours."]}))}),[]),(0,e.useEffect)((function(){o&&null===a.current&&i(Qh.recordingInProgress)}),[o]),(0,e.useEffect)((function(){o&&!1===a.current&&i(Qh.recordingStarted)}),[o]),(0,e.useEffect)((function(){o||!0!==a.current||i(Qh.recordingFinished)}),[o]),(0,e.useEffect)((function(){a.current=o}),[o]),(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(Wh,{open:r===Qh.recordingStarted,handleClose:function(){return i(Qh.none)},variant:"info",headline:"Recording has started.",message:""}),(0,Bs.jsx)(Wh,{open:r===Qh.recordingInProgress,handleClose:function(){return i(Qh.none)},variant:"info",headline:"Recording is in progress.",message:""}),(0,Bs.jsx)(Wh,{open:r===Qh.recordingFinished,headline:"Recording Complete! ",message:l,variant:"info",handleClose:function(){return i(Qh.none)}})]})}function $h(){return(0,Bs.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 2.64645C2.84171 2.45118 3.15829 2.45118 3.35355 2.64645L21.3536 20.6464C21.5488 20.8417 21.5488 21.1583 21.3536 21.3536C21.1583 21.5488 20.8417 21.5488 20.6464 21.3536L2.64645 3.35355C2.45118 3.15829 2.45118 2.84171 2.64645 2.64645Z",fill:"#707578"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3536 2.64645C21.5488 2.84171 21.5488 3.15829 21.3536 3.35355L3.35355 21.3536C3.15829 21.5488 2.84171 21.5488 2.64645 21.3536C2.45118 21.1583 2.45118 20.8417 2.64645 20.6464L20.6464 2.64645C20.8417 2.45118 21.1583 2.45118 21.3536 2.64645Z",fill:"#707578"})]})}var ev=w((function(){return{container:{minHeight:"56px",background:"#F4F4F6",borderBottom:"1px solid #E4E7E9",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"},text:{fontWeight:"bold"},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0.4em"}}}));function tv(e){var t=e.onClose,n=ev();return(0,Bs.jsxs)("div",{className:n.container,children:[(0,Bs.jsx)("div",{className:n.text,children:"Backgrounds"}),(0,Bs.jsx)("button",{className:n.closeBackgroundSelection,onClick:t,children:(0,Bs.jsx)($h,{})})]})}var nv=n(2665),rv=n(28719),iv=w((function(e){return{thumbContainer:{margin:"5px",width:"calc(50% - 10px)",display:"flex",position:"relative","&::after":{content:'""',paddingBottom:"55.5%"}},thumbIconContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px",border:"solid ".concat(e.palette.grey[400]),"&.selected":{border:"solid ".concat(e.palette.primary.main),"& svg":{color:"".concat(e.palette.primary.main)}}},thumbIcon:{height:50,width:50,color:"".concat(e.palette.grey[400]),"&.selected":{color:"".concat(e.palette.primary.main)}},thumbImage:{width:"100%",height:"100%",position:"absolute",top:0,bottom:0,left:0,right:0,objectFit:"cover",borderRadius:"10px",border:"solid ".concat(e.palette.grey[400]),"&:hover":{cursor:"pointer","& svg":{color:"".concat(e.palette.primary.main)},"& $thumbOverlay":{visibility:"visible"}},"&.selected":{border:"solid ".concat(e.palette.primary.main),"& svg":{color:"".concat(e.palette.primary.main)}}},thumbOverlay:{position:"absolute",color:"transparent",padding:"20px",fontSize:"14px",fontWeight:"bold",width:"100%",height:"100%",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{background:"rgba(95, 93, 128, 0.6)",color:"white"}}}}));function av(e){var t=e.thumbnail,n=e.imagePath,r=e.name,i=e.index,a=iv(),o=ku(),s=o.backgroundSettings,u=o.setBackgroundSettings,c="image"===t?s.index===i&&"image"===s.type:s.type===t,l={none:rv.Z,blur:nv.Z,image:null}[t];return(0,Bs.jsxs)("div",{className:a.thumbContainer,onClick:function(){return u({type:t,index:i})},children:[l?(0,Bs.jsx)("div",{className:(0,v.Z)(a.thumbIconContainer,{selected:c}),children:(0,Bs.jsx)(l,{className:a.thumbIcon})}):(0,Bs.jsx)("img",{className:(0,v.Z)(a.thumbImage,{selected:c}),src:n,alt:r}),(0,Bs.jsx)("div",{className:a.thumbOverlay,children:r})]})}function ov(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(o-r.top,"px)"):"translateY(-".concat(r.top+r.height-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var sv={enter:tc.x9.enteringScreen,exit:tc.x9.leavingScreen},uv=e.forwardRef((function(n,i){var a=n.children,o=n.direction,s=void 0===o?"down":o,u=n.in,c=n.onEnter,l=n.onEntered,f=n.onEntering,d=n.onExit,p=n.onExited,v=n.onExiting,m=n.style,g=n.timeout,y=void 0===g?sv:g,b=n.TransitionComponent,x=void 0===b?ec:b,k=(0,h.Z)(n,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=nc(),_=e.useRef(null),S=e.useCallback((function(e){_.current=t.findDOMNode(e)}),[]),T=(0,O.Z)(a.ref,S),C=(0,O.Z)(T,i),E=function(e){return function(t){e&&(void 0===t?e(_.current):e(_.current,t))}},A=E((function(e,t){ov(s,e),rc(e),c&&c(e,t)})),I=E((function(e,t){var n=ic({timeout:y,style:m},{mode:"enter"});e.style.webkitTransition=w.transitions.create("-webkit-transform",(0,r.Z)({},n,{easing:w.transitions.easing.easeOut})),e.style.transition=w.transitions.create("transform",(0,r.Z)({},n,{easing:w.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",f&&f(e,t)})),R=E(l),N=E(v),P=E((function(e){var t=ic({timeout:y,style:m},{mode:"exit"});e.style.webkitTransition=w.transitions.create("-webkit-transform",(0,r.Z)({},t,{easing:w.transitions.easing.sharp})),e.style.transition=w.transitions.create("transform",(0,r.Z)({},t,{easing:w.transitions.easing.sharp})),ov(s,e),d&&d(e)})),M=E((function(e){e.style.webkitTransition="",e.style.transition="",p&&p(e)})),D=e.useCallback((function(){_.current&&ov(s,_.current)}),[s]);return e.useEffect((function(){if(!u&&"down"!==s&&"right"!==s){var e=(0,gl.Z)((function(){_.current&&ov(s,_.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,u]),e.useEffect((function(){u||D()}),[u,D]),e.createElement(x,(0,r.Z)({nodeRef:_,onEnter:A,onEntered:R,onEntering:I,onExit:P,onExited:M,onExiting:N,appear:!0,in:u,timeout:y},k),(function(t,n){return e.cloneElement(a,(0,r.Z)({ref:C,style:(0,r.Z)({visibility:"exited"!==t||u?void 0:"hidden"},m,a.props.style)},n))}))})),cv=uv,lv={left:"right",right:"left",top:"down",bottom:"up"};var fv={enter:tc.x9.enteringScreen,exit:tc.x9.leavingScreen},dv=e.forwardRef((function(t,n){var i=t.anchor,a=void 0===i?"left":i,o=t.BackdropProps,s=t.children,u=t.classes,c=t.className,l=t.elevation,f=void 0===l?16:l,d=t.ModalProps,p=(d=void 0===d?{}:d).BackdropProps,m=(0,h.Z)(d,["BackdropProps"]),g=t.onClose,y=t.open,b=void 0!==y&&y,x=t.PaperProps,k=void 0===x?{}:x,w=t.SlideProps,S=t.TransitionComponent,T=void 0===S?cv:S,C=t.transitionDuration,E=void 0===C?fv:C,O=t.variant,A=void 0===O?"temporary":O,I=(0,h.Z)(t,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),R=nc(),N=e.useRef(!1);e.useEffect((function(){N.current=!0}),[]);var P=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?lv[t]:t}(R,a),M=e.createElement(dc,(0,r.Z)({elevation:"temporary"===A?f:0,square:!0},k,{className:(0,v.Z)(u.paper,u["paperAnchor".concat((0,_.Z)(P))],k.className,"temporary"!==A&&u["paperAnchorDocked".concat((0,_.Z)(P))])}),s);if("permanent"===A)return e.createElement("div",(0,r.Z)({className:(0,v.Z)(u.root,u.docked,c),ref:n},I),M);var D=e.createElement(T,(0,r.Z)({in:b,direction:lv[P],timeout:E,appear:N.current},w),M);return"persistent"===A?e.createElement("div",(0,r.Z)({className:(0,v.Z)(u.root,u.docked,c),ref:n},I),D):e.createElement(Hu,(0,r.Z)({BackdropProps:(0,r.Z)({},o,p,{transitionDuration:E}),BackdropComponent:lc,className:(0,v.Z)(u.root,u.modal,c),open:b,onClose:g,ref:n},I,m),D)})),pv=(0,i.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(dv),hv=w((function(e){return{drawer:{display:"flex",width:e.rightDrawerWidth,height:"calc(100% - ".concat(e.footerHeight,"px)")},thumbnailContainer:{display:"flex",flexWrap:"wrap",padding:"5px",overflowY:"auto"}}}));var vv=function(){var e=hv(),t=ku(),n=t.isBackgroundSelectionOpen,r=t.setIsBackgroundSelectionOpen,i=pu.imageNames,a=pu.images;return(0,Bs.jsxs)(pv,{variant:"persistent",anchor:"right",open:n,transitionDuration:0,classes:{paper:e.drawer},children:[(0,Bs.jsx)(tv,{onClose:function(){return r(!1)}}),(0,Bs.jsxs)("div",{className:e.thumbnailContainer,children:[(0,Bs.jsx)(av,{thumbnail:"none",name:"None"}),(0,Bs.jsx)(av,{thumbnail:"blur",name:"Blur"}),a.map((function(e,t){return(0,Bs.jsx)(av,{thumbnail:"image",name:i[t],index:t,imagePath:e},e)}))]})]})},mv=w((function(){return{container:{height:"56px",background:"#F4F4F6",borderBottom:"1px solid #E4E7E9",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"},text:{fontWeight:"bold"},closeChatWindow:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0.4em"}}}));function gv(){var e=mv(),t=Pp().setIsChatWindowOpen;return(0,Bs.jsxs)("div",{className:e.container,children:[(0,Bs.jsx)("div",{className:e.text,children:"Chat"}),(0,Bs.jsx)("button",{className:e.closeChatWindow,onClick:function(){return t(!1)},children:(0,Bs.jsx)($h,{})})]})}function yv(){return(0,Bs.jsx)("svg",{width:"24",height:"24",viewBox:"-1 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7992 3.24259C16.6912 1.13458 13.5645 1.40622 11.3746 3.59615L2.53575 12.435C1.72631 13.2444 1.26254 14.2015 1.18557 15.1283C1.10946 16.0447 1.4074 16.9635 2.1822 17.7383C2.957 18.5131 3.87575 18.811 4.7922 18.7349C5.71899 18.6579 6.67606 18.1942 7.4855 17.3847L14.203 10.6672C14.7335 10.1367 15.0455 9.55355 15.116 9.01193C15.184 8.48967 15.035 7.9637 14.5566 7.48523C14.0781 7.00677 13.5521 6.85777 13.0299 6.92578C12.4883 6.99631 11.9051 7.30826 11.3746 7.83879L6.07128 13.1421C5.87602 13.3374 5.55944 13.3374 5.36418 13.1421C5.16891 12.9468 5.16892 12.6302 5.36418 12.435L10.6675 7.13168C11.3079 6.49124 12.0835 6.04058 12.9007 5.93415C13.7374 5.82521 14.5705 6.08492 15.2637 6.77813C15.9569 7.47134 16.2166 8.30442 16.1076 9.14105C16.0012 9.95832 15.5506 10.7339 14.9101 11.3743L8.1926 18.0918C7.24417 19.0403 6.07462 19.6318 4.87496 19.7315C3.66496 19.832 2.45745 19.4278 1.47509 18.4454C0.492729 17.463 0.0885105 16.2555 0.189 15.0455C0.288631 13.8459 0.880211 12.6763 1.82864 11.7279L10.6675 2.88904C13.1643 0.392265 16.929 -0.0417833 19.5063 2.53549C22.0836 5.11276 21.6495 8.87755 19.1528 11.3743L12.7888 17.7383C12.5935 17.9335 12.277 17.9335 12.0817 17.7383C11.8864 17.543 11.8864 17.2264 12.0817 17.0312L18.4457 10.6672C20.6356 8.47729 20.9072 5.35061 18.7992 3.24259Z",fill:"#707578"})})}function bv(){return(0,Bs.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3539 1.64645C22.5491 1.84171 22.5491 2.15829 22.3539 2.35355L9.74515 14.9622C9.54989 15.1575 9.23331 15.1575 9.03805 14.9622C8.84279 14.767 8.84279 14.4504 9.03805 14.2551L21.6467 1.64645C21.842 1.45118 22.1586 1.45118 22.3539 1.64645Z",fill:"#D8D8D8"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3536 1.64646C22.4988 1.79171 22.5404 2.011 22.4585 2.19938L13.7629 22.1994C13.6863 22.3756 13.5155 22.4923 13.3235 22.4996C13.1316 22.507 12.9523 22.4037 12.8625 22.234L9.02139 14.9786L1.76606 11.1376C1.59627 11.0477 1.493 10.8685 1.50037 10.6765C1.50774 10.4845 1.62446 10.3137 1.80064 10.2371L21.8006 1.54148C21.989 1.45958 22.2083 1.50122 22.3536 1.64646ZM3.15222 10.7399L9.62525 14.1668C9.71385 14.2137 9.7863 14.2862 9.8332 14.3748L13.2601 20.8478L21.0354 2.96463L3.15222 10.7399Z",fill:"#D8D8D8"})]})}var xv=w((function(e){return{chatInputContainer:{borderTop:"1px solid #e4e7e9",borderBottom:"1px solid #e4e7e9",padding:"1em 1.2em 1em"},textArea:{width:"100%",border:"0",resize:"none",fontSize:"14px",fontFamily:"Inter",outline:"none"},button:{padding:"0.56em",minWidth:"auto","&:disabled":{background:"none","& path":{fill:"#d8d8d8"}}},buttonContainer:{margin:"1em 0 0 1em",display:"flex"},fileButtonContainer:{position:"relative",marginRight:"1em"},fileButtonLoadingSpinner:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textAreaContainer:{display:"flex",marginTop:"0.4em",padding:"0.48em 0.7em",border:"2px solid transparent"},isTextareaFocused:{borderColor:e.palette.primary.main,borderRadius:"4px"}}})),kv="audio/*, image/*, text/*, video/*, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document .xslx, .ppt, .pdf, .key, .svg, .csv";function wv(t){var n=t.conversation,r=t.isChatWindowOpen,i=xv(),a=(0,e.useState)(""),o=(0,d.Z)(a,2),s=o[0],u=o[1],c=(0,e.useState)(!1),l=(0,d.Z)(c,2),f=l[0],h=l[1],m=(0,e.useState)(null),g=(0,d.Z)(m,2),y=g[0],b=g[1],x=/\S/.test(s),k=(0,e.useRef)(null),w=(0,e.useRef)(null),_=(0,e.useState)(!1),S=(0,d.Z)(_,2),T=S[0],C=S[1];(0,e.useEffect)((function(){var e;r&&(null===(e=k.current)||void 0===e||e.focus())}),[r]);var E=function(e){x&&(n.sendMessage(e.trim()),u(""))};return(0,Bs.jsxs)("div",{className:i.chatInputContainer,children:[(0,Bs.jsx)(Wh,{open:Boolean(y),headline:"Error",message:y||"",variant:"error",handleClose:function(){return b(null)}}),(0,Bs.jsx)("div",{className:(0,v.Z)(i.textAreaContainer,(0,p.Z)({},i.isTextareaFocused,T)),children:(0,Bs.jsx)(ef,{minRows:1,maxRows:3,className:i.textArea,"aria-label":"chat input",placeholder:"Write a message...",onKeyPress:function(e){le||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E(s))},onChange:function(e){u(e.target.value)},value:s,"data-cy-chat-input":!0,ref:k,onFocus:function(){return C(!0)},onBlur:function(){return C(!1)}})}),(0,Bs.jsxs)(ol,{container:!0,alignItems:"flex-end",justifyContent:"flex-end",wrap:"nowrap",children:[(0,Bs.jsx)("input",{ref:w,type:"file",style:{display:"none"},onChange:function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){var i=new FormData;i.append("userfile",r),h(!0),b(null),n.sendMessage(i).catch((function(e){413===e.code?b("File size is too large. Maximum file size is 150MB."):b("There was a problem uploading the file. Please try again."),console.log("Problem sending file: ",e)})).finally((function(){h(!1)}))}},value:"",accept:kv}),(0,Bs.jsxs)("div",{className:i.buttonContainer,children:[(0,Bs.jsxs)("div",{className:i.fileButtonContainer,children:[(0,Bs.jsx)(Y,{className:i.button,onClick:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.click()},disabled:f,children:(0,Bs.jsx)(yv,{})}),f&&(0,Bs.jsx)(fh,{size:24,className:i.fileButtonLoadingSpinner})]}),(0,Bs.jsx)(Y,{className:i.button,onClick:function(){return E(s)},color:"primary",variant:"contained",disabled:!x,"data-cy-send-message-button":!0,children:(0,Bs.jsx)(bv,{})})]})]})]})}var _v=w((function(){return{messageInfoContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.425em 0 0.083em",fontSize:"12px",color:"#606B85"}}}));function Sv(e){var t=e.author,n=e.dateCreated,r=e.isLocalParticipant,i=_v();return(0,Bs.jsxs)("div",{className:i.messageInfoContainer,children:[(0,Bs.jsx)("div",{children:r?"".concat(t," (You)"):t}),(0,Bs.jsx)("div",{children:n})]})}var Tv=n(31820),Cv=n(33881),Ev=n.n(Cv),Ov={outerContainer:{minHeight:0,flex:1,position:"relative"},innerScrollContainer:{height:"100%",overflowY:"auto",padding:"0 1.2em 0"},messageListContainer:{overflowY:"auto",flex:"1",paddingBottom:"1em"},button:{position:"absolute",bottom:"14px",right:"2em",zIndex:100,padding:"0.5em 0.9em",visibility:"hidden",opacity:0,boxShadow:"0px 4px 16px rgba(18, 28, 45, 0.2)",transition:"all 0.5s ease"},showButton:{visibility:"visible",opacity:1,bottom:"24px"}},Av=function(t){(0,xe.Z)(r,t);var n=(0,ke.Z)(r);function r(){var t;(0,ye.Z)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).chatThreadRef=e.createRef(),t.state={isScrolledToBottom:!0,showButton:!1,messageNotificationCount:0},t.handleScroll=Ev()((function(){var e=t.chatThreadRef.current;if(e){var n=Math.abs(e.clientHeight+e.scrollTop-e.scrollHeight)<1;t.setState((function(e){return{isScrolledToBottom:n,showButton:!n&&e.showButton}}))}}),300),t.handleClick=function(){var e=t.chatThreadRef.current;e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.setState({showButton:!1})},t}return(0,be.Z)(r,[{key:"scrollToBottom",value:function(){var e=this.chatThreadRef.current;e.scrollTop=e.scrollHeight}},{key:"componentDidMount",value:function(){this.scrollToBottom(),this.chatThreadRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.messages.length!==e.messages.length;if(t.isScrolledToBottom&&n)this.scrollToBottom();else if(n){var r=this.props.messages.length-e.messages.length;this.setState((function(e){return{showButton:!e.isScrolledToBottom,messageNotificationCount:e.showButton?e.messageNotificationCount+r:1}}))}}},{key:"componentWillUnmount",value:function(){this.chatThreadRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props.classes;return(0,Bs.jsx)("div",{className:e.outerContainer,children:(0,Bs.jsx)("div",{className:e.innerScrollContainer,ref:this.chatThreadRef,"data-cy-message-list-inner-scroll":!0,children:(0,Bs.jsxs)("div",{className:e.messageListContainer,children:[this.props.children,(0,Bs.jsxs)(Y,{className:(0,v.Z)(e.button,(0,p.Z)({},e.showButton,this.state.showButton)),onClick:this.handleClick,startIcon:(0,Bs.jsx)(Tv.Z,{}),color:"primary",variant:"contained","data-cy-new-message-button":!0,children:[this.state.messageNotificationCount," new message",this.state.messageNotificationCount>1&&"s"]})]})})})}}]),r}(e.Component),Iv=(0,i.Z)(Ov)(Av),Rv=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,u=t.component,c=void 0===u?"a":u,l=t.onBlur,f=t.onFocus,d=t.TypographyClasses,p=t.underline,m=void 0===p?"hover":p,g=t.variant,y=void 0===g?"inherit":g,b=(0,h.Z)(t,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),x=(0,I.Z)(),k=x.isFocusVisible,w=x.onBlurVisible,S=x.ref,T=e.useState(!1),E=T[0],A=T[1],R=(0,O.Z)(n,S);return e.createElement(C,(0,r.Z)({className:(0,v.Z)(i.root,i["underline".concat((0,_.Z)(m))],a,E&&i.focusVisible,"button"===c&&i.button),classes:d,color:s,component:c,onBlur:function(e){E&&(w(),A(!1)),l&&l(e)},onFocus:function(e){k(e)&&A(!0),f&&f(e)},ref:R,variant:y},b))})),Nv=(0,i.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(Rv),Pv=n(46927),Mv=n.n(Pv),Dv=w({messageContainer:{borderRadius:"16px",display:"inline-flex",alignItems:"center",padding:"0.5em 0.8em 0.6em",margin:"0.3em 0 0",wordBreak:"break-word",backgroundColor:"#E1E3EA",hyphens:"auto",whiteSpace:"pre-wrap"},isLocalParticipant:{backgroundColor:"#CCE4FF"}});function jv(e){var t=Mv()().match(e);if(!t)return e;var n=[],r=0;return t.forEach((function(t,i){n.push(e.slice(r,t.index)),n.push((0,Bs.jsx)(Nv,{target:"_blank",rel:"noreferrer",href:t.url,children:t.text},i)),r=t.lastIndex})),n.push(e.slice(r,e.length)),n}function Lv(e){var t=e.body,n=e.isLocalParticipant,r=Dv();return(0,Bs.jsx)("div",{children:(0,Bs.jsx)("div",{className:(0,v.Z)(r.messageContainer,(0,p.Z)({},r.isLocalParticipant,n)),children:(0,Bs.jsx)("div",{children:jv(t)})})})}function Fv(){return(0,Bs.jsxs)("svg",{width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.4111 30.2441C24.7365 29.9186 25.2641 29.9186 25.5896 30.2441L29.167 33.8215L32.7444 30.2441C33.0698 29.9186 33.5975 29.9186 33.9229 30.2441C34.2484 30.5695 34.2484 31.0972 33.9229 31.4226L29.7562 35.5893C29.4308 35.9147 28.9032 35.9147 28.5777 35.5893L24.4111 31.4226C24.0856 31.0972 24.0856 30.5695 24.4111 30.2441Z",fill:"#14B053"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1663 20.8334C24.1037 20.8334 19.9997 24.9375 19.9997 30.0001C19.9997 35.0627 24.1037 39.1667 29.1663 39.1667C34.229 39.1667 38.333 35.0627 38.333 30.0001C38.333 24.9375 34.229 20.8334 29.1663 20.8334ZM18.333 30.0001C18.333 24.017 23.1833 19.1667 29.1663 19.1667C35.1494 19.1667 39.9997 24.017 39.9997 30.0001C39.9997 35.9832 35.1494 40.8334 29.1663 40.8334C23.1833 40.8334 18.333 35.9832 18.333 30.0001Z",fill:"#14B053"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1663 24.1667C29.6266 24.1667 29.9997 24.5398 29.9997 25.0001V35.0001C29.9997 35.4603 29.6266 35.8334 29.1663 35.8334C28.7061 35.8334 28.333 35.4603 28.333 35.0001V25.0001C28.333 24.5398 28.7061 24.1667 29.1663 24.1667Z",fill:"#14B053"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3786 14.168C18.6994 14.1854 18.9816 14.3857 19.1039 14.6828L20.5389 18.1678C20.7141 18.5934 20.5112 19.0804 20.0856 19.2557C19.6601 19.4309 19.173 19.228 18.9978 18.8024L18.2281 16.9332L14.0649 24.5658C13.9392 24.7964 13.7121 24.9541 13.4521 24.9916C13.1922 25.029 12.9298 24.9417 12.7441 24.756L10.2283 22.2402L7.1817 28.3334H14.9317C15.3919 28.3334 15.765 28.7065 15.765 29.1668C15.765 29.627 15.3919 30.0001 14.9317 30.0001H5.83333C5.54452 30.0001 5.2763 29.8505 5.12446 29.6049C4.97262 29.3592 4.95882 29.0524 5.08798 28.7941L9.25464 20.4607C9.37444 20.2212 9.6021 20.0538 9.86652 20.0108C10.1309 19.9679 10.3998 20.0548 10.5893 20.2442L13.1351 22.79L17.6018 14.601C17.7556 14.319 18.0578 14.1505 18.3786 14.168Z",fill:"#707578"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33333 9.99992C7.41286 9.99992 6.66667 10.7461 6.66667 11.6666C6.66667 12.5871 7.41286 13.3333 8.33333 13.3333C9.25381 13.3333 10 12.5871 10 11.6666C10 10.7461 9.25381 9.99992 8.33333 9.99992ZM5 11.6666C5 9.82564 6.49238 8.33325 8.33333 8.33325C10.1743 8.33325 11.6667 9.82564 11.6667 11.6666C11.6667 13.5075 10.1743 14.9999 8.33333 14.9999C6.49238 14.9999 5 13.5075 5 11.6666Z",fill:"#707578"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.833333C0 0.373096 0.373096 0 0.833333 0H19.1667C19.3877 0 19.5996 0.0877974 19.7559 0.244078L28.0893 8.57741C28.2455 8.73369 28.3333 8.94565 28.3333 9.16667V15.8333C28.3333 16.2936 27.9602 16.6667 27.5 16.6667C27.0398 16.6667 26.6667 16.2936 26.6667 15.8333V9.51185L18.8215 1.66667H1.66667V35H17.5C17.9602 35 18.3333 35.3731 18.3333 35.8333C18.3333 36.2936 17.9602 36.6667 17.5 36.6667H0.833333C0.373096 36.6667 0 36.2936 0 35.8333V0.833333Z",fill:"#707578"}),(0,Bs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1663 0C19.6266 0 19.9997 0.373096 19.9997 0.833333V8.33333H27.4997C27.9599 8.33333 28.333 8.70643 28.333 9.16667C28.333 9.6269 27.9599 10 27.4997 10H19.1663C18.7061 10 18.333 9.6269 18.333 9.16667V0.833333C18.333 0.373096 18.7061 0 19.1663 0Z",fill:"#707578"})]})}var Zv=w({messageContainer:{display:"flex",padding:"0.9em 1.5em",margin:"0.6em 0",border:"2px solid #e4e7e9",borderRadius:"4px",cursor:"pointer"},iconContainer:{display:"flex",alignItems:"center"},mediaInfo:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1.5em",minWidth:0,"& p":{margin:0,fontSize:"12px"}},filename:{fontWeight:700,overflow:"hidden",textOverflow:"ellipsis"},size:{fontWeight:400}});function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<1e3?+e.toFixed(2)+" "+["bytes","KB","MB","GB"][t]:Bv(e/1024,t+1)}function Uv(e){var t=e.media,n=Zv();return(0,Bs.jsxs)("div",{className:n.messageContainer,onClick:function(){t.getContentTemporaryUrl().then((function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener",setTimeout((function(){t.click()}))}))},children:[(0,Bs.jsx)("div",{className:n.iconContainer,children:(0,Bs.jsx)(Fv,{})}),(0,Bs.jsxs)("div",{className:n.mediaInfo,children:[(0,Bs.jsx)("p",{className:n.filename,children:t.filename}),(0,Bs.jsxs)("p",{className:n.size,children:[Bv(t.size)," - Click to open"]})]})]})}var Vv=function(e){var t;return null===e||void 0===e||null===(t=e.dateCreated)||void 0===t?void 0:t.toLocaleTimeString("en-us",{hour:"numeric",minute:"numeric"}).toLowerCase()};function zv(t){var n=t.messages,r=ku().room.localParticipant;return(0,Bs.jsx)(Iv,{messages:n,children:n.map((function(t,i){var a,o=Vv(t),s=o!==Vv(n[i-1])||t.author!==(null===(a=n[i-1])||void 0===a?void 0:a.author),u=r.identity===t.author;return(0,Bs.jsxs)(e.Fragment,{children:[s&&(0,Bs.jsx)(Sv,{author:t.author,isLocalParticipant:u,dateCreated:o}),"text"===t.type&&(0,Bs.jsx)(Lv,{body:t.body,isLocalParticipant:u}),"media"===t.type&&(0,Bs.jsx)(Uv,{media:t.attachedMedia[0]})]},t.sid)}))})}var Wv=w((function(e){return{chatWindowContainer:(0,p.Z)({background:"#FFFFFF",zIndex:9,display:"flex",flexDirection:"column",borderLeft:"1px solid #E4E7E9"},e.breakpoints.down("sm"),{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:100}),hide:{display:"none"}}}));function Hv(){var e=Wv(),t=Pp(),n=t.isChatWindowOpen,r=t.messages,i=t.conversation;return(0,Bs.jsxs)("aside",{className:(0,v.Z)(e.chatWindowContainer,(0,p.Z)({},e.hide,!n)),children:[(0,Bs.jsx)(gv,{}),(0,Bs.jsx)(zv,{messages:r}),(0,Bs.jsx)(wv,{conversation:i,isChatWindowOpen:n})]})}var Gv=n(56955),qv=n(44362);var Kv=(0,Kl.Z)(e.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Yv=(0,Kl.Z)(e.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Xv=(0,Kl.Z)(e.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Qv=(0,Kl.Z)(e.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Jv=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"standard":o,u=t.component,c=t.disabled,l=void 0!==c&&c,f=t.page,d=t.selected,p=void 0!==d&&d,m=t.shape,g=void 0===m?"round":m,y=t.size,b=void 0===y?"medium":y,x=t.type,k=void 0===x?"page":x,w=t.variant,S=void 0===w?"text":w,T=(0,h.Z)(t,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),C=("rtl"===nc().direction?{previous:Qv,next:Xv,last:Kv,first:Yv}:{previous:Xv,next:Qv,first:Kv,last:Yv})[k];return"start-ellipsis"===k||"end-ellipsis"===k?e.createElement("div",{ref:n,className:(0,v.Z)(i.root,i.ellipsis,l&&i.disabled,"medium"!==b&&i["size".concat((0,_.Z)(b))])},"\u2026"):e.createElement(q,(0,r.Z)({ref:n,component:u,disabled:l,focusVisibleClassName:i.focusVisible,className:(0,v.Z)(i.root,i.page,i[S],i[g],a,"standard"!==s&&i["".concat(S).concat((0,_.Z)(s))],l&&i.disabled,p&&i.selected,"medium"!==b&&i["size".concat((0,_.Z)(b))])},T),"page"===k&&f,C?e.createElement(C,{className:i.icon}):null)})),$v=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:(0,E.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat((0,E.Fq)(e.palette.primary.main,.5)),backgroundColor:(0,E.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,E.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat((0,E.Fq)(e.palette.secondary.main,.5)),backgroundColor:(0,E.Fq)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,E.Fq)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}}),{name:"MuiPaginationItem"})(Jv);function em(e,t,n){return"page"===e?"".concat(n?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}var tm=e.forwardRef((function(t,n){t.boundaryCount;var i=t.classes,a=t.className,o=t.color,s=void 0===o?"standard":o,u=(t.count,t.defaultPage,t.disabled,t.getItemAriaLabel),c=void 0===u?em:u,l=(t.hideNextButton,t.hidePrevButton,t.onChange,t.page,t.renderItem),f=void 0===l?function(t){return e.createElement($v,t)}:l,p=t.shape,m=void 0===p?"round":p,g=(t.showFirstButton,t.showLastButton,t.siblingCount,t.size),y=void 0===g?"medium":g,b=t.variant,x=void 0===b?"text":b,k=(0,h.Z)(t,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,n=void 0===t?1:t,i=e.componentName,a=void 0===i?"usePagination":i,o=e.count,s=void 0===o?1:o,u=e.defaultPage,c=void 0===u?1:u,l=e.disabled,f=void 0!==l&&l,p=e.hideNextButton,v=void 0!==p&&p,m=e.hidePrevButton,g=void 0!==m&&m,y=e.onChange,b=e.page,x=e.showFirstButton,k=void 0!==x&&x,w=e.showLastButton,_=void 0!==w&&w,S=e.siblingCount,T=void 0===S?1:S,C=(0,h.Z)(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),E=(0,Vl.Z)({controlled:b,default:c,name:a,state:"page"}),O=(0,d.Z)(E,2),A=O[0],I=O[1],N=function(e,t){b||I(t),y&&y(e,t)},P=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},M=P(1,Math.min(n,s)),D=P(Math.max(s-n+1,n+1),s),j=Math.max(Math.min(A-T,s-n-2*T-1),n+2),L=Math.min(Math.max(A+T,n+2*T+2),D[0]-2),F=[].concat((0,R.Z)(k?["first"]:[]),(0,R.Z)(g?[]:["previous"]),(0,R.Z)(M),(0,R.Z)(j>n+2?["start-ellipsis"]:n+1<s-n?[n+1]:[]),(0,R.Z)(P(j,L)),(0,R.Z)(L<s-n-1?["end-ellipsis"]:s-n>n?[s-n]:[]),(0,R.Z)(D),(0,R.Z)(v?[]:["next"]),(0,R.Z)(_?["last"]:[])),Z=function(e){switch(e){case"first":return 1;case"previous":return A-1;case"next":return A+1;case"last":return s;default:return null}},B=F.map((function(e){return"number"===typeof e?{onClick:function(t){N(t,e)},type:"page",page:e,selected:e===A,disabled:f,"aria-current":e===A?"true":void 0}:{onClick:function(t){N(t,Z(e))},type:e,page:Z(e),selected:!1,disabled:f||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?A>=s:A<=1)}}));return(0,r.Z)({items:B},C)}((0,r.Z)({},t,{componentName:"Pagination"})),_=w.items;return e.createElement("nav",(0,r.Z)({"aria-label":"pagination navigation",className:(0,v.Z)(i.root,a),ref:n},k),e.createElement("ul",{className:i.ul},_.map((function(t,n){return e.createElement("li",{key:n},f((0,r.Z)({},t,{color:s,"aria-label":c(t.type,t.page,t.selected),shape:m,size:y,variant:x})))}))))})),nm=(0,i.Z)({root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}},{name:"MuiPagination"})(tm);var rm=w({outerContainer:{width:"2em",height:"2em",padding:"0.9em",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"},innerContainer:{display:"flex",alignItems:"flex-end","& div":{width:"2px",marginRight:"1px","&:not(:last-child)":{borderRight:"none"}}}}),im=3,am=[0,1,2,3,4];function om(t){var n=t.participant,r=rm(),i=function(t){var n=(0,e.useState)(t.networkQualityLevel),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(e){return a(e)};return a(t.networkQualityLevel),t.on("networkQualityLevelChanged",e),function(){t.off("networkQualityLevelChanged",e)}}),[t]),i}(n);return null===i?null:(0,Bs.jsx)("div",{className:r.outerContainer,children:(0,Bs.jsx)("div",{className:r.innerContainer,children:am.map((function(e){return(0,Bs.jsx)("div",{style:{height:"".concat(im*(e+1),"px"),background:i>e?"white":"rgba(255, 255, 255, 0.2)"}},e)}))})})}var sm=n(16608);function um(){return(0,Bs.jsx)(Gd,{title:"Participant is pinned. Click to un-pin.",placement:"top",children:(0,Bs.jsx)(sm.Z,{style:{float:"right",background:"rgba(0, 0, 0, 0.5)",padding:"0.1em",boxSizing:"content-box"},width:"26",height:"26",viewBox:"0 0 26 26",children:(0,Bs.jsx)("path",{fill:"#FFF",fillRule:"evenodd",strokeWidth:"0",d:"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z"})})})}function cm(t){var n=(0,e.useState)(t&&t.isSwitchedOff),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(t&&t.isSwitchedOff),t){var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("switchedOff",e),t.on("switchedOn",n),function(){t.off("switchedOff",e),t.off("switchedOn",n)}}}),[t]),!!i}function lm(t){var n=(0,e.useState)([]),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){a(Array.from(t.tracks.values()));var e=function(e){return a((function(t){return[].concat((0,R.Z)(t),[e])}))},n=function(e){return a((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("trackPublished",e),t.on("trackUnpublished",n),function(){t.off("trackPublished",e),t.off("trackUnpublished",n)}}),[t]),i}function fm(t){var n=(0,e.useState)(t&&t.track),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(t&&t.track),t){var e=function(){return a(null)};return t.on("subscribed",a),t.on("unsubscribed",e),function(){t.off("subscribed",a),t.off("unsubscribed",e)}}}),[t]),i}function dm(t){var n=(0,e.useState)(!1),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(){return a(!0)},n=function(){return a(!1)};return n(),t.on("reconnecting",e),t.on("reconnected",n),function(){t.off("reconnecting",e),t.off("reconnected",n)}}),[t]),i}var pm=w((function(e){return{container:(0,p.Z)({isolation:"isolate",position:"relative",display:"flex",alignItems:"center",height:0,overflow:"hidden",marginBottom:"0.5em","& video":{objectFit:"contain !important"},borderRadius:"4px",border:"".concat(e.participantBorderWidth,"px solid rgb(245, 248, 255)"),paddingTop:"calc(".concat(56.25,"% - ").concat(e.participantBorderWidth,"px)"),background:"black"},e.breakpoints.down("sm"),{height:e.sidebarMobileHeight,width:"".concat(16*e.sidebarMobileHeight/9,"px"),marginRight:"8px",marginBottom:"0",fontSize:"12px",paddingTop:"".concat(e.sidebarMobileHeight-2,"px")}),innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},infoContainer:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%",background:"transparent",top:0},avatarContainer:(0,p.Z)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}}),reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},screenShareIconContainer:{background:"rgba(0, 0, 0, 0.5)",padding:"0.18em 0.3em",marginRight:"0.3em",display:"flex","& path":{fill:"white"}},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em 0.18em 0",margin:0,display:"flex",alignItems:"center"},infoRowBottom:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:0,left:0},typography:(0,p.Z)({color:"white"},e.breakpoints.down("sm"),{fontSize:"0.75rem"}),hideParticipant:{display:"none"},cursorPointer:{cursor:"pointer"},galleryView:(0,p.Z)({border:"".concat(e.participantBorderWidth,"px solid ").concat(e.galleryViewBackgroundColor),borderRadius:"8px"},e.breakpoints.down("sm"),{position:"relative",width:"100%",height:"100%",padding:"0",fontSize:"12px",margin:"0","& video":{objectFit:"cover !important"}}),dominantSpeaker:{border:"solid ".concat(2,"px #7BEAA5")}}}));function hm(e){var t,n=e.participant,r=e.onClick,i=e.isSelected,a=e.children,o=e.isLocalParticipant,s=e.hideParticipant,u=e.isDominantSpeaker,c=lm(n),l=c.find((function(e){return"audio"===e.kind})),f=c.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),d=Boolean(f),h=c.find((function(e){return e.trackName.includes("screen")})),m=cm(fm(f)),g=fm(l),y=dm(n),b=Ws().isGalleryViewActive,x=pm();return(0,Bs.jsxs)("div",{className:(0,v.Z)(x.container,(t={},(0,p.Z)(t,x.hideParticipant,s),(0,p.Z)(t,x.cursorPointer,Boolean(r)),(0,p.Z)(t,x.dominantSpeaker,u),(0,p.Z)(t,x.galleryView,b),t)),onClick:r,"data-cy-participant":n.identity,children:[(0,Bs.jsxs)("div",{className:x.infoContainer,children:[(0,Bs.jsx)(om,{participant:n}),(0,Bs.jsxs)("div",{className:x.infoRowBottom,children:[h&&(0,Bs.jsx)("span",{className:x.screenShareIconContainer,children:(0,Bs.jsx)(Jp,{})}),(0,Bs.jsxs)("span",{className:x.identity,children:[(0,Bs.jsx)(el,{audioTrack:g}),(0,Bs.jsxs)(C,{variant:"body1",className:x.typography,component:"span",children:[n.identity,o&&" (You)"]})]})]}),(0,Bs.jsx)("div",{children:i&&(0,Bs.jsx)(um,{})})]}),(0,Bs.jsxs)("div",{className:x.innerContainer,children:[(!d||m)&&(0,Bs.jsx)("div",{className:x.avatarContainer,children:(0,Bs.jsx)(dh,{})}),y&&(0,Bs.jsx)("div",{className:x.reconnectingContainer,children:(0,Bs.jsx)(C,{variant:"body1",className:x.typography,children:"Reconnecting..."})}),a]})]})}function vm(e){var t=e.publication,n=e.isLocalParticipant,r=e.videoPriority,i=fm(t);return i&&"video"===i.kind?(0,Bs.jsx)(dp,{track:i,priority:r,isLocal:!i.name.includes("screen")&&n}):null}function mm(e){var t,n=e.participant,r=e.videoOnly,i=e.enableScreenShare,a=e.videoPriority,o=e.isLocalParticipant,s=lm(n);return t=i&&s.some((function(e){return e.trackName.includes("screen")}))?s.filter((function(e){return e.trackName.includes("screen")||"video"!==e.kind})):s.filter((function(e){return!e.trackName.includes("screen")})),(0,Bs.jsx)(Bs.Fragment,{children:t.map((function(e){return(0,Bs.jsx)(vm,{publication:e,participant:n,isLocalParticipant:o,videoOnly:r,videoPriority:a},e.kind)}))})}function gm(e){var t=e.participant,n=e.videoOnly,r=e.enableScreenShare,i=e.onClick,a=e.isSelected,o=e.isLocalParticipant,s=e.hideParticipant,u=e.isDominantSpeaker;return(0,Bs.jsx)(hm,{participant:t,onClick:i,isSelected:a,isLocalParticipant:o,hideParticipant:s,isDominantSpeaker:u,children:(0,Bs.jsx)(mm,{participant:t,videoOnly:n,enableScreenShare:r,isLocalParticipant:o})})}var ym=e.memo(gm),bm=function(e,t,n,r){var i=e,a=e*se,o=Math.floor(n/i);return Math.ceil(t/o)*a<=r};function xm(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=ku().room,i=(0,e.useState)(null!==(t=null===r||void 0===r?void 0:r.dominantSpeaker)&&void 0!==t?t:null),a=(0,d.Z)(i,2),o=a[0],s=a[1];return(0,e.useEffect)((function(){if(r){var e=function(e){(n||null!==e)&&s(e)},t=function(e){s((function(t){return t===e?null:t}))};return r.on("dominantSpeakerChanged",e),r.on("participantDisconnected",t),function(){r.off("dominantSpeakerChanged",e),r.off("participantDisconnected",t)}}}),[r,n]),o}function km(){var t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=ku().room,a=xm(),o=Ws().maxGalleryViewParticipants,s=(0,e.useState)(Array.from(null!==(t=null===i||void 0===i||null===(n=i.participants)||void 0===n?void 0:n.values())&&void 0!==t?t:[],(function(e){return{participant:e,dominantSpeakerStartTime:0}}))),u=(0,d.Z)(s,2),c=u[0],l=u[1];return(0,e.useEffect)((function(){null!==a&&l((function(e){var t=e.slice(),n=t.find((function(e){return e.participant===a}));if(!n)return e;n.dominantSpeakerStartTime=Date.now();var i=r?5:o-1,s=t.slice(0,i);if(!s.some((function(e){return e.participant===a}))){var u=s.sort((function(e,t){return e.dominantSpeakerStartTime-t.dominantSpeakerStartTime}))[0];t.splice(t.indexOf(n),1),t.splice(t.indexOf(u),1,n),t.splice(i,0,u)}return t}))}),[a,o,r]),(0,e.useEffect)((function(){if(i){var e=Array.from(i.participants.values(),(function(e){return{participant:e,dominantSpeakerStartTime:0}}));l(e);var t=function(e){l((function(t){return[].concat((0,R.Z)(t),[{participant:e,dominantSpeakerStartTime:0}])}))},n=function(e){l((function(t){return t.filter((function(t){return t.participant!==e}))}))};return i.on("participantConnected",t),i.on("participantDisconnected",n),function(){i.off("participantConnected",t),i.off("participantDisconnected",n)}}}),[i]),c.map((function(e){return e.participant}))}var wm=(0,e.createContext)(null),_m=function(t){var n=t.children,r=km(!0),i=km(),a=function(){var t,n=ku().room,r=xm(),i=(0,e.useState)(Array.from(null!==(t=null===n||void 0===n?void 0:n.participants.values())&&void 0!==t?t:[])),a=(0,d.Z)(i,2),o=a[0],s=a[1];return(0,e.useEffect)((function(){r&&s((function(e){return[r].concat((0,R.Z)(e.filter((function(e){return e!==r}))))}))}),[r]),(0,e.useEffect)((function(){if(n){s(Array.from(n.participants.values()));var e=function(e){return s((function(t){return[].concat((0,R.Z)(t),[e])}))},t=function(e){return s((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),o}();return(0,Bs.jsx)(wm.Provider,{value:{mobileGalleryViewParticipants:r,galleryViewParticipants:i,speakerViewParticipants:a},children:n})};function Sm(){var t=(0,e.useContext)(wm);if(!t)throw new Error("useParticipantContext must be used within a ParticipantProvider");return t}var Tm="50px",Cm=w((function(e){return{container:{background:e.galleryViewBackgroundColor,position:"relative",gridArea:"1 / 1 / 2 / 3"},participantContainer:{position:"absolute",display:"flex",top:Tm,right:Tm,bottom:Tm,left:Tm,margin:"0 auto",alignContent:"center",flexWrap:"wrap",justifyContent:"center"},buttonContainer:{position:"absolute",top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},buttonContainerLeft:{right:"calc(100% - ".concat(Tm,")"),left:0},buttonContainerRight:{right:0,left:"calc(100% - ".concat(Tm,")")},pagination:{"& .MuiPaginationItem-root":{color:"white"}},paginationButton:{color:"black",background:"rgba(255, 255, 255, 0.8)",width:"40px",height:"40px","&:hover":{background:"rgba(255, 255, 255)"}},paginationContainer:{position:"absolute",top:"calc(100% - ".concat(Tm,")"),right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}}}));function Em(){var t=Cm(),n=Ws().maxGalleryViewParticipants,r=ku().room,i=Sm().galleryViewParticipants,a=xm(!0),o=function(t){var n=(0,e.useState)(1),r=(0,d.Z)(n,2),i=r[0],a=r[1],o=Ws().maxGalleryViewParticipants,s=Math.ceil(t.length/o),u=i>s;return(0,e.useEffect)((function(){u&&a(s)}),[u,s]),{paginatedParticipants:t.slice((i-1)*o,i*o),setCurrentPage:a,currentPage:i,totalPages:s}}([r.localParticipant].concat((0,R.Z)(i))),s=o.paginatedParticipants,u=o.setCurrentPage,c=o.currentPage,l=o.totalPages,f=function(t){var n=(0,e.useRef)(null),r=(0,e.useState)(0),i=(0,d.Z)(r,2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){if(n.current){for(var e=n.current.offsetWidth-2*ue,r=Math.max(n.current.offsetHeight-2*ue,75),i=0,a=Math.pow(2,14);a-i>1;){var s=(a-i)/2+i;bm(s,t,e,r)?i=s:a=s}var u=Math.ceil(i);o(u-2*ue)}}),[t]);return(0,e.useEffect)((function(){var e=new window.ResizeObserver(s);return e.observe(n.current),function(){e.disconnect()}}),[s]),(0,e.useLayoutEffect)(s,[s]),{participantVideoWidth:a,containerRef:n}}(1===c?s.length:n),p=f.participantVideoWidth,h=f.containerRef,m="".concat(p,"px"),g="".concat(Math.floor(p*se),"px");return(0,Bs.jsxs)("div",{className:t.container,children:[(0,Bs.jsx)("div",{className:(0,v.Z)(t.buttonContainer,t.buttonContainerLeft),children:!(1===c)&&(0,Bs.jsx)(Xd,{className:t.paginationButton,onClick:function(){return u((function(e){return e-1}))},children:(0,Bs.jsx)(Gv.Z,{})})}),(0,Bs.jsx)("div",{className:(0,v.Z)(t.buttonContainer,t.buttonContainerRight),children:!(c===l)&&(0,Bs.jsx)(Xd,{className:t.paginationButton,onClick:function(){return u((function(e){return e+1}))},children:(0,Bs.jsx)(qv.Z,{})})}),(0,Bs.jsx)("div",{className:t.paginationContainer,children:l>1&&(0,Bs.jsx)(nm,{className:t.pagination,page:c,count:l,onChange:function(e,t){return u(t)},shape:"rounded",color:"primary",size:"small",hidePrevButton:!0,hideNextButton:!0})}),(0,Bs.jsx)("div",{className:t.participantContainer,ref:h,children:s.map((function(e){return(0,Bs.jsx)("div",{style:{width:m,height:g,margin:ue},children:(0,Bs.jsx)(ym,{participant:e,isLocalParticipant:e===r.localParticipant,isDominantSpeaker:e===a})},e.sid)}))})]})}function Om(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function Am(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:Om(t[n])&&Om(e[n])&&Object.keys(t[n]).length>0&&Am(e[n],t[n])}))}var Im={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Rm(){var e="undefined"!==typeof document?document:{};return Am(e,Im),e}var Nm={document:Im,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function Pm(){var e="undefined"!==typeof window?window:{};return Am(e,Nm),e}var Mm=n(82963);var Dm=function(e){(0,xe.Z)(n,e);var t=(0,ke.Z)(n);function n(e){var r;return(0,ye.Z)(this,n),"number"===typeof e?r=t.call(this,e):(r=t.call.apply(t,[this].concat((0,R.Z)(e||[]))),function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}((0,P.Z)(r))),(0,Mm.Z)(r)}return(0,be.Z)(n)}((0,we.Z)(Array));function jm(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){Array.isArray(t)?e.push.apply(e,(0,R.Z)(jm(t))):e.push(t)})),e}function Lm(e,t){return Array.prototype.filter.call(e,t)}function Fm(e,t){var n=Pm(),r=Rm(),i=[];if(!t&&e instanceof Dm)return e;if(!e)return new Dm(i);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var o="div";0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=a;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof Dm)return e;i=e}return new Dm(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}Fm.fn=Dm.prototype;var Zm="resize scroll".split(" ");function Bm(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)Zm.indexOf(e)<0&&(e in this[i]?this[i][e]():Fm(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}Bm("click"),Bm("blur"),Bm("focus"),Bm("focusin"),Bm("focusout"),Bm("keyup"),Bm("keydown"),Bm("keypress"),Bm("submit"),Bm("change"),Bm("mousedown"),Bm("mousemove"),Bm("mouseup"),Bm("mouseenter"),Bm("mouseleave"),Bm("mouseout"),Bm("mouseover"),Bm("touchstart"),Bm("touchend"),Bm("touchmove"),Bm("resize"),Bm("scroll");var Um={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jm(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,(0,R.Z)(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jm(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,(0,R.Z)(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jm(t.map((function(e){return e.split(" ")})));return Lm(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jm(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),Fm(t).is(i))a.apply(t,n);else for(var r=Fm(t).parents(),o=0;o<r.length;o+=1)Fm(r[o]).is(i)&&a.apply(r[o],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),f=0;f<this.length;f+=1){var d=this[f];if(i)for(c=0;c<l.length;c+=1){var p=l[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[p]||(d.dom7LiveListeners[p]=[]),d.dom7LiveListeners[p].push({listener:a,proxyListener:s}),d.addEventListener(p,s,o)}else for(c=0;c<l.length;c+=1){var h=l[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[h]||(d.dom7Listeners[h]=[]),d.dom7Listeners[h].push({listener:a,proxyListener:u}),d.addEventListener(h,u,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var f=this[l],d=void 0;if(!i&&f.dom7Listeners?d=f.dom7Listeners[c]:i&&f.dom7LiveListeners&&(d=f.dom7LiveListeners[c]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var h=d[p];a&&h.listener===a||a&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===a?(f.removeEventListener(c,h.proxyListener,o),d.splice(p,1)):a||(f.removeEventListener(c,h.proxyListener,o),d.splice(p,1))}}return this},trigger:function(){for(var e=Pm(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var s=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=Pm();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=Pm(),t=Rm(),n=this[0],r=n.getBoundingClientRect(),i=t.body,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-a,left:r.left+u-o}}return null},css:function(e,t){var n,r=Pm();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=Pm(),i=Rm(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=Fm(e),n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}if(e===i)return a===i;if(e===r)return a===r;if(e.nodeType||e instanceof Dm){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return Fm([]);if(e<0){var n=t+e;return Fm(n<0?[]:[this[n]])}return Fm([this[e]])},append:function(){for(var e,t=Rm(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof Dm)for(var a=0;a<e.length;a+=1)this[r].appendChild(e[a]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=Rm();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof Dm)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&Fm(this[0].nextElementSibling).is(e)?Fm([this[0].nextElementSibling]):Fm([]):this[0].nextElementSibling?Fm([this[0].nextElementSibling]):Fm([]):Fm([])},nextAll:function(e){var t=[],n=this[0];if(!n)return Fm([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?Fm(r).is(e)&&t.push(r):t.push(r),n=r}return Fm(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&Fm(t.previousElementSibling).is(e)?Fm([t.previousElementSibling]):Fm([]):t.previousElementSibling?Fm([t.previousElementSibling]):Fm([])}return Fm([])},prevAll:function(e){var t=[],n=this[0];if(!n)return Fm([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?Fm(r).is(e)&&t.push(r):t.push(r),n=r}return Fm(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?Fm(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return Fm(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?Fm(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return Fm(t)},closest:function(e){var t=this;return"undefined"===typeof e?Fm([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return Fm(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!Fm(r[i]).is(e)||t.push(r[i]);return Fm(t)},filter:function(e){return Fm(Lm(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(Um).forEach((function(e){Object.defineProperty(Fm.fn,e,{value:Um[e],writable:!0})}));var Vm,zm,Wm,Hm=Fm;function Gm(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}function qm(){return Date.now()}function Km(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=Pm(),o=function(e){var t,n=Pm();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new a.WebKitCSSMatrix("none"===n?"":n)):t=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(n=a.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===i&&(n=a.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0}function Ym(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Xm(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Qm(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!Xm(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(Ym(e[s])&&Ym(r[s])?r[s].__swiper__?e[s]=r[s]:Qm(e[s],r[s]):!Ym(e[s])&&Ym(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:Qm(e[s],r[s])):e[s]=r[s])}}return e}function Jm(e,t,n){e.style.setProperty(t,n)}function $m(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=Pm(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),f=.5-Math.cos(c*Math.PI)/2,d=o+f*(r-o);if(l(d,r)&&(d=r),n.wrapperEl.scrollTo((0,p.Z)({},i,d)),l(d,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo((0,p.Z)({},i,d))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function eg(){return Vm||(Vm=function(){var e=Pm(),t=Rm();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),Vm}function tg(){return zm||(zm=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent,t=eg(),n=Pm(),r=n.navigator.platform,i=e||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,s=n.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/),c=i.match(/(iPad).*OS\s([\d_]+)/),l=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===r,p="MacIntel"===r;return!c&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(o,"x").concat(s))>=0&&((c=i.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),p=!1),u&&!d&&(a.os="android",a.android=!0),(c||f||l)&&(a.os="ios",a.ios=!0),a}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),zm}function ng(){return Wm||(Wm=function(){var e=Pm();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),Wm}var rg={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat((0,R.Z)(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var ig={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children(".".concat(e.params.slideClass)),f=u?e.virtual.slides.length:l.length,d=[],h=[],v=[],m=r.slidesOffsetBefore;"function"===typeof m&&(m=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,b=e.slidesGrid.length,x=r.spaceBetween,k=-m,w=0,_=0;if("undefined"!==typeof a){"string"===typeof x&&x.indexOf("%")>=0&&(x=parseFloat(x.replace("%",""))/100*a),e.virtualSize=-x,o?l.css({marginLeft:"",marginBottom:"",marginTop:""}):l.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Jm(e.wrapperEl,"--swiper-centered-offset-before",""),Jm(e.wrapperEl,"--swiper-centered-offset-after",""));var S,T=r.grid&&r.grid.rows>1&&e.grid;T&&e.grid.initSlides(f);for(var C="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,E=0;E<f;E+=1){S=0;var O=l.eq(E);if(T&&e.grid.updateSlide(E,O,f,t),"none"!==O.css("display")){if("auto"===r.slidesPerView){C&&(l[E].style[t("width")]="");var A=getComputedStyle(O[0]),I=O[0].style.transform,R=O[0].style.webkitTransform;if(I&&(O[0].style.transform="none"),R&&(O[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{var N=n(A,"width"),P=n(A,"padding-left"),M=n(A,"padding-right"),D=n(A,"margin-left"),j=n(A,"margin-right"),L=A.getPropertyValue("box-sizing");if(L&&"border-box"===L)S=N+D+j;else{var F=O[0],Z=F.clientWidth;S=N+P+M+D+j+(F.offsetWidth-Z)}}I&&(O[0].style.transform=I),R&&(O[0].style.webkitTransform=R),r.roundLengths&&(S=Math.floor(S))}else S=(a-(r.slidesPerView-1)*x)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),l[E]&&(l[E].style[t("width")]="".concat(S,"px"));l[E]&&(l[E].swiperSlideSize=S),v.push(S),r.centeredSlides?(k=k+S/2+w/2+x,0===w&&0!==E&&(k=k-a/2-x),0===E&&(k=k-a/2-x),Math.abs(k)<.001&&(k=0),r.roundLengths&&(k=Math.floor(k)),_%r.slidesPerGroup===0&&d.push(k),h.push(k)):(r.roundLengths&&(k=Math.floor(k)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&d.push(k),h.push(k),k=k+S+x),e.virtualSize+=S+x,w=S,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+g,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css((0,p.Z)({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),T&&e.grid.updateWrapperSize(S,d,t),!r.centeredSlides){for(var B=[],U=0;U<d.length;U+=1){var V=d[U];r.roundLengths&&(V=Math.floor(V)),d[U]<=e.virtualSize-a&&B.push(V)}d=B,Math.floor(e.virtualSize-a)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-a)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var z=e.isHorizontal()&&o?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css((0,p.Z)({},z,"".concat(x,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var W=0;v.forEach((function(e){W+=e+(r.spaceBetween?r.spaceBetween:0)}));var H=(W-=r.spaceBetween)-a;d=d.map((function(e){return e<0?-m:e>H?H+g:e}))}if(r.centerInsufficientSlides){var G=0;if(v.forEach((function(e){G+=e+(r.spaceBetween?r.spaceBetween:0)})),(G-=r.spaceBetween)<a){var q=(a-G)/2;d.forEach((function(e,t){d[t]=e-q})),h.forEach((function(e,t){h[t]=e+q}))}}if(Object.assign(e,{slides:l,snapGrid:d,slidesGrid:h,slidesSizesGrid:v}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Jm(e.wrapperEl,"--swiper-centered-offset-before","".concat(-d[0],"px")),Jm(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-v[v.length-1]/2,"px"));var K=-e.snapGrid[0],Y=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+K})),e.slidesGrid=e.slidesGrid.map((function(e){return e+Y}))}if(f!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var X="".concat(r.containerModifierClass,"backface-hidden"),Q=e.$el.hasClass(X);f<=r.maxBackfaceHiddenSlides?Q||e.$el.addClass(X):Q&&e.$el.removeClass(X)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||Hm([])).each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height","".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),f=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),d=-(o-c),p=d+t.slidesSizesGrid[s];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-l:l,u.originalProgress=i?-f:f}t.visibleSlides=Hm(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=o,c=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(u&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(a,'"]')):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=e;if("undefined"===typeof l){for(var f=0;f<i.length;f+=1)"undefined"!==typeof i[f+1]?r>=i[f]&&r<i[f+1]-(i[f+1]-i[f])/2?l=f:r>=i[f]&&r<i[f+1]&&(l=f+1):r>=i[f]&&(l=f);o.normalizeSlideIndex&&(l<0||"undefined"===typeof l)&&(l=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var d=Math.min(o.slidesPerGroupSkip,l);t=d+Math.floor((l-d)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l!==s){var p=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(n,{snapIndex:t,realIndex:p,previousIndex:s,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=Hm(e).closest(".".concat(r.slideClass))[0],a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(Hm(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var ag={getTranslate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=Km(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||a.transform("translate3d(".concat(u,"px, ").concat(c,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(e-n.minTranslate())/l)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var f=a.isHorizontal();if(0===t)s[f?"scrollLeft":"scrollTop"]=-u;else{var d;if(!a.support.smoothScroll)return $m({swiper:a,targetPosition:-u,side:f?"left":"top"}),!0;s.scrollTo((d={},(0,p.Z)(d,f?"left":"top",-u),(0,p.Z)(d,"behavior","smooth"),d))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function og(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var sg={setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),og({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),og({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var ug={slideTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if("number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var a=parseInt(e,10);if(!isFinite(a))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=a}var o=this,s=e;s<0&&(s=0);var u=o.params,c=o.snapGrid,l=o.slidesGrid,f=o.previousIndex,d=o.activeIndex,h=o.rtlTranslate,v=o.wrapperEl,m=o.enabled;if(o.animating&&u.preventInteractionOnTransition||!m&&!r&&!i)return!1;var g=Math.min(o.params.slidesPerGroupSkip,s),y=g+Math.floor((s-g)/o.params.slidesPerGroup);y>=c.length&&(y=c.length-1);var b,x=-c[y];if(u.normalizeSlideIndex)for(var k=0;k<l.length;k+=1){var w=-Math.floor(100*x),_=Math.floor(100*l[k]),S=Math.floor(100*l[k+1]);"undefined"!==typeof l[k+1]?w>=_&&w<S-(S-_)/2?s=k:w>=_&&w<S&&(s=k+1):w>=_&&(s=k)}if(o.initialized&&s!==d){if(!o.allowSlideNext&&x<o.translate&&x<o.minTranslate())return!1;if(!o.allowSlidePrev&&x>o.translate&&x>o.maxTranslate()&&(d||0)!==s)return!1}if(s!==(f||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(x),b=s>d?"next":s<d?"prev":"reset",h&&-x===o.translate||!h&&x===o.translate)return o.updateActiveIndex(s),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==u.effect&&o.setTranslate(x),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(u.cssMode){var T=o.isHorizontal(),C=h?x:-x;if(0===t){var E=o.virtual&&o.params.virtual.enabled;E&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),v[T?"scrollLeft":"scrollTop"]=C,E&&requestAnimationFrame((function(){o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{var O;if(!o.support.smoothScroll)return $m({swiper:o,targetPosition:C,side:T?"left":"top"}),!0;v.scrollTo((O={},(0,p.Z)(O,T?"left":"top",C),(0,p.Z)(O,"behavior","smooth"),O))}return!0}return o.setTransition(t),o.setTranslate(x),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,b),0===t?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if("string"===typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=i}var a=this,o=e;return a.params.loop&&(o+=a.loopedSlides),a.slideTo(o,t,n,r)},slideNext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.animating,a=r.enabled,o=r.params;if(!a)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var l,f=c(u?r.translate:-r.translate),d=o.map((function(e){return c(e)})),p=o[d.indexOf(f)-1];"undefined"===typeof p&&i.cssMode&&(o.forEach((function(e,t){f>=e&&(l=t)})),"undefined"!==typeof l&&(p=o[l>0?l-1:l]));var h=0;if("undefined"!==typeof p&&((h=s.indexOf(p))<0&&(h=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(h=h-r.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),i.rewind&&r.isBeginning){var v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,e,t,n)}return r.slideTo(h,e,t,n)},slideReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s];u-c>(i.snapGrid[s+1]-c)*r&&(a+=i.params.slidesPerGroup)}else{var l=i.snapGrid[s-1];u-l<=(i.snapGrid[s]-l)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(Hm(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Gm((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Gm((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var cg={loopCreate:function(){var e=this,t=Rm(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?Hm(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var a=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var u=Hm(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}a=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=a.length);var c=[],l=[];a.each((function(e,t){Hm(e).attr("data-swiper-slide-index",t)}));for(var f=0;f<e.loopedSlides;f+=1){var d=f-Math.floor(f/a.length)*a.length;l.push(a.eq(d)[0]),c.unshift(a.eq(a.length-d-1)[0])}for(var p=0;p<l.length;p+=1)i.append(Hm(l[p].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=c.length-1;h>=0;h-=1)i.prepend(Hm(c[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};function lg(e){var t=this,n=Rm(),r=Pm(),i=t.touchEventsData,a=t.params,o=t.touches;if(t.enabled&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=Hm(s.target);if(("wrapper"!==a.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){var c=!!a.noSwipingClass&&""!==a.noSwipingClass,l=e.composedPath?e.composedPath():e.path;c&&s.target&&s.target.shadowRoot&&l&&(u=Hm(l[0]));var f=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),d=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(d?function(e){return function t(n){if(!n||n===Rm()||n===Pm())return null;n.assignedSlot&&(n=n.assignedSlot);var r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)}(f,u[0]):u.closest(f)[0]))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var p=o.currentX,h=o.currentY,v=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,m=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(v&&(p<=m||p>=r.innerWidth-m)){if("prevent"!==v)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=h,i.touchStartTime=qm(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var g=!0;u.is(i.focusableElements)&&(g=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&Hm(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var y=g&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!y||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function fg(e){var t=Rm(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),c="touchmove"===s.type?u.pageX:s.pageX,l="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=c,void(a.startY=l);if(!n.allowTouchMove)return Hm(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=qm()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<a.startY&&n.translate<=n.maxTranslate()||l>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<a.startX&&n.translate<=n.maxTranslate()||c>a.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&Hm(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=c,a.currentY=l;var f=a.currentX-a.startX,d=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(d,2))<n.params.threshold)){var p;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+d*d>=25&&(p=180*Math.atan2(Math.abs(d),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?p>i.touchAngle:90-p>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var h=n.isHorizontal()?f:d;a.diff=h,h*=i.touchRatio,o&&(h=-h),n.swipeDirection=h>0?"prev":"next",r.currentTranslate=h+r.startTranslate;var v=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),h>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+h,m))):h<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-h,m))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(h)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function dg(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=qm(),l=c-n.touchStartTime;if(t.allowClick){var f=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(f&&f[0]||s.target),t.emit("tap click",s),l<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=qm(),Gm((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var d=0,p=t.slidesSizesGrid[0],h=0;h<o.length;h+=h<r.slidesPerGroupSkip?1:r.slidesPerGroup){var v=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[h+v]?u>=o[h]&&u<o[h+v]&&(d=h,p=o[h+v]-o[h]):u>=o[h]&&(d=h,p=o[o.length-1]-o[o.length-2])}var m=null,g=null;r.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));var y=(u-o[d])/p,b=d<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(l>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?m:d+b):t.slideTo(d)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(d+b):null!==g&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(g):t.slideTo(d))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(d+b):t.slideTo(d):("next"===t.swipeDirection&&t.slideTo(null!==m?m:d+b),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:d))}}}}function pg(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function hg(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function vg(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var mg=!1;function gg(){}var yg=function(e,t){var n=Rm(),r=e.params,i=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,u=e.support,c=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",f=t;if(u.touch){var d=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};a[l](i.start,e.onTouchStart,d),a[l](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a[l](i.end,e.onTouchEnd,d),i.cancel&&a[l](i.cancel,e.onTouchEnd,d)}else a[l](i.start,e.onTouchStart,!1),n[l](i.move,e.onTouchMove,c),n[l](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[f](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",pg,!0):e[f]("observerUpdate",pg,!0)};var bg={attachEvents:function(){var e=this,t=Rm(),n=e.params,r=e.support;e.onTouchStart=lg.bind(e),e.onTouchMove=fg.bind(e),e.onTouchEnd=dg.bind(e),n.cssMode&&(e.onScroll=vg.bind(e)),e.onClick=hg.bind(e),r.touch&&!mg&&(t.addEventListener("touchstart",gg),mg=!0),yg(e,"on")},detachEvents:function(){yg(this,"off")}},xg=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var kg={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var c=(u in s?s[u]:void 0)||e.originalParams,l=xg(e,a),f=xg(e,c),d=a.enabled;l&&!f?(o.removeClass("".concat(a.containerModifierClass,"grid ").concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&f&&(o.addClass("".concat(a.containerModifierClass,"grid")),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===a.grid.fill)&&o.addClass("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){var n=a[t]&&a[t].enabled,r=c[t]&&c[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));var p=c.direction&&c.direction!==a.direction,h=a.loop&&(c.slidesPerView!==a.slidesPerView||p);p&&n&&e.changeDirection(),Qm(e.params,c);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!v?e.disable():!d&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),h&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",n=arguments.length>2?arguments[2]:void 0;if(e&&("container"!==t||n)){var r=!1,i=Pm(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var wg={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push.apply(t,(0,R.Z)(s)),i.addClass((0,R.Z)(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var _g={loadImage:function(e,t,n,r,i,a){var o,s=Pm();function u(){a&&a()}Hm(e).parent("picture")[0]||e.complete&&i?u():t?((o=new s.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var Sg={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Tg(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Qm(t,n)):Qm(t,n)):Qm(t,n)}}var Cg={eventsEmitter:rg,update:ig,translate:ag,transition:sg,slide:ug,loop:cg,grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:bg,breakpoints:kg,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:wg,images:_g},Eg={},Og=function(){function e(){var t,n;(0,ye.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=Qm({},n),t&&!n.el&&(n.el=t),n.el&&Hm(n.el).length>1){var o=[];return Hm(n.el).each((function(t){var r=Qm({},n,{el:t});o.push(new e(r))})),o}var s,u=this;(u.__swiper__=!0,u.support=eg(),u.device=tg({userAgent:n.userAgent}),u.browser=ng(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=(0,R.Z)(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,(0,R.Z)(n.modules));var c={};u.modules.forEach((function(e){e({swiper:u,extendParams:Tg(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var l=Qm({},Sg,c);return u.params=Qm({},l,Eg,n),u.originalParams=Qm({},u.params),u.passedParams=Qm({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=Hm,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:Hm(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:qm(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return(0,be.Z)(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,f=i[u].swiperSlideSize,d=u+1;d<i.length;d+=1)i[d]&&!l&&(c+=1,(f+=i[d].swiperSlideSize)>s&&(l=!0));for(var p=u-1;p>=0;p-=1)i[p]&&!l&&(c+=1,(f+=i[p].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var h=u+1;h<i.length;h+=1){(t?a[h]+o[h]-a[u]<s:a[h]-a[u]<s)&&(c+=1)}else for(var v=u-1;v>=0;v-=1){a[u]-a[v]<s&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.$el.removeClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=Hm(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=Hm(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children?n.children(r()):Hm(n).children(r())}();if(0===i.length&&t.params.createElements){var a=Rm().createElement("div");i=Hm(a),a.className=t.params.wrapperClass,n.append(a),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){Qm(Eg,e)}},{key:"extendedDefaults",get:function(){return Eg}},{key:"defaults",get:function(){return Sg}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(Cg).forEach((function(e){Object.keys(Cg[e]).forEach((function(t){Og.prototype[t]=Cg[e][t]}))})),Og.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=Pm(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))})),a.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=Pm(),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var Ag=Og;function Ig(){return".".concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function Rg(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit,o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(o,"-bullet"),bulletActiveClass:"".concat(o,"-bullet-active"),modifierClass:"".concat(o,"-"),currentClass:"".concat(o,"-current"),totalClass:"".concat(o,"-total"),hiddenClass:"".concat(o,"-hidden"),progressbarFillClass:"".concat(o,"-progressbar-fill"),progressbarOppositeClass:"".concat(o,"-progressbar-opposite"),clickableClass:"".concat(o,"-clickable"),lockClass:"".concat(o,"-lock"),horizontalClass:"".concat(o,"-horizontal"),verticalClass:"".concat(o,"-vertical"),paginationDisabledClass:"".concat(o,"-disabled")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function u(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function c(e,t){var r=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(r,"-").concat(t))[t]().addClass("".concat(r,"-").concat(t,"-").concat(t))}function l(){var e=n.rtl,r=n.params.pagination;if(!u()){var i,o=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,l=n.pagination.$el,f=n.params.loop?Math.ceil((o-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((i=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>o-1-2*n.loopedSlides&&(i-=o-2*n.loopedSlides),i>f-1&&(i-=f),i<0&&"bullets"!==n.params.paginationType&&(i=f+i)):i="undefined"!==typeof n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var d,p,h,v=n.pagination.bullets;if(r.dynamicBullets&&(t=v.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),l.css(n.isHorizontal()?"width":"height","".concat(t*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=i-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),d=Math.max(i-s,0),h=((p=d+(Math.min(v.length,r.dynamicMainBullets)-1))+d)/2),v.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(r.bulletActiveClass).concat(e)})).join(" ")),l.length>1)v.each((function(e){var t=Hm(e),n=t.index();n===i&&t.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=d&&n<=p&&t.addClass("".concat(r.bulletActiveClass,"-main")),n===d&&c(t,"prev"),n===p&&c(t,"next"))}));else{var m=v.eq(i),g=m.index();if(m.addClass(r.bulletActiveClass),r.dynamicBullets){for(var y=v.eq(d),b=v.eq(p),x=d;x<=p;x+=1)v.eq(x).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(g>=v.length){for(var k=r.dynamicMainBullets;k>=0;k-=1)v.eq(v.length-k).addClass("".concat(r.bulletActiveClass,"-main"));v.eq(v.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else c(y,"prev"),c(b,"next");else c(y,"prev"),c(b,"next")}}if(r.dynamicBullets){var w=Math.min(v.length,r.dynamicMainBullets+4),_=(t*w-t)/2-h*t,S=e?"right":"left";v.css(n.isHorizontal()?S:"top","".concat(_,"px"))}}if("fraction"===r.type&&(l.find(Ig(r.currentClass)).text(r.formatFractionCurrent(i+1)),l.find(Ig(r.totalClass)).text(r.formatFractionTotal(f))),"progressbar"===r.type){var T;T=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var C=(i+1)/f,E=1,O=1;"horizontal"===T?E=C:O=C,l.find(Ig(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(E,") scaleY(").concat(O,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(l.html(r.renderCustom(n,i+1,f)),a("paginationRender",l[0])):a("paginationUpdate",l[0]),n.params.watchOverflow&&n.enabled&&l[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function f(){var e=n.params.pagination;if(!u()){var t=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,i="";if("bullets"===e.type){var o=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&o>t&&(o=t);for(var s=0;s<o;s+=1)e.renderBullet?i+=e.renderBullet.call(n,s,e.bulletClass):i+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");r.html(i),n.pagination.bullets=r.find(Ig(e.bulletClass))}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),r.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==e.type&&a("paginationRender",n.pagination.$el[0])}}function d(){n.params.pagination=function(e,t,n,r){var i=Rm();return e.params.createElements&&Object.keys(r).forEach((function(a){if(!n[a]&&!0===n.auto){var o=e.$el.children(".".concat(r[a]))[0];o||((o=i.createElement("div")).className=r[a],e.$el.append(o)),n[a]=o,t[a]=o}})),n}(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e=n.params.pagination;if(e.el){var t=Hm(e.el);0!==t.length&&(n.params.uniqueNavElements&&"string"===typeof e.el&&t.length>1&&(t=n.$el.find(e.el)).length>1&&(t=t.filter((function(e){return Hm(e).parents(".swiper")[0]===n.el}))),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",Ig(e.bulletClass),(function(e){e.preventDefault();var t=Hm(this).index()*n.params.slidesPerGroup;n.params.loop&&(t+=n.loopedSlides),n.slideTo(t)})),Object.assign(n.pagination,{$el:t,el:t[0]}),n.enabled||t.addClass(e.lockClass))}}function p(){var e=n.params.pagination;if(!u()){var t=n.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",Ig(e.bulletClass))}}i("init",(function(){!1===n.params.pagination.enabled?h():(d(),f(),l())})),i("activeIndexChange",(function(){(n.params.loop||"undefined"===typeof n.snapIndex)&&l()})),i("snapIndexChange",(function(){n.params.loop||l()})),i("slidesLengthChange",(function(){n.params.loop&&(f(),l())})),i("snapGridLengthChange",(function(){n.params.loop||(f(),l())})),i("destroy",(function(){p()})),i("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),i("lock unlock",(function(){l()})),i("click",(function(e,t){var r=t.target,i=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&i&&i.length>0&&!Hm(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var o=i.hasClass(n.params.pagination.hiddenClass);a(!0===o?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)}}));var h=function(){n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),p()};Object.assign(n.pagination,{enable:function(){n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),d(),f(),l()},disable:h,render:f,update:l,init:d,destroy:p})}function Ng(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Pg(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:Ng(t[n])&&Ng(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Pg(e[n],t[n]):e[n]=t[n]}))}function Mg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function Dg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.pagination&&"undefined"===typeof e.pagination.el}function jg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scrollbar&&"undefined"===typeof e.scrollbar.el}function Lg(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),t=[];return e.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t.join(" ")}var Fg=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];var Zg=function(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=Ag.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var a=Math.ceil(parseFloat(t.loopedSlides||n,10));return(a+=t.loopAdditionalSlides)>e.length&&t.loopedSlidesLimit&&(a=e.length),a};function Bg(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Ug(t){var n=[];return e.Children.toArray(t).forEach((function(e){Bg(e)?n.push(e):e.props&&e.props.children&&Ug(e.props.children).forEach((function(e){return n.push(e)}))})),n}function Vg(t){var n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return e.Children.toArray(t).forEach((function(e){if(Bg(e))n.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){var t=Ug(e.props.children);t.length>0?t.forEach((function(e){return n.push(e)})):r["container-end"].push(e)}else r["container-end"].push(e)})),{slides:n,slots:r}}function zg(e){var t,n,r,i,a,o=e.swiper,s=e.slides,u=e.passedParams,c=e.changedParams,l=e.nextEl,f=e.prevEl,d=e.scrollbarEl,p=e.paginationEl,h=c.filter((function(e){return"children"!==e&&"direction"!==e})),v=o.params,m=o.pagination,g=o.navigation,y=o.scrollbar,b=o.virtual,x=o.thumbs;c.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(t=!0),c.includes("controller")&&u.controller&&u.controller.control&&v.controller&&!v.controller.control&&(n=!0),c.includes("pagination")&&u.pagination&&(u.pagination.el||p)&&(v.pagination||!1===v.pagination)&&m&&!m.el&&(r=!0),c.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||d)&&(v.scrollbar||!1===v.scrollbar)&&y&&!y.el&&(i=!0),c.includes("navigation")&&u.navigation&&(u.navigation.prevEl||f)&&(u.navigation.nextEl||l)&&(v.navigation||!1===v.navigation)&&g&&!g.prevEl&&!g.nextEl&&(a=!0);(h.forEach((function(e){if(Ng(v[e])&&Ng(u[e]))Pg(v[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?v[e]=u[e]:!1===t&&o[n=e]&&(o[n].destroy(),"navigation"===n?(v[n].prevEl=void 0,v[n].nextEl=void 0,o[n].prevEl=void 0,o[n].nextEl=void 0):(v[n].el=void 0,o[n].el=void 0))}var n})),h.includes("controller")&&!n&&o.controller&&o.controller.control&&v.controller&&v.controller.control&&(o.controller.control=v.controller.control),c.includes("children")&&s&&b&&v.virtual.enabled?(b.slides=s,b.update(!0)):c.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(x.init()&&x.update(!0));n&&(o.controller.control=v.controller.control),r&&(p&&(v.pagination.el=p),m.init(),m.render(),m.update()),i&&(d&&(v.scrollbar.el=d),y.init(),y.updateSize(),y.setTranslate()),a&&(l&&(v.navigation.nextEl=l),f&&(v.navigation.prevEl=f),g.init(),g.update()),c.includes("allowSlideNext")&&(o.allowSlideNext=u.allowSlideNext),c.includes("allowSlidePrev")&&(o.allowSlidePrev=u.allowSlidePrev),c.includes("direction")&&o.changeDirection(u.direction,!1),o.update()}function Wg(t,n){return"undefined"===typeof window?(0,e.useEffect)(t,n):(0,e.useLayoutEffect)(t,n)}var Hg=(0,e.createContext)(null),Gg=(0,e.createContext)(null),qg=["className","tag","wrapperTag","children","onSwiper"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(this,arguments)}var Yg=(0,e.forwardRef)((function(t,n){var r=void 0===t?{}:t,i=r.className,a=r.tag,o=void 0===a?"div":a,s=r.wrapperTag,u=void 0===s?"div":s,c=r.children,l=r.onSwiper,f=(0,h.Z)(r,qg),v=!1,m=(0,e.useState)("swiper"),g=(0,d.Z)(m,2),y=g[0],b=g[1],x=(0,e.useState)(null),k=(0,d.Z)(x,2),w=k[0],_=k[1],S=(0,e.useState)(!1),T=(0,d.Z)(S,2),C=T[0],E=T[1],O=(0,e.useRef)(!1),A=(0,e.useRef)(null),I=(0,e.useRef)(null),N=(0,e.useRef)(null),P=(0,e.useRef)(null),M=(0,e.useRef)(null),D=(0,e.useRef)(null),j=(0,e.useRef)(null),L=(0,e.useRef)(null),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={on:{}},r={},i={};Pg(n,Ag.defaults),Pg(n,Ag.extendedDefaults),n._emitClasses=!0,n.init=!1;var a={},o=Fg.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(o.indexOf(s)>=0?Ng(e[s])?(n[s]={},i[s]={},Pg(n[s],e[s]),Pg(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:a[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:a,events:r}}(f),Z=F.params,B=F.passedParams,U=F.rest,V=F.events,z=Vg(c),W=z.slides,H=z.slots,G=function(){E(!C)};Object.assign(Z.on,{_containerClasses:function(e,t){b(t)}});var q=function(){if(Object.assign(Z.on,V),v=!0,I.current=new Ag(Z),I.current.loopCreate=function(){},I.current.loopDestroy=function(){},Z.loop&&(I.current.loopedSlides=Zg(W,Z)),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=W;var e={cache:!1,slides:W,renderExternal:_,renderExternalUpdate:!1};Pg(I.current.params.virtual,e),Pg(I.current.originalParams.virtual,e)}};A.current||q(),I.current&&I.current.on("_beforeBreakpoint",G);return(0,e.useEffect)((function(){return function(){I.current&&I.current.off("_beforeBreakpoint",G)}})),(0,e.useEffect)((function(){!O.current&&I.current&&(I.current.emitSlidesClasses(),O.current=!0)})),Wg((function(){if(n&&(n.current=A.current),A.current)return I.current.destroyed&&q(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;Mg(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),Dg(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),jg(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:A.current,nextEl:M.current,prevEl:D.current,paginationEl:j.current,scrollbarEl:L.current,swiper:I.current},Z),l&&l(I.current),function(){I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}}),[]),Wg((function(){!v&&V&&I.current&&Object.keys(V).forEach((function(e){I.current.on(e,V[e])}));var e=function(e,t,n,r,i){var a=[];if(!t)return a;var o=function(e){a.indexOf(e)<0&&a.push(e)};if(n&&r){var s=r.map(i),u=n.map(i);s.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}var c=Fg.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")}));return c.forEach((function(n){if(n in e&&n in t)if(Ng(e[n])&&Ng(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),a}(B,N.current,W,P.current,(function(e){return e.key}));return N.current=B,P.current=W,e.length&&I.current&&!I.current.destroyed&&zg({swiper:I.current,slides:W,passedParams:B,changedParams:e,nextEl:M.current,prevEl:D.current,scrollbarEl:L.current,paginationEl:j.current}),function(){V&&I.current&&Object.keys(V).forEach((function(e){I.current.off(e,V[e])}))}})),Wg((function(){var e;!(e=I.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[w]),e.createElement(o,Kg({ref:A,className:Lg("".concat(y).concat(i?" ".concat(i):""))},U),e.createElement(Gg.Provider,{value:I.current},H["container-start"],e.createElement(u,{className:"swiper-wrapper"},H["wrapper-start"],Z.virtual?function(t,n,r){if(!r)return null;var i=t.isHorizontal()?(0,p.Z)({},t.rtlTranslate?"right":"left","".concat(r.offset,"px")):{top:"".concat(r.offset,"px")};return n.filter((function(e,t){return t>=r.from&&t<=r.to})).map((function(n){return e.cloneElement(n,{swiper:t,style:i})}))}(I.current,W,w):!Z.loop||I.current&&I.current.destroyed?W.map((function(t){return e.cloneElement(t,{swiper:I.current})})):function(t,n,r){var i=n.map((function(n,r){return e.cloneElement(n,{swiper:t,"data-swiper-slide-index":r})}));function a(t,n,i){return e.cloneElement(t,{key:"".concat(t.key,"-duplicate-").concat(n,"-").concat(i),className:"".concat(t.props.className||""," ").concat(r.slideDuplicateClass)})}if(r.loopFillGroupWithBlank){var o=r.slidesPerGroup-i.length%r.slidesPerGroup;if(o!==r.slidesPerGroup)for(var s=0;s<o;s+=1){var u=e.createElement("div",{className:"".concat(r.slideClass," ").concat(r.slideBlankClass)});i.push(u)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=i.length);for(var c=Zg(i,r),l=[],f=[],d=0;d<c;d+=1){var p=d-Math.floor(d/i.length)*i.length;f.push(a(i[p],d,"append")),l.unshift(a(i[i.length-p-1],d,"prepend"))}return t&&(t.loopedSlides=c),[].concat(l,(0,R.Z)(i),f)}(I.current,W,Z),H["wrapper-end"]),Mg(Z)&&e.createElement(e.Fragment,null,e.createElement("div",{ref:D,className:"swiper-button-prev"}),e.createElement("div",{ref:M,className:"swiper-button-next"})),jg(Z)&&e.createElement("div",{ref:L,className:"swiper-scrollbar"}),Dg(Z)&&e.createElement("div",{ref:j,className:"swiper-pagination"}),H["container-end"]))}));Yg.displayName="Swiper";var Xg=["tag","children","className","swiper","zoom","virtualIndex"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qg.apply(this,arguments)}var Jg=(0,e.forwardRef)((function(t,n){var r=void 0===t?{}:t,i=r.tag,a=void 0===i?"div":i,o=r.children,s=r.className,u=void 0===s?"":s,c=r.swiper,l=r.zoom,f=r.virtualIndex,p=(0,h.Z)(r,Xg),v=(0,e.useRef)(null),m=(0,e.useState)("swiper-slide"),g=(0,d.Z)(m,2),y=g[0],b=g[1];function x(e,t,n){t===v.current&&b(n)}Wg((function(){if(n&&(n.current=v.current),v.current&&c){if(!c.destroyed)return c.on("_slideClass",x),function(){c&&c.off("_slideClass",x)};"swiper-slide"!==y&&b("swiper-slide")}})),Wg((function(){c&&v.current&&!c.destroyed&&b(c.getSlideClasses(v.current))}),[c]);var k={isActive:y.indexOf("swiper-slide-active")>=0||y.indexOf("swiper-slide-duplicate-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isDuplicate:y.indexOf("swiper-slide-duplicate")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0||y.indexOf("swiper-slide-duplicate-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0||y.indexOf("swiper-slide-duplicate-next")>=0},w=function(){return"function"===typeof o?o(k):o};return e.createElement(a,Qg({ref:v,className:Lg("".concat(y).concat(u?" ".concat(u):"")),"data-swiper-slide-index":f},p),e.createElement(Hg.Provider,{value:k},l?e.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof l?l:void 0},w()):w()))}));Jg.displayName="SwiperSlide";var $g=w((function(e){return{participantContainer:{background:e.galleryViewBackgroundColor,position:"absolute",top:0,right:0,bottom:0,left:0,height:"100%","& .swiper":{height:"100%","--swiper-pagination-bullet-inactive-color":"white"},"& .swiper-wrapper":{height:"100%"},"& .swiper-pagination.swiper-pagination-bullets":{bottom:"5px"}},isPaginationActive:{"& .swiper-slide":{height:"calc(100% - 21px)",paddingBottom:"21px"}},swiperSlide:{display:"flex",flexWrap:"wrap",alignSelf:"center",alignContent:"flex-start"}}}));function ey(){var e=$g(),t=np("screen and (orientation: landscape)"),n=ku().room,r=Sm().mobileGalleryViewParticipants,i=xm(!0),a=r.length,o=[[]];o[0].push(n.localParticipant);for(var s=0;s<a;s++){var u=Math.floor(s/6);o[u]||(o[u]=[]),o[u].length<6?o[u].push(r[s]):o[u+1]=[r[s]]}var c={width:a<3?"100%":"50%",height:["100%","50%","33.33%","50%","33.33%"][Math.min(a,4)],padding:"0.2em",boxSizing:"border-box"},l={height:a<3?"100%":"50%",width:["100%","50%","33.33%","50%","33.33%"][Math.min(a,4)],padding:"0.2em 0.1em",boxSizing:"border-box"};return(0,Bs.jsx)("div",{className:(0,v.Z)(e.participantContainer,(0,p.Z)({},e.isPaginationActive,a>5)),children:(0,Bs.jsx)(Yg,{pagination:!0,modules:[Rg],className:"mySwiper",children:o.map((function(r,a){return(0,Bs.jsx)(Jg,{className:e.swiperSlide,children:r.map((function(e){return(0,Bs.jsx)("div",{"data-test-id":"participantContainer",style:t?l:c,children:(0,Bs.jsx)(ym,{participant:e,isLocalParticipant:n.localParticipant===e,isDominantSpeaker:i===e})},e.sid)}))},a)}))})})}var ty=w((function(e){return{container:{position:"relative",display:"flex",alignItems:"center"},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",display:"inline-flex","& svg":{marginLeft:"0.3em"},marginRight:"0.4em",alignItems:"center"},infoContainer:{position:"absolute",zIndex:2,height:"100%",width:"100%"},reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},fullWidth:(0,p.Z)({gridArea:"1 / 1 / 2 / 3"},e.breakpoints.down("sm"),{gridArea:"1 / 1 / 3 / 3"}),avatarContainer:{display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,"& svg":{transform:"scale(2)"}},recordingIndicator:(0,p.Z)({position:"absolute",bottom:0,display:"flex",alignItems:"center",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",fontSize:"1.2rem",height:"28px"},e.breakpoints.down("sm"),{bottom:"auto",right:0,top:0}),circle:{height:"12px",width:"12px",background:"red",borderRadius:"100%",margin:"0 0.6em",animation:"1.25s $pulsate ease-out infinite"},"@keyframes pulsate":{"0%":{background:"#A90000"},"50%":{background:"#f00"},"100%":{background:"#A90000"}}}}));function ny(e){var t=e.participant,n=e.children,r=ty(),i=ku().room.localParticipant,a=i===t,o=$p(),s=o&&o!==i,u=lm(t),c=u.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),l=u.find((function(e){return e.trackName.includes("screen")})),f=fm(l||c),d=Boolean(f),h=fm(u.find((function(e){return"audio"===e.kind}))),m=cm(f),g=dm(t),y=Mp();return(0,Bs.jsxs)("div",{"data-cy-main-participant":!0,"data-cy-participant":t.identity,className:(0,v.Z)(r.container,(0,p.Z)({},r.fullWidth,!s)),children:[(0,Bs.jsxs)("div",{className:r.infoContainer,children:[(0,Bs.jsxs)("div",{style:{display:"flex"},children:[(0,Bs.jsxs)("div",{className:r.identity,children:[(0,Bs.jsx)(el,{audioTrack:h}),(0,Bs.jsxs)(C,{variant:"body1",color:"inherit",children:[t.identity,a&&" (You)",l&&" - Screen"]})]}),(0,Bs.jsx)(om,{participant:t})]}),y&&(0,Bs.jsx)(Gd,{title:"All participants' audio and video is currently being recorded. Visit the app settings to stop recording.",placement:"top",children:(0,Bs.jsxs)("div",{className:r.recordingIndicator,children:[(0,Bs.jsx)("div",{className:r.circle}),(0,Bs.jsx)(C,{variant:"body1",color:"inherit","data-cy-recording-indicator":!0,children:"Recording"})]})})]}),(!d||m)&&(0,Bs.jsx)("div",{className:r.avatarContainer,children:(0,Bs.jsx)(dh,{})}),g&&(0,Bs.jsx)("div",{className:r.reconnectingContainer,children:(0,Bs.jsx)(C,{variant:"body1",style:{color:"white"},children:"Reconnecting..."})}),n]})}function ry(){var e=Gs(),t=(0,d.Z)(e,1)[0],n=$p(),r=xm(),i=Fp(),a=ku().room,o=null===a||void 0===a?void 0:a.localParticipant;return t||(n!==o?n:null)||r||i[0]||o}function iy(){var e=ry(),t=ku().room.localParticipant,n=Gs(),r=(0,d.Z)(n,1)[0],i=$p(),a=e!==r&&e!==i||e===t?null:"high";return(0,Bs.jsx)(ny,{participant:e,children:(0,Bs.jsx)(mm,{participant:e,videoOnly:!0,enableScreenShare:e!==t,videoPriority:a,isLocalParticipant:e===t})})}function ay(t){var n=t.track,r=Ws().activeSinkId,i=(0,e.useRef)();return(0,e.useEffect)((function(){return i.current=n.attach(),i.current.setAttribute("data-cy-audio-track-name",n.name),document.body.appendChild(i.current),function(){return n.detach().forEach((function(e){e.remove(),e.srcObject=null}))}}),[n]),(0,e.useEffect)((function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.setSinkId)||void 0===t||t.call(e,r)}),[r]),null}function oy(t){var n=function(t){var n=(0,e.useState)([]),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=Array.from(t.tracks.values()).filter((function(e){return null!==e.track})).map((function(e){return e.track}));a(e);var n=function(e){return a((function(t){return[].concat((0,R.Z)(t),[e])}))},r=function(e){return a((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("trackSubscribed",n),t.on("trackUnsubscribed",r),function(){t.off("trackSubscribed",n),t.off("trackUnsubscribed",r)}}),[t]),i}(t.participant),r=n.find((function(e){return"audio"===e.kind}));return"audio"===(null===r||void 0===r?void 0:r.kind)?(0,Bs.jsx)(ay,{track:r}):null}function sy(){var e=Fp();return(0,Bs.jsx)(Bs.Fragment,{children:e.map((function(e){return(0,Bs.jsx)(oy,{participant:e},e.sid)}))})}var uy=w((function(e){return{container:(0,p.Z)({overflowY:"auto",background:"rgb(79, 83, 85)",gridArea:"1 / 2 / 1 / 3",zIndex:5},e.breakpoints.down("sm"),{gridArea:"2 / 1 / 3 / 3",overflowY:"initial",overflowX:"auto",display:"flex"}),transparentBackground:{background:"transparent"},scrollContainer:{display:"flex",justifyContent:"center"},innerScrollContainer:(0,p.Z)({width:"calc(".concat(e.sidebarWidth,"px - 3em)"),padding:"1.5em 0"},e.breakpoints.down("sm"),{width:"auto",padding:"".concat(e.sidebarMobilePadding,"px"),display:"flex"})}}));function cy(){var e=uy(),t=ku().room.localParticipant,n=Sm().speakerViewParticipants,r=Gs(),i=(0,d.Z)(r,2),a=i[0],o=i[1],s=$p(),u=ry(),c=s&&s!==t;return 0===n.length?null:(0,Bs.jsx)("aside",{className:(0,v.Z)(e.container,(0,p.Z)({},e.transparentBackground,!c)),children:(0,Bs.jsx)("div",{className:e.scrollContainer,children:(0,Bs.jsxs)("div",{className:e.innerScrollContainer,children:[(0,Bs.jsx)(ym,{participant:t,isLocalParticipant:!0}),n.map((function(e){var t=e===u&&e!==s&&!(e===a);return(0,Bs.jsx)(ym,{participant:e,isSelected:e===a,onClick:function(){return o(e)},hideParticipant:t},e.sid)}))]})})})}var ly=w((function(e){var t="".concat(e.sidebarMobileHeight+2*e.sidebarMobilePadding+e.participantBorderWidth,"px");return{container:(0,p.Z)({position:"relative",height:"100%",display:"grid",gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px"),gridTemplateRows:"100%"},e.breakpoints.down("sm"),{gridTemplateColumns:"100%",gridTemplateRows:"calc(100% - ".concat(t,") ").concat(t)}),rightDrawerOpen:{gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px ").concat(e.rightDrawerWidth,"px")}}}));function fy(){var t=ly(),n=Pp().isChatWindowOpen,r=ku(),i=r.isBackgroundSelectionOpen,a=r.room,o=Ws(),s=o.isGalleryViewActive,u=o.setIsGalleryViewActive,c=np(nc().breakpoints.down("sm")),l=$p(),f=Vp(),h=(0,d.Z)(f,2),m=h[0],g=h[1],y=Ks(),b=(0,d.Z)(y,2),x=b[0],k=b[1];return function(t,n,r,i){var a=(0,e.useRef)(i);(0,e.useEffect)((function(){a.current=i}),[i]),(0,e.useEffect)((function(){if(t&&t!==n.localParticipant){var e=a.current;return r(!1),function(){e&&r(e)}}}),[t,r,n])}(l,a,u,s),(0,e.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());console.log("# isAudioEnabled : ",m),console.log("# isVideoEnabled : ",x),console.log("# mic : ",t.mic),console.log("# cam : ",t.cam),t.mic&&t.cam&&("on"!==t.mic||m||g(),"on"!==t.cam||x||k(),"off"===t.mic&&m&&g(),"off"===t.cam&&x&&k())}),[]),(0,Bs.jsxs)("div",{className:(0,v.Z)(t.container,(0,p.Z)({},t.rightDrawerOpen,n||i)),children:[(0,Bs.jsx)(sy,{}),s?c?(0,Bs.jsx)(ey,{}):(0,Bs.jsx)(Em,{}):(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(iy,{}),(0,Bs.jsx)(cy,{})]}),(0,Bs.jsx)(Hv,{}),(0,Bs.jsx)(vv,{})]})}var dy=k("div")({display:"grid",gridTemplateRows:"1fr auto"}),py=k("main")((function(e){var t=e.theme;return(0,p.Z)({overflow:"hidden",paddingBottom:"".concat(t.footerHeight,"px"),background:"black"},t.breakpoints.down("sm"),{paddingBottom:"".concat(t.mobileFooterHeight+t.mobileTopBarHeight,"px")})})),hy=w((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"},container:{position:"relative",display:"flex",alignItems:"center",flexDirection:"column"},innerContainer:(0,p.Z)({display:"flex",width:"600px",height:"auto",borderRadius:"8px",boxShadow:"0px 2px 4px 0px rgba(40, 42, 43, 0.3)",overflow:"hidden",position:"relative",margin:"auto"},e.breakpoints.down("sm"),{display:"block",height:"auto",width:"calc(100% - 40px)",margin:"auto",maxWidth:"400px"}),content:(0,p.Z)({background:"white",width:"100%",padding:"4em",flex:1,wordBreak:"break-word"},e.breakpoints.down("sm"),{padding:"2em"}),gutterBottom:{marginBottom:"1em"},preloader:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"}}})),vy=function(e){var t=hy();return(0,Bs.jsx)("div",{className:t.background,children:(0,Bs.jsx)("div",{className:t.container,children:(0,Bs.jsx)("div",{className:t.innerContainer,children:(0,Bs.jsxs)("div",{className:t.content,children:[(0,Bs.jsx)(C,{variant:"h6",className:t.gutterBottom,children:e.title}),(0,Bs.jsx)(C,{variant:"body1",children:e.message})]})})})})};function my(){var t=hy(),n=Zp(),r=Ws(),i=r.getToken,a=r.roomInfo,o=ku(),s=o.connect,u=o.isAcquiringLocalTracks,c=o.localTracks,l=o.getAudioAndVideoTracks,f=Pp().connect,p=(0,e.useState)(!0),h=(0,d.Z)(p,2),v=h[0],m=h[1],g=(0,e.useState)(!1),y=(0,d.Z)(g,2),b=y[0],x=y[1],k=(0,e.useState)(!1),w=(0,d.Z)(k,2),_=w[0],S=w[1],T=(0,e.useState)(!1),C=(0,d.Z)(T,2),E=C[0],O=C[1],A=(0,e.useState)(""),I=(0,d.Z)(A,2),R=I[0],N=I[1],P=(0,e.useState)(""),M=(0,d.Z)(P,2),D=M[0],j=M[1],L=(0,e.useState)(!1),F=(0,d.Z)(L,2),Z=F[0],B=F[1],U=function(){var t,n=(0,e.useState)(window.innerHeight*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)),r=(0,d.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(){var e;a(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),i+"px"}(),V=(0,e.useState)(!1),z=(0,d.Z)(V,2),W=(z[0],z[1],Vp()),H=(0,d.Z)(W,2),G=(H[0],H[1],Ks()),q=(0,d.Z)(G,2);q[0],q[1];(0,e.useEffect)((function(){if(console.log("HHHHHHHHHH : RoomInfo Changed :",a),void 0!==a){if(a.error)return m(!1),void x(!0);var e=new Date(a.accessible_from),t=e.toString().split(" GMT")[0];N(t);var r=new Date(a.accessible_to),i=r.toString().split(" GMT")[0];j(i);var o=!1;console.log("valid_from_obj.getTime() :",e.getTime()),console.log("Date.now() :",Date.now()),e.getTime()-6e4>Date.now()&&(S(!0),o=!0);var s=!1;r.getTime()<Date.now()&&(O(!0),s=!0),console.log("# roomNotReady :",o),console.log("# roomExpired :",s),console.log("# roomExpired :",E),console.log("# roomNotReady :",_),console.log("# roomSate :",n);var u=new URLSearchParams(window.location.search),c=Object.fromEntries(u.entries());o||s||!c.hasOwnProperty("name")?m(!1):(B(!0),l().catch((function(e){console.log("Error acquiring local media:"),console.dir(e)})))}else m(!0)}),[a]);var K=(0,e.useState)(!1),Y=(0,d.Z)(K,2),X=Y[0],Q=Y[1];if((0,e.useEffect)((function(){var e=!1,t=!1;if(c.forEach((function(n){"video"===n.kind&&(e=!0),"audio"===n.kind&&(t=!0)})),e&&t&&!u&&!X&&Z){console.log("LOCAL MEDIA READY"),Q(!0);var n=new URLSearchParams(window.location.search),r=Object.fromEntries(n.entries());i(r.name,a.room_id_token).then((function(e){var t=e.token;s(t).then((function(){console.log("CONNECTED TO ROOM"),m(!1)})),"true"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DISABLE_TWILIO_CONVERSATIONS&&f(t)})).catch((function(e){x(!0),m(!1)}))}}),[c]),v)return(0,Bs.jsx)("div",{className:t.preloader,children:(0,Bs.jsx)(fh,{})});if(b)return(0,Bs.jsx)(vy,{title:"The room is not accessible",message:"The room token is not valid. Please enter the valid room token and try again."});if(_){var J="Room "+(null===a||void 0===a?void 0:a.title)+" will be accessible at "+R;return(0,Bs.jsx)(vy,{title:"Room is not accessible yet",message:J})}if(E){var $="Room "+(null===a||void 0===a?void 0:a.title)+" expired at "+D;return(0,Bs.jsx)(vy,{title:"Room expired",message:$})}var ee=window.location===window.parent.location;return(0,Bs.jsx)(dy,{style:{height:U},children:"disconnected"===n&&ee?(0,Bs.jsx)(Yh,{}):(0,Bs.jsxs)(py,{children:[(0,Bs.jsx)(Xh,{}),(0,Bs.jsx)(Jh,{}),(0,Bs.jsx)(uh,{}),(0,Bs.jsx)(fy,{}),(0,Bs.jsx)(oh,{})]})})}var gy=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Jo(e.props),e}return(0,M.Z)(n,t),n.prototype.render=function(){return e.createElement(hs,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var yy=function(e,t){return"function"===typeof e?e(t):e},by=function(e,t){return"string"===typeof e?Ho(e,null,null,t):e},xy=function(e){return e},ky=e.forwardRef;"undefined"===typeof ky&&(ky=xy);var wy=ky((function(t,n){var i=t.innerRef,a=t.navigate,o=t.onClick,s=(0,N.Z)(t,["innerRef","navigate","onClick"]),u=s.target,c=(0,r.Z)({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return c.ref=xy!==ky&&n||i,e.createElement("a",c)}));var _y=ky((function(t,n){var i=t.component,a=void 0===i?wy:i,o=t.replace,s=t.to,u=t.innerRef,c=(0,N.Z)(t,["component","replace","to","innerRef"]);return e.createElement(ps.Consumer,null,(function(t){t||Zo(!1);var i=t.history,l=by(yy(s,t.location),t.location),f=l?i.createHref(l):"",d=(0,r.Z)({},c,{href:f,navigate:function(){var e=yy(s,t.location),n=Wo(t.location)===Wo(by(e));(o||n?i.replace:i.push)(e)}});return xy!==ky?d.ref=n||u:d.innerRef=u,e.createElement(a,d)}))})),Sy=function(e){return e},Ty=e.forwardRef;"undefined"===typeof Ty&&(Ty=Sy);Ty((function(t,n){var i=t["aria-current"],a=void 0===i?"page":i,o=t.activeClassName,s=void 0===o?"active":o,u=t.activeStyle,c=t.className,l=t.exact,f=t.isActive,d=t.location,p=t.sensitive,h=t.strict,v=t.style,m=t.to,g=t.innerRef,y=(0,N.Z)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(ps.Consumer,null,(function(t){t||Zo(!1);var i=d||t.location,o=by(yy(m,i),i),b=o.pathname,x=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=x?Ss(i.pathname,{path:x,exact:l,sensitive:p,strict:h}):null,w=!!(f?f(k,i):k),_="function"===typeof c?c(w):c,S="function"===typeof v?v(w):v;w&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,s),S=(0,r.Z)({},S,u));var T=(0,r.Z)({"aria-current":w&&a||null,className:_,style:S,to:o},y);return Sy!==Ty?T.ref=n||g:T.innerRef=g,e.createElement(_y,T)}))}));var Cy,Ey,Oy,Ay=function(e){var t=e.dismissError,n=e.error,r=n||{},i=r.message,a=r.code,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(!0){case 20101===(arguments.length>1?arguments[1]:void 0):return e+". Please make sure you are using the correct credentials.";case"Permission denied by system"===e:return"Unable to share your screen. Please make sure that your operating system has the correct permissions enabled for screen sharing.";default:return e}}(i,a);return(0,Bs.jsxs)(vc,{open:null!==n,onClose:function(){return t()},fullWidth:!0,maxWidth:"xs",children:[(0,Bs.jsx)(_c,{children:"ERROR"}),(0,Bs.jsxs)(bc,{children:[(0,Bs.jsx)(kc,{children:o}),Boolean(a)&&(0,Bs.jsx)("pre",{children:(0,Bs.jsxs)("code",{children:["Error Code: ",a]})})]}),(0,Bs.jsx)(gc,{children:(0,Bs.jsx)(Y,{onClick:function(){return t()},color:"primary",autoFocus:!0,children:"OK"})})]})},Iy=n(80996),Ry=["title","titleId"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(this,arguments)}function Py(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function My(t,n){var r=t.title,i=t.titleId,a=Py(t,Ry);return e.createElement("svg",Ny({width:"32px",height:"32px",viewBox:"7 7 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:n,"aria-labelledby":i},a),void 0===r?e.createElement("title",{id:i},"btn_google_light_normal_ios"):r?e.createElement("title",{id:i},r):null,Cy||(Cy=e.createElement("desc",null,"Created with Sketch.")),Ey||(Ey=e.createElement("defs",null,e.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},e.createElement("feOffset",{dx:0,dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),e.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter2"}),e.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),e.createElement("feMerge",null,e.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),e.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),e.createElement("feMergeNode",{in:"SourceGraphic"}))),e.createElement("rect",{id:"path-2",x:0,y:0,width:40,height:40,rx:2}))),Oy||(Oy=e.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),e.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},e.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},e.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),e.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),e.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),e.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),e.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),e.createElement("g",{id:"handles_square"})))))}var Dy=e.forwardRef(My),jy=(n.p,w((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,p.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,p.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:"1em"},passcodeContainer:{minHeight:"120px"},submitButton:(0,p.Z)({},e.breakpoints.down("sm"),{width:"100%"})}})));function Ly(){var t=jy(),n=Ws(),r=n.signIn,i=n.user,a=n.isAuthReady,o=Ps(),s=Ms(),u=(0,e.useState)(""),c=(0,d.Z)(u,2),l=c[0],f=c[1],p=(0,e.useState)(null),h=(0,d.Z)(p,2),v=h[0],m=h[1],g=Boolean({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH),y=function(){m(null),null===r||void 0===r||r(l).then((function(){var e;o.replace((null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.from)||{pathname:"/"})})).catch((function(e){return m(e)}))};return!i&&g||o.replace("/"),a?(0,Bs.jsxs)(Nh,{children:["firebase"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH&&(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(C,{variant:"h5",className:t.gutterBottom,children:"Sign in to join a room"}),(0,Bs.jsx)(C,{variant:"body1",children:"Sign in using your Twilio Google Account"}),(0,Bs.jsx)(Y,{variant:"contained",className:t.googleButton,onClick:y,startIcon:(0,Bs.jsx)(Dy,{}),children:"Sign in with Google"})]}),"passcode"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH&&(0,Bs.jsxs)(Bs.Fragment,{children:[(0,Bs.jsx)(C,{variant:"h5",className:t.gutterBottom,children:"Enter passcode to join a room"}),(0,Bs.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y()},children:[(0,Bs.jsx)(ol,{container:!0,justifyContent:"space-between",children:(0,Bs.jsxs)("div",{className:t.passcodeContainer,children:[(0,Bs.jsx)(bh,{shrink:!0,htmlFor:"input-passcode",children:"Passcode"}),(0,Bs.jsx)(Sh,{id:"input-passcode",onChange:function(e){return f(e.target.value)},type:"password",variant:"outlined",size:"small"}),(0,Bs.jsx)("div",{children:v&&(0,Bs.jsxs)(C,{variant:"caption",className:t.errorMessage,children:[(0,Bs.jsx)(Iy.Z,{}),v.message]})})]})}),(0,Bs.jsx)(ol,{container:!0,justifyContent:"flex-end",children:(0,Bs.jsx)(Y,{variant:"contained",color:"primary",type:"submit",disabled:!l.length,className:t.submitButton,children:"Submit"})})]})]})]}):null}var Fy=["children"];function Zy(e){var t=e.children,n=(0,h.Z)(e,Fy),r=Ws(),i=r.isAuthReady,a=r.user||!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SET_AUTH;return a||i?(0,Bs.jsx)(Ts,(0,Q.Z)((0,Q.Z)({},n),{},{render:function(e){var n=e.location;return a?t:(0,Bs.jsx)(xs,{to:{pathname:"/login",state:{from:n}}})}})):null}var By=n(73691),Uy=(0,By.Z)(),Vy=(0,By.Z)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%"}}},MuiButton:{root:{borderRadius:"4px",textTransform:"none",color:"rgb(40, 42, 43)",fontSize:"0.9rem",transition:Uy.transitions.create(["background-color","box-shadow","border","color"],{duration:Uy.transitions.duration.short})},text:{padding:"6px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},outlinedPrimary:{border:"2px solid #027AC5","&:hover":{border:"2px solid rgb(1, 85, 137)"}},startIcon:{marginRight:"6px"}},MuiTypography:{body1:{color:"rgb(40, 42, 43)",fontSize:"0.9rem"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"16px"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"rgb(40, 42, 43)",fontSize:"1.1rem",marginBottom:"0.2em",fontWeight:500}},MuiOutlinedInput:{notchedOutline:{borderColor:"rgb(136, 140, 142)"}},MuiSwitch:{root:{width:42,height:18,padding:0,display:"flex",marginRight:"0.5em"},switchBase:{padding:2,color:"#FFFFFF","&$checked":{transform:"translateX(18px)",top:"50%",marginTop:-12,"&$disabled":{"& + $track":{opacity:"0.5"}}}},colorSecondary:{"&$checked":{color:"FFFFF"}},thumb:{width:14,height:14,boxShadow:"none"},track:{borderRadius:8,opacity:1,backgroundColor:"#E1E3EA","$checked$checked + &":{opacity:1,backgroundColor:"#14B053"}}}},typography:{fontFamily:"Inter, sans-serif"},palette:{primary:{main:"#027AC5"}},brand:"#E22525",footerHeight:72,mobileFooterHeight:56,sidebarWidth:300,sidebarMobileHeight:90,sidebarMobilePadding:8,participantBorderWidth:2,mobileTopBarHeight:52,rightDrawerWidth:320,galleryViewBackgroundColor:"#121C2D"});var zy=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.component,s=void 0===o?"div":o,u=t.disableGutters,c=void 0!==u&&u,l=t.fixed,f=void 0!==l&&l,d=t.maxWidth,p=void 0===d?"lg":d,m=(0,h.Z)(t,["classes","className","component","disableGutters","fixed","maxWidth"]);return e.createElement(s,(0,r.Z)({className:(0,v.Z)(i.root,a,f&&i.fixed,c&&i.disableGutters,!1!==p&&i["maxWidth".concat((0,_.Z)(String(p)))]),ref:n},m))})),Wy=(0,i.Z)((function(e){return{root:(0,p.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:(0,p.Z)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,p.Z)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,p.Z)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,p.Z)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,p.Z)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(zy),Hy=w({container:{marginTop:"2.5em"},paper:{padding:"1em"},heading:{marginBottom:"0.4em"}});function Gy(e){var t=e.children,n=Hy();return mu().isSupported?t:(0,Bs.jsx)(Wy,{children:(0,Bs.jsx)(ol,{container:!0,justifyContent:"center",className:n.container,children:(0,Bs.jsx)(ol,{item:!0,xs:12,sm:6,children:(0,Bs.jsxs)(dc,{className:n.paper,children:[(0,Bs.jsx)(C,{variant:"h4",className:n.heading,children:"Browser or context not supported"}),(0,Bs.jsxs)(C,{children:["Please open this application in one of the"," ",(0,Bs.jsx)(Nv,{href:"https://www.twilio.com/docs/video/javascript#supported-browsers",target:"_blank",rel:"noopener",children:"supported browsers"}),".",(0,Bs.jsx)("br",{}),"If you are using a supported browser, please ensure that this app is served over a"," ",(0,Bs.jsx)(Nv,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener",children:"secure context"})," ","(e.g. https or localhost)."]})]})})})})}var qy=function(){var e=Ws(),t=e.error,n=e.setError,r=function(){var e,t=Ws().settings,n={bandwidthProfile:{video:{mode:t.bandwidthProfileMode,dominantSpeakerPriority:t.dominantSpeakerPriority,trackSwitchOffMode:t.trackSwitchOffMode,contentPreferencesMode:t.contentPreferencesMode,clientTrackSwitchOffControl:t.clientTrackSwitchOffControl}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(t.maxAudioBitrate),preferredVideoCodecs:"auto",environment:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TWILIO_ENVIRONMENT};return le&&null!==n&&void 0!==n&&null!==(e=n.bandwidthProfile)&&void 0!==e&&e.video&&(n.bandwidthProfile.video.maxSubscriptionBitrate=25e5),"dev"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TWILIO_ENVIRONMENT&&(n.wsServer="wss://us2.vss.dev.twilio.com/signaling"),fe(n)}();return(0,Bs.jsxs)(xu,{options:r,onError:n,children:[(0,Bs.jsx)(Ay,{dismissError:function(){return n(null)},error:t}),(0,Bs.jsx)(_m,{children:(0,Bs.jsx)(Np,{children:(0,Bs.jsx)(my,{})})})]})},Ky=function(){return(0,Bs.jsxs)(f,{theme:Vy,children:[(0,Bs.jsx)(s,{}),(0,Bs.jsx)(Gy,{children:(0,Bs.jsx)(gy,{children:(0,Bs.jsx)(zs,{children:(0,Bs.jsxs)(Rs,{children:[(0,Bs.jsx)(Zy,{exact:!0,path:"/",children:(0,Bs.jsx)(qy,{})}),(0,Bs.jsx)(Zy,{path:"/room/:URLRoomName",children:(0,Bs.jsx)(qy,{})}),(0,Bs.jsx)(Ts,{path:"/login",children:(0,Bs.jsx)(Ly,{})}),(0,Bs.jsx)(Ts,{path:"/confroom",children:(0,Bs.jsx)(qy,{})})]})})})})]})};t.render((0,Bs.jsx)(Ky,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.4381a36b.js.map